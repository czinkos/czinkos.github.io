var Use=Object.defineProperty;var Gse=(e,t,r)=>t in e?Use(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var io=(e,t,r)=>Gse(e,typeof t!="symbol"?t+"":t,r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Ud=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ws(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var F7={exports:{}},x_={},z7={exports:{}},fr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C0=Symbol.for("react.element"),Wse=Symbol.for("react.portal"),$se=Symbol.for("react.fragment"),Yse=Symbol.for("react.strict_mode"),Xse=Symbol.for("react.profiler"),qse=Symbol.for("react.provider"),Kse=Symbol.for("react.context"),Zse=Symbol.for("react.forward_ref"),Qse=Symbol.for("react.suspense"),Jse=Symbol.for("react.memo"),eoe=Symbol.for("react.lazy"),f6=Symbol.iterator;function toe(e){return e===null||typeof e!="object"?null:(e=f6&&e[f6]||e["@@iterator"],typeof e=="function"?e:null)}var j7={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H7=Object.assign,V7={};function bp(e,t,r){this.props=e,this.context=t,this.refs=V7,this.updater=r||j7}bp.prototype.isReactComponent={};bp.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};bp.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function U7(){}U7.prototype=bp.prototype;function yM(e,t,r){this.props=e,this.context=t,this.refs=V7,this.updater=r||j7}var xM=yM.prototype=new U7;xM.constructor=yM;H7(xM,bp.prototype);xM.isPureReactComponent=!0;var d6=Array.isArray,G7=Object.prototype.hasOwnProperty,bM={current:null},W7={key:!0,ref:!0,__self:!0,__source:!0};function $7(e,t,r){var n,i={},a=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(a=""+t.key),t)G7.call(t,n)&&!W7.hasOwnProperty(n)&&(i[n]=t[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:C0,type:e,key:a,ref:s,props:i,_owner:bM.current}}function roe(e,t){return{$$typeof:C0,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function SM(e){return typeof e=="object"&&e!==null&&e.$$typeof===C0}function noe(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var p6=/\/+/g;function gC(e,t){return typeof e=="object"&&e!==null&&e.key!=null?noe(""+e.key):t.toString(36)}function Ux(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case C0:case Wse:s=!0}}if(s)return s=e,i=i(s),e=n===""?"."+gC(s,0):n,d6(i)?(r="",e!=null&&(r=e.replace(p6,"$&/")+"/"),Ux(i,t,r,"",function(u){return u})):i!=null&&(SM(i)&&(i=roe(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(p6,"$&/")+"/")+e)),t.push(i)),1;if(s=0,n=n===""?".":n+":",d6(e))for(var o=0;o<e.length;o++){a=e[o];var l=n+gC(a,o);s+=Ux(a,t,r,l,i)}else if(l=toe(e),typeof l=="function")for(e=l.call(e),o=0;!(a=e.next()).done;)a=a.value,l=n+gC(a,o++),s+=Ux(a,t,r,l,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function u1(e,t,r){if(e==null)return e;var n=[],i=0;return Ux(e,n,"","",function(a){return t.call(r,a,i++)}),n}function ioe(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ui={current:null},Gx={transition:null},aoe={ReactCurrentDispatcher:Ui,ReactCurrentBatchConfig:Gx,ReactCurrentOwner:bM};function Y7(){throw Error("act(...) is not supported in production builds of React.")}fr.Children={map:u1,forEach:function(e,t,r){u1(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return u1(e,function(){t++}),t},toArray:function(e){return u1(e,function(t){return t})||[]},only:function(e){if(!SM(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};fr.Component=bp;fr.Fragment=$se;fr.Profiler=Xse;fr.PureComponent=yM;fr.StrictMode=Yse;fr.Suspense=Qse;fr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aoe;fr.act=Y7;fr.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=H7({},e.props),i=e.key,a=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,s=bM.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)G7.call(t,l)&&!W7.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:C0,type:e.type,key:i,ref:a,props:n,_owner:s}};fr.createContext=function(e){return e={$$typeof:Kse,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:qse,_context:e},e.Consumer=e};fr.createElement=$7;fr.createFactory=function(e){var t=$7.bind(null,e);return t.type=e,t};fr.createRef=function(){return{current:null}};fr.forwardRef=function(e){return{$$typeof:Zse,render:e}};fr.isValidElement=SM;fr.lazy=function(e){return{$$typeof:eoe,_payload:{_status:-1,_result:e},_init:ioe}};fr.memo=function(e,t){return{$$typeof:Jse,type:e,compare:t===void 0?null:t}};fr.startTransition=function(e){var t=Gx.transition;Gx.transition={};try{e()}finally{Gx.transition=t}};fr.unstable_act=Y7;fr.useCallback=function(e,t){return Ui.current.useCallback(e,t)};fr.useContext=function(e){return Ui.current.useContext(e)};fr.useDebugValue=function(){};fr.useDeferredValue=function(e){return Ui.current.useDeferredValue(e)};fr.useEffect=function(e,t){return Ui.current.useEffect(e,t)};fr.useId=function(){return Ui.current.useId()};fr.useImperativeHandle=function(e,t,r){return Ui.current.useImperativeHandle(e,t,r)};fr.useInsertionEffect=function(e,t){return Ui.current.useInsertionEffect(e,t)};fr.useLayoutEffect=function(e,t){return Ui.current.useLayoutEffect(e,t)};fr.useMemo=function(e,t){return Ui.current.useMemo(e,t)};fr.useReducer=function(e,t,r){return Ui.current.useReducer(e,t,r)};fr.useRef=function(e){return Ui.current.useRef(e)};fr.useState=function(e){return Ui.current.useState(e)};fr.useSyncExternalStore=function(e,t,r){return Ui.current.useSyncExternalStore(e,t,r)};fr.useTransition=function(){return Ui.current.useTransition()};fr.version="18.3.1";z7.exports=fr;var Q=z7.exports;const Bt=Ws(Q);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var soe=Q,ooe=Symbol.for("react.element"),loe=Symbol.for("react.fragment"),uoe=Object.prototype.hasOwnProperty,coe=soe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,hoe={key:!0,ref:!0,__self:!0,__source:!0};function X7(e,t,r){var n,i={},a=null,s=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)uoe.call(t,n)&&!hoe.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:ooe,type:e,key:a,ref:s,props:i,_owner:coe.current}}x_.Fragment=loe;x_.jsx=X7;x_.jsxs=X7;F7.exports=x_;var E=F7.exports,WA={},q7={exports:{}},Ia={},K7={exports:{}},Z7={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(ie,fe){var re=ie.length;ie.push(fe);e:for(;0<re;){var me=re-1>>>1,J=ie[me];if(0<i(J,fe))ie[me]=fe,ie[re]=J,re=me;else break e}}function r(ie){return ie.length===0?null:ie[0]}function n(ie){if(ie.length===0)return null;var fe=ie[0],re=ie.pop();if(re!==fe){ie[0]=re;e:for(var me=0,J=ie.length,te=J>>>1;me<te;){var ue=2*(me+1)-1,pe=ie[ue],Se=ue+1,je=ie[Se];if(0>i(pe,re))Se<J&&0>i(je,pe)?(ie[me]=je,ie[Se]=re,me=Se):(ie[me]=pe,ie[ue]=re,me=ue);else if(Se<J&&0>i(je,re))ie[me]=je,ie[Se]=re,me=Se;else break e}}return fe}function i(ie,fe){var re=ie.sortIndex-fe.sortIndex;return re!==0?re:ie.id-fe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],u=[],c=1,h=null,f=3,d=!1,v=!1,m=!1,y=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(ie){for(var fe=r(u);fe!==null;){if(fe.callback===null)n(u);else if(fe.startTime<=ie)n(u),fe.sortIndex=fe.expirationTime,t(l,fe);else break;fe=r(u)}}function k(ie){if(m=!1,w(ie),!v)if(r(l)!==null)v=!0,ee(M);else{var fe=r(u);fe!==null&&le(k,fe.startTime-ie)}}function M(ie,fe){v=!1,m&&(m=!1,b(N),N=-1),d=!0;var re=f;try{for(w(fe),h=r(l);h!==null&&(!(h.expirationTime>fe)||ie&&!H());){var me=h.callback;if(typeof me=="function"){h.callback=null,f=h.priorityLevel;var J=me(h.expirationTime<=fe);fe=e.unstable_now(),typeof J=="function"?h.callback=J:h===r(l)&&n(l),w(fe)}else n(l);h=r(l)}if(h!==null)var te=!0;else{var ue=r(u);ue!==null&&le(k,ue.startTime-fe),te=!1}return te}finally{h=null,f=re,d=!1}}var I=!1,L=null,N=-1,z=5,B=-1;function H(){return!(e.unstable_now()-B<z)}function G(){if(L!==null){var ie=e.unstable_now();B=ie;var fe=!0;try{fe=L(!0,ie)}finally{fe?$():(I=!1,L=null)}}else I=!1}var $;if(typeof S=="function")$=function(){S(G)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,X=W.port2;W.port1.onmessage=G,$=function(){X.postMessage(null)}}else $=function(){y(G,0)};function ee(ie){L=ie,I||(I=!0,$())}function le(ie,fe){N=y(function(){ie(e.unstable_now())},fe)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ie){ie.callback=null},e.unstable_continueExecution=function(){v||d||(v=!0,ee(M))},e.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<ie?Math.floor(1e3/ie):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(ie){switch(f){case 1:case 2:case 3:var fe=3;break;default:fe=f}var re=f;f=fe;try{return ie()}finally{f=re}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ie,fe){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var re=f;f=ie;try{return fe()}finally{f=re}},e.unstable_scheduleCallback=function(ie,fe,re){var me=e.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?me+re:me):re=me,ie){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=re+J,ie={id:c++,callback:fe,priorityLevel:ie,startTime:re,expirationTime:J,sortIndex:-1},re>me?(ie.sortIndex=re,t(u,ie),r(l)===null&&ie===r(u)&&(m?(b(N),N=-1):m=!0,le(k,re-me))):(ie.sortIndex=J,t(l,ie),v||d||(v=!0,ee(M))),ie},e.unstable_shouldYield=H,e.unstable_wrapCallback=function(ie){var fe=f;return function(){var re=f;f=fe;try{return ie.apply(this,arguments)}finally{f=re}}}})(Z7);K7.exports=Z7;var foe=K7.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var doe=Q,Ea=foe;function tt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Q7=new Set,Sm={};function nf(e,t){Gd(e,t),Gd(e+"Capture",t)}function Gd(e,t){for(Sm[e]=t,e=0;e<t.length;e++)Q7.add(t[e])}var ml=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$A=Object.prototype.hasOwnProperty,poe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v6={},g6={};function voe(e){return $A.call(g6,e)?!0:$A.call(v6,e)?!1:poe.test(e)?g6[e]=!0:(v6[e]=!0,!1)}function goe(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function moe(e,t,r,n){if(t===null||typeof t>"u"||goe(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Gi(e,t,r,n,i,a,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var ii={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ii[e]=new Gi(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ii[t]=new Gi(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ii[e]=new Gi(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ii[e]=new Gi(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ii[e]=new Gi(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ii[e]=new Gi(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ii[e]=new Gi(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ii[e]=new Gi(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ii[e]=new Gi(e,5,!1,e.toLowerCase(),null,!1,!1)});var _M=/[\-:]([a-z])/g;function wM(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(_M,wM);ii[t]=new Gi(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(_M,wM);ii[t]=new Gi(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(_M,wM);ii[t]=new Gi(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ii[e]=new Gi(e,1,!1,e.toLowerCase(),null,!1,!1)});ii.xlinkHref=new Gi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ii[e]=new Gi(e,1,!1,e.toLowerCase(),null,!0,!0)});function TM(e,t,r,n){var i=ii.hasOwnProperty(t)?ii[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(moe(t,r,i,n)&&(r=null),n||i===null?voe(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Nl=doe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,c1=Symbol.for("react.element"),ud=Symbol.for("react.portal"),cd=Symbol.for("react.fragment"),CM=Symbol.for("react.strict_mode"),YA=Symbol.for("react.profiler"),J7=Symbol.for("react.provider"),eV=Symbol.for("react.context"),EM=Symbol.for("react.forward_ref"),XA=Symbol.for("react.suspense"),qA=Symbol.for("react.suspense_list"),AM=Symbol.for("react.memo"),uu=Symbol.for("react.lazy"),tV=Symbol.for("react.offscreen"),m6=Symbol.iterator;function wv(e){return e===null||typeof e!="object"?null:(e=m6&&e[m6]||e["@@iterator"],typeof e=="function"?e:null)}var un=Object.assign,mC;function pg(e){if(mC===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);mC=t&&t[1]||""}return`
`+mC+e}var yC=!1;function xC(e,t){if(!e||yC)return"";yC=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=o);break}}}finally{yC=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?pg(e):""}function yoe(e){switch(e.tag){case 5:return pg(e.type);case 16:return pg("Lazy");case 13:return pg("Suspense");case 19:return pg("SuspenseList");case 0:case 2:case 15:return e=xC(e.type,!1),e;case 11:return e=xC(e.type.render,!1),e;case 1:return e=xC(e.type,!0),e;default:return""}}function KA(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case cd:return"Fragment";case ud:return"Portal";case YA:return"Profiler";case CM:return"StrictMode";case XA:return"Suspense";case qA:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case eV:return(e.displayName||"Context")+".Consumer";case J7:return(e._context.displayName||"Context")+".Provider";case EM:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case AM:return t=e.displayName||null,t!==null?t:KA(e.type)||"Memo";case uu:t=e._payload,e=e._init;try{return KA(e(t))}catch{}}return null}function xoe(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return KA(t);case 8:return t===CM?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Yu(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function rV(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function boe(e){var t=rV(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function h1(e){e._valueTracker||(e._valueTracker=boe(e))}function nV(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=rV(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function kb(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ZA(e,t){var r=t.checked;return un({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function y6(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Yu(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function iV(e,t){t=t.checked,t!=null&&TM(e,"checked",t,!1)}function QA(e,t){iV(e,t);var r=Yu(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?JA(e,t.type,r):t.hasOwnProperty("defaultValue")&&JA(e,t.type,Yu(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function x6(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function JA(e,t,r){(t!=="number"||kb(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var vg=Array.isArray;function Ad(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Yu(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function ek(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(tt(91));return un({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function b6(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(tt(92));if(vg(r)){if(1<r.length)throw Error(tt(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Yu(r)}}function aV(e,t){var r=Yu(t.value),n=Yu(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function S6(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function sV(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tk(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?sV(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var f1,oV=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(f1=f1||document.createElement("div"),f1.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=f1.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function _m(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Ng={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Soe=["Webkit","ms","Moz","O"];Object.keys(Ng).forEach(function(e){Soe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ng[t]=Ng[e]})});function lV(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Ng.hasOwnProperty(e)&&Ng[e]?(""+t).trim():t+"px"}function uV(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=lV(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var _oe=un({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rk(e,t){if(t){if(_oe[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(tt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(tt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(tt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(tt(62))}}function nk(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ik=null;function kM(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ak=null,kd=null,Id=null;function _6(e){if(e=k0(e)){if(typeof ak!="function")throw Error(tt(280));var t=e.stateNode;t&&(t=T_(t),ak(e.stateNode,e.type,t))}}function cV(e){kd?Id?Id.push(e):Id=[e]:kd=e}function hV(){if(kd){var e=kd,t=Id;if(Id=kd=null,_6(e),t)for(e=0;e<t.length;e++)_6(t[e])}}function fV(e,t){return e(t)}function dV(){}var bC=!1;function pV(e,t,r){if(bC)return e(t,r);bC=!0;try{return fV(e,t,r)}finally{bC=!1,(kd!==null||Id!==null)&&(dV(),hV())}}function wm(e,t){var r=e.stateNode;if(r===null)return null;var n=T_(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(tt(231,t,typeof r));return r}var sk=!1;if(ml)try{var Tv={};Object.defineProperty(Tv,"passive",{get:function(){sk=!0}}),window.addEventListener("test",Tv,Tv),window.removeEventListener("test",Tv,Tv)}catch{sk=!1}function woe(e,t,r,n,i,a,s,o,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(c){this.onError(c)}}var Pg=!1,Ib=null,Db=!1,ok=null,Toe={onError:function(e){Pg=!0,Ib=e}};function Coe(e,t,r,n,i,a,s,o,l){Pg=!1,Ib=null,woe.apply(Toe,arguments)}function Eoe(e,t,r,n,i,a,s,o,l){if(Coe.apply(this,arguments),Pg){if(Pg){var u=Ib;Pg=!1,Ib=null}else throw Error(tt(198));Db||(Db=!0,ok=u)}}function af(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function vV(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function w6(e){if(af(e)!==e)throw Error(tt(188))}function Aoe(e){var t=e.alternate;if(!t){if(t=af(e),t===null)throw Error(tt(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return w6(i),e;if(a===n)return w6(i),t;a=a.sibling}throw Error(tt(188))}if(r.return!==n.return)r=i,n=a;else{for(var s=!1,o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s)throw Error(tt(189))}}if(r.alternate!==n)throw Error(tt(190))}if(r.tag!==3)throw Error(tt(188));return r.stateNode.current===r?e:t}function gV(e){return e=Aoe(e),e!==null?mV(e):null}function mV(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=mV(e);if(t!==null)return t;e=e.sibling}return null}var yV=Ea.unstable_scheduleCallback,T6=Ea.unstable_cancelCallback,koe=Ea.unstable_shouldYield,Ioe=Ea.unstable_requestPaint,yn=Ea.unstable_now,Doe=Ea.unstable_getCurrentPriorityLevel,IM=Ea.unstable_ImmediatePriority,xV=Ea.unstable_UserBlockingPriority,Mb=Ea.unstable_NormalPriority,Moe=Ea.unstable_LowPriority,bV=Ea.unstable_IdlePriority,b_=null,Co=null;function Loe(e){if(Co&&typeof Co.onCommitFiberRoot=="function")try{Co.onCommitFiberRoot(b_,e,void 0,(e.current.flags&128)===128)}catch{}}var Ns=Math.clz32?Math.clz32:Roe,Noe=Math.log,Poe=Math.LN2;function Roe(e){return e>>>=0,e===0?32:31-(Noe(e)/Poe|0)|0}var d1=64,p1=4194304;function gg(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Lb(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,s=r&268435455;if(s!==0){var o=s&~i;o!==0?n=gg(o):(a&=s,a!==0&&(n=gg(a)))}else s=r&~i,s!==0?n=gg(s):a!==0&&(n=gg(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Ns(t),i=1<<r,n|=e[r],t&=~i;return n}function Ooe(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Boe(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-Ns(a),o=1<<s,l=i[s];l===-1?(!(o&r)||o&n)&&(i[s]=Ooe(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}function lk(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function SV(){var e=d1;return d1<<=1,!(d1&4194240)&&(d1=64),e}function SC(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function E0(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ns(t),e[t]=r}function Foe(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-Ns(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function DM(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Ns(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var Lr=0;function _V(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var wV,MM,TV,CV,EV,uk=!1,v1=[],Iu=null,Du=null,Mu=null,Tm=new Map,Cm=new Map,vu=[],zoe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function C6(e,t){switch(e){case"focusin":case"focusout":Iu=null;break;case"dragenter":case"dragleave":Du=null;break;case"mouseover":case"mouseout":Mu=null;break;case"pointerover":case"pointerout":Tm.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cm.delete(t.pointerId)}}function Cv(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=k0(t),t!==null&&MM(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function joe(e,t,r,n,i){switch(t){case"focusin":return Iu=Cv(Iu,e,t,r,n,i),!0;case"dragenter":return Du=Cv(Du,e,t,r,n,i),!0;case"mouseover":return Mu=Cv(Mu,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return Tm.set(a,Cv(Tm.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Cm.set(a,Cv(Cm.get(a)||null,e,t,r,n,i)),!0}return!1}function AV(e){var t=fh(e.target);if(t!==null){var r=af(t);if(r!==null){if(t=r.tag,t===13){if(t=vV(r),t!==null){e.blockedOn=t,EV(e.priority,function(){TV(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Wx(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=ck(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);ik=n,r.target.dispatchEvent(n),ik=null}else return t=k0(r),t!==null&&MM(t),e.blockedOn=r,!1;t.shift()}return!0}function E6(e,t,r){Wx(e)&&r.delete(t)}function Hoe(){uk=!1,Iu!==null&&Wx(Iu)&&(Iu=null),Du!==null&&Wx(Du)&&(Du=null),Mu!==null&&Wx(Mu)&&(Mu=null),Tm.forEach(E6),Cm.forEach(E6)}function Ev(e,t){e.blockedOn===t&&(e.blockedOn=null,uk||(uk=!0,Ea.unstable_scheduleCallback(Ea.unstable_NormalPriority,Hoe)))}function Em(e){function t(i){return Ev(i,e)}if(0<v1.length){Ev(v1[0],e);for(var r=1;r<v1.length;r++){var n=v1[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Iu!==null&&Ev(Iu,e),Du!==null&&Ev(Du,e),Mu!==null&&Ev(Mu,e),Tm.forEach(t),Cm.forEach(t),r=0;r<vu.length;r++)n=vu[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<vu.length&&(r=vu[0],r.blockedOn===null);)AV(r),r.blockedOn===null&&vu.shift()}var Dd=Nl.ReactCurrentBatchConfig,Nb=!0;function Voe(e,t,r,n){var i=Lr,a=Dd.transition;Dd.transition=null;try{Lr=1,LM(e,t,r,n)}finally{Lr=i,Dd.transition=a}}function Uoe(e,t,r,n){var i=Lr,a=Dd.transition;Dd.transition=null;try{Lr=4,LM(e,t,r,n)}finally{Lr=i,Dd.transition=a}}function LM(e,t,r,n){if(Nb){var i=ck(e,t,r,n);if(i===null)MC(e,t,n,Pb,r),C6(e,n);else if(joe(i,e,t,r,n))n.stopPropagation();else if(C6(e,n),t&4&&-1<zoe.indexOf(e)){for(;i!==null;){var a=k0(i);if(a!==null&&wV(a),a=ck(e,t,r,n),a===null&&MC(e,t,n,Pb,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else MC(e,t,n,null,r)}}var Pb=null;function ck(e,t,r,n){if(Pb=null,e=kM(n),e=fh(e),e!==null)if(t=af(e),t===null)e=null;else if(r=t.tag,r===13){if(e=vV(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Pb=e,null}function kV(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Doe()){case IM:return 1;case xV:return 4;case Mb:case Moe:return 16;case bV:return 536870912;default:return 16}default:return 16}}var yu=null,NM=null,$x=null;function IV(){if($x)return $x;var e,t=NM,r=t.length,n,i="value"in yu?yu.value:yu.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===i[a-n];n++);return $x=i.slice(e,1<n?1-n:void 0)}function Yx(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function g1(){return!0}function A6(){return!1}function Da(e){function t(r,n,i,a,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?g1:A6,this.isPropagationStopped=A6,this}return un(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=g1)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=g1)},persist:function(){},isPersistent:g1}),t}var Sp={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},PM=Da(Sp),A0=un({},Sp,{view:0,detail:0}),Goe=Da(A0),_C,wC,Av,S_=un({},A0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:RM,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Av&&(Av&&e.type==="mousemove"?(_C=e.screenX-Av.screenX,wC=e.screenY-Av.screenY):wC=_C=0,Av=e),_C)},movementY:function(e){return"movementY"in e?e.movementY:wC}}),k6=Da(S_),Woe=un({},S_,{dataTransfer:0}),$oe=Da(Woe),Yoe=un({},A0,{relatedTarget:0}),TC=Da(Yoe),Xoe=un({},Sp,{animationName:0,elapsedTime:0,pseudoElement:0}),qoe=Da(Xoe),Koe=un({},Sp,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Zoe=Da(Koe),Qoe=un({},Sp,{data:0}),I6=Da(Qoe),Joe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ele={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tle={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rle(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=tle[e])?!!t[e]:!1}function RM(){return rle}var nle=un({},A0,{key:function(e){if(e.key){var t=Joe[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Yx(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ele[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:RM,charCode:function(e){return e.type==="keypress"?Yx(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Yx(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ile=Da(nle),ale=un({},S_,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),D6=Da(ale),sle=un({},A0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:RM}),ole=Da(sle),lle=un({},Sp,{propertyName:0,elapsedTime:0,pseudoElement:0}),ule=Da(lle),cle=un({},S_,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),hle=Da(cle),fle=[9,13,27,32],OM=ml&&"CompositionEvent"in window,Rg=null;ml&&"documentMode"in document&&(Rg=document.documentMode);var dle=ml&&"TextEvent"in window&&!Rg,DV=ml&&(!OM||Rg&&8<Rg&&11>=Rg),M6=" ",L6=!1;function MV(e,t){switch(e){case"keyup":return fle.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function LV(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var hd=!1;function ple(e,t){switch(e){case"compositionend":return LV(t);case"keypress":return t.which!==32?null:(L6=!0,M6);case"textInput":return e=t.data,e===M6&&L6?null:e;default:return null}}function vle(e,t){if(hd)return e==="compositionend"||!OM&&MV(e,t)?(e=IV(),$x=NM=yu=null,hd=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return DV&&t.locale!=="ko"?null:t.data;default:return null}}var gle={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function N6(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!gle[e.type]:t==="textarea"}function NV(e,t,r,n){cV(n),t=Rb(t,"onChange"),0<t.length&&(r=new PM("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Og=null,Am=null;function mle(e){GV(e,0)}function __(e){var t=pd(e);if(nV(t))return e}function yle(e,t){if(e==="change")return t}var PV=!1;if(ml){var CC;if(ml){var EC="oninput"in document;if(!EC){var P6=document.createElement("div");P6.setAttribute("oninput","return;"),EC=typeof P6.oninput=="function"}CC=EC}else CC=!1;PV=CC&&(!document.documentMode||9<document.documentMode)}function R6(){Og&&(Og.detachEvent("onpropertychange",RV),Am=Og=null)}function RV(e){if(e.propertyName==="value"&&__(Am)){var t=[];NV(t,Am,e,kM(e)),pV(mle,t)}}function xle(e,t,r){e==="focusin"?(R6(),Og=t,Am=r,Og.attachEvent("onpropertychange",RV)):e==="focusout"&&R6()}function ble(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return __(Am)}function Sle(e,t){if(e==="click")return __(t)}function _le(e,t){if(e==="input"||e==="change")return __(t)}function wle(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var js=typeof Object.is=="function"?Object.is:wle;function km(e,t){if(js(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!$A.call(t,i)||!js(e[i],t[i]))return!1}return!0}function O6(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function B6(e,t){var r=O6(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=O6(r)}}function OV(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?OV(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function BV(){for(var e=window,t=kb();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=kb(e.document)}return t}function BM(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Tle(e){var t=BV(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&OV(r.ownerDocument.documentElement,r)){if(n!==null&&BM(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=B6(r,a);var s=B6(r,n);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Cle=ml&&"documentMode"in document&&11>=document.documentMode,fd=null,hk=null,Bg=null,fk=!1;function F6(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;fk||fd==null||fd!==kb(n)||(n=fd,"selectionStart"in n&&BM(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Bg&&km(Bg,n)||(Bg=n,n=Rb(hk,"onSelect"),0<n.length&&(t=new PM("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=fd)))}function m1(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var dd={animationend:m1("Animation","AnimationEnd"),animationiteration:m1("Animation","AnimationIteration"),animationstart:m1("Animation","AnimationStart"),transitionend:m1("Transition","TransitionEnd")},AC={},FV={};ml&&(FV=document.createElement("div").style,"AnimationEvent"in window||(delete dd.animationend.animation,delete dd.animationiteration.animation,delete dd.animationstart.animation),"TransitionEvent"in window||delete dd.transitionend.transition);function w_(e){if(AC[e])return AC[e];if(!dd[e])return e;var t=dd[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in FV)return AC[e]=t[r];return e}var zV=w_("animationend"),jV=w_("animationiteration"),HV=w_("animationstart"),VV=w_("transitionend"),UV=new Map,z6="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function nc(e,t){UV.set(e,t),nf(t,[e])}for(var kC=0;kC<z6.length;kC++){var IC=z6[kC],Ele=IC.toLowerCase(),Ale=IC[0].toUpperCase()+IC.slice(1);nc(Ele,"on"+Ale)}nc(zV,"onAnimationEnd");nc(jV,"onAnimationIteration");nc(HV,"onAnimationStart");nc("dblclick","onDoubleClick");nc("focusin","onFocus");nc("focusout","onBlur");nc(VV,"onTransitionEnd");Gd("onMouseEnter",["mouseout","mouseover"]);Gd("onMouseLeave",["mouseout","mouseover"]);Gd("onPointerEnter",["pointerout","pointerover"]);Gd("onPointerLeave",["pointerout","pointerover"]);nf("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));nf("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));nf("onBeforeInput",["compositionend","keypress","textInput","paste"]);nf("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));nf("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));nf("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kle=new Set("cancel close invalid load scroll toggle".split(" ").concat(mg));function j6(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Eoe(n,t,void 0,e),e.currentTarget=null}function GV(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var s=n.length-1;0<=s;s--){var o=n[s],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;j6(i,o,u),a=l}else for(s=0;s<n.length;s++){if(o=n[s],l=o.instance,u=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;j6(i,o,u),a=l}}}if(Db)throw e=ok,Db=!1,ok=null,e}function Yr(e,t){var r=t[mk];r===void 0&&(r=t[mk]=new Set);var n=e+"__bubble";r.has(n)||(WV(t,e,2,!1),r.add(n))}function DC(e,t,r){var n=0;t&&(n|=4),WV(r,e,n,t)}var y1="_reactListening"+Math.random().toString(36).slice(2);function Im(e){if(!e[y1]){e[y1]=!0,Q7.forEach(function(r){r!=="selectionchange"&&(kle.has(r)||DC(r,!1,e),DC(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[y1]||(t[y1]=!0,DC("selectionchange",!1,t))}}function WV(e,t,r,n){switch(kV(t)){case 1:var i=Voe;break;case 4:i=Uoe;break;default:i=LM}r=i.bind(null,t,r,e),i=void 0,!sk||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function MC(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=fh(o),s===null)return;if(l=s.tag,l===5||l===6){n=a=s;continue e}o=o.parentNode}}n=n.return}pV(function(){var u=a,c=kM(r),h=[];e:{var f=UV.get(e);if(f!==void 0){var d=PM,v=e;switch(e){case"keypress":if(Yx(r)===0)break e;case"keydown":case"keyup":d=ile;break;case"focusin":v="focus",d=TC;break;case"focusout":v="blur",d=TC;break;case"beforeblur":case"afterblur":d=TC;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=k6;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=$oe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=ole;break;case zV:case jV:case HV:d=qoe;break;case VV:d=ule;break;case"scroll":d=Goe;break;case"wheel":d=hle;break;case"copy":case"cut":case"paste":d=Zoe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=D6}var m=(t&4)!==0,y=!m&&e==="scroll",b=m?f!==null?f+"Capture":null:f;m=[];for(var S=u,w;S!==null;){w=S;var k=w.stateNode;if(w.tag===5&&k!==null&&(w=k,b!==null&&(k=wm(S,b),k!=null&&m.push(Dm(S,k,w)))),y)break;S=S.return}0<m.length&&(f=new d(f,v,null,r,c),h.push({event:f,listeners:m}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",d=e==="mouseout"||e==="pointerout",f&&r!==ik&&(v=r.relatedTarget||r.fromElement)&&(fh(v)||v[yl]))break e;if((d||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,d?(v=r.relatedTarget||r.toElement,d=u,v=v?fh(v):null,v!==null&&(y=af(v),v!==y||v.tag!==5&&v.tag!==6)&&(v=null)):(d=null,v=u),d!==v)){if(m=k6,k="onMouseLeave",b="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(m=D6,k="onPointerLeave",b="onPointerEnter",S="pointer"),y=d==null?f:pd(d),w=v==null?f:pd(v),f=new m(k,S+"leave",d,r,c),f.target=y,f.relatedTarget=w,k=null,fh(c)===u&&(m=new m(b,S+"enter",v,r,c),m.target=w,m.relatedTarget=y,k=m),y=k,d&&v)t:{for(m=d,b=v,S=0,w=m;w;w=Df(w))S++;for(w=0,k=b;k;k=Df(k))w++;for(;0<S-w;)m=Df(m),S--;for(;0<w-S;)b=Df(b),w--;for(;S--;){if(m===b||b!==null&&m===b.alternate)break t;m=Df(m),b=Df(b)}m=null}else m=null;d!==null&&H6(h,f,d,m,!1),v!==null&&y!==null&&H6(h,y,v,m,!0)}}e:{if(f=u?pd(u):window,d=f.nodeName&&f.nodeName.toLowerCase(),d==="select"||d==="input"&&f.type==="file")var M=yle;else if(N6(f))if(PV)M=_le;else{M=ble;var I=xle}else(d=f.nodeName)&&d.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(M=Sle);if(M&&(M=M(e,u))){NV(h,M,r,c);break e}I&&I(e,f,u),e==="focusout"&&(I=f._wrapperState)&&I.controlled&&f.type==="number"&&JA(f,"number",f.value)}switch(I=u?pd(u):window,e){case"focusin":(N6(I)||I.contentEditable==="true")&&(fd=I,hk=u,Bg=null);break;case"focusout":Bg=hk=fd=null;break;case"mousedown":fk=!0;break;case"contextmenu":case"mouseup":case"dragend":fk=!1,F6(h,r,c);break;case"selectionchange":if(Cle)break;case"keydown":case"keyup":F6(h,r,c)}var L;if(OM)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else hd?MV(e,r)&&(N="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(N="onCompositionStart");N&&(DV&&r.locale!=="ko"&&(hd||N!=="onCompositionStart"?N==="onCompositionEnd"&&hd&&(L=IV()):(yu=c,NM="value"in yu?yu.value:yu.textContent,hd=!0)),I=Rb(u,N),0<I.length&&(N=new I6(N,e,null,r,c),h.push({event:N,listeners:I}),L?N.data=L:(L=LV(r),L!==null&&(N.data=L)))),(L=dle?ple(e,r):vle(e,r))&&(u=Rb(u,"onBeforeInput"),0<u.length&&(c=new I6("onBeforeInput","beforeinput",null,r,c),h.push({event:c,listeners:u}),c.data=L))}GV(h,t)})}function Dm(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Rb(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=wm(e,r),a!=null&&n.unshift(Dm(e,a,i)),a=wm(e,t),a!=null&&n.push(Dm(e,a,i))),e=e.return}return n}function Df(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function H6(e,t,r,n,i){for(var a=t._reactName,s=[];r!==null&&r!==n;){var o=r,l=o.alternate,u=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&u!==null&&(o=u,i?(l=wm(r,a),l!=null&&s.unshift(Dm(r,l,o))):i||(l=wm(r,a),l!=null&&s.push(Dm(r,l,o)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var Ile=/\r\n?/g,Dle=/\u0000|\uFFFD/g;function V6(e){return(typeof e=="string"?e:""+e).replace(Ile,`
`).replace(Dle,"")}function x1(e,t,r){if(t=V6(t),V6(e)!==t&&r)throw Error(tt(425))}function Ob(){}var dk=null,pk=null;function vk(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var gk=typeof setTimeout=="function"?setTimeout:void 0,Mle=typeof clearTimeout=="function"?clearTimeout:void 0,U6=typeof Promise=="function"?Promise:void 0,Lle=typeof queueMicrotask=="function"?queueMicrotask:typeof U6<"u"?function(e){return U6.resolve(null).then(e).catch(Nle)}:gk;function Nle(e){setTimeout(function(){throw e})}function LC(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),Em(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Em(t)}function Lu(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function G6(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var _p=Math.random().toString(36).slice(2),xo="__reactFiber$"+_p,Mm="__reactProps$"+_p,yl="__reactContainer$"+_p,mk="__reactEvents$"+_p,Ple="__reactListeners$"+_p,Rle="__reactHandles$"+_p;function fh(e){var t=e[xo];if(t)return t;for(var r=e.parentNode;r;){if(t=r[yl]||r[xo]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=G6(e);e!==null;){if(r=e[xo])return r;e=G6(e)}return t}e=r,r=e.parentNode}return null}function k0(e){return e=e[xo]||e[yl],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function pd(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(tt(33))}function T_(e){return e[Mm]||null}var yk=[],vd=-1;function ic(e){return{current:e}}function Xr(e){0>vd||(e.current=yk[vd],yk[vd]=null,vd--)}function Ur(e,t){vd++,yk[vd]=e.current,e.current=t}var Xu={},bi=ic(Xu),ia=ic(!1),zh=Xu;function Wd(e,t){var r=e.type.contextTypes;if(!r)return Xu;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function aa(e){return e=e.childContextTypes,e!=null}function Bb(){Xr(ia),Xr(bi)}function W6(e,t,r){if(bi.current!==Xu)throw Error(tt(168));Ur(bi,t),Ur(ia,r)}function $V(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(tt(108,xoe(e)||"Unknown",i));return un({},r,n)}function Fb(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Xu,zh=bi.current,Ur(bi,e),Ur(ia,ia.current),!0}function $6(e,t,r){var n=e.stateNode;if(!n)throw Error(tt(169));r?(e=$V(e,t,zh),n.__reactInternalMemoizedMergedChildContext=e,Xr(ia),Xr(bi),Ur(bi,e)):Xr(ia),Ur(ia,r)}var el=null,C_=!1,NC=!1;function YV(e){el===null?el=[e]:el.push(e)}function Ole(e){C_=!0,YV(e)}function ac(){if(!NC&&el!==null){NC=!0;var e=0,t=Lr;try{var r=el;for(Lr=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}el=null,C_=!1}catch(i){throw el!==null&&(el=el.slice(e+1)),yV(IM,ac),i}finally{Lr=t,NC=!1}}return null}var gd=[],md=0,zb=null,jb=0,$a=[],Ya=0,jh=null,nl=1,il="";function Qc(e,t){gd[md++]=jb,gd[md++]=zb,zb=e,jb=t}function XV(e,t,r){$a[Ya++]=nl,$a[Ya++]=il,$a[Ya++]=jh,jh=e;var n=nl;e=il;var i=32-Ns(n)-1;n&=~(1<<i),r+=1;var a=32-Ns(t)+i;if(30<a){var s=i-i%5;a=(n&(1<<s)-1).toString(32),n>>=s,i-=s,nl=1<<32-Ns(t)+i|r<<i|n,il=a+e}else nl=1<<a|r<<i|n,il=e}function FM(e){e.return!==null&&(Qc(e,1),XV(e,1,0))}function zM(e){for(;e===zb;)zb=gd[--md],gd[md]=null,jb=gd[--md],gd[md]=null;for(;e===jh;)jh=$a[--Ya],$a[Ya]=null,il=$a[--Ya],$a[Ya]=null,nl=$a[--Ya],$a[Ya]=null}var wa=null,ba=null,en=!1,Ds=null;function qV(e,t){var r=es(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Y6(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,wa=e,ba=Lu(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,wa=e,ba=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=jh!==null?{id:nl,overflow:il}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=es(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,wa=e,ba=null,!0):!1;default:return!1}}function xk(e){return(e.mode&1)!==0&&(e.flags&128)===0}function bk(e){if(en){var t=ba;if(t){var r=t;if(!Y6(e,t)){if(xk(e))throw Error(tt(418));t=Lu(r.nextSibling);var n=wa;t&&Y6(e,t)?qV(n,r):(e.flags=e.flags&-4097|2,en=!1,wa=e)}}else{if(xk(e))throw Error(tt(418));e.flags=e.flags&-4097|2,en=!1,wa=e}}}function X6(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;wa=e}function b1(e){if(e!==wa)return!1;if(!en)return X6(e),en=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!vk(e.type,e.memoizedProps)),t&&(t=ba)){if(xk(e))throw KV(),Error(tt(418));for(;t;)qV(e,t),t=Lu(t.nextSibling)}if(X6(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(tt(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ba=Lu(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ba=null}}else ba=wa?Lu(e.stateNode.nextSibling):null;return!0}function KV(){for(var e=ba;e;)e=Lu(e.nextSibling)}function $d(){ba=wa=null,en=!1}function jM(e){Ds===null?Ds=[e]:Ds.push(e)}var Ble=Nl.ReactCurrentBatchConfig;function kv(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(tt(309));var n=r.stateNode}if(!n)throw Error(tt(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},t._stringRef=a,t)}if(typeof e!="string")throw Error(tt(284));if(!r._owner)throw Error(tt(290,e))}return e}function S1(e,t){throw e=Object.prototype.toString.call(t),Error(tt(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function q6(e){var t=e._init;return t(e._payload)}function ZV(e){function t(b,S){if(e){var w=b.deletions;w===null?(b.deletions=[S],b.flags|=16):w.push(S)}}function r(b,S){if(!e)return null;for(;S!==null;)t(b,S),S=S.sibling;return null}function n(b,S){for(b=new Map;S!==null;)S.key!==null?b.set(S.key,S):b.set(S.index,S),S=S.sibling;return b}function i(b,S){return b=Ou(b,S),b.index=0,b.sibling=null,b}function a(b,S,w){return b.index=w,e?(w=b.alternate,w!==null?(w=w.index,w<S?(b.flags|=2,S):w):(b.flags|=2,S)):(b.flags|=1048576,S)}function s(b){return e&&b.alternate===null&&(b.flags|=2),b}function o(b,S,w,k){return S===null||S.tag!==6?(S=jC(w,b.mode,k),S.return=b,S):(S=i(S,w),S.return=b,S)}function l(b,S,w,k){var M=w.type;return M===cd?c(b,S,w.props.children,k,w.key):S!==null&&(S.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===uu&&q6(M)===S.type)?(k=i(S,w.props),k.ref=kv(b,S,w),k.return=b,k):(k=eb(w.type,w.key,w.props,null,b.mode,k),k.ref=kv(b,S,w),k.return=b,k)}function u(b,S,w,k){return S===null||S.tag!==4||S.stateNode.containerInfo!==w.containerInfo||S.stateNode.implementation!==w.implementation?(S=HC(w,b.mode,k),S.return=b,S):(S=i(S,w.children||[]),S.return=b,S)}function c(b,S,w,k,M){return S===null||S.tag!==7?(S=Eh(w,b.mode,k,M),S.return=b,S):(S=i(S,w),S.return=b,S)}function h(b,S,w){if(typeof S=="string"&&S!==""||typeof S=="number")return S=jC(""+S,b.mode,w),S.return=b,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case c1:return w=eb(S.type,S.key,S.props,null,b.mode,w),w.ref=kv(b,null,S),w.return=b,w;case ud:return S=HC(S,b.mode,w),S.return=b,S;case uu:var k=S._init;return h(b,k(S._payload),w)}if(vg(S)||wv(S))return S=Eh(S,b.mode,w,null),S.return=b,S;S1(b,S)}return null}function f(b,S,w,k){var M=S!==null?S.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return M!==null?null:o(b,S,""+w,k);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case c1:return w.key===M?l(b,S,w,k):null;case ud:return w.key===M?u(b,S,w,k):null;case uu:return M=w._init,f(b,S,M(w._payload),k)}if(vg(w)||wv(w))return M!==null?null:c(b,S,w,k,null);S1(b,w)}return null}function d(b,S,w,k,M){if(typeof k=="string"&&k!==""||typeof k=="number")return b=b.get(w)||null,o(S,b,""+k,M);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case c1:return b=b.get(k.key===null?w:k.key)||null,l(S,b,k,M);case ud:return b=b.get(k.key===null?w:k.key)||null,u(S,b,k,M);case uu:var I=k._init;return d(b,S,w,I(k._payload),M)}if(vg(k)||wv(k))return b=b.get(w)||null,c(S,b,k,M,null);S1(S,k)}return null}function v(b,S,w,k){for(var M=null,I=null,L=S,N=S=0,z=null;L!==null&&N<w.length;N++){L.index>N?(z=L,L=null):z=L.sibling;var B=f(b,L,w[N],k);if(B===null){L===null&&(L=z);break}e&&L&&B.alternate===null&&t(b,L),S=a(B,S,N),I===null?M=B:I.sibling=B,I=B,L=z}if(N===w.length)return r(b,L),en&&Qc(b,N),M;if(L===null){for(;N<w.length;N++)L=h(b,w[N],k),L!==null&&(S=a(L,S,N),I===null?M=L:I.sibling=L,I=L);return en&&Qc(b,N),M}for(L=n(b,L);N<w.length;N++)z=d(L,b,N,w[N],k),z!==null&&(e&&z.alternate!==null&&L.delete(z.key===null?N:z.key),S=a(z,S,N),I===null?M=z:I.sibling=z,I=z);return e&&L.forEach(function(H){return t(b,H)}),en&&Qc(b,N),M}function m(b,S,w,k){var M=wv(w);if(typeof M!="function")throw Error(tt(150));if(w=M.call(w),w==null)throw Error(tt(151));for(var I=M=null,L=S,N=S=0,z=null,B=w.next();L!==null&&!B.done;N++,B=w.next()){L.index>N?(z=L,L=null):z=L.sibling;var H=f(b,L,B.value,k);if(H===null){L===null&&(L=z);break}e&&L&&H.alternate===null&&t(b,L),S=a(H,S,N),I===null?M=H:I.sibling=H,I=H,L=z}if(B.done)return r(b,L),en&&Qc(b,N),M;if(L===null){for(;!B.done;N++,B=w.next())B=h(b,B.value,k),B!==null&&(S=a(B,S,N),I===null?M=B:I.sibling=B,I=B);return en&&Qc(b,N),M}for(L=n(b,L);!B.done;N++,B=w.next())B=d(L,b,N,B.value,k),B!==null&&(e&&B.alternate!==null&&L.delete(B.key===null?N:B.key),S=a(B,S,N),I===null?M=B:I.sibling=B,I=B);return e&&L.forEach(function(G){return t(b,G)}),en&&Qc(b,N),M}function y(b,S,w,k){if(typeof w=="object"&&w!==null&&w.type===cd&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case c1:e:{for(var M=w.key,I=S;I!==null;){if(I.key===M){if(M=w.type,M===cd){if(I.tag===7){r(b,I.sibling),S=i(I,w.props.children),S.return=b,b=S;break e}}else if(I.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===uu&&q6(M)===I.type){r(b,I.sibling),S=i(I,w.props),S.ref=kv(b,I,w),S.return=b,b=S;break e}r(b,I);break}else t(b,I);I=I.sibling}w.type===cd?(S=Eh(w.props.children,b.mode,k,w.key),S.return=b,b=S):(k=eb(w.type,w.key,w.props,null,b.mode,k),k.ref=kv(b,S,w),k.return=b,b=k)}return s(b);case ud:e:{for(I=w.key;S!==null;){if(S.key===I)if(S.tag===4&&S.stateNode.containerInfo===w.containerInfo&&S.stateNode.implementation===w.implementation){r(b,S.sibling),S=i(S,w.children||[]),S.return=b,b=S;break e}else{r(b,S);break}else t(b,S);S=S.sibling}S=HC(w,b.mode,k),S.return=b,b=S}return s(b);case uu:return I=w._init,y(b,S,I(w._payload),k)}if(vg(w))return v(b,S,w,k);if(wv(w))return m(b,S,w,k);S1(b,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,S!==null&&S.tag===6?(r(b,S.sibling),S=i(S,w),S.return=b,b=S):(r(b,S),S=jC(w,b.mode,k),S.return=b,b=S),s(b)):r(b,S)}return y}var Yd=ZV(!0),QV=ZV(!1),Hb=ic(null),Vb=null,yd=null,HM=null;function VM(){HM=yd=Vb=null}function UM(e){var t=Hb.current;Xr(Hb),e._currentValue=t}function Sk(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Md(e,t){Vb=e,HM=yd=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(na=!0),e.firstContext=null)}function is(e){var t=e._currentValue;if(HM!==e)if(e={context:e,memoizedValue:t,next:null},yd===null){if(Vb===null)throw Error(tt(308));yd=e,Vb.dependencies={lanes:0,firstContext:e}}else yd=yd.next=e;return t}var dh=null;function GM(e){dh===null?dh=[e]:dh.push(e)}function JV(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,GM(t)):(r.next=i.next,i.next=r),t.interleaved=r,xl(e,n)}function xl(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var cu=!1;function WM(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function eU(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function dl(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Nu(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,_r&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,xl(e,r)}return i=n.interleaved,i===null?(t.next=t,GM(n)):(t.next=i.next,i.next=t),n.interleaved=t,xl(e,r)}function Xx(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,DM(e,r)}}function K6(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=s:a=a.next=s,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ub(e,t,r,n){var i=e.updateQueue;cu=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,s===null?a=u:s.next=u,s=l;var c=e.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==s&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(a!==null){var h=i.baseState;s=0,c=u=l=null,o=a;do{var f=o.lane,d=o.eventTime;if((n&f)===f){c!==null&&(c=c.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var v=e,m=o;switch(f=t,d=r,m.tag){case 1:if(v=m.payload,typeof v=="function"){h=v.call(d,h,f);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=m.payload,f=typeof v=="function"?v.call(d,h,f):v,f==null)break e;h=un({},h,f);break e;case 2:cu=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[o]:f.push(o))}else d={eventTime:d,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=d,l=h):c=c.next=d,s|=f;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;f=o,o=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);Vh|=s,e.lanes=s,e.memoizedState=h}}function Z6(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(tt(191,i));i.call(n)}}}var I0={},Eo=ic(I0),Lm=ic(I0),Nm=ic(I0);function ph(e){if(e===I0)throw Error(tt(174));return e}function $M(e,t){switch(Ur(Nm,t),Ur(Lm,e),Ur(Eo,I0),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:tk(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=tk(t,e)}Xr(Eo),Ur(Eo,t)}function Xd(){Xr(Eo),Xr(Lm),Xr(Nm)}function tU(e){ph(Nm.current);var t=ph(Eo.current),r=tk(t,e.type);t!==r&&(Ur(Lm,e),Ur(Eo,r))}function YM(e){Lm.current===e&&(Xr(Eo),Xr(Lm))}var sn=ic(0);function Gb(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var PC=[];function XM(){for(var e=0;e<PC.length;e++)PC[e]._workInProgressVersionPrimary=null;PC.length=0}var qx=Nl.ReactCurrentDispatcher,RC=Nl.ReactCurrentBatchConfig,Hh=0,on=null,Nn=null,Wn=null,Wb=!1,Fg=!1,Pm=0,Fle=0;function li(){throw Error(tt(321))}function qM(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!js(e[r],t[r]))return!1;return!0}function KM(e,t,r,n,i,a){if(Hh=a,on=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,qx.current=e===null||e.memoizedState===null?Vle:Ule,e=r(n,i),Fg){a=0;do{if(Fg=!1,Pm=0,25<=a)throw Error(tt(301));a+=1,Wn=Nn=null,t.updateQueue=null,qx.current=Gle,e=r(n,i)}while(Fg)}if(qx.current=$b,t=Nn!==null&&Nn.next!==null,Hh=0,Wn=Nn=on=null,Wb=!1,t)throw Error(tt(300));return e}function ZM(){var e=Pm!==0;return Pm=0,e}function po(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wn===null?on.memoizedState=Wn=e:Wn=Wn.next=e,Wn}function as(){if(Nn===null){var e=on.alternate;e=e!==null?e.memoizedState:null}else e=Nn.next;var t=Wn===null?on.memoizedState:Wn.next;if(t!==null)Wn=t,Nn=e;else{if(e===null)throw Error(tt(310));Nn=e,e={memoizedState:Nn.memoizedState,baseState:Nn.baseState,baseQueue:Nn.baseQueue,queue:Nn.queue,next:null},Wn===null?on.memoizedState=Wn=e:Wn=Wn.next=e}return Wn}function Rm(e,t){return typeof t=="function"?t(e):t}function OC(e){var t=as(),r=t.queue;if(r===null)throw Error(tt(311));r.lastRenderedReducer=e;var n=Nn,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var o=s=null,l=null,u=a;do{var c=u.lane;if((Hh&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=h,s=n):l=l.next=h,on.lanes|=c,Vh|=c}u=u.next}while(u!==null&&u!==a);l===null?s=n:l.next=o,js(n,t.memoizedState)||(na=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,on.lanes|=a,Vh|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function BC(e){var t=as(),r=t.queue;if(r===null)throw Error(tt(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do a=e(a,s.action),s=s.next;while(s!==i);js(a,t.memoizedState)||(na=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function rU(){}function nU(e,t){var r=on,n=as(),i=t(),a=!js(n.memoizedState,i);if(a&&(n.memoizedState=i,na=!0),n=n.queue,QM(sU.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||Wn!==null&&Wn.memoizedState.tag&1){if(r.flags|=2048,Om(9,aU.bind(null,r,n,i,t),void 0,null),Xn===null)throw Error(tt(349));Hh&30||iU(r,t,i)}return i}function iU(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=on.updateQueue,t===null?(t={lastEffect:null,stores:null},on.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function aU(e,t,r,n){t.value=r,t.getSnapshot=n,oU(t)&&lU(e)}function sU(e,t,r){return r(function(){oU(t)&&lU(e)})}function oU(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!js(e,r)}catch{return!0}}function lU(e){var t=xl(e,1);t!==null&&Ps(t,e,1,-1)}function Q6(e){var t=po();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Rm,lastRenderedState:e},t.queue=e,e=e.dispatch=Hle.bind(null,on,e),[t.memoizedState,e]}function Om(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=on.updateQueue,t===null?(t={lastEffect:null,stores:null},on.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function uU(){return as().memoizedState}function Kx(e,t,r,n){var i=po();on.flags|=e,i.memoizedState=Om(1|t,r,void 0,n===void 0?null:n)}function E_(e,t,r,n){var i=as();n=n===void 0?null:n;var a=void 0;if(Nn!==null){var s=Nn.memoizedState;if(a=s.destroy,n!==null&&qM(n,s.deps)){i.memoizedState=Om(t,r,a,n);return}}on.flags|=e,i.memoizedState=Om(1|t,r,a,n)}function J6(e,t){return Kx(8390656,8,e,t)}function QM(e,t){return E_(2048,8,e,t)}function cU(e,t){return E_(4,2,e,t)}function hU(e,t){return E_(4,4,e,t)}function fU(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function dU(e,t,r){return r=r!=null?r.concat([e]):null,E_(4,4,fU.bind(null,t,e),r)}function JM(){}function pU(e,t){var r=as();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&qM(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function vU(e,t){var r=as();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&qM(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function gU(e,t,r){return Hh&21?(js(r,t)||(r=SV(),on.lanes|=r,Vh|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,na=!0),e.memoizedState=r)}function zle(e,t){var r=Lr;Lr=r!==0&&4>r?r:4,e(!0);var n=RC.transition;RC.transition={};try{e(!1),t()}finally{Lr=r,RC.transition=n}}function mU(){return as().memoizedState}function jle(e,t,r){var n=Ru(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},yU(e))xU(t,r);else if(r=JV(e,t,r,n),r!==null){var i=Fi();Ps(r,e,n,i),bU(r,t,n)}}function Hle(e,t,r){var n=Ru(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(yU(e))xU(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,o=a(s,r);if(i.hasEagerState=!0,i.eagerState=o,js(o,s)){var l=t.interleaved;l===null?(i.next=i,GM(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}r=JV(e,t,i,n),r!==null&&(i=Fi(),Ps(r,e,n,i),bU(r,t,n))}}function yU(e){var t=e.alternate;return e===on||t!==null&&t===on}function xU(e,t){Fg=Wb=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function bU(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,DM(e,r)}}var $b={readContext:is,useCallback:li,useContext:li,useEffect:li,useImperativeHandle:li,useInsertionEffect:li,useLayoutEffect:li,useMemo:li,useReducer:li,useRef:li,useState:li,useDebugValue:li,useDeferredValue:li,useTransition:li,useMutableSource:li,useSyncExternalStore:li,useId:li,unstable_isNewReconciler:!1},Vle={readContext:is,useCallback:function(e,t){return po().memoizedState=[e,t===void 0?null:t],e},useContext:is,useEffect:J6,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Kx(4194308,4,fU.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Kx(4194308,4,e,t)},useInsertionEffect:function(e,t){return Kx(4,2,e,t)},useMemo:function(e,t){var r=po();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=po();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=jle.bind(null,on,e),[n.memoizedState,e]},useRef:function(e){var t=po();return e={current:e},t.memoizedState=e},useState:Q6,useDebugValue:JM,useDeferredValue:function(e){return po().memoizedState=e},useTransition:function(){var e=Q6(!1),t=e[0];return e=zle.bind(null,e[1]),po().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=on,i=po();if(en){if(r===void 0)throw Error(tt(407));r=r()}else{if(r=t(),Xn===null)throw Error(tt(349));Hh&30||iU(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,J6(sU.bind(null,n,a,e),[e]),n.flags|=2048,Om(9,aU.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=po(),t=Xn.identifierPrefix;if(en){var r=il,n=nl;r=(n&~(1<<32-Ns(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Pm++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Fle++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ule={readContext:is,useCallback:pU,useContext:is,useEffect:QM,useImperativeHandle:dU,useInsertionEffect:cU,useLayoutEffect:hU,useMemo:vU,useReducer:OC,useRef:uU,useState:function(){return OC(Rm)},useDebugValue:JM,useDeferredValue:function(e){var t=as();return gU(t,Nn.memoizedState,e)},useTransition:function(){var e=OC(Rm)[0],t=as().memoizedState;return[e,t]},useMutableSource:rU,useSyncExternalStore:nU,useId:mU,unstable_isNewReconciler:!1},Gle={readContext:is,useCallback:pU,useContext:is,useEffect:QM,useImperativeHandle:dU,useInsertionEffect:cU,useLayoutEffect:hU,useMemo:vU,useReducer:BC,useRef:uU,useState:function(){return BC(Rm)},useDebugValue:JM,useDeferredValue:function(e){var t=as();return Nn===null?t.memoizedState=e:gU(t,Nn.memoizedState,e)},useTransition:function(){var e=BC(Rm)[0],t=as().memoizedState;return[e,t]},useMutableSource:rU,useSyncExternalStore:nU,useId:mU,unstable_isNewReconciler:!1};function As(e,t){if(e&&e.defaultProps){t=un({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function _k(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:un({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var A_={isMounted:function(e){return(e=e._reactInternals)?af(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Fi(),i=Ru(e),a=dl(n,i);a.payload=t,r!=null&&(a.callback=r),t=Nu(e,a,i),t!==null&&(Ps(t,e,i,n),Xx(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Fi(),i=Ru(e),a=dl(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Nu(e,a,i),t!==null&&(Ps(t,e,i,n),Xx(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Fi(),n=Ru(e),i=dl(r,n);i.tag=2,t!=null&&(i.callback=t),t=Nu(e,i,n),t!==null&&(Ps(t,e,n,r),Xx(t,e,n))}};function e5(e,t,r,n,i,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,s):t.prototype&&t.prototype.isPureReactComponent?!km(r,n)||!km(i,a):!0}function SU(e,t,r){var n=!1,i=Xu,a=t.contextType;return typeof a=="object"&&a!==null?a=is(a):(i=aa(t)?zh:bi.current,n=t.contextTypes,a=(n=n!=null)?Wd(e,i):Xu),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=A_,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function t5(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&A_.enqueueReplaceState(t,t.state,null)}function wk(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},WM(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=is(a):(a=aa(t)?zh:bi.current,i.context=Wd(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(_k(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&A_.enqueueReplaceState(i,i.state,null),Ub(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function qd(e,t){try{var r="",n=t;do r+=yoe(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function FC(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Tk(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Wle=typeof WeakMap=="function"?WeakMap:Map;function _U(e,t,r){r=dl(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Xb||(Xb=!0,Pk=n),Tk(e,t)},r}function wU(e,t,r){r=dl(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){Tk(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Tk(e,t),typeof n!="function"&&(Pu===null?Pu=new Set([this]):Pu.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function r5(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Wle;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=aue.bind(null,e,t,r),t.then(e,e))}function n5(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function i5(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=dl(-1,1),t.tag=2,Nu(r,t,1))),r.lanes|=1),e)}var $le=Nl.ReactCurrentOwner,na=!1;function Mi(e,t,r,n){t.child=e===null?QV(t,null,r,n):Yd(t,e.child,r,n)}function a5(e,t,r,n,i){r=r.render;var a=t.ref;return Md(t,i),n=KM(e,t,r,n,a,i),r=ZM(),e!==null&&!na?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,bl(e,t,i)):(en&&r&&FM(t),t.flags|=1,Mi(e,t,n,i),t.child)}function s5(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!oL(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,TU(e,t,a,n,i)):(e=eb(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var s=a.memoizedProps;if(r=r.compare,r=r!==null?r:km,r(s,n)&&e.ref===t.ref)return bl(e,t,i)}return t.flags|=1,e=Ou(a,n),e.ref=t.ref,e.return=t,t.child=e}function TU(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(km(a,n)&&e.ref===t.ref)if(na=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(na=!0);else return t.lanes=e.lanes,bl(e,t,i)}return Ck(e,t,r,n,i)}function CU(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ur(bd,ga),ga|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ur(bd,ga),ga|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Ur(bd,ga),ga|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,Ur(bd,ga),ga|=n;return Mi(e,t,i,r),t.child}function EU(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Ck(e,t,r,n,i){var a=aa(r)?zh:bi.current;return a=Wd(t,a),Md(t,i),r=KM(e,t,r,n,a,i),n=ZM(),e!==null&&!na?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,bl(e,t,i)):(en&&n&&FM(t),t.flags|=1,Mi(e,t,r,i),t.child)}function o5(e,t,r,n,i){if(aa(r)){var a=!0;Fb(t)}else a=!1;if(Md(t,i),t.stateNode===null)Zx(e,t),SU(t,r,n),wk(t,r,n,i),n=!0;else if(e===null){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=is(u):(u=aa(r)?zh:bi.current,u=Wd(t,u));var c=r.getDerivedStateFromProps,h=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||l!==u)&&t5(t,s,n,u),cu=!1;var f=t.memoizedState;s.state=f,Ub(t,n,s,i),l=t.memoizedState,o!==n||f!==l||ia.current||cu?(typeof c=="function"&&(_k(t,r,c,n),l=t.memoizedState),(o=cu||e5(t,r,o,n,f,l,u))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),s.props=n,s.state=l,s.context=u,n=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,eU(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:As(t.type,o),s.props=u,h=t.pendingProps,f=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=is(l):(l=aa(r)?zh:bi.current,l=Wd(t,l));var d=r.getDerivedStateFromProps;(c=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==h||f!==l)&&t5(t,s,n,l),cu=!1,f=t.memoizedState,s.state=f,Ub(t,n,s,i);var v=t.memoizedState;o!==h||f!==v||ia.current||cu?(typeof d=="function"&&(_k(t,r,d,n),v=t.memoizedState),(u=cu||e5(t,r,u,n,f,v,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,v,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,v,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),s.props=n,s.state=v,s.context=l,n=u):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return Ek(e,t,r,n,a,i)}function Ek(e,t,r,n,i,a){EU(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return i&&$6(t,r,!1),bl(e,t,a);n=t.stateNode,$le.current=t;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=Yd(t,e.child,null,a),t.child=Yd(t,null,o,a)):Mi(e,t,o,a),t.memoizedState=n.state,i&&$6(t,r,!0),t.child}function AU(e){var t=e.stateNode;t.pendingContext?W6(e,t.pendingContext,t.pendingContext!==t.context):t.context&&W6(e,t.context,!1),$M(e,t.containerInfo)}function l5(e,t,r,n,i){return $d(),jM(i),t.flags|=256,Mi(e,t,r,n),t.child}var Ak={dehydrated:null,treeContext:null,retryLane:0};function kk(e){return{baseLanes:e,cachePool:null,transitions:null}}function kU(e,t,r){var n=t.pendingProps,i=sn.current,a=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ur(sn,i&1),e===null)return bk(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,a?(n=t.mode,a=t.child,s={mode:"hidden",children:s},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=D_(s,n,0,null),e=Eh(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=kk(r),t.memoizedState=Ak,e):eL(t,s));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return Yle(e,t,s,n,o,i,r);if(a){a=n.fallback,s=t.mode,i=e.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Ou(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=Ou(o,a):(a=Eh(a,s,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,s=e.child.memoizedState,s=s===null?kk(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=e.childLanes&~r,t.memoizedState=Ak,n}return a=e.child,e=a.sibling,n=Ou(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function eL(e,t){return t=D_({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function _1(e,t,r,n){return n!==null&&jM(n),Yd(t,e.child,null,r),e=eL(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Yle(e,t,r,n,i,a,s){if(r)return t.flags&256?(t.flags&=-257,n=FC(Error(tt(422))),_1(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=D_({mode:"visible",children:n.children},i,0,null),a=Eh(a,i,s,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&Yd(t,e.child,null,s),t.child.memoizedState=kk(s),t.memoizedState=Ak,a);if(!(t.mode&1))return _1(e,t,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,a=Error(tt(419)),n=FC(a,n,void 0),_1(e,t,s,n)}if(o=(s&e.childLanes)!==0,na||o){if(n=Xn,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,xl(e,i),Ps(n,e,i,-1))}return sL(),n=FC(Error(tt(421))),_1(e,t,s,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=sue.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ba=Lu(i.nextSibling),wa=t,en=!0,Ds=null,e!==null&&($a[Ya++]=nl,$a[Ya++]=il,$a[Ya++]=jh,nl=e.id,il=e.overflow,jh=t),t=eL(t,n.children),t.flags|=4096,t)}function u5(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Sk(e.return,t,r)}function zC(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function IU(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(Mi(e,t,n.children,r),n=sn.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&u5(e,r,t);else if(e.tag===19)u5(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ur(sn,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&Gb(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),zC(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Gb(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}zC(t,!0,r,null,a);break;case"together":zC(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Zx(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function bl(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Vh|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(tt(153));if(t.child!==null){for(e=t.child,r=Ou(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Ou(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Xle(e,t,r){switch(t.tag){case 3:AU(t),$d();break;case 5:tU(t);break;case 1:aa(t.type)&&Fb(t);break;case 4:$M(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Ur(Hb,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Ur(sn,sn.current&1),t.flags|=128,null):r&t.child.childLanes?kU(e,t,r):(Ur(sn,sn.current&1),e=bl(e,t,r),e!==null?e.sibling:null);Ur(sn,sn.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return IU(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ur(sn,sn.current),n)break;return null;case 22:case 23:return t.lanes=0,CU(e,t,r)}return bl(e,t,r)}var DU,Ik,MU,LU;DU=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Ik=function(){};MU=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,ph(Eo.current);var a=null;switch(r){case"input":i=ZA(e,i),n=ZA(e,n),a=[];break;case"select":i=un({},i,{value:void 0}),n=un({},n,{value:void 0}),a=[];break;case"textarea":i=ek(e,i),n=ek(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Ob)}rk(r,n);var s;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Sm.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var l=n[u];if(o=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(a||(a=[]),a.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Sm.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Yr("scroll",e),a||o===l||(a=[])):(a=a||[]).push(u,l))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};LU=function(e,t,r,n){r!==n&&(t.flags|=4)};function Iv(e,t){if(!en)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ui(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function qle(e,t,r){var n=t.pendingProps;switch(zM(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ui(t),null;case 1:return aa(t.type)&&Bb(),ui(t),null;case 3:return n=t.stateNode,Xd(),Xr(ia),Xr(bi),XM(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(b1(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ds!==null&&(Bk(Ds),Ds=null))),Ik(e,t),ui(t),null;case 5:YM(t);var i=ph(Nm.current);if(r=t.type,e!==null&&t.stateNode!=null)MU(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(tt(166));return ui(t),null}if(e=ph(Eo.current),b1(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[xo]=t,n[Mm]=a,e=(t.mode&1)!==0,r){case"dialog":Yr("cancel",n),Yr("close",n);break;case"iframe":case"object":case"embed":Yr("load",n);break;case"video":case"audio":for(i=0;i<mg.length;i++)Yr(mg[i],n);break;case"source":Yr("error",n);break;case"img":case"image":case"link":Yr("error",n),Yr("load",n);break;case"details":Yr("toggle",n);break;case"input":y6(n,a),Yr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Yr("invalid",n);break;case"textarea":b6(n,a),Yr("invalid",n)}rk(r,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?n.textContent!==o&&(a.suppressHydrationWarning!==!0&&x1(n.textContent,o,e),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&x1(n.textContent,o,e),i=["children",""+o]):Sm.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&Yr("scroll",n)}switch(r){case"input":h1(n),x6(n,a,!0);break;case"textarea":h1(n),S6(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Ob)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=sV(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[xo]=t,e[Mm]=n,DU(e,t,!1,!1),t.stateNode=e;e:{switch(s=nk(r,n),r){case"dialog":Yr("cancel",e),Yr("close",e),i=n;break;case"iframe":case"object":case"embed":Yr("load",e),i=n;break;case"video":case"audio":for(i=0;i<mg.length;i++)Yr(mg[i],e);i=n;break;case"source":Yr("error",e),i=n;break;case"img":case"image":case"link":Yr("error",e),Yr("load",e),i=n;break;case"details":Yr("toggle",e),i=n;break;case"input":y6(e,n),i=ZA(e,n),Yr("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=un({},n,{value:void 0}),Yr("invalid",e);break;case"textarea":b6(e,n),i=ek(e,n),Yr("invalid",e);break;default:i=n}rk(r,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?uV(e,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&oV(e,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&_m(e,l):typeof l=="number"&&_m(e,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Sm.hasOwnProperty(a)?l!=null&&a==="onScroll"&&Yr("scroll",e):l!=null&&TM(e,a,l,s))}switch(r){case"input":h1(e),x6(e,n,!1);break;case"textarea":h1(e),S6(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Yu(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?Ad(e,!!n.multiple,a,!1):n.defaultValue!=null&&Ad(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Ob)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ui(t),null;case 6:if(e&&t.stateNode!=null)LU(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(tt(166));if(r=ph(Nm.current),ph(Eo.current),b1(t)){if(n=t.stateNode,r=t.memoizedProps,n[xo]=t,(a=n.nodeValue!==r)&&(e=wa,e!==null))switch(e.tag){case 3:x1(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&x1(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[xo]=t,t.stateNode=n}return ui(t),null;case 13:if(Xr(sn),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(en&&ba!==null&&t.mode&1&&!(t.flags&128))KV(),$d(),t.flags|=98560,a=!1;else if(a=b1(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(tt(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(tt(317));a[xo]=t}else $d(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ui(t),a=!1}else Ds!==null&&(Bk(Ds),Ds=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||sn.current&1?Rn===0&&(Rn=3):sL())),t.updateQueue!==null&&(t.flags|=4),ui(t),null);case 4:return Xd(),Ik(e,t),e===null&&Im(t.stateNode.containerInfo),ui(t),null;case 10:return UM(t.type._context),ui(t),null;case 17:return aa(t.type)&&Bb(),ui(t),null;case 19:if(Xr(sn),a=t.memoizedState,a===null)return ui(t),null;if(n=(t.flags&128)!==0,s=a.rendering,s===null)if(n)Iv(a,!1);else{if(Rn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Gb(e),s!==null){for(t.flags|=128,Iv(a,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ur(sn,sn.current&1|2),t.child}e=e.sibling}a.tail!==null&&yn()>Kd&&(t.flags|=128,n=!0,Iv(a,!1),t.lanes=4194304)}else{if(!n)if(e=Gb(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Iv(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!en)return ui(t),null}else 2*yn()-a.renderingStartTime>Kd&&r!==1073741824&&(t.flags|=128,n=!0,Iv(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(r=a.last,r!==null?r.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=yn(),t.sibling=null,r=sn.current,Ur(sn,n?r&1|2:r&1),t):(ui(t),null);case 22:case 23:return aL(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?ga&1073741824&&(ui(t),t.subtreeFlags&6&&(t.flags|=8192)):ui(t),null;case 24:return null;case 25:return null}throw Error(tt(156,t.tag))}function Kle(e,t){switch(zM(t),t.tag){case 1:return aa(t.type)&&Bb(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Xd(),Xr(ia),Xr(bi),XM(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return YM(t),null;case 13:if(Xr(sn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(tt(340));$d()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Xr(sn),null;case 4:return Xd(),null;case 10:return UM(t.type._context),null;case 22:case 23:return aL(),null;case 24:return null;default:return null}}var w1=!1,vi=!1,Zle=typeof WeakSet=="function"?WeakSet:Set,wt=null;function xd(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){hn(e,t,n)}else r.current=null}function Dk(e,t,r){try{r()}catch(n){hn(e,t,n)}}var c5=!1;function Qle(e,t){if(dk=Nb,e=BV(),BM(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var s=0,o=-1,l=-1,u=0,c=0,h=e,f=null;t:for(;;){for(var d;h!==r||i!==0&&h.nodeType!==3||(o=s+i),h!==a||n!==0&&h.nodeType!==3||(l=s+n),h.nodeType===3&&(s+=h.nodeValue.length),(d=h.firstChild)!==null;)f=h,h=d;for(;;){if(h===e)break t;if(f===r&&++u===i&&(o=s),f===a&&++c===n&&(l=s),(d=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=d}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(pk={focusedElem:e,selectionRange:r},Nb=!1,wt=t;wt!==null;)if(t=wt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,wt=e;else for(;wt!==null;){t=wt;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var m=v.memoizedProps,y=v.memoizedState,b=t.stateNode,S=b.getSnapshotBeforeUpdate(t.elementType===t.type?m:As(t.type,m),y);b.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(tt(163))}}catch(k){hn(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,wt=e;break}wt=t.return}return v=c5,c5=!1,v}function zg(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&Dk(t,r,a)}i=i.next}while(i!==n)}}function k_(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Mk(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function NU(e){var t=e.alternate;t!==null&&(e.alternate=null,NU(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[xo],delete t[Mm],delete t[mk],delete t[Ple],delete t[Rle])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function PU(e){return e.tag===5||e.tag===3||e.tag===4}function h5(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||PU(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Lk(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ob));else if(n!==4&&(e=e.child,e!==null))for(Lk(e,t,r),e=e.sibling;e!==null;)Lk(e,t,r),e=e.sibling}function Nk(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Nk(e,t,r),e=e.sibling;e!==null;)Nk(e,t,r),e=e.sibling}var Jn=null,Is=!1;function ql(e,t,r){for(r=r.child;r!==null;)RU(e,t,r),r=r.sibling}function RU(e,t,r){if(Co&&typeof Co.onCommitFiberUnmount=="function")try{Co.onCommitFiberUnmount(b_,r)}catch{}switch(r.tag){case 5:vi||xd(r,t);case 6:var n=Jn,i=Is;Jn=null,ql(e,t,r),Jn=n,Is=i,Jn!==null&&(Is?(e=Jn,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Jn.removeChild(r.stateNode));break;case 18:Jn!==null&&(Is?(e=Jn,r=r.stateNode,e.nodeType===8?LC(e.parentNode,r):e.nodeType===1&&LC(e,r),Em(e)):LC(Jn,r.stateNode));break;case 4:n=Jn,i=Is,Jn=r.stateNode.containerInfo,Is=!0,ql(e,t,r),Jn=n,Is=i;break;case 0:case 11:case 14:case 15:if(!vi&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&Dk(r,t,s),i=i.next}while(i!==n)}ql(e,t,r);break;case 1:if(!vi&&(xd(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){hn(r,t,o)}ql(e,t,r);break;case 21:ql(e,t,r);break;case 22:r.mode&1?(vi=(n=vi)||r.memoizedState!==null,ql(e,t,r),vi=n):ql(e,t,r);break;default:ql(e,t,r)}}function f5(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Zle),t.forEach(function(n){var i=oue.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function bs(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 5:Jn=o.stateNode,Is=!1;break e;case 3:Jn=o.stateNode.containerInfo,Is=!0;break e;case 4:Jn=o.stateNode.containerInfo,Is=!0;break e}o=o.return}if(Jn===null)throw Error(tt(160));RU(a,s,i),Jn=null,Is=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){hn(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)OU(t,e),t=t.sibling}function OU(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(bs(t,e),ao(e),n&4){try{zg(3,e,e.return),k_(3,e)}catch(m){hn(e,e.return,m)}try{zg(5,e,e.return)}catch(m){hn(e,e.return,m)}}break;case 1:bs(t,e),ao(e),n&512&&r!==null&&xd(r,r.return);break;case 5:if(bs(t,e),ao(e),n&512&&r!==null&&xd(r,r.return),e.flags&32){var i=e.stateNode;try{_m(i,"")}catch(m){hn(e,e.return,m)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,s=r!==null?r.memoizedProps:a,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&iV(i,a),nk(o,s);var u=nk(o,a);for(s=0;s<l.length;s+=2){var c=l[s],h=l[s+1];c==="style"?uV(i,h):c==="dangerouslySetInnerHTML"?oV(i,h):c==="children"?_m(i,h):TM(i,c,h,u)}switch(o){case"input":QA(i,a);break;case"textarea":aV(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var d=a.value;d!=null?Ad(i,!!a.multiple,d,!1):f!==!!a.multiple&&(a.defaultValue!=null?Ad(i,!!a.multiple,a.defaultValue,!0):Ad(i,!!a.multiple,a.multiple?[]:"",!1))}i[Mm]=a}catch(m){hn(e,e.return,m)}}break;case 6:if(bs(t,e),ao(e),n&4){if(e.stateNode===null)throw Error(tt(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(m){hn(e,e.return,m)}}break;case 3:if(bs(t,e),ao(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Em(t.containerInfo)}catch(m){hn(e,e.return,m)}break;case 4:bs(t,e),ao(e);break;case 13:bs(t,e),ao(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(nL=yn())),n&4&&f5(e);break;case 22:if(c=r!==null&&r.memoizedState!==null,e.mode&1?(vi=(u=vi)||c,bs(t,e),vi=u):bs(t,e),ao(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(wt=e,c=e.child;c!==null;){for(h=wt=c;wt!==null;){switch(f=wt,d=f.child,f.tag){case 0:case 11:case 14:case 15:zg(4,f,f.return);break;case 1:xd(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){hn(n,r,m)}}break;case 5:xd(f,f.return);break;case 22:if(f.memoizedState!==null){p5(h);continue}}d!==null?(d.return=f,wt=d):p5(h)}c=c.sibling}e:for(c=null,h=e;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=h.stateNode,l=h.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=lV("display",s))}catch(m){hn(e,e.return,m)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(m){hn(e,e.return,m)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:bs(t,e),ao(e),n&4&&f5(e);break;case 21:break;default:bs(t,e),ao(e)}}function ao(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(PU(r)){var n=r;break e}r=r.return}throw Error(tt(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(_m(i,""),n.flags&=-33);var a=h5(e);Nk(e,a,i);break;case 3:case 4:var s=n.stateNode.containerInfo,o=h5(e);Lk(e,o,s);break;default:throw Error(tt(161))}}catch(l){hn(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Jle(e,t,r){wt=e,BU(e)}function BU(e,t,r){for(var n=(e.mode&1)!==0;wt!==null;){var i=wt,a=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||w1;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||vi;o=w1;var u=vi;if(w1=s,(vi=l)&&!u)for(wt=i;wt!==null;)s=wt,l=s.child,s.tag===22&&s.memoizedState!==null?v5(i):l!==null?(l.return=s,wt=l):v5(i);for(;a!==null;)wt=a,BU(a),a=a.sibling;wt=i,w1=o,vi=u}d5(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,wt=a):d5(e)}}function d5(e){for(;wt!==null;){var t=wt;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:vi||k_(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!vi)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:As(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Z6(t,a,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Z6(t,s,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&Em(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(tt(163))}vi||t.flags&512&&Mk(t)}catch(f){hn(t,t.return,f)}}if(t===e){wt=null;break}if(r=t.sibling,r!==null){r.return=t.return,wt=r;break}wt=t.return}}function p5(e){for(;wt!==null;){var t=wt;if(t===e){wt=null;break}var r=t.sibling;if(r!==null){r.return=t.return,wt=r;break}wt=t.return}}function v5(e){for(;wt!==null;){var t=wt;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{k_(4,t)}catch(l){hn(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(l){hn(t,i,l)}}var a=t.return;try{Mk(t)}catch(l){hn(t,a,l)}break;case 5:var s=t.return;try{Mk(t)}catch(l){hn(t,s,l)}}}catch(l){hn(t,t.return,l)}if(t===e){wt=null;break}var o=t.sibling;if(o!==null){o.return=t.return,wt=o;break}wt=t.return}}var eue=Math.ceil,Yb=Nl.ReactCurrentDispatcher,tL=Nl.ReactCurrentOwner,rs=Nl.ReactCurrentBatchConfig,_r=0,Xn=null,Cn=null,ni=0,ga=0,bd=ic(0),Rn=0,Bm=null,Vh=0,I_=0,rL=0,jg=null,Ji=null,nL=0,Kd=1/0,Zo=null,Xb=!1,Pk=null,Pu=null,T1=!1,xu=null,qb=0,Hg=0,Rk=null,Qx=-1,Jx=0;function Fi(){return _r&6?yn():Qx!==-1?Qx:Qx=yn()}function Ru(e){return e.mode&1?_r&2&&ni!==0?ni&-ni:Ble.transition!==null?(Jx===0&&(Jx=SV()),Jx):(e=Lr,e!==0||(e=window.event,e=e===void 0?16:kV(e.type)),e):1}function Ps(e,t,r,n){if(50<Hg)throw Hg=0,Rk=null,Error(tt(185));E0(e,r,n),(!(_r&2)||e!==Xn)&&(e===Xn&&(!(_r&2)&&(I_|=r),Rn===4&&gu(e,ni)),sa(e,n),r===1&&_r===0&&!(t.mode&1)&&(Kd=yn()+500,C_&&ac()))}function sa(e,t){var r=e.callbackNode;Boe(e,t);var n=Lb(e,e===Xn?ni:0);if(n===0)r!==null&&T6(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&T6(r),t===1)e.tag===0?Ole(g5.bind(null,e)):YV(g5.bind(null,e)),Lle(function(){!(_r&6)&&ac()}),r=null;else{switch(_V(n)){case 1:r=IM;break;case 4:r=xV;break;case 16:r=Mb;break;case 536870912:r=bV;break;default:r=Mb}r=WU(r,FU.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function FU(e,t){if(Qx=-1,Jx=0,_r&6)throw Error(tt(327));var r=e.callbackNode;if(Ld()&&e.callbackNode!==r)return null;var n=Lb(e,e===Xn?ni:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Kb(e,n);else{t=n;var i=_r;_r|=2;var a=jU();(Xn!==e||ni!==t)&&(Zo=null,Kd=yn()+500,Ch(e,t));do try{nue();break}catch(o){zU(e,o)}while(!0);VM(),Yb.current=a,_r=i,Cn!==null?t=0:(Xn=null,ni=0,t=Rn)}if(t!==0){if(t===2&&(i=lk(e),i!==0&&(n=i,t=Ok(e,i))),t===1)throw r=Bm,Ch(e,0),gu(e,n),sa(e,yn()),r;if(t===6)gu(e,n);else{if(i=e.current.alternate,!(n&30)&&!tue(i)&&(t=Kb(e,n),t===2&&(a=lk(e),a!==0&&(n=a,t=Ok(e,a))),t===1))throw r=Bm,Ch(e,0),gu(e,n),sa(e,yn()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(tt(345));case 2:Jc(e,Ji,Zo);break;case 3:if(gu(e,n),(n&130023424)===n&&(t=nL+500-yn(),10<t)){if(Lb(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Fi(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=gk(Jc.bind(null,e,Ji,Zo),t);break}Jc(e,Ji,Zo);break;case 4:if(gu(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var s=31-Ns(n);a=1<<s,s=t[s],s>i&&(i=s),n&=~a}if(n=i,n=yn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*eue(n/1960))-n,10<n){e.timeoutHandle=gk(Jc.bind(null,e,Ji,Zo),n);break}Jc(e,Ji,Zo);break;case 5:Jc(e,Ji,Zo);break;default:throw Error(tt(329))}}}return sa(e,yn()),e.callbackNode===r?FU.bind(null,e):null}function Ok(e,t){var r=jg;return e.current.memoizedState.isDehydrated&&(Ch(e,t).flags|=256),e=Kb(e,t),e!==2&&(t=Ji,Ji=r,t!==null&&Bk(t)),e}function Bk(e){Ji===null?Ji=e:Ji.push.apply(Ji,e)}function tue(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!js(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function gu(e,t){for(t&=~rL,t&=~I_,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ns(t),n=1<<r;e[r]=-1,t&=~n}}function g5(e){if(_r&6)throw Error(tt(327));Ld();var t=Lb(e,0);if(!(t&1))return sa(e,yn()),null;var r=Kb(e,t);if(e.tag!==0&&r===2){var n=lk(e);n!==0&&(t=n,r=Ok(e,n))}if(r===1)throw r=Bm,Ch(e,0),gu(e,t),sa(e,yn()),r;if(r===6)throw Error(tt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Jc(e,Ji,Zo),sa(e,yn()),null}function iL(e,t){var r=_r;_r|=1;try{return e(t)}finally{_r=r,_r===0&&(Kd=yn()+500,C_&&ac())}}function Uh(e){xu!==null&&xu.tag===0&&!(_r&6)&&Ld();var t=_r;_r|=1;var r=rs.transition,n=Lr;try{if(rs.transition=null,Lr=1,e)return e()}finally{Lr=n,rs.transition=r,_r=t,!(_r&6)&&ac()}}function aL(){ga=bd.current,Xr(bd)}function Ch(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Mle(r)),Cn!==null)for(r=Cn.return;r!==null;){var n=r;switch(zM(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Bb();break;case 3:Xd(),Xr(ia),Xr(bi),XM();break;case 5:YM(n);break;case 4:Xd();break;case 13:Xr(sn);break;case 19:Xr(sn);break;case 10:UM(n.type._context);break;case 22:case 23:aL()}r=r.return}if(Xn=e,Cn=e=Ou(e.current,null),ni=ga=t,Rn=0,Bm=null,rL=I_=Vh=0,Ji=jg=null,dh!==null){for(t=0;t<dh.length;t++)if(r=dh[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var s=a.next;a.next=i,n.next=s}r.pending=n}dh=null}return e}function zU(e,t){do{var r=Cn;try{if(VM(),qx.current=$b,Wb){for(var n=on.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Wb=!1}if(Hh=0,Wn=Nn=on=null,Fg=!1,Pm=0,tL.current=null,r===null||r.return===null){Rn=1,Bm=t,Cn=null;break}e:{var a=e,s=r.return,o=r,l=t;if(t=ni,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=o,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var d=n5(s);if(d!==null){d.flags&=-257,i5(d,s,o,a,t),d.mode&1&&r5(a,u,t),t=d,l=u;var v=t.updateQueue;if(v===null){var m=new Set;m.add(l),t.updateQueue=m}else v.add(l);break e}else{if(!(t&1)){r5(a,u,t),sL();break e}l=Error(tt(426))}}else if(en&&o.mode&1){var y=n5(s);if(y!==null){!(y.flags&65536)&&(y.flags|=256),i5(y,s,o,a,t),jM(qd(l,o));break e}}a=l=qd(l,o),Rn!==4&&(Rn=2),jg===null?jg=[a]:jg.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var b=_U(a,l,t);K6(a,b);break e;case 1:o=l;var S=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof S.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Pu===null||!Pu.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t;var k=wU(a,o,t);K6(a,k);break e}}a=a.return}while(a!==null)}VU(r)}catch(M){t=M,Cn===r&&r!==null&&(Cn=r=r.return);continue}break}while(!0)}function jU(){var e=Yb.current;return Yb.current=$b,e===null?$b:e}function sL(){(Rn===0||Rn===3||Rn===2)&&(Rn=4),Xn===null||!(Vh&268435455)&&!(I_&268435455)||gu(Xn,ni)}function Kb(e,t){var r=_r;_r|=2;var n=jU();(Xn!==e||ni!==t)&&(Zo=null,Ch(e,t));do try{rue();break}catch(i){zU(e,i)}while(!0);if(VM(),_r=r,Yb.current=n,Cn!==null)throw Error(tt(261));return Xn=null,ni=0,Rn}function rue(){for(;Cn!==null;)HU(Cn)}function nue(){for(;Cn!==null&&!koe();)HU(Cn)}function HU(e){var t=GU(e.alternate,e,ga);e.memoizedProps=e.pendingProps,t===null?VU(e):Cn=t,tL.current=null}function VU(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Kle(r,t),r!==null){r.flags&=32767,Cn=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Rn=6,Cn=null;return}}else if(r=qle(r,t,ga),r!==null){Cn=r;return}if(t=t.sibling,t!==null){Cn=t;return}Cn=t=e}while(t!==null);Rn===0&&(Rn=5)}function Jc(e,t,r){var n=Lr,i=rs.transition;try{rs.transition=null,Lr=1,iue(e,t,r,n)}finally{rs.transition=i,Lr=n}return null}function iue(e,t,r,n){do Ld();while(xu!==null);if(_r&6)throw Error(tt(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(tt(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(Foe(e,a),e===Xn&&(Cn=Xn=null,ni=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||T1||(T1=!0,WU(Mb,function(){return Ld(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=rs.transition,rs.transition=null;var s=Lr;Lr=1;var o=_r;_r|=4,tL.current=null,Qle(e,r),OU(r,e),Tle(pk),Nb=!!dk,pk=dk=null,e.current=r,Jle(r),Ioe(),_r=o,Lr=s,rs.transition=a}else e.current=r;if(T1&&(T1=!1,xu=e,qb=i),a=e.pendingLanes,a===0&&(Pu=null),Loe(r.stateNode),sa(e,yn()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Xb)throw Xb=!1,e=Pk,Pk=null,e;return qb&1&&e.tag!==0&&Ld(),a=e.pendingLanes,a&1?e===Rk?Hg++:(Hg=0,Rk=e):Hg=0,ac(),null}function Ld(){if(xu!==null){var e=_V(qb),t=rs.transition,r=Lr;try{if(rs.transition=null,Lr=16>e?16:e,xu===null)var n=!1;else{if(e=xu,xu=null,qb=0,_r&6)throw Error(tt(331));var i=_r;for(_r|=4,wt=e.current;wt!==null;){var a=wt,s=a.child;if(wt.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(wt=u;wt!==null;){var c=wt;switch(c.tag){case 0:case 11:case 15:zg(8,c,a)}var h=c.child;if(h!==null)h.return=c,wt=h;else for(;wt!==null;){c=wt;var f=c.sibling,d=c.return;if(NU(c),c===u){wt=null;break}if(f!==null){f.return=d,wt=f;break}wt=d}}}var v=a.alternate;if(v!==null){var m=v.child;if(m!==null){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(m!==null)}}wt=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,wt=s;else e:for(;wt!==null;){if(a=wt,a.flags&2048)switch(a.tag){case 0:case 11:case 15:zg(9,a,a.return)}var b=a.sibling;if(b!==null){b.return=a.return,wt=b;break e}wt=a.return}}var S=e.current;for(wt=S;wt!==null;){s=wt;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,wt=w;else e:for(s=S;wt!==null;){if(o=wt,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:k_(9,o)}}catch(M){hn(o,o.return,M)}if(o===s){wt=null;break e}var k=o.sibling;if(k!==null){k.return=o.return,wt=k;break e}wt=o.return}}if(_r=i,ac(),Co&&typeof Co.onPostCommitFiberRoot=="function")try{Co.onPostCommitFiberRoot(b_,e)}catch{}n=!0}return n}finally{Lr=r,rs.transition=t}}return!1}function m5(e,t,r){t=qd(r,t),t=_U(e,t,1),e=Nu(e,t,1),t=Fi(),e!==null&&(E0(e,1,t),sa(e,t))}function hn(e,t,r){if(e.tag===3)m5(e,e,r);else for(;t!==null;){if(t.tag===3){m5(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Pu===null||!Pu.has(n))){e=qd(r,e),e=wU(t,e,1),t=Nu(t,e,1),e=Fi(),t!==null&&(E0(t,1,e),sa(t,e));break}}t=t.return}}function aue(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Fi(),e.pingedLanes|=e.suspendedLanes&r,Xn===e&&(ni&r)===r&&(Rn===4||Rn===3&&(ni&130023424)===ni&&500>yn()-nL?Ch(e,0):rL|=r),sa(e,t)}function UU(e,t){t===0&&(e.mode&1?(t=p1,p1<<=1,!(p1&130023424)&&(p1=4194304)):t=1);var r=Fi();e=xl(e,t),e!==null&&(E0(e,t,r),sa(e,r))}function sue(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),UU(e,r)}function oue(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(tt(314))}n!==null&&n.delete(t),UU(e,r)}var GU;GU=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||ia.current)na=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return na=!1,Xle(e,t,r);na=!!(e.flags&131072)}else na=!1,en&&t.flags&1048576&&XV(t,jb,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Zx(e,t),e=t.pendingProps;var i=Wd(t,bi.current);Md(t,r),i=KM(null,t,n,e,i,r);var a=ZM();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,aa(n)?(a=!0,Fb(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,WM(t),i.updater=A_,t.stateNode=i,i._reactInternals=t,wk(t,n,e,r),t=Ek(null,t,n,!0,a,r)):(t.tag=0,en&&a&&FM(t),Mi(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Zx(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=uue(n),e=As(n,e),i){case 0:t=Ck(null,t,n,e,r);break e;case 1:t=o5(null,t,n,e,r);break e;case 11:t=a5(null,t,n,e,r);break e;case 14:t=s5(null,t,n,As(n.type,e),r);break e}throw Error(tt(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:As(n,i),Ck(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:As(n,i),o5(e,t,n,i,r);case 3:e:{if(AU(t),e===null)throw Error(tt(387));n=t.pendingProps,a=t.memoizedState,i=a.element,eU(e,t),Ub(t,n,null,r);var s=t.memoizedState;if(n=s.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=qd(Error(tt(423)),t),t=l5(e,t,n,r,i);break e}else if(n!==i){i=qd(Error(tt(424)),t),t=l5(e,t,n,r,i);break e}else for(ba=Lu(t.stateNode.containerInfo.firstChild),wa=t,en=!0,Ds=null,r=QV(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if($d(),n===i){t=bl(e,t,r);break e}Mi(e,t,n,r)}t=t.child}return t;case 5:return tU(t),e===null&&bk(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,s=i.children,vk(n,i)?s=null:a!==null&&vk(n,a)&&(t.flags|=32),EU(e,t),Mi(e,t,s,r),t.child;case 6:return e===null&&bk(t),null;case 13:return kU(e,t,r);case 4:return $M(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Yd(t,null,n,r):Mi(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:As(n,i),a5(e,t,n,i,r);case 7:return Mi(e,t,t.pendingProps,r),t.child;case 8:return Mi(e,t,t.pendingProps.children,r),t.child;case 12:return Mi(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Ur(Hb,n._currentValue),n._currentValue=s,a!==null)if(js(a.value,s)){if(a.children===i.children&&!ia.current){t=bl(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(a.tag===1){l=dl(-1,r&-r),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),Sk(a.return,r,t),o.lanes|=r;break}l=l.next}}else if(a.tag===10)s=a.type===t.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(tt(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),Sk(s,r,t),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===t){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}Mi(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Md(t,r),i=is(i),n=n(i),t.flags|=1,Mi(e,t,n,r),t.child;case 14:return n=t.type,i=As(n,t.pendingProps),i=As(n.type,i),s5(e,t,n,i,r);case 15:return TU(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:As(n,i),Zx(e,t),t.tag=1,aa(n)?(e=!0,Fb(t)):e=!1,Md(t,r),SU(t,n,i),wk(t,n,i,r),Ek(null,t,n,!0,e,r);case 19:return IU(e,t,r);case 22:return CU(e,t,r)}throw Error(tt(156,t.tag))};function WU(e,t){return yV(e,t)}function lue(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function es(e,t,r,n){return new lue(e,t,r,n)}function oL(e){return e=e.prototype,!(!e||!e.isReactComponent)}function uue(e){if(typeof e=="function")return oL(e)?1:0;if(e!=null){if(e=e.$$typeof,e===EM)return 11;if(e===AM)return 14}return 2}function Ou(e,t){var r=e.alternate;return r===null?(r=es(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function eb(e,t,r,n,i,a){var s=2;if(n=e,typeof e=="function")oL(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case cd:return Eh(r.children,i,a,t);case CM:s=8,i|=8;break;case YA:return e=es(12,r,t,i|2),e.elementType=YA,e.lanes=a,e;case XA:return e=es(13,r,t,i),e.elementType=XA,e.lanes=a,e;case qA:return e=es(19,r,t,i),e.elementType=qA,e.lanes=a,e;case tV:return D_(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case J7:s=10;break e;case eV:s=9;break e;case EM:s=11;break e;case AM:s=14;break e;case uu:s=16,n=null;break e}throw Error(tt(130,e==null?e:typeof e,""))}return t=es(s,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function Eh(e,t,r,n){return e=es(7,e,n,t),e.lanes=r,e}function D_(e,t,r,n){return e=es(22,e,n,t),e.elementType=tV,e.lanes=r,e.stateNode={isHidden:!1},e}function jC(e,t,r){return e=es(6,e,null,t),e.lanes=r,e}function HC(e,t,r){return t=es(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function cue(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=SC(0),this.expirationTimes=SC(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=SC(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function lL(e,t,r,n,i,a,s,o,l){return e=new cue(e,t,r,o,l),t===1?(t=1,a===!0&&(t|=8)):t=0,a=es(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},WM(a),e}function hue(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ud,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function $U(e){if(!e)return Xu;e=e._reactInternals;e:{if(af(e)!==e||e.tag!==1)throw Error(tt(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(aa(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(tt(171))}if(e.tag===1){var r=e.type;if(aa(r))return $V(e,r,t)}return t}function YU(e,t,r,n,i,a,s,o,l){return e=lL(r,n,!0,e,i,a,s,o,l),e.context=$U(null),r=e.current,n=Fi(),i=Ru(r),a=dl(n,i),a.callback=t??null,Nu(r,a,i),e.current.lanes=i,E0(e,i,n),sa(e,n),e}function M_(e,t,r,n){var i=t.current,a=Fi(),s=Ru(i);return r=$U(r),t.context===null?t.context=r:t.pendingContext=r,t=dl(a,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Nu(i,t,s),e!==null&&(Ps(e,i,s,a),Xx(e,i,s)),s}function Zb(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function y5(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function uL(e,t){y5(e,t),(e=e.alternate)&&y5(e,t)}function fue(){return null}var XU=typeof reportError=="function"?reportError:function(e){console.error(e)};function cL(e){this._internalRoot=e}L_.prototype.render=cL.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(tt(409));M_(e,t,null,null)};L_.prototype.unmount=cL.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Uh(function(){M_(null,e,null,null)}),t[yl]=null}};function L_(e){this._internalRoot=e}L_.prototype.unstable_scheduleHydration=function(e){if(e){var t=CV();e={blockedOn:null,target:e,priority:t};for(var r=0;r<vu.length&&t!==0&&t<vu[r].priority;r++);vu.splice(r,0,e),r===0&&AV(e)}};function hL(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function N_(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function x5(){}function due(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=Zb(s);a.call(u)}}var s=YU(t,n,e,0,null,!1,!1,"",x5);return e._reactRootContainer=s,e[yl]=s.current,Im(e.nodeType===8?e.parentNode:e),Uh(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var u=Zb(l);o.call(u)}}var l=lL(e,0,!1,null,null,!1,!1,"",x5);return e._reactRootContainer=l,e[yl]=l.current,Im(e.nodeType===8?e.parentNode:e),Uh(function(){M_(t,l,r,n)}),l}function P_(e,t,r,n,i){var a=r._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=Zb(s);o.call(l)}}M_(t,s,e,i)}else s=due(r,t,e,i,n);return Zb(s)}wV=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=gg(t.pendingLanes);r!==0&&(DM(t,r|1),sa(t,yn()),!(_r&6)&&(Kd=yn()+500,ac()))}break;case 13:Uh(function(){var n=xl(e,1);if(n!==null){var i=Fi();Ps(n,e,1,i)}}),uL(e,1)}};MM=function(e){if(e.tag===13){var t=xl(e,134217728);if(t!==null){var r=Fi();Ps(t,e,134217728,r)}uL(e,134217728)}};TV=function(e){if(e.tag===13){var t=Ru(e),r=xl(e,t);if(r!==null){var n=Fi();Ps(r,e,t,n)}uL(e,t)}};CV=function(){return Lr};EV=function(e,t){var r=Lr;try{return Lr=e,t()}finally{Lr=r}};ak=function(e,t,r){switch(t){case"input":if(QA(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=T_(n);if(!i)throw Error(tt(90));nV(n),QA(n,i)}}}break;case"textarea":aV(e,r);break;case"select":t=r.value,t!=null&&Ad(e,!!r.multiple,t,!1)}};fV=iL;dV=Uh;var pue={usingClientEntryPoint:!1,Events:[k0,pd,T_,cV,hV,iL]},Dv={findFiberByHostInstance:fh,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},vue={bundleType:Dv.bundleType,version:Dv.version,rendererPackageName:Dv.rendererPackageName,rendererConfig:Dv.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Nl.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=gV(e),e===null?null:e.stateNode},findFiberByHostInstance:Dv.findFiberByHostInstance||fue,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var C1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!C1.isDisabled&&C1.supportsFiber)try{b_=C1.inject(vue),Co=C1}catch{}}Ia.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pue;Ia.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hL(t))throw Error(tt(200));return hue(e,t,null,r)};Ia.createRoot=function(e,t){if(!hL(e))throw Error(tt(299));var r=!1,n="",i=XU;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=lL(e,1,!1,null,null,r,!1,n,i),e[yl]=t.current,Im(e.nodeType===8?e.parentNode:e),new cL(t)};Ia.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(tt(188)):(e=Object.keys(e).join(","),Error(tt(268,e)));return e=gV(t),e=e===null?null:e.stateNode,e};Ia.flushSync=function(e){return Uh(e)};Ia.hydrate=function(e,t,r){if(!N_(t))throw Error(tt(200));return P_(null,e,t,!0,r)};Ia.hydrateRoot=function(e,t,r){if(!hL(e))throw Error(tt(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",s=XU;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=YU(t,null,e,1,r??null,i,!1,a,s),e[yl]=t.current,Im(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new L_(t)};Ia.render=function(e,t,r){if(!N_(t))throw Error(tt(200));return P_(null,e,t,!1,r)};Ia.unmountComponentAtNode=function(e){if(!N_(e))throw Error(tt(40));return e._reactRootContainer?(Uh(function(){P_(null,null,e,!1,function(){e._reactRootContainer=null,e[yl]=null})}),!0):!1};Ia.unstable_batchedUpdates=iL;Ia.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!N_(r))throw Error(tt(200));if(e==null||e._reactInternals===void 0)throw Error(tt(38));return P_(e,t,r,!1,n)};Ia.version="18.3.1-next-f1338f8080-20240426";function qU(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(qU)}catch(e){console.error(e)}}qU(),q7.exports=Ia;var KU=q7.exports;const vh=Ws(KU);var b5=KU;WA.createRoot=b5.createRoot,WA.hydrateRoot=b5.hydrateRoot;var ZU={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function r(){for(var a="",s=0;s<arguments.length;s++){var o=arguments[s];o&&(a=i(a,n(o)))}return a}function n(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return r.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var s="";for(var o in a)t.call(a,o)&&a[o]&&(s=i(s,o));return s}function i(a,s){return s?a?a+" "+s:a+s:a}e.exports?(r.default=r,e.exports=r):window.classNames=r})()})(ZU);var gue=ZU.exports;const Et=Ws(gue);function Fk(){return Fk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fk.apply(null,arguments)}function QU(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function S5(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function mue(e){var t=yue(e,"string");return typeof t=="symbol"?t:String(t)}function yue(e,t){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function JU(e,t,r){var n=Q.useRef(e!==void 0),i=Q.useState(t),a=i[0],s=i[1],o=e!==void 0,l=n.current;return n.current=o,!o&&l&&a!==t&&s(t),[o?e:a,Q.useCallback(function(u){for(var c=arguments.length,h=new Array(c>1?c-1:0),f=1;f<c;f++)h[f-1]=arguments[f];r&&r.apply(void 0,[u].concat(h)),s(u)},[r])]}function fL(e,t){return Object.keys(t).reduce(function(r,n){var i,a=r,s=a[S5(n)],o=a[n],l=QU(a,[S5(n),n].map(mue)),u=t[n],c=JU(o,s,e[u]),h=c[0],f=c[1];return Fk({},l,(i={},i[n]=h,i[u]=f,i))},e)}function zk(e,t){return zk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},zk(e,t)}function xue(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,zk(e,t)}const bue=["xxl","xl","lg","md","sm","xs"],Sue="xs",D0=Q.createContext({prefixes:{},breakpoints:bue,minBreakpoint:Sue}),{Consumer:_9e,Provider:w9e}=D0;function Nt(e,t){const{prefixes:r}=Q.useContext(D0);return e||r[t]||t}function eG(){const{breakpoints:e}=Q.useContext(D0);return e}function tG(){const{minBreakpoint:e}=Q.useContext(D0);return e}function R_(){const{dir:e}=Q.useContext(D0);return e==="rtl"}function wp(e){return e&&e.ownerDocument||document}function _ue(e){var t=wp(e);return t&&t.defaultView||window}function wue(e,t){return _ue(e).getComputedStyle(e,t)}var Tue=/([A-Z])/g;function Cue(e){return e.replace(Tue,"-$1").toLowerCase()}var Eue=/^ms-/;function E1(e){return Cue(e).replace(Eue,"-ms-")}var Aue=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function kue(e){return!!(e&&Aue.test(e))}function pl(e,t){var r="",n="";if(typeof t=="string")return e.style.getPropertyValue(E1(t))||wue(e).getPropertyValue(E1(t));Object.keys(t).forEach(function(i){var a=t[i];!a&&a!==0?e.style.removeProperty(E1(i)):kue(i)?n+=i+"("+a+") ":r+=E1(i)+": "+a+";"}),n&&(r+="transform: "+n+";"),e.style.cssText+=";"+r}var rG={exports:{}},Iue="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Due=Iue,Mue=Due;function nG(){}function iG(){}iG.resetWarningCache=nG;var Lue=function(){function e(n,i,a,s,o,l){if(l!==Mue){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:iG,resetWarningCache:nG};return r.PropTypes=r,r};rG.exports=Lue();var Nue=rG.exports;const Oi=Ws(Nue),_5={disabled:!1},aG=Bt.createContext(null);var Pue=function(t){return t.scrollTop},yg="unmounted",hu="exited",mo="entering",mu="entered",Fm="exiting",Pl=function(e){xue(t,e);function t(n,i){var a;a=e.call(this,n,i)||this;var s=i,o=s&&!s.isMounting?n.enter:n.appear,l;return a.appearStatus=null,n.in?o?(l=hu,a.appearStatus=mo):l=mu:n.unmountOnExit||n.mountOnEnter?l=yg:l=hu,a.state={status:l},a.nextCallback=null,a}t.getDerivedStateFromProps=function(i,a){var s=i.in;return s&&a.status===yg?{status:hu}:null};var r=t.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(i){var a=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==mo&&s!==mu&&(a=mo):(s===mo||s===mu)&&(a=Fm)}this.updateStatus(!1,a)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var i=this.props.timeout,a,s,o;return a=s=o=i,i!=null&&typeof i!="number"&&(a=i.exit,s=i.enter,o=i.appear!==void 0?i.appear:s),{exit:a,enter:s,appear:o}},r.updateStatus=function(i,a){if(i===void 0&&(i=!1),a!==null)if(this.cancelNextCallback(),a===mo){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:vh.findDOMNode(this);s&&Pue(s)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===hu&&this.setState({status:yg})},r.performEnter=function(i){var a=this,s=this.props.enter,o=this.context?this.context.isMounting:i,l=this.props.nodeRef?[o]:[vh.findDOMNode(this),o],u=l[0],c=l[1],h=this.getTimeouts(),f=o?h.appear:h.enter;if(!i&&!s||_5.disabled){this.safeSetState({status:mu},function(){a.props.onEntered(u)});return}this.props.onEnter(u,c),this.safeSetState({status:mo},function(){a.props.onEntering(u,c),a.onTransitionEnd(f,function(){a.safeSetState({status:mu},function(){a.props.onEntered(u,c)})})})},r.performExit=function(){var i=this,a=this.props.exit,s=this.getTimeouts(),o=this.props.nodeRef?void 0:vh.findDOMNode(this);if(!a||_5.disabled){this.safeSetState({status:hu},function(){i.props.onExited(o)});return}this.props.onExit(o),this.safeSetState({status:Fm},function(){i.props.onExiting(o),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:hu},function(){i.props.onExited(o)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(i,a){a=this.setNextCallback(a),this.setState(i,a)},r.setNextCallback=function(i){var a=this,s=!0;return this.nextCallback=function(o){s&&(s=!1,a.nextCallback=null,i(o))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},r.onTransitionEnd=function(i,a){this.setNextCallback(a);var s=this.props.nodeRef?this.props.nodeRef.current:vh.findDOMNode(this),o=i==null&&!this.props.addEndListener;if(!s||o){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],u=l[0],c=l[1];this.props.addEndListener(u,c)}i!=null&&setTimeout(this.nextCallback,i)},r.render=function(){var i=this.state.status;if(i===yg)return null;var a=this.props,s=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var o=QU(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Bt.createElement(aG.Provider,{value:null},typeof s=="function"?s(i,o):Bt.cloneElement(Bt.Children.only(s),o))},t}(Bt.Component);Pl.contextType=aG;Pl.propTypes={};function Mf(){}Pl.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Mf,onEntering:Mf,onEntered:Mf,onExit:Mf,onExiting:Mf,onExited:Mf};Pl.UNMOUNTED=yg;Pl.EXITED=hu;Pl.ENTERING=mo;Pl.ENTERED=mu;Pl.EXITING=Fm;function sG(e){return e.code==="Escape"||e.keyCode===27}function Rue(){const e=Q.version.split(".");return{major:+e[0],minor:+e[1],patch:+e[2]}}function Tp(e){if(!e||typeof e=="function")return null;const{major:t}=Rue();return t>=19?e.props.ref:e.ref}const Cp=!!(typeof window<"u"&&window.document&&window.document.createElement);var jk=!1,Hk=!1;try{var VC={get passive(){return jk=!0},get once(){return Hk=jk=!0}};Cp&&(window.addEventListener("test",VC,VC),window.removeEventListener("test",VC,!0))}catch{}function dL(e,t,r,n){if(n&&typeof n!="boolean"&&!Hk){var i=n.once,a=n.capture,s=r;!Hk&&i&&(s=r.__once||function o(l){this.removeEventListener(t,o,a),r.call(this,l)},r.__once=s),e.addEventListener(t,s,jk?n:a)}e.addEventListener(t,r,n)}function Vk(e,t,r,n){var i=n&&typeof n!="boolean"?n.capture:n;e.removeEventListener(t,r,i),r.__once&&e.removeEventListener(t,r.__once,i)}function al(e,t,r,n){return dL(e,t,r,n),function(){Vk(e,t,r,n)}}function Oue(e,t,r,n){if(n===void 0&&(n=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,r,n),e.dispatchEvent(i)}}function Bue(e){var t=pl(e,"transitionDuration")||"",r=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*r}function Fue(e,t,r){r===void 0&&(r=5);var n=!1,i=setTimeout(function(){n||Oue(e,"transitionend",!0)},t+r),a=al(e,"transitionend",function(){n=!0},{once:!0});return function(){clearTimeout(i),a()}}function oG(e,t,r,n){r==null&&(r=Bue(e)||0);var i=Fue(e,r,n),a=al(e,"transitionend",t);return function(){i(),a()}}function w5(e,t){const r=pl(e,t)||"",n=r.indexOf("ms")===-1?1e3:1;return parseFloat(r)*n}function lG(e,t){const r=w5(e,"transitionDuration"),n=w5(e,"transitionDelay"),i=oG(e,a=>{a.target===e&&(i(),t(a))},r+n)}function Mv(...e){return e.filter(t=>t!=null).reduce((t,r)=>{if(typeof r!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return t===null?r:function(...i){t.apply(this,i),r.apply(this,i)}},null)}function uG(e){e.offsetHeight}const T5=e=>!e||typeof e=="function"?e:t=>{e.current=t};function zue(e,t){const r=T5(e),n=T5(t);return i=>{r&&r(i),n&&n(i)}}function Ep(e,t){return Q.useMemo(()=>zue(e,t),[e,t])}function Qb(e){return e&&"setState"in e?vh.findDOMNode(e):e??null}const pL=Bt.forwardRef(({onEnter:e,onEntering:t,onEntered:r,onExit:n,onExiting:i,onExited:a,addEndListener:s,children:o,childRef:l,...u},c)=>{const h=Q.useRef(null),f=Ep(h,l),d=I=>{f(Qb(I))},v=I=>L=>{I&&h.current&&I(h.current,L)},m=Q.useCallback(v(e),[e]),y=Q.useCallback(v(t),[t]),b=Q.useCallback(v(r),[r]),S=Q.useCallback(v(n),[n]),w=Q.useCallback(v(i),[i]),k=Q.useCallback(v(a),[a]),M=Q.useCallback(v(s),[s]);return E.jsx(Pl,{ref:c,...u,onEnter:m,onEntered:b,onEntering:y,onExit:S,onExited:k,onExiting:w,addEndListener:M,nodeRef:h,children:typeof o=="function"?(I,L)=>o(I,{...L,ref:d}):Bt.cloneElement(o,{ref:d})})});pL.displayName="TransitionWrapper";const jue={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function Hue(e,t){const r=`offset${e[0].toUpperCase()}${e.slice(1)}`,n=t[r],i=jue[e];return n+parseInt(pl(t,i[0]),10)+parseInt(pl(t,i[1]),10)}const Vue={[hu]:"collapse",[Fm]:"collapsing",[mo]:"collapsing",[mu]:"collapse show"},vL=Bt.forwardRef(({onEnter:e,onEntering:t,onEntered:r,onExit:n,onExiting:i,className:a,children:s,dimension:o="height",in:l=!1,timeout:u=300,mountOnEnter:c=!1,unmountOnExit:h=!1,appear:f=!1,getDimensionValue:d=Hue,...v},m)=>{const y=typeof o=="function"?o():o,b=Q.useMemo(()=>Mv(I=>{I.style[y]="0"},e),[y,e]),S=Q.useMemo(()=>Mv(I=>{const L=`scroll${y[0].toUpperCase()}${y.slice(1)}`;I.style[y]=`${I[L]}px`},t),[y,t]),w=Q.useMemo(()=>Mv(I=>{I.style[y]=null},r),[y,r]),k=Q.useMemo(()=>Mv(I=>{I.style[y]=`${d(y,I)}px`,uG(I)},n),[n,d,y]),M=Q.useMemo(()=>Mv(I=>{I.style[y]=null},i),[y,i]);return E.jsx(pL,{ref:m,addEndListener:lG,...v,"aria-expanded":v.role?l:null,onEnter:b,onEntering:S,onEntered:w,onExit:k,onExiting:M,childRef:Tp(s),in:l,timeout:u,mountOnEnter:c,unmountOnExit:h,appear:f,children:(I,L)=>Bt.cloneElement(s,{...L,className:Et(a,s.props.className,Vue[I],y==="width"&&"collapse-horizontal")})})});vL.displayName="Collapse";function Uue(e){const t=Q.useRef(e);return Q.useEffect(()=>{t.current=e},[e]),t}function Gh(e){const t=Uue(e);return Q.useCallback(function(...r){return t.current&&t.current(...r)},[t])}const gL=e=>Q.forwardRef((t,r)=>E.jsx("div",{...t,ref:r,className:Et(t.className,e)}));function Uk(){return Q.useState(null)}function Gue(e){const t=Q.useRef(e);return Q.useEffect(()=>{t.current=e},[e]),t}function ri(e){const t=Gue(e);return Q.useCallback(function(...r){return t.current&&t.current(...r)},[t])}function Wue(e,t,r,n=!1){const i=ri(r);Q.useEffect(()=>{const a=typeof e=="function"?e():e;return a.addEventListener(t,i,n),()=>a.removeEventListener(t,i,n)},[e])}function cG(){const e=Q.useRef(!0),t=Q.useRef(()=>e.current);return Q.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function hG(e){const t=Q.useRef(null);return Q.useEffect(()=>{t.current=e}),t.current}const $ue=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",Yue=typeof document<"u",C5=Yue||$ue?Q.useLayoutEffect:Q.useEffect,Xue=["as","disabled"];function que(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Kue(e){return!e||e.trim()==="#"}function mL({tagName:e,disabled:t,href:r,target:n,rel:i,role:a,onClick:s,tabIndex:o=0,type:l}){e||(r!=null||n!=null||i!=null?e="a":e="button");const u={tagName:e};if(e==="button")return[{type:l||"button",disabled:t},u];const c=f=>{if((t||e==="a"&&Kue(r))&&f.preventDefault(),t){f.stopPropagation();return}s==null||s(f)},h=f=>{f.key===" "&&(f.preventDefault(),c(f))};return e==="a"&&(r||(r="#"),t&&(r=void 0)),[{role:a??"button",disabled:void 0,tabIndex:t?void 0:o,href:r,target:e==="a"?n:void 0,"aria-disabled":t||void 0,rel:e==="a"?i:void 0,onClick:c,onKeyDown:h},u]}const yL=Q.forwardRef((e,t)=>{let{as:r,disabled:n}=e,i=que(e,Xue);const[a,{tagName:s}]=mL(Object.assign({tagName:r,disabled:n},i));return E.jsx(s,Object.assign({},i,a,{ref:t}))});yL.displayName="Button";const Zue=["onKeyDown"];function Que(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Jue(e){return!e||e.trim()==="#"}const xL=Q.forwardRef((e,t)=>{let{onKeyDown:r}=e,n=Que(e,Zue);const[i]=mL(Object.assign({tagName:"a"},n)),a=ri(s=>{i.onKeyDown(s),r==null||r(s)});return Jue(n.href)||n.role==="button"?E.jsx("a",Object.assign({ref:t},n,i,{onKeyDown:a})):E.jsx("a",Object.assign({ref:t},n,{onKeyDown:r}))});xL.displayName="Anchor";const ece={[mo]:"show",[mu]:"show"},Zd=Q.forwardRef(({className:e,children:t,transitionClasses:r={},onEnter:n,...i},a)=>{const s={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...i},o=Q.useCallback((l,u)=>{uG(l),n==null||n(l,u)},[n]);return E.jsx(pL,{ref:a,addEndListener:lG,...s,onEnter:o,childRef:Tp(t),children:(l,u)=>Q.cloneElement(t,{...u,className:Et("fade",e,t.props.className,ece[l],r[l])})})});Zd.displayName="Fade";const tce={"aria-label":Oi.string,onClick:Oi.func,variant:Oi.oneOf(["white"])},O_=Q.forwardRef(({className:e,variant:t,"aria-label":r="Close",...n},i)=>E.jsx("button",{ref:i,type:"button",className:Et("btn-close",t&&`btn-close-${t}`,e),"aria-label":r,...n}));O_.displayName="CloseButton";O_.propTypes=tce;const No=Q.forwardRef(({bsPrefix:e,bg:t="primary",pill:r=!1,text:n,className:i,as:a="span",...s},o)=>{const l=Nt(e,"badge");return E.jsx(a,{ref:o,...s,className:Et(i,l,r&&"rounded-pill",n&&`text-${n}`,t&&`bg-${t}`)})});No.displayName="Badge";const We=Q.forwardRef(({as:e,bsPrefix:t,variant:r="primary",size:n,active:i=!1,disabled:a=!1,className:s,...o},l)=>{const u=Nt(t,"btn"),[c,{tagName:h}]=mL({tagName:e,disabled:a,...o}),f=h;return E.jsx(f,{...c,...o,ref:l,disabled:a,className:Et(s,u,i&&"active",r&&`${u}-${r}`,n&&`${u}-${n}`,o.href&&a&&"disabled")})});We.displayName="Button";const bL=Q.forwardRef(({bsPrefix:e,size:t,vertical:r=!1,className:n,role:i="group",as:a="div",...s},o)=>{const l=Nt(e,"btn-group");let u=l;return r&&(u=`${l}-vertical`),E.jsx(a,{...s,ref:o,role:i,className:Et(n,u,t&&`${l}-${t}`)})});bL.displayName="ButtonGroup";const SL=Q.forwardRef(({className:e,bsPrefix:t,as:r="div",...n},i)=>(t=Nt(t,"card-body"),E.jsx(r,{ref:i,className:Et(e,t),...n})));SL.displayName="CardBody";const fG=Q.forwardRef(({className:e,bsPrefix:t,as:r="div",...n},i)=>(t=Nt(t,"card-footer"),E.jsx(r,{ref:i,className:Et(e,t),...n})));fG.displayName="CardFooter";const _L=Q.createContext(null);_L.displayName="CardHeaderContext";const dG=Q.forwardRef(({bsPrefix:e,className:t,as:r="div",...n},i)=>{const a=Nt(e,"card-header"),s=Q.useMemo(()=>({cardHeaderBsPrefix:a}),[a]);return E.jsx(_L.Provider,{value:s,children:E.jsx(r,{ref:i,...n,className:Et(t,a)})})});dG.displayName="CardHeader";const pG=Q.forwardRef(({bsPrefix:e,className:t,variant:r,as:n="img",...i},a)=>{const s=Nt(e,"card-img");return E.jsx(n,{ref:a,className:Et(r?`${s}-${r}`:s,t),...i})});pG.displayName="CardImg";const vG=Q.forwardRef(({className:e,bsPrefix:t,as:r="div",...n},i)=>(t=Nt(t,"card-img-overlay"),E.jsx(r,{ref:i,className:Et(e,t),...n})));vG.displayName="CardImgOverlay";const gG=Q.forwardRef(({className:e,bsPrefix:t,as:r="a",...n},i)=>(t=Nt(t,"card-link"),E.jsx(r,{ref:i,className:Et(e,t),...n})));gG.displayName="CardLink";const rce=gL("h6"),mG=Q.forwardRef(({className:e,bsPrefix:t,as:r=rce,...n},i)=>(t=Nt(t,"card-subtitle"),E.jsx(r,{ref:i,className:Et(e,t),...n})));mG.displayName="CardSubtitle";const yG=Q.forwardRef(({className:e,bsPrefix:t,as:r="p",...n},i)=>(t=Nt(t,"card-text"),E.jsx(r,{ref:i,className:Et(e,t),...n})));yG.displayName="CardText";const nce=gL("h5"),xG=Q.forwardRef(({className:e,bsPrefix:t,as:r=nce,...n},i)=>(t=Nt(t,"card-title"),E.jsx(r,{ref:i,className:Et(e,t),...n})));xG.displayName="CardTitle";const bG=Q.forwardRef(({bsPrefix:e,className:t,bg:r,text:n,border:i,body:a=!1,children:s,as:o="div",...l},u)=>{const c=Nt(e,"card");return E.jsx(o,{ref:u,...l,className:Et(t,c,r&&`bg-${r}`,n&&`text-${n}`,i&&`border-${i}`),children:a?E.jsx(SL,{children:s}):s})});bG.displayName="Card";const Vr=Object.assign(bG,{Img:pG,Title:xG,Subtitle:mG,Body:SL,Link:gG,Text:yG,Header:dG,Footer:fG,ImgOverlay:vG});function ice(){const e=Q.useRef(!0),t=Q.useRef(()=>e.current);return Q.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function ace(e){const t=Q.useRef(e);return t.current=e,t}function SG(e){const t=ace(e);Q.useEffect(()=>()=>t.current(),[])}const Gk=2**31-1;function _G(e,t,r){const n=r-Date.now();e.current=n<=Gk?setTimeout(t,n):setTimeout(()=>_G(e,t,r),Gk)}function wG(){const e=ice(),t=Q.useRef();return SG(()=>clearTimeout(t.current)),Q.useMemo(()=>{const r=()=>clearTimeout(t.current);function n(i,a=0){e()&&(r(),a<=Gk?t.current=setTimeout(i,a):_G(t,i,Date.now()+a))}return{set:n,clear:r,handleRef:t}},[])}function sce(e,t){return Q.Children.toArray(e).some(r=>Q.isValidElement(r)&&r.type===t)}function oce({as:e,bsPrefix:t,className:r,...n}){t=Nt(t,"col");const i=eG(),a=tG(),s=[],o=[];return i.forEach(l=>{const u=n[l];delete n[l];let c,h,f;typeof u=="object"&&u!=null?{span:c,offset:h,order:f}=u:c=u;const d=l!==a?`-${l}`:"";c&&s.push(c===!0?`${t}${d}`:`${t}${d}-${c}`),f!=null&&o.push(`order${d}-${f}`),h!=null&&o.push(`offset${d}-${h}`)}),[{...n,className:Et(r,...s,...o)},{as:e,bsPrefix:t,spans:s}]}const Ah=Q.forwardRef((e,t)=>{const[{className:r,...n},{as:i="div",bsPrefix:a,spans:s}]=oce(e);return E.jsx(i,{...n,ref:t,className:Et(r,!s.length&&a)})});Ah.displayName="Col";const Jb=Q.forwardRef(({bsPrefix:e,fluid:t=!1,as:r="div",className:n,...i},a)=>{const s=Nt(e,"container"),o=typeof t=="string"?`-${t}`:"-fluid";return E.jsx(r,{ref:a,...i,className:Et(n,t?`${s}${o}`:s)})});Jb.displayName="Container";var lce=Function.prototype.bind.call(Function.prototype.call,[].slice);function tl(e,t){return lce(e.querySelectorAll(t))}function uce(e,t,r){const n=Q.useRef(e!==void 0),[i,a]=Q.useState(t),s=e!==void 0,o=n.current;return n.current=s,!s&&o&&i!==t&&a(t),[s?e:i,Q.useCallback((...l)=>{const[u,...c]=l;let h=r==null?void 0:r(u,...c);return a(u),h},[r])]}function TG(){const[,e]=Q.useReducer(t=>t+1,0);return e}const B_=Q.createContext(null);var E5=Object.prototype.hasOwnProperty;function A5(e,t,r){for(r of e.keys())if(Vg(r,t))return r}function Vg(e,t){var r,n,i;if(e===t)return!0;if(e&&t&&(r=e.constructor)===t.constructor){if(r===Date)return e.getTime()===t.getTime();if(r===RegExp)return e.toString()===t.toString();if(r===Array){if((n=e.length)===t.length)for(;n--&&Vg(e[n],t[n]););return n===-1}if(r===Set){if(e.size!==t.size)return!1;for(n of e)if(i=n,i&&typeof i=="object"&&(i=A5(t,i),!i)||!t.has(i))return!1;return!0}if(r===Map){if(e.size!==t.size)return!1;for(n of e)if(i=n[0],i&&typeof i=="object"&&(i=A5(t,i),!i)||!Vg(n[1],t.get(i)))return!1;return!0}if(r===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(r===DataView){if((n=e.byteLength)===t.byteLength)for(;n--&&e.getInt8(n)===t.getInt8(n););return n===-1}if(ArrayBuffer.isView(e)){if((n=e.byteLength)===t.byteLength)for(;n--&&e[n]===t[n];);return n===-1}if(!r||typeof e=="object"){n=0;for(r in e)if(E5.call(e,r)&&++n&&!E5.call(t,r)||!(r in t)||!Vg(e[r],t[r]))return!1;return Object.keys(t).length===n}}return e!==e&&t!==t}function cce(e){const t=cG();return[e[0],Q.useCallback(r=>{if(t())return e[1](r)},[t,e[1]])]}var oa="top",ss="bottom",os="right",la="left",wL="auto",M0=[oa,ss,os,la],Qd="start",zm="end",hce="clippingParents",CG="viewport",Lv="popper",fce="reference",k5=M0.reduce(function(e,t){return e.concat([t+"-"+Qd,t+"-"+zm])},[]),EG=[].concat(M0,[wL]).reduce(function(e,t){return e.concat([t,t+"-"+Qd,t+"-"+zm])},[]),dce="beforeRead",pce="read",vce="afterRead",gce="beforeMain",mce="main",yce="afterMain",xce="beforeWrite",bce="write",Sce="afterWrite",_ce=[dce,pce,vce,gce,mce,yce,xce,bce,Sce];function Ao(e){return e.split("-")[0]}function Aa(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Wh(e){var t=Aa(e).Element;return e instanceof t||e instanceof Element}function ko(e){var t=Aa(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function TL(e){if(typeof ShadowRoot>"u")return!1;var t=Aa(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}var kh=Math.max,eS=Math.min,Jd=Math.round;function Wk(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function AG(){return!/^((?!chrome|android).)*safari/i.test(Wk())}function ep(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);var n=e.getBoundingClientRect(),i=1,a=1;t&&ko(e)&&(i=e.offsetWidth>0&&Jd(n.width)/e.offsetWidth||1,a=e.offsetHeight>0&&Jd(n.height)/e.offsetHeight||1);var s=Wh(e)?Aa(e):window,o=s.visualViewport,l=!AG()&&r,u=(n.left+(l&&o?o.offsetLeft:0))/i,c=(n.top+(l&&o?o.offsetTop:0))/a,h=n.width/i,f=n.height/a;return{width:h,height:f,top:c,right:u+h,bottom:c+f,left:u,x:u,y:c}}function CL(e){var t=ep(e),r=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:n}}function kG(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&TL(r)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function qu(e){return e?(e.nodeName||"").toLowerCase():null}function Sl(e){return Aa(e).getComputedStyle(e)}function wce(e){return["table","td","th"].indexOf(qu(e))>=0}function sc(e){return((Wh(e)?e.ownerDocument:e.document)||window.document).documentElement}function F_(e){return qu(e)==="html"?e:e.assignedSlot||e.parentNode||(TL(e)?e.host:null)||sc(e)}function I5(e){return!ko(e)||Sl(e).position==="fixed"?null:e.offsetParent}function Tce(e){var t=/firefox/i.test(Wk()),r=/Trident/i.test(Wk());if(r&&ko(e)){var n=Sl(e);if(n.position==="fixed")return null}var i=F_(e);for(TL(i)&&(i=i.host);ko(i)&&["html","body"].indexOf(qu(i))<0;){var a=Sl(i);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||t&&a.willChange==="filter"||t&&a.filter&&a.filter!=="none")return i;i=i.parentNode}return null}function L0(e){for(var t=Aa(e),r=I5(e);r&&wce(r)&&Sl(r).position==="static";)r=I5(r);return r&&(qu(r)==="html"||qu(r)==="body"&&Sl(r).position==="static")?t:r||Tce(e)||t}function EL(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Ug(e,t,r){return kh(e,eS(t,r))}function Cce(e,t,r){var n=Ug(e,t,r);return n>r?r:n}function IG(){return{top:0,right:0,bottom:0,left:0}}function DG(e){return Object.assign({},IG(),e)}function MG(e,t){return t.reduce(function(r,n){return r[n]=e,r},{})}var Ece=function(t,r){return t=typeof t=="function"?t(Object.assign({},r.rects,{placement:r.placement})):t,DG(typeof t!="number"?t:MG(t,M0))};function Ace(e){var t,r=e.state,n=e.name,i=e.options,a=r.elements.arrow,s=r.modifiersData.popperOffsets,o=Ao(r.placement),l=EL(o),u=[la,os].indexOf(o)>=0,c=u?"height":"width";if(!(!a||!s)){var h=Ece(i.padding,r),f=CL(a),d=l==="y"?oa:la,v=l==="y"?ss:os,m=r.rects.reference[c]+r.rects.reference[l]-s[l]-r.rects.popper[c],y=s[l]-r.rects.reference[l],b=L0(a),S=b?l==="y"?b.clientHeight||0:b.clientWidth||0:0,w=m/2-y/2,k=h[d],M=S-f[c]-h[v],I=S/2-f[c]/2+w,L=Ug(k,I,M),N=l;r.modifiersData[n]=(t={},t[N]=L,t.centerOffset=L-I,t)}}function kce(e){var t=e.state,r=e.options,n=r.element,i=n===void 0?"[data-popper-arrow]":n;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||kG(t.elements.popper,i)&&(t.elements.arrow=i))}const Ice={name:"arrow",enabled:!0,phase:"main",fn:Ace,effect:kce,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function tp(e){return e.split("-")[1]}var Dce={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Mce(e,t){var r=e.x,n=e.y,i=t.devicePixelRatio||1;return{x:Jd(r*i)/i||0,y:Jd(n*i)/i||0}}function D5(e){var t,r=e.popper,n=e.popperRect,i=e.placement,a=e.variation,s=e.offsets,o=e.position,l=e.gpuAcceleration,u=e.adaptive,c=e.roundOffsets,h=e.isFixed,f=s.x,d=f===void 0?0:f,v=s.y,m=v===void 0?0:v,y=typeof c=="function"?c({x:d,y:m}):{x:d,y:m};d=y.x,m=y.y;var b=s.hasOwnProperty("x"),S=s.hasOwnProperty("y"),w=la,k=oa,M=window;if(u){var I=L0(r),L="clientHeight",N="clientWidth";if(I===Aa(r)&&(I=sc(r),Sl(I).position!=="static"&&o==="absolute"&&(L="scrollHeight",N="scrollWidth")),I=I,i===oa||(i===la||i===os)&&a===zm){k=ss;var z=h&&I===M&&M.visualViewport?M.visualViewport.height:I[L];m-=z-n.height,m*=l?1:-1}if(i===la||(i===oa||i===ss)&&a===zm){w=os;var B=h&&I===M&&M.visualViewport?M.visualViewport.width:I[N];d-=B-n.width,d*=l?1:-1}}var H=Object.assign({position:o},u&&Dce),G=c===!0?Mce({x:d,y:m},Aa(r)):{x:d,y:m};if(d=G.x,m=G.y,l){var $;return Object.assign({},H,($={},$[k]=S?"0":"",$[w]=b?"0":"",$.transform=(M.devicePixelRatio||1)<=1?"translate("+d+"px, "+m+"px)":"translate3d("+d+"px, "+m+"px, 0)",$))}return Object.assign({},H,(t={},t[k]=S?m+"px":"",t[w]=b?d+"px":"",t.transform="",t))}function Lce(e){var t=e.state,r=e.options,n=r.gpuAcceleration,i=n===void 0?!0:n,a=r.adaptive,s=a===void 0?!0:a,o=r.roundOffsets,l=o===void 0?!0:o,u={placement:Ao(t.placement),variation:tp(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,D5(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,D5(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const Nce={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Lce,data:{}};var A1={passive:!0};function Pce(e){var t=e.state,r=e.instance,n=e.options,i=n.scroll,a=i===void 0?!0:i,s=n.resize,o=s===void 0?!0:s,l=Aa(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&u.forEach(function(c){c.addEventListener("scroll",r.update,A1)}),o&&l.addEventListener("resize",r.update,A1),function(){a&&u.forEach(function(c){c.removeEventListener("scroll",r.update,A1)}),o&&l.removeEventListener("resize",r.update,A1)}}const Rce={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Pce,data:{}};var Oce={left:"right",right:"left",bottom:"top",top:"bottom"};function tb(e){return e.replace(/left|right|bottom|top/g,function(t){return Oce[t]})}var Bce={start:"end",end:"start"};function M5(e){return e.replace(/start|end/g,function(t){return Bce[t]})}function AL(e){var t=Aa(e),r=t.pageXOffset,n=t.pageYOffset;return{scrollLeft:r,scrollTop:n}}function kL(e){return ep(sc(e)).left+AL(e).scrollLeft}function Fce(e,t){var r=Aa(e),n=sc(e),i=r.visualViewport,a=n.clientWidth,s=n.clientHeight,o=0,l=0;if(i){a=i.width,s=i.height;var u=AG();(u||!u&&t==="fixed")&&(o=i.offsetLeft,l=i.offsetTop)}return{width:a,height:s,x:o+kL(e),y:l}}function zce(e){var t,r=sc(e),n=AL(e),i=(t=e.ownerDocument)==null?void 0:t.body,a=kh(r.scrollWidth,r.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=kh(r.scrollHeight,r.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),o=-n.scrollLeft+kL(e),l=-n.scrollTop;return Sl(i||r).direction==="rtl"&&(o+=kh(r.clientWidth,i?i.clientWidth:0)-a),{width:a,height:s,x:o,y:l}}function IL(e){var t=Sl(e),r=t.overflow,n=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+n)}function LG(e){return["html","body","#document"].indexOf(qu(e))>=0?e.ownerDocument.body:ko(e)&&IL(e)?e:LG(F_(e))}function Gg(e,t){var r;t===void 0&&(t=[]);var n=LG(e),i=n===((r=e.ownerDocument)==null?void 0:r.body),a=Aa(n),s=i?[a].concat(a.visualViewport||[],IL(n)?n:[]):n,o=t.concat(s);return i?o:o.concat(Gg(F_(s)))}function $k(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function jce(e,t){var r=ep(e,!1,t==="fixed");return r.top=r.top+e.clientTop,r.left=r.left+e.clientLeft,r.bottom=r.top+e.clientHeight,r.right=r.left+e.clientWidth,r.width=e.clientWidth,r.height=e.clientHeight,r.x=r.left,r.y=r.top,r}function L5(e,t,r){return t===CG?$k(Fce(e,r)):Wh(t)?jce(t,r):$k(zce(sc(e)))}function Hce(e){var t=Gg(F_(e)),r=["absolute","fixed"].indexOf(Sl(e).position)>=0,n=r&&ko(e)?L0(e):e;return Wh(n)?t.filter(function(i){return Wh(i)&&kG(i,n)&&qu(i)!=="body"}):[]}function Vce(e,t,r,n){var i=t==="clippingParents"?Hce(e):[].concat(t),a=[].concat(i,[r]),s=a[0],o=a.reduce(function(l,u){var c=L5(e,u,n);return l.top=kh(c.top,l.top),l.right=eS(c.right,l.right),l.bottom=eS(c.bottom,l.bottom),l.left=kh(c.left,l.left),l},L5(e,s,n));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function NG(e){var t=e.reference,r=e.element,n=e.placement,i=n?Ao(n):null,a=n?tp(n):null,s=t.x+t.width/2-r.width/2,o=t.y+t.height/2-r.height/2,l;switch(i){case oa:l={x:s,y:t.y-r.height};break;case ss:l={x:s,y:t.y+t.height};break;case os:l={x:t.x+t.width,y:o};break;case la:l={x:t.x-r.width,y:o};break;default:l={x:t.x,y:t.y}}var u=i?EL(i):null;if(u!=null){var c=u==="y"?"height":"width";switch(a){case Qd:l[u]=l[u]-(t[c]/2-r[c]/2);break;case zm:l[u]=l[u]+(t[c]/2-r[c]/2);break}}return l}function jm(e,t){t===void 0&&(t={});var r=t,n=r.placement,i=n===void 0?e.placement:n,a=r.strategy,s=a===void 0?e.strategy:a,o=r.boundary,l=o===void 0?hce:o,u=r.rootBoundary,c=u===void 0?CG:u,h=r.elementContext,f=h===void 0?Lv:h,d=r.altBoundary,v=d===void 0?!1:d,m=r.padding,y=m===void 0?0:m,b=DG(typeof y!="number"?y:MG(y,M0)),S=f===Lv?fce:Lv,w=e.rects.popper,k=e.elements[v?S:f],M=Vce(Wh(k)?k:k.contextElement||sc(e.elements.popper),l,c,s),I=ep(e.elements.reference),L=NG({reference:I,element:w,placement:i}),N=$k(Object.assign({},w,L)),z=f===Lv?N:I,B={top:M.top-z.top+b.top,bottom:z.bottom-M.bottom+b.bottom,left:M.left-z.left+b.left,right:z.right-M.right+b.right},H=e.modifiersData.offset;if(f===Lv&&H){var G=H[i];Object.keys(B).forEach(function($){var W=[os,ss].indexOf($)>=0?1:-1,X=[oa,ss].indexOf($)>=0?"y":"x";B[$]+=G[X]*W})}return B}function Uce(e,t){t===void 0&&(t={});var r=t,n=r.placement,i=r.boundary,a=r.rootBoundary,s=r.padding,o=r.flipVariations,l=r.allowedAutoPlacements,u=l===void 0?EG:l,c=tp(n),h=c?o?k5:k5.filter(function(v){return tp(v)===c}):M0,f=h.filter(function(v){return u.indexOf(v)>=0});f.length===0&&(f=h);var d=f.reduce(function(v,m){return v[m]=jm(e,{placement:m,boundary:i,rootBoundary:a,padding:s})[Ao(m)],v},{});return Object.keys(d).sort(function(v,m){return d[v]-d[m]})}function Gce(e){if(Ao(e)===wL)return[];var t=tb(e);return[M5(e),t,M5(t)]}function Wce(e){var t=e.state,r=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var i=r.mainAxis,a=i===void 0?!0:i,s=r.altAxis,o=s===void 0?!0:s,l=r.fallbackPlacements,u=r.padding,c=r.boundary,h=r.rootBoundary,f=r.altBoundary,d=r.flipVariations,v=d===void 0?!0:d,m=r.allowedAutoPlacements,y=t.options.placement,b=Ao(y),S=b===y,w=l||(S||!v?[tb(y)]:Gce(y)),k=[y].concat(w).reduce(function(ue,pe){return ue.concat(Ao(pe)===wL?Uce(t,{placement:pe,boundary:c,rootBoundary:h,padding:u,flipVariations:v,allowedAutoPlacements:m}):pe)},[]),M=t.rects.reference,I=t.rects.popper,L=new Map,N=!0,z=k[0],B=0;B<k.length;B++){var H=k[B],G=Ao(H),$=tp(H)===Qd,W=[oa,ss].indexOf(G)>=0,X=W?"width":"height",ee=jm(t,{placement:H,boundary:c,rootBoundary:h,altBoundary:f,padding:u}),le=W?$?os:la:$?ss:oa;M[X]>I[X]&&(le=tb(le));var ie=tb(le),fe=[];if(a&&fe.push(ee[G]<=0),o&&fe.push(ee[le]<=0,ee[ie]<=0),fe.every(function(ue){return ue})){z=H,N=!1;break}L.set(H,fe)}if(N)for(var re=v?3:1,me=function(pe){var Se=k.find(function(je){var Pe=L.get(je);if(Pe)return Pe.slice(0,pe).every(function(Te){return Te})});if(Se)return z=Se,"break"},J=re;J>0;J--){var te=me(J);if(te==="break")break}t.placement!==z&&(t.modifiersData[n]._skip=!0,t.placement=z,t.reset=!0)}}const $ce={name:"flip",enabled:!0,phase:"main",fn:Wce,requiresIfExists:["offset"],data:{_skip:!1}};function N5(e,t,r){return r===void 0&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function P5(e){return[oa,os,ss,la].some(function(t){return e[t]>=0})}function Yce(e){var t=e.state,r=e.name,n=t.rects.reference,i=t.rects.popper,a=t.modifiersData.preventOverflow,s=jm(t,{elementContext:"reference"}),o=jm(t,{altBoundary:!0}),l=N5(s,n),u=N5(o,i,a),c=P5(l),h=P5(u);t.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:h},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":h})}const Xce={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Yce};function qce(e,t,r){var n=Ao(e),i=[la,oa].indexOf(n)>=0?-1:1,a=typeof r=="function"?r(Object.assign({},t,{placement:e})):r,s=a[0],o=a[1];return s=s||0,o=(o||0)*i,[la,os].indexOf(n)>=0?{x:o,y:s}:{x:s,y:o}}function Kce(e){var t=e.state,r=e.options,n=e.name,i=r.offset,a=i===void 0?[0,0]:i,s=EG.reduce(function(c,h){return c[h]=qce(h,t.rects,a),c},{}),o=s[t.placement],l=o.x,u=o.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=u),t.modifiersData[n]=s}const Zce={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Kce};function Qce(e){var t=e.state,r=e.name;t.modifiersData[r]=NG({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const Jce={name:"popperOffsets",enabled:!0,phase:"read",fn:Qce,data:{}};function ehe(e){return e==="x"?"y":"x"}function the(e){var t=e.state,r=e.options,n=e.name,i=r.mainAxis,a=i===void 0?!0:i,s=r.altAxis,o=s===void 0?!1:s,l=r.boundary,u=r.rootBoundary,c=r.altBoundary,h=r.padding,f=r.tether,d=f===void 0?!0:f,v=r.tetherOffset,m=v===void 0?0:v,y=jm(t,{boundary:l,rootBoundary:u,padding:h,altBoundary:c}),b=Ao(t.placement),S=tp(t.placement),w=!S,k=EL(b),M=ehe(k),I=t.modifiersData.popperOffsets,L=t.rects.reference,N=t.rects.popper,z=typeof m=="function"?m(Object.assign({},t.rects,{placement:t.placement})):m,B=typeof z=="number"?{mainAxis:z,altAxis:z}:Object.assign({mainAxis:0,altAxis:0},z),H=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,G={x:0,y:0};if(I){if(a){var $,W=k==="y"?oa:la,X=k==="y"?ss:os,ee=k==="y"?"height":"width",le=I[k],ie=le+y[W],fe=le-y[X],re=d?-N[ee]/2:0,me=S===Qd?L[ee]:N[ee],J=S===Qd?-N[ee]:-L[ee],te=t.elements.arrow,ue=d&&te?CL(te):{width:0,height:0},pe=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:IG(),Se=pe[W],je=pe[X],Pe=Ug(0,L[ee],ue[ee]),Te=w?L[ee]/2-re-Pe-Se-B.mainAxis:me-Pe-Se-B.mainAxis,Ve=w?-L[ee]/2+re+Pe+je+B.mainAxis:J+Pe+je+B.mainAxis,ze=t.elements.arrow&&L0(t.elements.arrow),$e=ze?k==="y"?ze.clientTop||0:ze.clientLeft||0:0,ce=($=H==null?void 0:H[k])!=null?$:0,ve=le+Te-ce-$e,Ae=le+Ve-ce,Le=Ug(d?eS(ie,ve):ie,le,d?kh(fe,Ae):fe);I[k]=Le,G[k]=Le-le}if(o){var Ge,nt=k==="x"?oa:la,lt=k==="x"?ss:os,He=I[M],Ee=M==="y"?"height":"width",Ye=He+y[nt],ut=He-y[lt],et=[oa,la].indexOf(b)!==-1,ft=(Ge=H==null?void 0:H[M])!=null?Ge:0,Ce=et?Ye:He-L[Ee]-N[Ee]-ft+B.altAxis,ke=et?He+L[Ee]+N[Ee]-ft-B.altAxis:ut,ht=d&&et?Cce(Ce,He,ke):Ug(d?Ce:Ye,He,d?ke:ut);I[M]=ht,G[M]=ht-He}t.modifiersData[n]=G}}const rhe={name:"preventOverflow",enabled:!0,phase:"main",fn:the,requiresIfExists:["offset"]};function nhe(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function ihe(e){return e===Aa(e)||!ko(e)?AL(e):nhe(e)}function ahe(e){var t=e.getBoundingClientRect(),r=Jd(t.width)/e.offsetWidth||1,n=Jd(t.height)/e.offsetHeight||1;return r!==1||n!==1}function she(e,t,r){r===void 0&&(r=!1);var n=ko(t),i=ko(t)&&ahe(t),a=sc(t),s=ep(e,i,r),o={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!r)&&((qu(t)!=="body"||IL(a))&&(o=ihe(t)),ko(t)?(l=ep(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):a&&(l.x=kL(a))),{x:s.left+o.scrollLeft-l.x,y:s.top+o.scrollTop-l.y,width:s.width,height:s.height}}function ohe(e){var t=new Map,r=new Set,n=[];e.forEach(function(a){t.set(a.name,a)});function i(a){r.add(a.name);var s=[].concat(a.requires||[],a.requiresIfExists||[]);s.forEach(function(o){if(!r.has(o)){var l=t.get(o);l&&i(l)}}),n.push(a)}return e.forEach(function(a){r.has(a.name)||i(a)}),n}function lhe(e){var t=ohe(e);return _ce.reduce(function(r,n){return r.concat(t.filter(function(i){return i.phase===n}))},[])}function uhe(e){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(e())})})),t}}function che(e){var t=e.reduce(function(r,n){var i=r[n.name];return r[n.name]=i?Object.assign({},i,n,{options:Object.assign({},i.options,n.options),data:Object.assign({},i.data,n.data)}):n,r},{});return Object.keys(t).map(function(r){return t[r]})}var R5={placement:"bottom",modifiers:[],strategy:"absolute"};function O5(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function hhe(e){e===void 0&&(e={});var t=e,r=t.defaultModifiers,n=r===void 0?[]:r,i=t.defaultOptions,a=i===void 0?R5:i;return function(o,l,u){u===void 0&&(u=a);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},R5,a),modifiersData:{},elements:{reference:o,popper:l},attributes:{},styles:{}},h=[],f=!1,d={state:c,setOptions:function(b){var S=typeof b=="function"?b(c.options):b;m(),c.options=Object.assign({},a,c.options,S),c.scrollParents={reference:Wh(o)?Gg(o):o.contextElement?Gg(o.contextElement):[],popper:Gg(l)};var w=lhe(che([].concat(n,c.options.modifiers)));return c.orderedModifiers=w.filter(function(k){return k.enabled}),v(),d.update()},forceUpdate:function(){if(!f){var b=c.elements,S=b.reference,w=b.popper;if(O5(S,w)){c.rects={reference:she(S,L0(w),c.options.strategy==="fixed"),popper:CL(w)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(B){return c.modifiersData[B.name]=Object.assign({},B.data)});for(var k=0;k<c.orderedModifiers.length;k++){if(c.reset===!0){c.reset=!1,k=-1;continue}var M=c.orderedModifiers[k],I=M.fn,L=M.options,N=L===void 0?{}:L,z=M.name;typeof I=="function"&&(c=I({state:c,options:N,name:z,instance:d})||c)}}}},update:uhe(function(){return new Promise(function(y){d.forceUpdate(),y(c)})}),destroy:function(){m(),f=!0}};if(!O5(o,l))return d;d.setOptions(u).then(function(y){!f&&u.onFirstUpdate&&u.onFirstUpdate(y)});function v(){c.orderedModifiers.forEach(function(y){var b=y.name,S=y.options,w=S===void 0?{}:S,k=y.effect;if(typeof k=="function"){var M=k({state:c,name:b,instance:d,options:w}),I=function(){};h.push(M||I)}})}function m(){h.forEach(function(y){return y()}),h=[]}return d}}const fhe=hhe({defaultModifiers:[Xce,Jce,Nce,Rce,Zce,$ce,rhe,Ice]}),dhe=["enabled","placement","strategy","modifiers"];function phe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}const vhe={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},ghe={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:e})=>()=>{const{reference:t,popper:r}=e.elements;if("removeAttribute"in t){const n=(t.getAttribute("aria-describedby")||"").split(",").filter(i=>i.trim()!==r.id);n.length?t.setAttribute("aria-describedby",n.join(",")):t.removeAttribute("aria-describedby")}},fn:({state:e})=>{var t;const{popper:r,reference:n}=e.elements,i=(t=r.getAttribute("role"))==null?void 0:t.toLowerCase();if(r.id&&i==="tooltip"&&"setAttribute"in n){const a=n.getAttribute("aria-describedby");if(a&&a.split(",").indexOf(r.id)!==-1)return;n.setAttribute("aria-describedby",a?`${a},${r.id}`:r.id)}}},mhe=[];function PG(e,t,r={}){let{enabled:n=!0,placement:i="bottom",strategy:a="absolute",modifiers:s=mhe}=r,o=phe(r,dhe);const l=Q.useRef(s),u=Q.useRef(),c=Q.useCallback(()=>{var y;(y=u.current)==null||y.update()},[]),h=Q.useCallback(()=>{var y;(y=u.current)==null||y.forceUpdate()},[]),[f,d]=cce(Q.useState({placement:i,update:c,forceUpdate:h,attributes:{},styles:{popper:{},arrow:{}}})),v=Q.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:y})=>{const b={},S={};Object.keys(y.elements).forEach(w=>{b[w]=y.styles[w],S[w]=y.attributes[w]}),d({state:y,styles:b,attributes:S,update:c,forceUpdate:h,placement:y.placement})}}),[c,h,d]),m=Q.useMemo(()=>(Vg(l.current,s)||(l.current=s),l.current),[s]);return Q.useEffect(()=>{!u.current||!n||u.current.setOptions({placement:i,strategy:a,modifiers:[...m,v,vhe]})},[a,i,v,n,m]),Q.useEffect(()=>{if(!(!n||e==null||t==null))return u.current=fhe(e,t,Object.assign({},o,{placement:i,strategy:a,modifiers:[...m,ghe,v]})),()=>{u.current!=null&&(u.current.destroy(),u.current=void 0,d(y=>Object.assign({},y,{attributes:{},styles:{popper:{}}})))}},[n,e,t]),f}function Hm(e,t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return e===t||!!(e.compareDocumentPosition(t)&16)}var yhe=function(){},xhe=yhe;const bhe=Ws(xhe),B5=()=>{};function She(e){return e.button===0}function _he(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}const rb=e=>e&&("current"in e?e.current:e),F5={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function RG(e,t=B5,{disabled:r,clickTrigger:n="click"}={}){const i=Q.useRef(!1),a=Q.useRef(!1),s=Q.useCallback(u=>{const c=rb(e);bhe(!!c,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),i.current=!c||_he(u)||!She(u)||!!Hm(c,u.target)||a.current,a.current=!1},[e]),o=ri(u=>{const c=rb(e);c&&Hm(c,u.target)?a.current=!0:a.current=!1}),l=ri(u=>{i.current||t(u)});Q.useEffect(()=>{var u,c;if(r||e==null)return;const h=wp(rb(e)),f=h.defaultView||window;let d=(u=f.event)!=null?u:(c=f.parent)==null?void 0:c.event,v=null;F5[n]&&(v=al(h,F5[n],o,!0));const m=al(h,n,s,!0),y=al(h,n,S=>{if(S===d){d=void 0;return}l(S)});let b=[];return"ontouchstart"in h.documentElement&&(b=[].slice.call(h.body.children).map(S=>al(S,"mousemove",B5))),()=>{v==null||v(),m(),y(),b.forEach(S=>S())}},[e,r,n,s,o,l])}function whe(e){const t={};return Array.isArray(e)?(e==null||e.forEach(r=>{t[r.name]=r}),t):e||t}function The(e={}){return Array.isArray(e)?e:Object.keys(e).map(t=>(e[t].name=t,e[t]))}function OG({enabled:e,enableEvents:t,placement:r,flip:n,offset:i,fixed:a,containerPadding:s,arrowElement:o,popperConfig:l={}}){var u,c,h,f,d;const v=whe(l.modifiers);return Object.assign({},l,{placement:r,enabled:e,strategy:a?"fixed":l.strategy,modifiers:The(Object.assign({},v,{eventListeners:{enabled:t,options:(u=v.eventListeners)==null?void 0:u.options},preventOverflow:Object.assign({},v.preventOverflow,{options:s?Object.assign({padding:s},(c=v.preventOverflow)==null?void 0:c.options):(h=v.preventOverflow)==null?void 0:h.options}),offset:{options:Object.assign({offset:i},(f=v.offset)==null?void 0:f.options)},arrow:Object.assign({},v.arrow,{enabled:!!o,options:Object.assign({},(d=v.arrow)==null?void 0:d.options,{element:o})}),flip:Object.assign({enabled:!!n},v.flip)}))})}const Che=["children","usePopper"];function Ehe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}const Ahe=()=>{};function BG(e={}){const t=Q.useContext(B_),[r,n]=Uk(),i=Q.useRef(!1),{flip:a,offset:s,rootCloseEvent:o,fixed:l=!1,placement:u,popperConfig:c={},enableEventListeners:h=!0,usePopper:f=!!t}=e,d=(t==null?void 0:t.show)==null?!!e.show:t.show;d&&!i.current&&(i.current=!0);const v=I=>{t==null||t.toggle(!1,I)},{placement:m,setMenu:y,menuElement:b,toggleElement:S}=t||{},w=PG(S,b,OG({placement:u||m||"bottom-start",enabled:f,enableEvents:h??d,offset:s,flip:a,fixed:l,arrowElement:r,popperConfig:c})),k=Object.assign({ref:y||Ahe,"aria-labelledby":S==null?void 0:S.id},w.attributes.popper,{style:w.styles.popper}),M={show:d,placement:m,hasShown:i.current,toggle:t==null?void 0:t.toggle,popper:f?w:null,arrowProps:f?Object.assign({ref:n},w.attributes.arrow,{style:w.styles.arrow}):{}};return RG(b,v,{clickTrigger:o,disabled:!d}),[k,M]}function FG(e){let{children:t,usePopper:r=!0}=e,n=Ehe(e,Che);const[i,a]=BG(Object.assign({},n,{usePopper:r}));return E.jsx(E.Fragment,{children:t(i,a)})}FG.displayName="DropdownMenu";const zG={prefix:String(Math.round(Math.random()*1e10)),current:0},jG=Bt.createContext(zG),khe=Bt.createContext(!1);let UC=new WeakMap;function Ihe(e=!1){let t=Q.useContext(jG),r=Q.useRef(null);if(r.current===null&&!e){var n,i;let a=(i=Bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||i===void 0||(n=i.ReactCurrentOwner)===null||n===void 0?void 0:n.current;if(a){let s=UC.get(a);s==null?UC.set(a,{id:t.current,state:a.memoizedState}):a.memoizedState!==s.state&&(t.current=s.id,UC.delete(a))}r.current=++t.current}return r.current}function Dhe(e){let t=Q.useContext(jG),r=Ihe(!!e),n=`react-aria${t.prefix}`;return e||`${n}-${r}`}function Mhe(e){let t=Bt.useId(),[r]=Q.useState(Ohe()),n=r?"react-aria":`react-aria${zG.prefix}`;return e||`${n}-${t}`}const Lhe=typeof Bt.useId=="function"?Mhe:Dhe;function Nhe(){return!1}function Phe(){return!0}function Rhe(e){return()=>{}}function Ohe(){return typeof Bt.useSyncExternalStore=="function"?Bt.useSyncExternalStore(Rhe,Nhe,Phe):Q.useContext(khe)}const HG=e=>{var t;return((t=e.getAttribute("role"))==null?void 0:t.toLowerCase())==="menu"},z5=()=>{};function VG(){const e=Lhe(),{show:t=!1,toggle:r=z5,setToggle:n,menuElement:i}=Q.useContext(B_)||{},a=Q.useCallback(o=>{r(!t,o)},[t,r]),s={id:e,ref:n||z5,onClick:a,"aria-expanded":!!t};return i&&HG(i)&&(s["aria-haspopup"]=!0),[s,{show:t,toggle:r}]}function UG({children:e}){const[t,r]=VG();return E.jsx(E.Fragment,{children:e(t,r)})}UG.displayName="DropdownToggle";const rp=Q.createContext(null),np=(e,t=null)=>e!=null?String(e):t||null,z_=Q.createContext(null);z_.displayName="NavContext";const Bhe="data-rr-ui-",Fhe="rrUi";function Ap(e){return`${Bhe}${e}`}function zhe(e){return`${Fhe}${e}`}const jhe=["eventKey","disabled","onClick","active","as"];function Hhe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function GG({key:e,href:t,active:r,disabled:n,onClick:i}){const a=Q.useContext(rp),s=Q.useContext(z_),{activeKey:o}=s||{},l=np(e,t),u=r==null&&e!=null?np(o)===l:r;return[{onClick:ri(h=>{n||(i==null||i(h),a&&!h.isPropagationStopped()&&a(l,h))}),"aria-disabled":n||void 0,"aria-selected":u,[Ap("dropdown-item")]:""},{isActive:u}]}const WG=Q.forwardRef((e,t)=>{let{eventKey:r,disabled:n,onClick:i,active:a,as:s=yL}=e,o=Hhe(e,jhe);const[l]=GG({key:r,href:o.href,disabled:n,onClick:i,active:a});return E.jsx(s,Object.assign({},o,{ref:t},l))});WG.displayName="DropdownItem";const $G=Q.createContext(Cp?window:void 0);$G.Provider;function j_(){return Q.useContext($G)}function j5(){const e=TG(),t=Q.useRef(null),r=Q.useCallback(n=>{t.current=n,e()},[e]);return[t,r]}function N0({defaultShow:e,show:t,onSelect:r,onToggle:n,itemSelector:i=`* [${Ap("dropdown-item")}]`,focusFirstItemOnShow:a,placement:s="bottom-start",children:o}){const l=j_(),[u,c]=uce(t,e,n),[h,f]=j5(),d=h.current,[v,m]=j5(),y=v.current,b=hG(u),S=Q.useRef(null),w=Q.useRef(!1),k=Q.useContext(rp),M=Q.useCallback((H,G,$=G==null?void 0:G.type)=>{c(H,{originalEvent:G,source:$})},[c]),I=ri((H,G)=>{r==null||r(H,G),M(!1,G,"select"),G.isPropagationStopped()||k==null||k(H,G)}),L=Q.useMemo(()=>({toggle:M,placement:s,show:u,menuElement:d,toggleElement:y,setMenu:f,setToggle:m}),[M,s,u,d,y,f,m]);d&&b&&!u&&(w.current=d.contains(d.ownerDocument.activeElement));const N=ri(()=>{y&&y.focus&&y.focus()}),z=ri(()=>{const H=S.current;let G=a;if(G==null&&(G=h.current&&HG(h.current)?"keyboard":!1),G===!1||G==="keyboard"&&!/^key.+$/.test(H))return;const $=tl(h.current,i)[0];$&&$.focus&&$.focus()});Q.useEffect(()=>{u?z():w.current&&(w.current=!1,N())},[u,w,N,z]),Q.useEffect(()=>{S.current=null});const B=(H,G)=>{if(!h.current)return null;const $=tl(h.current,i);let W=$.indexOf(H)+G;return W=Math.max(0,Math.min(W,$.length)),$[W]};return Wue(Q.useCallback(()=>l.document,[l]),"keydown",H=>{var G,$;const{key:W}=H,X=H.target,ee=(G=h.current)==null?void 0:G.contains(X),le=($=v.current)==null?void 0:$.contains(X);if(/input|textarea/i.test(X.tagName)&&(W===" "||W!=="Escape"&&ee||W==="Escape"&&X.type==="search")||!ee&&!le||W==="Tab"&&(!h.current||!u))return;S.current=H.type;const fe={originalEvent:H,source:H.type};switch(W){case"ArrowUp":{const re=B(X,-1);re&&re.focus&&re.focus(),H.preventDefault();return}case"ArrowDown":if(H.preventDefault(),!u)c(!0,fe);else{const re=B(X,1);re&&re.focus&&re.focus()}return;case"Tab":dL(X.ownerDocument,"keyup",re=>{var me;(re.key==="Tab"&&!re.target||!((me=h.current)!=null&&me.contains(re.target)))&&c(!1,fe)},{once:!0});break;case"Escape":W==="Escape"&&(H.preventDefault(),H.stopPropagation()),c(!1,fe);break}}),E.jsx(rp.Provider,{value:I,children:E.jsx(B_.Provider,{value:L,children:o})})}N0.displayName="Dropdown";N0.Menu=FG;N0.Toggle=UG;N0.Item=WG;const DL=Q.createContext({});DL.displayName="DropdownContext";const YG=Q.forwardRef(({className:e,bsPrefix:t,as:r="hr",role:n="separator",...i},a)=>(t=Nt(t,"dropdown-divider"),E.jsx(r,{ref:a,className:Et(e,t),role:n,...i})));YG.displayName="DropdownDivider";const XG=Q.forwardRef(({className:e,bsPrefix:t,as:r="div",role:n="heading",...i},a)=>(t=Nt(t,"dropdown-header"),E.jsx(r,{ref:a,className:Et(e,t),role:n,...i})));XG.displayName="DropdownHeader";const qG=Q.forwardRef(({bsPrefix:e,className:t,eventKey:r,disabled:n=!1,onClick:i,active:a,as:s=xL,...o},l)=>{const u=Nt(e,"dropdown-item"),[c,h]=GG({key:r,href:o.href,disabled:n,onClick:i,active:a});return E.jsx(s,{...o,...c,ref:l,className:Et(t,u,h.isActive&&"active",n&&"disabled")})});qG.displayName="DropdownItem";const KG=Q.forwardRef(({className:e,bsPrefix:t,as:r="span",...n},i)=>(t=Nt(t,"dropdown-item-text"),E.jsx(r,{ref:i,className:Et(e,t),...n})));KG.displayName="DropdownItemText";const Vhe=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",Uhe=typeof document<"u",ZG=Uhe||Vhe?Q.useLayoutEffect:Q.useEffect,ML=Q.createContext(null);ML.displayName="InputGroupContext";const LL=Q.createContext(null);LL.displayName="NavbarContext";function QG(e,t){return e}function JG(e,t,r){const n=r?"top-end":"top-start",i=r?"top-start":"top-end",a=r?"bottom-end":"bottom-start",s=r?"bottom-start":"bottom-end",o=r?"right-start":"left-start",l=r?"right-end":"left-end",u=r?"left-start":"right-start",c=r?"left-end":"right-end";let h=e?s:a;return t==="up"?h=e?i:n:t==="end"?h=e?c:u:t==="start"?h=e?l:o:t==="down-centered"?h="bottom":t==="up-centered"&&(h="top"),h}const eW=Q.forwardRef(({bsPrefix:e,className:t,align:r,rootCloseEvent:n,flip:i=!0,show:a,renderOnMount:s,as:o="div",popperConfig:l,variant:u,...c},h)=>{let f=!1;const d=Q.useContext(LL),v=Nt(e,"dropdown-menu"),{align:m,drop:y,isRTL:b}=Q.useContext(DL);r=r||m;const S=Q.useContext(ML),w=[];if(r)if(typeof r=="object"){const H=Object.keys(r);if(H.length){const G=H[0],$=r[G];f=$==="start",w.push(`${v}-${G}-${$}`)}}else r==="end"&&(f=!0);const k=JG(f,y,b),[M,{hasShown:I,popper:L,show:N,toggle:z}]=BG({flip:i,rootCloseEvent:n,show:a,usePopper:!d&&w.length===0,offset:[0,2],popperConfig:l,placement:k});if(M.ref=Ep(QG(h),M.ref),ZG(()=>{N&&(L==null||L.update())},[N]),!I&&!s&&!S)return null;typeof o!="string"&&(M.show=N,M.close=()=>z==null?void 0:z(!1),M.align=r);let B=c.style;return L!=null&&L.placement&&(B={...c.style,...M.style},c["x-placement"]=L.placement),E.jsx(o,{...c,...M,style:B,...(w.length||d)&&{"data-bs-popper":"static"},className:Et(t,v,N&&"show",f&&`${v}-end`,u&&`${v}-${u}`,...w)})});eW.displayName="DropdownMenu";const tW=Q.forwardRef(({bsPrefix:e,split:t,className:r,childBsPrefix:n,as:i=We,...a},s)=>{const o=Nt(e,"dropdown-toggle"),l=Q.useContext(B_);n!==void 0&&(a.bsPrefix=n);const[u]=VG();return u.ref=Ep(u.ref,QG(s)),E.jsx(i,{className:Et(r,o,t&&`${o}-split`,(l==null?void 0:l.show)&&"show"),...u,...a})});tW.displayName="DropdownToggle";const rW=Q.forwardRef((e,t)=>{const{bsPrefix:r,drop:n="down",show:i,className:a,align:s="start",onSelect:o,onToggle:l,focusFirstItemOnShow:u,as:c="div",navbar:h,autoClose:f=!0,...d}=fL(e,{show:"onToggle"}),v=Q.useContext(ML),m=Nt(r,"dropdown"),y=R_(),b=L=>f===!1?L==="click":f==="inside"?L!=="rootClose":f==="outside"?L!=="select":!0,S=Gh((L,N)=>{var z;!((z=N.originalEvent)==null||(z=z.target)==null)&&z.classList.contains("dropdown-toggle")&&N.source==="mousedown"||(N.originalEvent.currentTarget===document&&(N.source!=="keydown"||N.originalEvent.key==="Escape")&&(N.source="rootClose"),b(N.source)&&(l==null||l(L,N)))}),k=JG(s==="end",n,y),M=Q.useMemo(()=>({align:s,drop:n,isRTL:y}),[s,n,y]),I={down:m,"down-centered":`${m}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return E.jsx(DL.Provider,{value:M,children:E.jsx(N0,{placement:k,show:i,onSelect:o,onToggle:S,focusFirstItemOnShow:u,itemSelector:`.${m}-item:not(.disabled):not(:disabled)`,children:v?d.children:E.jsx(c,{...d,ref:t,className:Et(a,i&&"show",I[n])})})})});rW.displayName="Dropdown";const Nv=Object.assign(rW,{Toggle:tW,Menu:eW,Item:qG,ItemText:KG,Divider:YG,Header:XG});Oi.string,Oi.bool,Oi.bool,Oi.bool,Oi.bool;const nW=Q.forwardRef(({bsPrefix:e,className:t,fluid:r=!1,rounded:n=!1,roundedCircle:i=!1,thumbnail:a=!1,...s},o)=>(e=Nt(e,"img"),E.jsx("img",{ref:o,...s,className:Et(t,r&&`${e}-fluid`,n&&"rounded",i&&"rounded-circle",a&&`${e}-thumbnail`)})));nW.displayName="Image";const Ghe={type:Oi.string,tooltip:Oi.bool,as:Oi.elementType},H_=Q.forwardRef(({as:e="div",className:t,type:r="valid",tooltip:n=!1,...i},a)=>E.jsx(e,{...i,ref:a,className:Et(t,`${r}-${n?"tooltip":"feedback"}`)}));H_.displayName="Feedback";H_.propTypes=Ghe;const _l=Q.createContext({}),NL=Q.forwardRef(({id:e,bsPrefix:t,className:r,type:n="checkbox",isValid:i=!1,isInvalid:a=!1,as:s="input",...o},l)=>{const{controlId:u}=Q.useContext(_l);return t=Nt(t,"form-check-input"),E.jsx(s,{...o,ref:l,type:n,id:e||u,className:Et(r,t,i&&"is-valid",a&&"is-invalid")})});NL.displayName="FormCheckInput";const tS=Q.forwardRef(({bsPrefix:e,className:t,htmlFor:r,...n},i)=>{const{controlId:a}=Q.useContext(_l);return e=Nt(e,"form-check-label"),E.jsx("label",{...n,ref:i,htmlFor:r||a,className:Et(t,e)})});tS.displayName="FormCheckLabel";const iW=Q.forwardRef(({id:e,bsPrefix:t,bsSwitchPrefix:r,inline:n=!1,reverse:i=!1,disabled:a=!1,isValid:s=!1,isInvalid:o=!1,feedbackTooltip:l=!1,feedback:u,feedbackType:c,className:h,style:f,title:d="",type:v="checkbox",label:m,children:y,as:b="input",...S},w)=>{t=Nt(t,"form-check"),r=Nt(r,"form-switch");const{controlId:k}=Q.useContext(_l),M=Q.useMemo(()=>({controlId:e||k}),[k,e]),I=!y&&m!=null&&m!==!1||sce(y,tS),L=E.jsx(NL,{...S,type:v==="switch"?"checkbox":v,ref:w,isValid:s,isInvalid:o,disabled:a,as:b});return E.jsx(_l.Provider,{value:M,children:E.jsx("div",{style:f,className:Et(h,I&&t,n&&`${t}-inline`,i&&`${t}-reverse`,v==="switch"&&r),children:y||E.jsxs(E.Fragment,{children:[L,I&&E.jsx(tS,{title:d,children:m}),u&&E.jsx(H_,{type:c,tooltip:l,children:u})]})})})});iW.displayName="FormCheck";const rS=Object.assign(iW,{Input:NL,Label:tS}),aW=Q.forwardRef(({bsPrefix:e,type:t,size:r,htmlSize:n,id:i,className:a,isValid:s=!1,isInvalid:o=!1,plaintext:l,readOnly:u,as:c="input",...h},f)=>{const{controlId:d}=Q.useContext(_l);return e=Nt(e,"form-control"),E.jsx(c,{...h,type:t,size:n,ref:f,readOnly:u,id:i||d,className:Et(a,l?`${e}-plaintext`:e,r&&`${e}-${r}`,t==="color"&&`${e}-color`,s&&"is-valid",o&&"is-invalid")})});aW.displayName="FormControl";const Whe=Object.assign(aW,{Feedback:H_}),sW=Q.forwardRef(({className:e,bsPrefix:t,as:r="div",...n},i)=>(t=Nt(t,"form-floating"),E.jsx(r,{ref:i,className:Et(e,t),...n})));sW.displayName="FormFloating";const PL=Q.forwardRef(({controlId:e,as:t="div",...r},n)=>{const i=Q.useMemo(()=>({controlId:e}),[e]);return E.jsx(_l.Provider,{value:i,children:E.jsx(t,{...r,ref:n})})});PL.displayName="FormGroup";const oW=Q.forwardRef(({as:e="label",bsPrefix:t,column:r=!1,visuallyHidden:n=!1,className:i,htmlFor:a,...s},o)=>{const{controlId:l}=Q.useContext(_l);t=Nt(t,"form-label");let u="col-form-label";typeof r=="string"&&(u=`${u} ${u}-${r}`);const c=Et(i,t,n&&"visually-hidden",r&&u);return a=a||l,r?E.jsx(Ah,{ref:o,as:"label",className:c,htmlFor:a,...s}):E.jsx(e,{ref:o,className:c,htmlFor:a,...s})});oW.displayName="FormLabel";const lW=Q.forwardRef(({bsPrefix:e,className:t,id:r,...n},i)=>{const{controlId:a}=Q.useContext(_l);return e=Nt(e,"form-range"),E.jsx("input",{...n,type:"range",ref:i,className:Et(t,e),id:r||a})});lW.displayName="FormRange";const uW=Q.forwardRef(({bsPrefix:e,size:t,htmlSize:r,className:n,isValid:i=!1,isInvalid:a=!1,id:s,...o},l)=>{const{controlId:u}=Q.useContext(_l);return e=Nt(e,"form-select"),E.jsx("select",{...o,size:r,ref:l,className:Et(n,e,t&&`${e}-${t}`,i&&"is-valid",a&&"is-invalid"),id:s||u})});uW.displayName="FormSelect";const cW=Q.forwardRef(({bsPrefix:e,className:t,as:r="small",muted:n,...i},a)=>(e=Nt(e,"form-text"),E.jsx(r,{...i,ref:a,className:Et(t,e,n&&"text-muted")})));cW.displayName="FormText";const hW=Q.forwardRef((e,t)=>E.jsx(rS,{...e,ref:t,type:"switch"}));hW.displayName="Switch";const $he=Object.assign(hW,{Input:rS.Input,Label:rS.Label}),fW=Q.forwardRef(({bsPrefix:e,className:t,children:r,controlId:n,label:i,...a},s)=>(e=Nt(e,"form-floating"),E.jsxs(PL,{ref:s,className:Et(t,e),controlId:n,...a,children:[r,E.jsx("label",{htmlFor:n,children:i})]})));fW.displayName="FloatingLabel";const Yhe={_ref:Oi.any,validated:Oi.bool,as:Oi.elementType},RL=Q.forwardRef(({className:e,validated:t,as:r="form",...n},i)=>E.jsx(r,{...n,ref:i,className:Et(e,t&&"was-validated")}));RL.displayName="Form";RL.propTypes=Yhe;const Tt=Object.assign(RL,{Group:PL,Control:Whe,Floating:sW,Check:rS,Switch:$he,Label:oW,Text:cW,Range:lW,Select:uW,FloatingLabel:fW}),H5=e=>!e||typeof e=="function"?e:t=>{e.current=t};function Xhe(e,t){const r=H5(e),n=H5(t);return i=>{r&&r(i),n&&n(i)}}function P0(e,t){return Q.useMemo(()=>Xhe(e,t),[e,t])}const dW=Q.createContext(null),qhe=["as","active","eventKey"];function Khe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function OL({key:e,onClick:t,active:r,id:n,role:i,disabled:a}){const s=Q.useContext(rp),o=Q.useContext(z_),l=Q.useContext(dW);let u=r;const c={role:i};if(o){!i&&o.role==="tablist"&&(c.role="tab");const h=o.getControllerId(e??null),f=o.getControlledId(e??null);c[Ap("event-key")]=e,c.id=h||n,u=r==null&&e!=null?o.activeKey===e:r,(u||!(l!=null&&l.unmountOnExit)&&!(l!=null&&l.mountOnEnter))&&(c["aria-controls"]=f)}return c.role==="tab"&&(c["aria-selected"]=u,u||(c.tabIndex=-1),a&&(c.tabIndex=-1,c["aria-disabled"]=!0)),c.onClick=ri(h=>{a||(t==null||t(h),e!=null&&s&&!h.isPropagationStopped()&&s(e,h))}),[c,{isActive:u}]}const pW=Q.forwardRef((e,t)=>{let{as:r=yL,active:n,eventKey:i}=e,a=Khe(e,qhe);const[s,o]=OL(Object.assign({key:np(i,a.href),active:n},a));return s[Ap("active")]=o.isActive,E.jsx(r,Object.assign({},a,s,{ref:t}))});pW.displayName="NavItem";const Zhe=["as","onSelect","activeKey","role","onKeyDown"];function Qhe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}const V5=()=>{},U5=Ap("event-key"),vW=Q.forwardRef((e,t)=>{let{as:r="div",onSelect:n,activeKey:i,role:a,onKeyDown:s}=e,o=Qhe(e,Zhe);const l=TG(),u=Q.useRef(!1),c=Q.useContext(rp),h=Q.useContext(dW);let f,d;h&&(a=a||"tablist",i=h.activeKey,f=h.getControlledId,d=h.getControllerId);const v=Q.useRef(null),m=w=>{const k=v.current;if(!k)return null;const M=tl(k,`[${U5}]:not([aria-disabled=true])`),I=k.querySelector("[aria-selected=true]");if(!I||I!==document.activeElement)return null;const L=M.indexOf(I);if(L===-1)return null;let N=L+w;return N>=M.length&&(N=0),N<0&&(N=M.length-1),M[N]},y=(w,k)=>{w!=null&&(n==null||n(w,k),c==null||c(w,k))},b=w=>{if(s==null||s(w),!h)return;let k;switch(w.key){case"ArrowLeft":case"ArrowUp":k=m(-1);break;case"ArrowRight":case"ArrowDown":k=m(1);break;default:return}k&&(w.preventDefault(),y(k.dataset[zhe("EventKey")]||null,w),u.current=!0,l())};Q.useEffect(()=>{if(v.current&&u.current){const w=v.current.querySelector(`[${U5}][aria-selected=true]`);w==null||w.focus()}u.current=!1});const S=P0(t,v);return E.jsx(rp.Provider,{value:y,children:E.jsx(z_.Provider,{value:{role:a,activeKey:np(i),getControlledId:f||V5,getControllerId:d||V5},children:E.jsx(r,Object.assign({},o,{onKeyDown:b,ref:S,role:a}))})})});vW.displayName="Nav";const gW=Object.assign(vW,{Item:pW}),mW=Q.forwardRef(({bsPrefix:e,active:t,disabled:r,eventKey:n,className:i,variant:a,action:s,as:o,...l},u)=>{e=Nt(e,"list-group-item");const[c,h]=OL({key:np(n,l.href),active:t,...l}),f=Gh(v=>{if(r){v.preventDefault(),v.stopPropagation();return}c.onClick(v)});r&&l.tabIndex===void 0&&(l.tabIndex=-1,l["aria-disabled"]=!0);const d=o||(s?l.href?"a":"button":"div");return E.jsx(d,{ref:u,...l,...c,onClick:f,className:Et(i,e,h.isActive&&"active",r&&"disabled",a&&`${e}-${a}`,s&&`${e}-action`)})});mW.displayName="ListGroupItem";const yW=Q.forwardRef((e,t)=>{const{className:r,bsPrefix:n,variant:i,horizontal:a,numbered:s,as:o="div",...l}=fL(e,{activeKey:"onSelect"}),u=Nt(n,"list-group");let c;return a&&(c=a===!0?"horizontal":`horizontal-${a}`),E.jsx(gW,{ref:t,...l,as:o,className:Et(r,u,i&&`${u}-${i}`,c&&`${u}-${c}`,s&&`${u}-numbered`)})});yW.displayName="ListGroup";const nS=Object.assign(yW,{Item:mW});var k1;function G5(e){if((!k1&&k1!==0||e)&&Cp){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),k1=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return k1}function Jhe(){return Q.useState(null)}function GC(e){e===void 0&&(e=wp());try{var t=e.activeElement;return!t||!t.nodeName?null:t}catch{return e.body}}function efe(e){const t=Q.useRef(e);return t.current=e,t}function tfe(e){const t=efe(e);Q.useEffect(()=>()=>t.current(),[])}function rfe(e=document){const t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}const W5=Ap("modal-open");class BL{constructor({ownerDocument:t,handleContainerOverflow:r=!0,isRTL:n=!1}={}){this.handleContainerOverflow=r,this.isRTL=n,this.modals=[],this.ownerDocument=t}getScrollbarWidth(){return rfe(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(t){}removeModalAttributes(t){}setContainerStyle(t){const r={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",i=this.getElement();t.style={overflow:i.style.overflow,[n]:i.style[n]},t.scrollBarWidth&&(r[n]=`${parseInt(pl(i,n)||"0",10)+t.scrollBarWidth}px`),i.setAttribute(W5,""),pl(i,r)}reset(){[...this.modals].forEach(t=>this.remove(t))}removeContainerStyle(t){const r=this.getElement();r.removeAttribute(W5),Object.assign(r.style,t.style)}add(t){let r=this.modals.indexOf(t);return r!==-1||(r=this.modals.length,this.modals.push(t),this.setModalAttributes(t),r!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),r}remove(t){const r=this.modals.indexOf(t);r!==-1&&(this.modals.splice(r,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(t))}isTopModal(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t}}const WC=(e,t)=>Cp?e==null?(t||wp()).body:(typeof e=="function"&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null;function Yk(e,t){const r=j_(),[n,i]=Q.useState(()=>WC(e,r==null?void 0:r.document));if(!n){const a=WC(e);a&&i(a)}return Q.useEffect(()=>{},[t,n]),Q.useEffect(()=>{const a=WC(e);a!==n&&i(a)},[e,n]),n}function nfe({children:e,in:t,onExited:r,mountOnEnter:n,unmountOnExit:i}){const a=Q.useRef(null),s=Q.useRef(t),o=ri(r);Q.useEffect(()=>{t?s.current=!0:o(a.current)},[t,o]);const l=P0(a,Tp(e)),u=Q.cloneElement(e,{ref:l});return t?u:i||!s.current&&n?null:u}const ife=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function afe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function sfe(e){let{onEnter:t,onEntering:r,onEntered:n,onExit:i,onExiting:a,onExited:s,addEndListener:o,children:l}=e,u=afe(e,ife);const c=Q.useRef(null),h=P0(c,Tp(l)),f=k=>M=>{k&&c.current&&k(c.current,M)},d=Q.useCallback(f(t),[t]),v=Q.useCallback(f(r),[r]),m=Q.useCallback(f(n),[n]),y=Q.useCallback(f(i),[i]),b=Q.useCallback(f(a),[a]),S=Q.useCallback(f(s),[s]),w=Q.useCallback(f(o),[o]);return Object.assign({},u,{nodeRef:c},t&&{onEnter:d},r&&{onEntering:v},n&&{onEntered:m},i&&{onExit:y},a&&{onExiting:b},s&&{onExited:S},o&&{addEndListener:w},{children:typeof l=="function"?(k,M)=>l(k,Object.assign({},M,{ref:h})):Q.cloneElement(l,{ref:h})})}const ofe=["component"];function lfe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}const ufe=Q.forwardRef((e,t)=>{let{component:r}=e,n=lfe(e,ofe);const i=sfe(n);return E.jsx(r,Object.assign({ref:t},i))});function cfe({in:e,onTransition:t}){const r=Q.useRef(null),n=Q.useRef(!0),i=ri(t);return C5(()=>{if(!r.current)return;let a=!1;return i({in:e,element:r.current,initial:n.current,isStale:()=>a}),()=>{a=!0}},[e,i]),C5(()=>(n.current=!1,()=>{n.current=!0}),[]),r}function hfe({children:e,in:t,onExited:r,onEntered:n,transition:i}){const[a,s]=Q.useState(!t);t&&a&&s(!1);const o=cfe({in:!!t,onTransition:u=>{const c=()=>{u.isStale()||(u.in?n==null||n(u.element,u.initial):(s(!0),r==null||r(u.element)))};Promise.resolve(i(u)).then(c,h=>{throw u.in||s(!0),h})}}),l=P0(o,Tp(e));return a&&!t?null:Q.cloneElement(e,{ref:l})}function Xk(e,t,r){return e?E.jsx(ufe,Object.assign({},r,{component:e})):t?E.jsx(hfe,Object.assign({},r,{transition:t})):E.jsx(nfe,Object.assign({},r))}const ffe=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function dfe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}let $C;function pfe(e){return $C||($C=new BL({ownerDocument:e==null?void 0:e.document})),$C}function vfe(e){const t=j_(),r=e||pfe(t),n=Q.useRef({dialog:null,backdrop:null});return Object.assign(n.current,{add:()=>r.add(n.current),remove:()=>r.remove(n.current),isTopModal:()=>r.isTopModal(n.current),setDialogRef:Q.useCallback(i=>{n.current.dialog=i},[]),setBackdropRef:Q.useCallback(i=>{n.current.backdrop=i},[])})}const xW=Q.forwardRef((e,t)=>{let{show:r=!1,role:n="dialog",className:i,style:a,children:s,backdrop:o=!0,keyboard:l=!0,onBackdropClick:u,onEscapeKeyDown:c,transition:h,runTransition:f,backdropTransition:d,runBackdropTransition:v,autoFocus:m=!0,enforceFocus:y=!0,restoreFocus:b=!0,restoreFocusOptions:S,renderDialog:w,renderBackdrop:k=Ae=>E.jsx("div",Object.assign({},Ae)),manager:M,container:I,onShow:L,onHide:N=()=>{},onExit:z,onExited:B,onExiting:H,onEnter:G,onEntering:$,onEntered:W}=e,X=dfe(e,ffe);const ee=j_(),le=Yk(I),ie=vfe(M),fe=cG(),re=hG(r),[me,J]=Q.useState(!r),te=Q.useRef(null);Q.useImperativeHandle(t,()=>ie,[ie]),Cp&&!re&&r&&(te.current=GC(ee==null?void 0:ee.document)),r&&me&&J(!1);const ue=ri(()=>{if(ie.add(),Ve.current=al(document,"keydown",Pe),Te.current=al(document,"focus",()=>setTimeout(Se),!0),L&&L(),m){var Ae,Le;const Ge=GC((Ae=(Le=ie.dialog)==null?void 0:Le.ownerDocument)!=null?Ae:ee==null?void 0:ee.document);ie.dialog&&Ge&&!Hm(ie.dialog,Ge)&&(te.current=Ge,ie.dialog.focus())}}),pe=ri(()=>{if(ie.remove(),Ve.current==null||Ve.current(),Te.current==null||Te.current(),b){var Ae;(Ae=te.current)==null||Ae.focus==null||Ae.focus(S),te.current=null}});Q.useEffect(()=>{!r||!le||ue()},[r,le,ue]),Q.useEffect(()=>{me&&pe()},[me,pe]),tfe(()=>{pe()});const Se=ri(()=>{if(!y||!fe()||!ie.isTopModal())return;const Ae=GC(ee==null?void 0:ee.document);ie.dialog&&Ae&&!Hm(ie.dialog,Ae)&&ie.dialog.focus()}),je=ri(Ae=>{Ae.target===Ae.currentTarget&&(u==null||u(Ae),o===!0&&N())}),Pe=ri(Ae=>{l&&sG(Ae)&&ie.isTopModal()&&(c==null||c(Ae),Ae.defaultPrevented||N())}),Te=Q.useRef(),Ve=Q.useRef(),ze=(...Ae)=>{J(!0),B==null||B(...Ae)};if(!le)return null;const $e=Object.assign({role:n,ref:ie.setDialogRef,"aria-modal":n==="dialog"?!0:void 0},X,{style:a,className:i,tabIndex:-1});let ce=w?w($e):E.jsx("div",Object.assign({},$e,{children:Q.cloneElement(s,{role:"document"})}));ce=Xk(h,f,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!r,onExit:z,onExiting:H,onExited:ze,onEnter:G,onEntering:$,onEntered:W,children:ce});let ve=null;return o&&(ve=k({ref:ie.setBackdropRef,onClick:je}),ve=Xk(d,v,{in:!!r,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:ve})),E.jsx(E.Fragment,{children:vh.createPortal(E.jsxs(E.Fragment,{children:[ve,ce]}),le)})});xW.displayName="Modal";const gfe=Object.assign(xW,{Manager:BL});function qk(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function mfe(e,t){e.classList?e.classList.add(t):qk(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function $5(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function yfe(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=$5(e.className,t):e.setAttribute("class",$5(e.className&&e.className.baseVal||"",t))}const Lf={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class xfe extends BL{adjustAndStore(t,r,n){const i=r.style[t];r.dataset[t]=i,pl(r,{[t]:`${parseFloat(pl(r,t))+n}px`})}restore(t,r){const n=r.dataset[t];n!==void 0&&(delete r.dataset[t],pl(r,{[t]:n}))}setContainerStyle(t){super.setContainerStyle(t);const r=this.getElement();if(mfe(r,"modal-open"),!t.scrollBarWidth)return;const n=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";tl(r,Lf.FIXED_CONTENT).forEach(a=>this.adjustAndStore(n,a,t.scrollBarWidth)),tl(r,Lf.STICKY_CONTENT).forEach(a=>this.adjustAndStore(i,a,-t.scrollBarWidth)),tl(r,Lf.NAVBAR_TOGGLER).forEach(a=>this.adjustAndStore(i,a,t.scrollBarWidth))}removeContainerStyle(t){super.removeContainerStyle(t);const r=this.getElement();yfe(r,"modal-open");const n=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";tl(r,Lf.FIXED_CONTENT).forEach(a=>this.restore(n,a)),tl(r,Lf.STICKY_CONTENT).forEach(a=>this.restore(i,a)),tl(r,Lf.NAVBAR_TOGGLER).forEach(a=>this.restore(i,a))}}let YC;function bfe(e){return YC||(YC=new xfe(e)),YC}const bW=Q.forwardRef(({className:e,bsPrefix:t,as:r="div",...n},i)=>(t=Nt(t,"modal-body"),E.jsx(r,{ref:i,className:Et(e,t),...n})));bW.displayName="ModalBody";const SW=Q.createContext({onHide(){}}),FL=Q.forwardRef(({bsPrefix:e,className:t,contentClassName:r,centered:n,size:i,fullscreen:a,children:s,scrollable:o,...l},u)=>{e=Nt(e,"modal");const c=`${e}-dialog`,h=typeof a=="string"?`${e}-fullscreen-${a}`:`${e}-fullscreen`;return E.jsx("div",{...l,ref:u,className:Et(c,t,i&&`${e}-${i}`,n&&`${c}-centered`,o&&`${c}-scrollable`,a&&h),children:E.jsx("div",{className:Et(`${e}-content`,r),children:s})})});FL.displayName="ModalDialog";const _W=Q.forwardRef(({className:e,bsPrefix:t,as:r="div",...n},i)=>(t=Nt(t,"modal-footer"),E.jsx(r,{ref:i,className:Et(e,t),...n})));_W.displayName="ModalFooter";const wW=Q.forwardRef(({closeLabel:e="Close",closeVariant:t,closeButton:r=!1,onHide:n,children:i,...a},s)=>{const o=Q.useContext(SW),l=Gh(()=>{o==null||o.onHide(),n==null||n()});return E.jsxs("div",{ref:s,...a,children:[i,r&&E.jsx(O_,{"aria-label":e,variant:t,onClick:l})]})});wW.displayName="AbstractModalHeader";const TW=Q.forwardRef(({bsPrefix:e,className:t,closeLabel:r="Close",closeButton:n=!1,...i},a)=>(e=Nt(e,"modal-header"),E.jsx(wW,{ref:a,...i,className:Et(t,e),closeLabel:r,closeButton:n})));TW.displayName="ModalHeader";const Sfe=gL("h4"),CW=Q.forwardRef(({className:e,bsPrefix:t,as:r=Sfe,...n},i)=>(t=Nt(t,"modal-title"),E.jsx(r,{ref:i,className:Et(e,t),...n})));CW.displayName="ModalTitle";function _fe(e){return E.jsx(Zd,{...e,timeout:null})}function wfe(e){return E.jsx(Zd,{...e,timeout:null})}const EW=Q.forwardRef(({bsPrefix:e,className:t,style:r,dialogClassName:n,contentClassName:i,children:a,dialogAs:s=FL,"data-bs-theme":o,"aria-labelledby":l,"aria-describedby":u,"aria-label":c,show:h=!1,animation:f=!0,backdrop:d=!0,keyboard:v=!0,onEscapeKeyDown:m,onShow:y,onHide:b,container:S,autoFocus:w=!0,enforceFocus:k=!0,restoreFocus:M=!0,restoreFocusOptions:I,onEntered:L,onExit:N,onExiting:z,onEnter:B,onEntering:H,onExited:G,backdropClassName:$,manager:W,...X},ee)=>{const[le,ie]=Q.useState({}),[fe,re]=Q.useState(!1),me=Q.useRef(!1),J=Q.useRef(!1),te=Q.useRef(null),[ue,pe]=Jhe(),Se=Ep(ee,pe),je=Gh(b),Pe=R_();e=Nt(e,"modal");const Te=Q.useMemo(()=>({onHide:je}),[je]);function Ve(){return W||bfe({isRTL:Pe})}function ze(Ce){if(!Cp)return;const ke=Ve().getScrollbarWidth()>0,ht=Ce.scrollHeight>wp(Ce).documentElement.clientHeight;ie({paddingRight:ke&&!ht?G5():void 0,paddingLeft:!ke&&ht?G5():void 0})}const $e=Gh(()=>{ue&&ze(ue.dialog)});SG(()=>{Vk(window,"resize",$e),te.current==null||te.current()});const ce=()=>{me.current=!0},ve=Ce=>{me.current&&ue&&Ce.target===ue.dialog&&(J.current=!0),me.current=!1},Ae=()=>{re(!0),te.current=oG(ue.dialog,()=>{re(!1)})},Le=Ce=>{Ce.target===Ce.currentTarget&&Ae()},Ge=Ce=>{if(d==="static"){Le(Ce);return}if(J.current||Ce.target!==Ce.currentTarget){J.current=!1;return}b==null||b()},nt=Ce=>{v?m==null||m(Ce):(Ce.preventDefault(),d==="static"&&Ae())},lt=(Ce,ke)=>{Ce&&ze(Ce),B==null||B(Ce,ke)},He=Ce=>{te.current==null||te.current(),N==null||N(Ce)},Ee=(Ce,ke)=>{H==null||H(Ce,ke),dL(window,"resize",$e)},Ye=Ce=>{Ce&&(Ce.style.display=""),G==null||G(Ce),Vk(window,"resize",$e)},ut=Q.useCallback(Ce=>E.jsx("div",{...Ce,className:Et(`${e}-backdrop`,$,!f&&"show")}),[f,$,e]),et={...r,...le};et.display="block";const ft=Ce=>E.jsx("div",{role:"dialog",...Ce,style:et,className:Et(t,e,fe&&`${e}-static`,!f&&"show"),onClick:d?Ge:void 0,onMouseUp:ve,"data-bs-theme":o,"aria-label":c,"aria-labelledby":l,"aria-describedby":u,children:E.jsx(s,{...X,onMouseDown:ce,className:n,contentClassName:i,children:a})});return E.jsx(SW.Provider,{value:Te,children:E.jsx(gfe,{show:h,ref:Se,backdrop:d,container:S,keyboard:!0,autoFocus:w,enforceFocus:k,restoreFocus:M,restoreFocusOptions:I,onEscapeKeyDown:nt,onShow:y,onHide:b,onEnter:lt,onEntering:Ee,onEntered:L,onExit:He,onExiting:z,onExited:Ye,manager:Ve(),transition:f?_fe:void 0,backdropTransition:f?wfe:void 0,renderBackdrop:ut,renderDialog:ft})})});EW.displayName="Modal";const bt=Object.assign(EW,{Body:bW,Header:TW,Title:CW,Footer:_W,Dialog:FL,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),AW=Q.forwardRef(({className:e,bsPrefix:t,as:r="div",...n},i)=>(t=Nt(t,"nav-item"),E.jsx(r,{ref:i,className:Et(e,t),...n})));AW.displayName="NavItem";const kW=Q.forwardRef(({bsPrefix:e,className:t,as:r=xL,active:n,eventKey:i,disabled:a=!1,...s},o)=>{e=Nt(e,"nav-link");const[l,u]=OL({key:np(i,s.href),active:n,disabled:a,...s});return E.jsx(r,{...s,...l,ref:o,disabled:a,className:Et(t,e,a&&"disabled",u.isActive&&"active")})});kW.displayName="NavLink";const IW=Q.forwardRef((e,t)=>{const{as:r="div",bsPrefix:n,variant:i,fill:a=!1,justify:s=!1,navbar:o,navbarScroll:l,className:u,activeKey:c,...h}=fL(e,{activeKey:"onSelect"}),f=Nt(n,"nav");let d,v,m=!1;const y=Q.useContext(LL),b=Q.useContext(_L);return y?(d=y.bsPrefix,m=o??!0):b&&({cardHeaderBsPrefix:v}=b),E.jsx(gW,{as:r,ref:t,activeKey:c,className:Et(u,{[f]:!m,[`${d}-nav`]:m,[`${d}-nav-scroll`]:m&&l,[`${v}-${i}`]:!!v,[`${f}-${i}`]:!!i,[`${f}-fill`]:a,[`${f}-justified`]:s}),...h})});IW.displayName="Nav";const ti=Object.assign(IW,{Item:AW,Link:kW}),Tfe=()=>{};function Cfe(e,t,{disabled:r,clickTrigger:n}={}){const i=t||Tfe;RG(e,i,{disabled:r,clickTrigger:n});const a=ri(s=>{sG(s)&&i(s)});Q.useEffect(()=>{if(r||e==null)return;const s=wp(rb(e));let o=(s.defaultView||window).event;const l=al(s,"keyup",u=>{if(u===o){o=void 0;return}a(u)});return()=>{l()}},[e,r,a])}const DW=Q.forwardRef((e,t)=>{const{flip:r,offset:n,placement:i,containerPadding:a,popperConfig:s={},transition:o,runTransition:l}=e,[u,c]=Uk(),[h,f]=Uk(),d=P0(c,t),v=Yk(e.container),m=Yk(e.target),[y,b]=Q.useState(!e.show),S=PG(m,u,OG({placement:i,enableEvents:!!e.show,containerPadding:a||5,flip:r,offset:n,arrowElement:h,popperConfig:s}));e.show&&y&&b(!1);const w=(...H)=>{b(!0),e.onExited&&e.onExited(...H)},k=e.show||!y;if(Cfe(u,e.onHide,{disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent}),!k)return null;const{onExit:M,onExiting:I,onEnter:L,onEntering:N,onEntered:z}=e;let B=e.children(Object.assign({},S.attributes.popper,{style:S.styles.popper,ref:d}),{popper:S,placement:i,show:!!e.show,arrowProps:Object.assign({},S.attributes.arrow,{style:S.styles.arrow,ref:f})});return B=Xk(o,l,{in:!!e.show,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:B,onExit:M,onExiting:I,onExited:w,onEnter:L,onEntering:N,onEntered:z}),v?vh.createPortal(B,v):null});DW.displayName="Overlay";const MW=Q.forwardRef(({className:e,bsPrefix:t,as:r="div",...n},i)=>(t=Nt(t,"popover-header"),E.jsx(r,{ref:i,className:Et(e,t),...n})));MW.displayName="PopoverHeader";const zL=Q.forwardRef(({className:e,bsPrefix:t,as:r="div",...n},i)=>(t=Nt(t,"popover-body"),E.jsx(r,{ref:i,className:Et(e,t),...n})));zL.displayName="PopoverBody";function LW(e,t){let r=e;return e==="left"?r=t?"end":"start":e==="right"&&(r=t?"start":"end"),r}function NW(e="absolute"){return{position:e,top:"0",left:"0",opacity:"0",pointerEvents:"none"}}const PW=Q.forwardRef(({bsPrefix:e,placement:t="right",className:r,style:n,children:i,body:a,arrowProps:s,hasDoneInitialMeasure:o,popper:l,show:u,...c},h)=>{const f=Nt(e,"popover"),d=R_(),[v]=(t==null?void 0:t.split("-"))||[],m=LW(v,d);let y=n;return u&&!o&&(y={...n,...NW(l==null?void 0:l.strategy)}),E.jsxs("div",{ref:h,role:"tooltip",style:y,"x-placement":v,className:Et(r,f,v&&`bs-popover-${m}`),...c,children:[E.jsx("div",{className:"popover-arrow",...s}),a?E.jsx(zL,{children:i}):i]})});PW.displayName="Popover";const nb=Object.assign(PW,{Header:MW,Body:zL,POPPER_OFFSET:[0,8]}),RW=Q.forwardRef(({bsPrefix:e,placement:t="right",className:r,style:n,children:i,arrowProps:a,hasDoneInitialMeasure:s,popper:o,show:l,...u},c)=>{e=Nt(e,"tooltip");const h=R_(),[f]=(t==null?void 0:t.split("-"))||[],d=LW(f,h);let v=n;return l&&!s&&(v={...n,...NW(o==null?void 0:o.strategy)}),E.jsxs("div",{ref:c,style:v,role:"tooltip","x-placement":f,className:Et(r,e,`bs-tooltip-${d}`),...u,children:[E.jsx("div",{className:"tooltip-arrow",...a}),E.jsx("div",{className:`${e}-inner`,children:i})]})});RW.displayName="Tooltip";const Efe=Object.assign(RW,{TOOLTIP_OFFSET:[0,6]});function Afe(e){const t=Q.useRef(null),r=Nt(void 0,"popover"),n=Nt(void 0,"tooltip"),i=Q.useMemo(()=>({name:"offset",options:{offset:()=>{if(e)return e;if(t.current){if(qk(t.current,r))return nb.POPPER_OFFSET;if(qk(t.current,n))return Efe.TOOLTIP_OFFSET}return[0,0]}}}),[e,r,n]);return[t,[i]]}function kfe(e,t){const{ref:r}=e,{ref:n}=t;e.ref=r.__wrapped||(r.__wrapped=i=>r(Qb(i))),t.ref=n.__wrapped||(n.__wrapped=i=>n(Qb(i)))}const OW=Q.forwardRef(({children:e,transition:t=Zd,popperConfig:r={},rootClose:n=!1,placement:i="top",show:a=!1,...s},o)=>{const l=Q.useRef({}),[u,c]=Q.useState(null),[h,f]=Afe(s.offset),d=Ep(o,h),v=t===!0?Zd:t||void 0,m=Gh(y=>{c(y),r==null||r.onFirstUpdate==null||r.onFirstUpdate(y)});return ZG(()=>{u&&s.target&&(l.current.scheduleUpdate==null||l.current.scheduleUpdate())},[u,s.target]),Q.useEffect(()=>{a||c(null)},[a]),E.jsx(DW,{...s,ref:d,popperConfig:{...r,modifiers:f.concat(r.modifiers||[]),onFirstUpdate:m},transition:v,rootClose:n,placement:i,show:a,children:(y,{arrowProps:b,popper:S,show:w})=>{var k;kfe(y,b);const M=S==null?void 0:S.placement,I=Object.assign(l.current,{state:S==null?void 0:S.state,scheduleUpdate:S==null?void 0:S.update,placement:M,outOfBoundaries:(S==null||(k=S.state)==null||(k=k.modifiersData.hide)==null?void 0:k.isReferenceHidden)||!1,strategy:r.strategy}),L=!!u;return typeof e=="function"?e({...y,placement:M,show:w,...!t&&w&&{className:"show"},popper:I,arrowProps:b,hasDoneInitialMeasure:L}):Q.cloneElement(e,{...y,placement:M,arrowProps:b,popper:I,hasDoneInitialMeasure:L,className:Et(e.props.className,!t&&w&&"show"),style:{...e.props.style,...y.style}})}})});OW.displayName="Overlay";function Ife(e){return e&&typeof e=="object"?e:{show:e,hide:e}}function Y5(e,t,r){const[n]=t,i=n.currentTarget,a=n.relatedTarget||n.nativeEvent[r];(!a||a!==i)&&!Hm(i,a)&&e(...t)}Oi.oneOf(["click","hover","focus"]);const Dfe=({trigger:e=["hover","focus"],overlay:t,children:r,popperConfig:n={},show:i,defaultShow:a=!1,onToggle:s,delay:o,placement:l,flip:u=l&&l.indexOf("auto")!==-1,...c})=>{const h=Q.useRef(null),f=Ep(h,Tp(r)),d=wG(),v=Q.useRef(""),[m,y]=JU(i,a,s),b=Ife(o),{onFocus:S,onBlur:w,onClick:k}=typeof r!="function"?Q.Children.only(r).props:{},M=X=>{f(Qb(X))},I=Q.useCallback(()=>{if(d.clear(),v.current="show",!b.show){y(!0);return}d.set(()=>{v.current==="show"&&y(!0)},b.show)},[b.show,y,d]),L=Q.useCallback(()=>{if(d.clear(),v.current="hide",!b.hide){y(!1);return}d.set(()=>{v.current==="hide"&&y(!1)},b.hide)},[b.hide,y,d]),N=Q.useCallback((...X)=>{I(),S==null||S(...X)},[I,S]),z=Q.useCallback((...X)=>{L(),w==null||w(...X)},[L,w]),B=Q.useCallback((...X)=>{y(!m),k==null||k(...X)},[k,y,m]),H=Q.useCallback((...X)=>{Y5(I,X,"fromElement")},[I]),G=Q.useCallback((...X)=>{Y5(L,X,"toElement")},[L]),$=e==null?[]:[].concat(e),W={ref:M};return $.indexOf("click")!==-1&&(W.onClick=B),$.indexOf("focus")!==-1&&(W.onFocus=N,W.onBlur=z),$.indexOf("hover")!==-1&&(W.onMouseOver=H,W.onMouseOut=G),E.jsxs(E.Fragment,{children:[typeof r=="function"?r(W):Q.cloneElement(r,W),E.jsx(OW,{...c,show:m,onHide:L,flip:u,placement:l,popperConfig:n,target:h.current,children:t})]})},jL=Q.forwardRef(({bsPrefix:e,className:t,as:r="div",...n},i)=>{const a=Nt(e,"row"),s=eG(),o=tG(),l=`${a}-cols`,u=[];return s.forEach(c=>{const h=n[c];delete n[c];let f;h!=null&&typeof h=="object"?{cols:f}=h:f=h;const d=c!==o?`-${c}`:"";f!=null&&u.push(`${l}${d}-${f}`)}),E.jsx(r,{ref:i,...n,className:Et(t,a,...u)})});jL.displayName="Row";const BW=Q.forwardRef(({bsPrefix:e,variant:t,animation:r="border",size:n,as:i="div",className:a,...s},o)=>{e=Nt(e,"spinner");const l=`${e}-${r}`;return E.jsx(i,{ref:o,...s,className:Et(a,l,n&&`${l}-${n}`,t&&`text-${t}`)})});BW.displayName="Spinner";const $h=Q.forwardRef(({bsPrefix:e,className:t,striped:r,bordered:n,borderless:i,hover:a,size:s,variant:o,responsive:l,...u},c)=>{const h=Nt(e,"table"),f=Et(t,h,o&&`${h}-${o}`,s&&`${h}-${s}`,r&&`${h}-${typeof r=="string"?`striped-${r}`:"striped"}`,n&&`${h}-bordered`,i&&`${h}-borderless`,a&&`${h}-hover`),d=E.jsx("table",{...u,className:f,ref:c});if(l){let v=`${h}-responsive`;return typeof l=="string"&&(v=`${v}-${l}`),E.jsx("div",{className:v,children:d})}return d});$h.displayName="Table";const Mfe={[mo]:"showing",[Fm]:"showing show"},FW=Q.forwardRef((e,t)=>E.jsx(Zd,{...e,ref:t,transitionClasses:Mfe}));FW.displayName="ToastFade";const zW=Q.createContext({onClose(){}}),jW=Q.forwardRef(({bsPrefix:e,closeLabel:t="Close",closeVariant:r,closeButton:n=!0,className:i,children:a,...s},o)=>{e=Nt(e,"toast-header");const l=Q.useContext(zW),u=Gh(c=>{l==null||l.onClose==null||l.onClose(c)});return E.jsxs("div",{ref:o,...s,className:Et(e,i),children:[a,n&&E.jsx(O_,{"aria-label":t,variant:r,onClick:u,"data-dismiss":"toast"})]})});jW.displayName="ToastHeader";const HW=Q.forwardRef(({className:e,bsPrefix:t,as:r="div",...n},i)=>(t=Nt(t,"toast-body"),E.jsx(r,{ref:i,className:Et(e,t),...n})));HW.displayName="ToastBody";const VW=Q.forwardRef(({bsPrefix:e,className:t,transition:r=FW,show:n=!0,animation:i=!0,delay:a=5e3,autohide:s=!1,onClose:o,onEntered:l,onExit:u,onExiting:c,onEnter:h,onEntering:f,onExited:d,bg:v,...m},y)=>{e=Nt(e,"toast");const b=Q.useRef(a),S=Q.useRef(o);Q.useEffect(()=>{b.current=a,S.current=o},[a,o]);const w=wG(),k=!!(s&&n),M=Q.useCallback(()=>{k&&(S.current==null||S.current())},[k]);Q.useEffect(()=>{w.set(M,b.current)},[w,M]);const I=Q.useMemo(()=>({onClose:o}),[o]),L=!!(r&&i),N=E.jsx("div",{...m,ref:y,className:Et(e,t,v&&`bg-${v}`,!L&&(n?"show":"hide")),role:"alert","aria-live":"assertive","aria-atomic":"true"});return E.jsx(zW.Provider,{value:I,children:L&&r?E.jsx(r,{in:n,onEnter:h,onEntering:f,onEntered:l,onExit:u,onExiting:c,onExited:d,unmountOnExit:!0,children:N}):N})});VW.displayName="Toast";const XC=Object.assign(VW,{Body:HW,Header:jW}),Lfe={"top-start":"top-0 start-0","top-center":"top-0 start-50 translate-middle-x","top-end":"top-0 end-0","middle-start":"top-50 start-0 translate-middle-y","middle-center":"top-50 start-50 translate-middle","middle-end":"top-50 end-0 translate-middle-y","bottom-start":"bottom-0 start-0","bottom-center":"bottom-0 start-50 translate-middle-x","bottom-end":"bottom-0 end-0"},UW=Q.forwardRef(({bsPrefix:e,position:t,containerPosition:r,className:n,as:i="div",...a},s)=>(e=Nt(e,"toast-container"),E.jsx(i,{ref:s,...a,className:Et(e,t&&Lfe[t],r&&`position-${r}`,n)})));UW.displayName="ToastContainer";/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Nfe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pfe=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=(e,t)=>{const r=Q.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:s,className:o="",children:l,...u},c)=>Q.createElement("svg",{ref:c,...Nfe,width:i,height:i,stroke:n,strokeWidth:s?Number(a)*24/Number(i):a,className:["lucide",`lucide-${Pfe(e)}`,o].join(" "),...u},[...t.map(([h,f])=>Q.createElement(h,f)),...Array.isArray(l)?l:[l]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GW=er("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rfe=er("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ofe=er("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bfe=er("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WW=er("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bu=er("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $W=er("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YW=er("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ffe=er("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zfe=er("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XW=er("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jfe=er("Clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hfe=er("CloudDownload",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m8 17 4 4 4-4",key:"1ul180"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vfe=er("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qW=er("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ufe=er("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gfe=er("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HL=er("FileUp",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wfe=er("Files",[["path",{d:"M20 7h-3a2 2 0 0 1-2-2V2",key:"x099mo"}],["path",{d:"M9 18a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h7l4 4v10a2 2 0 0 1-2 2Z",key:"18t6ie"}],["path",{d:"M3 7.6v12.8A1.6 1.6 0 0 0 4.6 22h9.8",key:"1nja0z"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $fe=er("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KW=er("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZW=er("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yfe=er("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xfe=er("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iS=er("MessageSquarePlus",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M12 7v6",key:"lw1j43"}],["path",{d:"M9 10h6",key:"9gxzsh"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qfe=er("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kfe=er("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QW=er("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sl=er("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zfe=er("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qfe=er("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JW=er("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e$=er("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kk=er("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jfe=er("SquareCheckBig",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ede=er("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tde=er("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ri=er("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rde=er("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nde=er("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ide=er("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ade=er("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Zk=(e,t)=>t.some(r=>e instanceof r);let X5,q5;function sde(){return X5||(X5=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ode(){return q5||(q5=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Qk=new WeakMap,qC=new WeakMap,V_=new WeakMap;function lde(e){const t=new Promise((r,n)=>{const i=()=>{e.removeEventListener("success",a),e.removeEventListener("error",s)},a=()=>{r(Ih(e.result)),i()},s=()=>{n(e.error),i()};e.addEventListener("success",a),e.addEventListener("error",s)});return V_.set(t,e),t}function ude(e){if(Qk.has(e))return;const t=new Promise((r,n)=>{const i=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",s),e.removeEventListener("abort",s)},a=()=>{r(),i()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",a),e.addEventListener("error",s),e.addEventListener("abort",s)});Qk.set(e,t)}let Jk={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return Qk.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Ih(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function t$(e){Jk=e(Jk)}function cde(e){return ode().includes(e)?function(...t){return e.apply(eI(this),t),Ih(this.request)}:function(...t){return Ih(e.apply(eI(this),t))}}function hde(e){return typeof e=="function"?cde(e):(e instanceof IDBTransaction&&ude(e),Zk(e,sde())?new Proxy(e,Jk):e)}function Ih(e){if(e instanceof IDBRequest)return lde(e);if(qC.has(e))return qC.get(e);const t=hde(e);return t!==e&&(qC.set(e,t),V_.set(t,e)),t}const eI=e=>V_.get(e);function fde(e,t,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const s=indexedDB.open(e,t),o=Ih(s);return n&&s.addEventListener("upgradeneeded",l=>{n(Ih(s.result),l.oldVersion,l.newVersion,Ih(s.transaction),l)}),r&&s.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),o.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const dde=["get","getKey","getAll","getAllKeys","count"],pde=["put","add","delete","clear"],KC=new Map;function K5(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(KC.get(t))return KC.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,i=pde.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||dde.includes(r)))return;const a=async function(s,...o){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return n&&(u=u.index(o.shift())),(await Promise.all([u[r](...o),i&&l.done]))[0]};return KC.set(t,a),a}t$(e=>({...e,get:(t,r,n)=>K5(t,r)||e.get(t,r,n),has:(t,r)=>!!K5(t,r)||e.has(t,r)}));const vde=["continue","continuePrimaryKey","advance"],Z5={},tI=new WeakMap,r$=new WeakMap,gde={get(e,t){if(!vde.includes(t))return e[t];let r=Z5[t];return r||(r=Z5[t]=function(...n){tI.set(this,r$.get(this)[t](...n))}),r}};async function*mde(...e){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...e)),!t)return;t=t;const r=new Proxy(t,gde);for(r$.set(r,t),V_.set(r,eI(t));t;)yield r,t=await(tI.get(r)||t.continue()),tI.delete(r)}function Q5(e,t){return t===Symbol.asyncIterator&&Zk(e,[IDBIndex,IDBObjectStore,IDBCursor])||t==="iterate"&&Zk(e,[IDBIndex,IDBObjectStore])}t$(e=>({...e,get(t,r,n){return Q5(t,r)?mde:e.get(t,r,n)},has(t,r){return Q5(t,r)||e.has(t,r)}}));const yde="cms-db",n$=2,J5="cms_notebooks",e4="cms_files";let ZC;const Wa=async()=>(ZC||(ZC=(async()=>{const e=await fde(yde,n$,{upgrade(t){t.objectStoreNames.contains("notebooks")||t.createObjectStore("notebooks",{keyPath:"id"}),t.objectStoreNames.contains("files")||t.createObjectStore("files",{keyPath:"id"}),t.objectStoreNames.contains("settings")||t.createObjectStore("settings",{keyPath:"id"}),t.objectStoreNames.contains("backups")||t.createObjectStore("backups",{keyPath:"id"})}});return await xde(e),e})()),ZC),xde=async e=>{const t=localStorage.getItem(J5);if(t)try{const n=JSON.parse(t),i=e.transaction("notebooks","readwrite");for(const a of n)await i.store.put(a);await i.done,localStorage.removeItem(J5),console.log("Migrated notebooks to IndexedDB")}catch(n){console.error("Failed to migrate notebooks",n)}const r=localStorage.getItem(e4);if(r)try{const n=JSON.parse(r),i=e.transaction("files","readwrite");for(const a of n)await i.store.put(a);await i.done,localStorage.removeItem(e4),console.log("Migrated files to IndexedDB")}catch(n){console.error("Failed to migrate files",n)}};let I1;const bde=new Uint8Array(16);function Sde(){if(!I1&&(I1=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!I1))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return I1(bde)}const Qn=[];for(let e=0;e<256;++e)Qn.push((e+256).toString(16).slice(1));function _de(e,t=0){return Qn[e[t+0]]+Qn[e[t+1]]+Qn[e[t+2]]+Qn[e[t+3]]+"-"+Qn[e[t+4]]+Qn[e[t+5]]+"-"+Qn[e[t+6]]+Qn[e[t+7]]+"-"+Qn[e[t+8]]+Qn[e[t+9]]+"-"+Qn[e[t+10]]+Qn[e[t+11]]+Qn[e[t+12]]+Qn[e[t+13]]+Qn[e[t+14]]+Qn[e[t+15]]}const wde=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),t4={randomUUID:wde};function ol(e,t,r){if(t4.randomUUID&&!e)return t4.randomUUID();e=e||{};const n=e.random||(e.rng||Sde)();return n[6]=n[6]&15|64,n[8]=n[8]&63|128,_de(n)}const hh=class hh{constructor(){io(this,"cache",new Map);io(this,"channel");this.channel=new BroadcastChannel("czms-repository-sync"),this.channel.onmessage=t=>{this.handleRemoteChange(t.data)}}static getInstance(){return hh.instance||(hh.instance=new hh),hh.instance}handleRemoteChange(t){const r=`${t.entityType}:${t.id}`;this.cache.delete(r)}broadcastChange(t,r,n){this.channel.postMessage({type:t,entityType:r,id:n})}async get(t,r){const n=`${t}:${r}`;if(this.cache.has(n))return this.cache.get(n);const i=await Wa();let a;switch(t){case"notebook":a=await i.get("notebooks",r);break;case"file":a=await i.get("files",r);break;case"settings":a=await i.get("settings",r);break}return a&&this.cache.set(n,a),a||null}async getNotebook(t){return this.get("notebook",t)}async getFile(t){return this.get("file",t)}async getSettings(t){return this.get("settings",t)}async saveNotebook(t){return this.set("notebook",t)}async saveFile(t){return this.set("file",t)}async saveSettings(t){return this.set("settings",t)}async listNotebooks(){return this.list("notebook")}async listNotebooksMetadata(){const n=(await Wa()).transaction("notebooks","readonly").objectStore("notebooks"),i=[];let a=await n.openCursor();for(;a;){const{id:s,title:o,createdAt:l,updatedAt:u}=a.value;i.push({id:s,title:o,createdAt:l,updatedAt:u}),a=await a.continue()}return i}async listFiles(){return this.list("file")}async listFilesMetadata(t){const i=(await Wa()).transaction("files","readonly").objectStore("files"),a=[];let s=await i.openCursor();for(;s;){const o=s.value;if(!t||o.notebookId===t){const{content:l,...u}=o;a.push(u)}s=await s.continue()}return a}async deleteFile(t){return this.delete("file",t)}async set(t,r){const n=r.id?`repo-lock-${t}-${r.id}`:`repo-lock-${t}-new`;return await navigator.locks.request(n,async()=>{const i=await Wa();let a;switch(t){case"notebook":{const s=r,o=await i.get("notebooks",s.id),l={id:ol(),timestamp:new Date().toISOString(),content:s.content||[],issues:s.issues||[],title:s.title};let u;if(o){const c=o.versions||[],h=c[c.length-1];(!h||JSON.stringify(h.content)!==JSON.stringify(s.content)||JSON.stringify(h.issues)!==JSON.stringify(s.issues)||h.title!==s.title)&&c.push(l),u={...o,title:s.title,content:s.content,issues:s.issues,updatedAt:new Date().toISOString(),versions:c}}else u={...s,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),versions:[l]};await i.put("notebooks",u),a=u;break}case"file":{const s=r,o=new Date().toISOString();if(s.id&&s.createdAt)await i.put("files",s),a=s;else{const l=s.id||ol(),u={...s,id:l,createdAt:o,updatedAt:o};await i.put("files",u),a=u}break}case"settings":{const s=r;await i.put("settings",s),a=s;break}default:a=r}return a.id&&(this.cache.set(`${t}:${a.id}`,a),this.broadcastChange("change",t,a.id)),a})}async list(t){const r=await Wa();let n=[];switch(t){case"notebook":n=await r.getAll("notebooks");break;case"file":n=await r.getAll("files");break;case"settings":n=await r.getAll("settings");break}for(const i of n)this.cache.set(`${t}:${i.id}`,i);return n}async delete(t,r){const n=`repo-lock-${t}-${r}`;await navigator.locks.request(n,async()=>{const i=await Wa(),a=`${t}:${r}`;switch(this.cache.delete(a),t){case"notebook":await i.delete("notebooks",r);break;case"file":await i.delete("files",r);break;case"settings":await i.delete("settings",r);break}this.broadcastChange("delete",t,r)})}async deleteMany(t,r){if(r.length===0)return;const n=`repo-lock-${t}-batch`;await navigator.locks.request(n,async()=>{const i=await Wa();for(const a of r)this.cache.delete(`${t}:${a}`);switch(t){case"notebook":{const a=i.transaction("notebooks","readwrite");await Promise.all([...r.map(s=>a.store.delete(s)),a.done])}break;case"file":{const a=i.transaction("files","readwrite");await Promise.all([...r.map(s=>a.store.delete(s)),a.done])}break;case"settings":{const a=i.transaction("settings","readwrite");await Promise.all([...r.map(s=>a.store.delete(s)),a.done])}break}for(const a of r)this.broadcastChange("delete",t,a)})}clearCache(){this.cache.clear()}};io(hh,"instance");let rI=hh;const Er=rI.getInstance();function Tde(){const[e,t]=Q.useState([]),[r,n]=Q.useState(!1),i=Q.useCallback(async()=>{n(!0);try{const o=await Er.listNotebooksMetadata();o.sort((l,u)=>{const c=new Date(l.updatedAt||l.createdAt||0).getTime();return new Date(u.updatedAt||u.createdAt||0).getTime()-c}),t(o)}catch(o){console.error("Failed to refresh notebook list:",o)}finally{n(!1)}},[]);return Q.useEffect(()=>{i();const o=new BroadcastChannel("czms-repository-sync"),l=()=>i();o.addEventListener("message",l);const u=()=>i();return window.addEventListener("files-updated",u),()=>{o.removeEventListener("message",l),o.close(),window.removeEventListener("files-updated",u)}},[i]),{notebooks:e,loading:r,refresh:i,createNotebook:async o=>{const l={id:crypto.randomUUID(),title:o,content:[{id:crypto.randomUUID(),type:"markdown",content:`# Welcome to your new notebook
Start editing here.`,properties:{}}],issues:[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},u=await Er.set("notebook",l);return await i(),u},deleteNotebook:async o=>{await Er.delete("notebook",o),await i()}}}const i$="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjQwIiB2aWV3Qm94PSIwIDAgMTAwIDQwIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cmVjdCB3aWR0aD0iMTAwIiBoZWlnaHQ9IjQwIiByeD0iNCIgZmlsbD0iYmxhY2siLz4KPHBhdGggZD0iTTIwIDIwQzIwIDE0LjQ3NzIgMjQuNDc3MiAxMCAzMCAxMEg3MEM3NS41MjI4IDEwIDgwIDE0LjQ3NzIgODAgMjBDODAgMjUuNTIyOCA3NS41MjI4IDMwIDcwIDMwSDMwQzI0LjQ3NzIgMzAgMjAgMjUuNTIyOCAyMCAyMFoiIGZpbGw9IndoaXRlIiBmaWxsLW9wYWNpdHk9IjAuMSIvPgo8dGV4dCB4PSI1MCIgeT0iMjYiIGZvbnQtZmFtaWx5PSJtb25vc3BhY2UiIGZvbnQtd2VpZ2h0PSJib2xkIiBmb250LXNpemU9IjI0IiBmaWxsPSJ3aGl0ZSIgdGV4dC1hbmNob3I9Im1pZGRsZSI+Y1ptczwvdGV4dD4KPC9zdmc+Cg==",Cde=({onSelectNotebook:e})=>{const{notebooks:t,loading:r,createNotebook:n,deleteNotebook:i}=Tde(),[a,s]=Q.useState(!1),[o,l]=Q.useState(""),u=async h=>{if(h.preventDefault(),!o.trim())return;const f=await n(o);e(f.id)},c=async(h,f)=>{f.stopPropagation(),window.confirm("Are you sure you want to delete this notebook?")&&await i(h)};return E.jsxs(Jb,{className:"py-5",children:[E.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[E.jsx("div",{className:"d-flex align-items-center",children:E.jsx("img",{src:i$,alt:"cZms",style:{height:"48px"}})}),E.jsxs(We,{variant:"primary",onClick:()=>s(!0),children:[E.jsx(sl,{size:20,className:"me-2"})," New Notebook"]})]}),E.jsx(jL,{children:r&&t.length===0?E.jsxs(Ah,{className:"text-center py-5",children:[E.jsx(Yfe,{size:48,className:"animate-spin text-primary mb-3"}),E.jsx("p",{className:"text-muted",children:"Loading notebooks..."})]}):t.length===0?E.jsx(Ah,{children:E.jsx(Vr,{className:"text-center p-5 border-dashed",children:E.jsxs(Vr.Body,{children:[E.jsx(Gfe,{size:48,className:"text-muted mb-3"}),E.jsx("h3",{children:"No notebooks yet"}),E.jsx("p",{className:"text-muted",children:"Create your first notebook to start writing statistical publications."}),E.jsx(We,{variant:"outline-primary",onClick:()=>s(!0),children:"Get Started"})]})})}):t.map(h=>E.jsx(Ah,{md:4,className:"mb-4",children:E.jsx(Vr,{className:"h-100 shadow-sm hover-card cursor-pointer",onClick:()=>e(h.id),children:E.jsxs(Vr.Body,{children:[E.jsxs(Vr.Title,{className:"d-flex justify-content-between",children:[h.title,E.jsx(We,{variant:"link",className:"text-danger p-0",onClick:f=>c(h.id,f),children:E.jsx(Ri,{size:18})})]}),E.jsxs(Vr.Text,{className:"text-muted small",children:[E.jsx($W,{size:14,className:"me-1"}),"Last updated: ",new Date(h.updatedAt||h.createdAt||new Date).toLocaleDateString()]})]})})},h.id))}),E.jsx(bt,{show:a,onHide:()=>s(!1),children:E.jsxs(Tt,{onSubmit:u,children:[E.jsx(bt.Header,{closeButton:!0,children:E.jsx(bt.Title,{children:"Create New Notebook"})}),E.jsx(bt.Body,{children:E.jsxs(Tt.Group,{children:[E.jsx(Tt.Label,{children:"Notebook Title"}),E.jsx(Tt.Control,{type:"text",placeholder:"e.g. Annual Economic Report 2025",value:o,onChange:h=>l(h.target.value),autoFocus:!0})]})}),E.jsxs(bt.Footer,{children:[E.jsx(We,{variant:"secondary",onClick:()=>s(!1),children:"Cancel"}),E.jsx(We,{variant:"primary",type:"submit",children:"Create"})]})]})}),E.jsx("style",{children:`
        .hover-card:hover {
          transform: translateY(-5px);
          transition: transform 0.2s;
        }
        .cursor-pointer {
          cursor: pointer;
        }
        .border-dashed {
          border-style: dashed !important;
        }
      `})]})},nI=e=>{let t=[e.id];return e.type==="section"&&Array.isArray(e.content)&&e.content.forEach(r=>{t=t.concat(nI(r))}),t},a$=e=>{const t=ol(),r={[e.id]:t};let n=e.content;return e.type==="section"&&Array.isArray(e.content)&&(n=e.content.map(a=>{const s=a$(a);return Object.assign(r,s.idMap),s.newItem})),{newItem:{...e,id:t,content:n},idMap:r}},Ede=(e,t,r)=>{let n=-1,i=-1,a=e.indexOf(t);for(;a!==-1;){const s=e.substring(Math.max(0,a-20),a),o=e.substring(a+t.length,a+t.length+20);let l=0;for(let u=0;u<Math.min(r.prefix.length,s.length)&&r.prefix[r.prefix.length-1-u]===s[s.length-1-u];u++)l++;for(let u=0;u<Math.min(r.suffix.length,o.length)&&r.suffix[u]===o[u];u++)l++;l>i&&(i=l,n=a),a=e.indexOf(t,a+1)}return n},Ade=(e,t,r,n)=>{let i=0;for(;i<r.length&&i<n.length&&r[i]===n[i];)i++;let a=0;for(;a<r.length-i&&a<n.length-i&&r[r.length-1-a]===n[n.length-1-a];)a++;const s=r.length-a,o=n.length-r.length;return e.map(l=>{if(l.cellId!==t||l.startIndex===void 0)return l;let u=l.startIndex;(l.startIndex>=s||l.startIndex>=i)&&(u+=o),u=Math.max(0,u);const c=l.referenceText,h=n.substring(u,u+(l.length||0));if(c&&h!==c){const f=Ede(n,c,l.context||{prefix:"",suffix:""});f!==-1&&(u=f)}return{...l,startIndex:u}})},kde=e=>{const t=new DOMParser().parseFromString(e,"text/html"),r=n=>{var u;if(n.nodeType===Node.TEXT_NODE)return n.textContent||"";if(n.nodeType!==Node.ELEMENT_NODE)return"";const i=n,a=i.tagName.toLowerCase(),s=Array.from(i.childNodes).map(r).join(""),o=i.getAttribute("style")||"";let l=s;if(a==="span"){const c=/font-weight:\s*(bold|700|800|900)/i.test(o),h=/font-style:\s*italic/i.test(o);return c&&(l=`**${l}**`),h&&(l=`*${l}*`),l}switch(a){case"b":case"strong":return`**${s}**`;case"i":case"em":return`*${s}*`;case"u":return`<u>${s}</u>`;case"a":const c=i.getAttribute("href")||"";return`[${s}](${c})`;case"br":return`
`;case"p":case"div":return s.trim()?s+`

`:"";case"h1":return`# ${s}

`;case"h2":return`## ${s}

`;case"h3":return`### ${s}

`;case"h4":return`#### ${s}

`;case"ul":case"ol":return s+`
`;case"li":return(((u=i.parentElement)==null?void 0:u.tagName.toLowerCase())==="ol"?"1. ":"- ")+s.trim()+`
`;case"blockquote":return s.split(`
`).map(d=>`> ${d}`).join(`
`)+`
`;case"code":return`\`${s}\``;case"pre":return`\`\`\`
${s}
\`\`\`
`;default:return s}};return r(t.body).trim().replace(/\n{3,}/g,`

`)},Pv="czms-clipboard";class Ide{constructor(){io(this,"listeners",new Set);window.addEventListener("storage",t=>{t.key===Pv&&this.notify()})}set(t){try{t?localStorage.setItem(Pv,JSON.stringify(t)):localStorage.removeItem(Pv),this.notify()}catch(r){console.error("Failed to save to internal clipboard",r)}}get(){try{const t=localStorage.getItem(Pv);return t?JSON.parse(t):null}catch(t){return console.error("Failed to read from internal clipboard",t),null}}clear(){localStorage.removeItem(Pv),this.notify()}subscribe(t){return this.listeners.add(t),t(this.get()),()=>this.listeners.delete(t)}notify(){const t=this.get();this.listeners.forEach(r=>r(t))}}const ib=new Ide,Dde={notebook:null,status:"idle",error:null,activeCellId:null,editingCellId:null,crashedComponentIds:[],notifications:[]};function Mde(e,t){switch(t.type){case"LOAD_START":return{...e,status:"loading",error:null};case"LOAD_SUCCESS":return{...e,status:"idle",notebook:t.notebook,error:null};case"LOAD_FAILURE":return{...e,status:"error",error:t.error};case"SET_ACTIVE_CELL":return{...e,activeCellId:t.id};case"SET_EDITING_CELL":return{...e,editingCellId:t.id};case"UPDATE_NOTEBOOK_STATE":return{...e,notebook:t.notebook,status:"idle"};case"SET_STATUS":return{...e,status:t.status};case"REGISTER_CRASH":return{...e,crashedComponentIds:e.crashedComponentIds.includes(t.id)?e.crashedComponentIds:[...e.crashedComponentIds,t.id]};case"UNREGISTER_CRASH":return{...e,crashedComponentIds:e.crashedComponentIds.filter(r=>r!==t.id)};case"ADD_NOTIFICATION":return{...e,notifications:[...e.notifications,t.notification]};case"REMOVE_NOTIFICATION":return{...e,notifications:e.notifications.filter(r=>r.id!==t.id)};default:return e}}const VL=Q.createContext(null),Lde=({children:e})=>{const[t,r]=Q.useReducer(Mde,Dde),n=Q.useRef(null),i=Q.useCallback(async L=>{if(!(n.current===L&&t.notebook)){n.current=L,r({type:"LOAD_START"});try{const N=await Er.get("notebook",L);r(N?{type:"LOAD_SUCCESS",notebook:N}:{type:"LOAD_FAILURE",error:"Notebook not found"})}catch(N){r({type:"LOAD_FAILURE",error:N instanceof Error?N.message:"Unknown error"})}}},[t.notebook]),a=Q.useCallback(L=>{r({type:"SET_ACTIVE_CELL",id:L})},[]),s=Q.useCallback(L=>{r({type:"SET_EDITING_CELL",id:L})},[]),o=Q.useCallback(L=>{r({type:"REGISTER_CRASH",id:L})},[]),l=Q.useCallback(L=>{r({type:"UNREGISTER_CRASH",id:L})},[]),u=Q.useCallback(L=>{r({type:"REMOVE_NOTIFICATION",id:L})},[]),c=Q.useCallback((L,N="info")=>{const z=ol();r({type:"ADD_NOTIFICATION",notification:{id:z,message:L,type:N}}),setTimeout(()=>{u(z)},5e3)},[u]),h=Q.useCallback(async L=>{r({type:"SET_STATUS",status:"saving"});try{await Er.set("notebook",L),r({type:"UPDATE_NOTEBOOK_STATE",notebook:L})}catch(N){throw r({type:"SET_STATUS",status:"error"}),N}},[]),f=Q.useCallback(async(L,N,z,B)=>{if(!t.notebook)throw new Error("No notebook loaded");const H={id:ol(),type:L,content:B!==void 0?B:L==="section"?[]:"",properties:{},title:L==="section"?"New Section":void 0};let G;if(z){const W=X=>X.map(ee=>{if(ee.id===z&&ee.type==="section"){const le=[...ee.content||[]];return typeof N=="number"&&N>=0?le.splice(N,0,H):le.push(H),{...ee,content:le}}return ee.type==="section"&&Array.isArray(ee.content)?{...ee,content:W(ee.content)}:ee});G=W(t.notebook.content)}else G=[...t.notebook.content],typeof N=="number"&&N>=0?G.splice(N,0,H):G.push(H);const $={...t.notebook,content:G,updatedAt:new Date().toISOString()};return await h($),H.id},[t.notebook,h]),d=Q.useCallback(async(L,N=!0)=>{if(!t.notebook)throw new Error("No notebook loaded");let z=[];const B=W=>W.filter(X=>X.id===L?(z=nI(X),!1):!0).map(X=>X.type==="section"&&Array.isArray(X.content)?{...X,content:B(X.content)}:X),H=B(t.notebook.content);let G=t.notebook.issues;N&&z.length>0&&(G=G.map(W=>z.includes(W.cellId)?{...W,closed:!0}:W));const $={...t.notebook,content:H,issues:G,updatedAt:new Date().toISOString()};await h($)},[t.notebook,h]),v=Q.useCallback(async(L,N)=>{if(!t.notebook)throw new Error("No notebook loaded");const z=$=>{const W=$.findIndex(le=>le.id===L);if(W!==-1){const le=N==="up"?W-1:W+1;if(le>=0&&le<$.length){const ie=[...$];return[ie[W],ie[le]]=[ie[le],ie[W]],{newItems:ie,moved:!0}}return{newItems:$,moved:!1}}let X=!1;return{newItems:$.map(le=>{if(!X&&le.type==="section"&&Array.isArray(le.content)){const ie=z(le.content);if(ie.moved)return X=!0,{...le,content:ie.newItems}}return le}),moved:X}},{newItems:B,moved:H}=z(t.notebook.content);if(!H)return;const G={...t.notebook,content:B,updatedAt:new Date().toISOString()};await h(G)},[t.notebook,h]),m=Q.useCallback(async L=>{if(!t.notebook)throw new Error("No notebook loaded");const N={...t.notebook,...L,updatedAt:new Date().toISOString()};return await h(N),N},[t.notebook,h]),y=Q.useCallback(async L=>{if(!t.notebook)throw new Error("No notebook loaded");const N={id:ol(),closed:!1,comments:[],...L},z={...t.notebook,issues:[...t.notebook.issues,N],updatedAt:new Date().toISOString()};return await h(z),z},[t.notebook,h]),b=Q.useCallback(async(L,N)=>{if(!t.notebook)throw new Error("No notebook loaded");let z=t.notebook.issues;const B=$=>$.map(W=>W.id===L?(W.type==="markdown"&&typeof N.content=="string"&&typeof W.content=="string"&&N.content!==W.content&&(z=Ade(t.notebook.issues,L,W.content,N.content)),{...W,...N}):W.type==="section"&&Array.isArray(W.content)?{...W,content:B(W.content)}:W),H=B(t.notebook.content),G={...t.notebook,content:H,issues:z,updatedAt:new Date().toISOString()};return await h(G),G},[t.notebook,h]),S=Q.useCallback(async(L,N="copy")=>{if(!t.notebook)return;const z=W=>{for(const X of W){if(X.id===L)return X;if(X.type==="section"&&Array.isArray(X.content)){const ee=z(X.content);if(ee)return ee}}return null},B=z(t.notebook.content);if(!B)return;const H=nI(B),G=t.notebook.issues.filter(W=>H.includes(W.cellId)),$={app:"czms",type:B.type,data:B,issues:N==="cut"?G:[],origin:N};try{ib.set($),await navigator.clipboard.writeText(JSON.stringify($)),N==="cut"&&await d(L,!1)}catch(W){console.error("Failed to copy:",W),N==="cut"&&ib.get()&&await d(L,!1)}},[t.notebook,d]),w=Q.useCallback(async(L,N,z)=>{if(t.notebook)try{let B=N;if(B||(B=ib.get()),!B||!B.data||B.app!=="czms")return;const{newItem:H,idMap:G}=a$({...B.data});let $=[];B.issues&&Array.isArray(B.issues)&&($=B.issues.map(ee=>{const le=G[ee.cellId];return le?{...ee,id:ol(),cellId:le,createdAt:new Date().toISOString()}:null}).filter(ee=>!!ee));const W=ee=>{if(!z){const le=[...ee];return le.splice(L,0,H),le}return ee.map(le=>{if(le.id===z&&le.type==="section"){const ie=[...le.content||[]];return ie.splice(L,0,H),{...le,content:ie}}return le.type==="section"&&Array.isArray(le.content)?{...le,content:W(le.content)}:le})},X={...t.notebook,content:W(t.notebook.content),issues:[...t.notebook.issues,...$],updatedAt:new Date().toISOString()};await h(X)}catch(B){console.error("Failed to paste:",B)}},[t.notebook,h]),k=Q.useCallback(async L=>{if(!t.notebook)return;const N=[],z=G=>{G.forEach($=>{N.push($),$.type==="section"&&Array.isArray($.content)&&z($.content)})};z(t.notebook.content);const B=N.findIndex(G=>G.id===L);if(B===-1)return;N.slice(B+1).filter(G=>G.type==="script").forEach(G=>{window.dispatchEvent(new CustomEvent("run-script",{detail:{cellId:G.id}}))})},[t.notebook]),M=Q.useCallback((L,N)=>{var W;if(!L||!N)return((W=t.notebook)==null?void 0:W.content)||[];const z=L.content||[],B=N.content||[],H=new Map(z.map(X=>[X.id,X])),G=new Set(B.map(X=>X.id)),$=[];return B.forEach(X=>{const ee=H.get(X.id);let le="unchanged";ee?JSON.stringify(ee)!==JSON.stringify(X)&&(le="modified"):le="added",$.push({...X,diffStatus:le,baseItem:ee})}),z.forEach((X,ee)=>{if(!G.has(X.id)){const le=Math.min(ee,$.length);$.splice(le,0,{...X,diffStatus:"removed"})}}),$},[t.notebook]);Q.useEffect(()=>{const L=new BroadcastChannel("czms-repository-sync");return L.onmessage=N=>{const{type:z,entityType:B,id:H}=N.data;B==="notebook"&&H===n.current&&z==="change"&&Er.get("notebook",H).then(G=>{G&&r({type:"LOAD_SUCCESS",notebook:G})})},()=>L.close()},[]);const I=Q.useMemo(()=>({...t,loadNotebook:i,setFocus:a,setEditing:s,registerCrash:o,unregisterCrash:l,notify:c,dismissNotification:u,addCell:f,deleteCell:d,moveCell:v,updateMetadata:m,updateCell:b,addIssue:y,copyCell:S,pasteCell:w,runAllBelow:k,getDiffItems:M}),[t,i,a,s,o,l,c,u,f,d,v,m,b,y,S,w,k,M]);return E.jsx(VL.Provider,{value:I,children:e})},s$=e=>{const t=Q.useContext(VL);if(!t)throw new Error("useNotebook must be used within a NotebookProvider");return Q.useEffect(()=>{e&&t.loadNotebook(e)},[e,t.loadNotebook]),t},U_=()=>{const e=Q.useContext(VL);if(!e)throw new Error("useNotebookContext must be used within a NotebookProvider");return e},Nde=()=>{const{activeCellId:e,editingCellId:t,crashedComponentIds:r,notifications:n}=U_();return Q.useMemo(()=>({activeCellId:e,editingCellId:t,crashedComponentIds:r,notifications:n}),[e,t,r,n])},R0=()=>{const{addCell:e,deleteCell:t,moveCell:r,updateMetadata:n,updateCell:i,addIssue:a,setFocus:s,setEditing:o,registerCrash:l,unregisterCrash:u,notify:c,dismissNotification:h,copyCell:f,pasteCell:d,runAllBelow:v,getDiffItems:m}=U_();return Q.useMemo(()=>({addCell:e,deleteCell:t,moveCell:r,updateMetadata:n,updateCell:i,addIssue:a,setFocus:s,setEditing:o,registerCrash:l,unregisterCrash:u,notify:c,dismissNotification:h,copyCell:f,pasteCell:d,runAllBelow:v,getDiffItems:m}),[e,t,r,n,i,a,s,o,l,u,c,h,f,d,v,m])},o$=({show:e,onHide:t,title:r,properties:n,onSave:i})=>{const[a,s]=Q.useState(""),[o,l]=Q.useState(!1),{notify:u}=R0();Q.useEffect(()=>{e&&s(JSON.stringify(n||{},null,2))},[e,n]);const c=async()=>{try{const h=JSON.parse(a);l(!0);try{await i(h),t()}catch(f){console.error("Failed to save properties:",f),u("Failed to save properties. See console for details.","danger")}finally{l(!1)}}catch{u("Invalid JSON format","danger")}};return E.jsxs(bt,{show:e,onHide:t,children:[E.jsx(bt.Header,{closeButton:!0,children:E.jsx(bt.Title,{className:"h6",children:r||"Properties"})}),E.jsx(bt.Body,{children:E.jsxs(Tt.Group,{children:[E.jsx(Tt.Label,{className:"small fw-bold",children:"Metadata (JSON)"}),E.jsx(Tt.Control,{as:"textarea",rows:10,size:"sm",value:a,onChange:h=>s(h.target.value),className:"font-monospace",disabled:o,style:{fontSize:"12px"}})]})}),E.jsxs(bt.Footer,{className:"p-2",children:[E.jsx(We,{variant:"secondary",size:"sm",onClick:t,disabled:o,children:"Cancel"}),E.jsx(We,{variant:"primary",size:"sm",onClick:c,disabled:o,children:o?E.jsxs(E.Fragment,{children:[E.jsx(BW,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",className:"me-1"}),"Saving..."]}):"Save Changes"})]})]})},aS=(e,t=300)=>new Promise((r,n)=>{const i=new FileReader;i.onload=a=>{var o;const s=new Image;s.onload=()=>{const l=document.createElement("canvas");let u=s.width,c=s.height;u>t&&(c=Math.round(c*t/u),u=t),l.width=u,l.height=c;const h=l.getContext("2d");h==null||h.drawImage(s,0,0,u,c),r(l.toDataURL(e.type))},s.onerror=n,s.src=(o=a.target)==null?void 0:o.result},i.onerror=n,i.readAsDataURL(e)});function r4(e){const t=[],r=String(e||"");let n=r.indexOf(","),i=0,a=!1;for(;!a;){n===-1&&(n=r.length,a=!0);const s=r.slice(i,n).trim();(s||!a)&&t.push(s),i=n+1,n=r.indexOf(",",i)}return t}function l$(e,t){const r={};return(e[e.length-1]===""?[...e,""]:e).join((r.padRight?" ":"")+","+(r.padLeft===!1?"":" ")).trim()}const Pde=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Rde=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Ode={};function n4(e,t){return(Ode.jsx?Rde:Pde).test(e)}const Bde=/[ \t\n\f\r]/g;function Fde(e){return typeof e=="object"?e.type==="text"?i4(e.value):!1:i4(e)}function i4(e){return e.replace(Bde,"")===""}class O0{constructor(t,r,n){this.normal=r,this.property=t,n&&(this.space=n)}}O0.prototype.normal={};O0.prototype.property={};O0.prototype.space=void 0;function u$(e,t){const r={},n={};for(const i of e)Object.assign(r,i.property),Object.assign(n,i.normal);return new O0(r,n,t)}function Vm(e){return e.toLowerCase()}class ha{constructor(t,r){this.attribute=r,this.property=t}}ha.prototype.attribute="";ha.prototype.booleanish=!1;ha.prototype.boolean=!1;ha.prototype.commaOrSpaceSeparated=!1;ha.prototype.commaSeparated=!1;ha.prototype.defined=!1;ha.prototype.mustUseProperty=!1;ha.prototype.number=!1;ha.prototype.overloadedBoolean=!1;ha.prototype.property="";ha.prototype.spaceSeparated=!1;ha.prototype.space=void 0;let zde=0;const ir=sf(),Tn=sf(),iI=sf(),it=sf(),Hr=sf(),Nd=sf(),va=sf();function sf(){return 2**++zde}const aI=Object.freeze(Object.defineProperty({__proto__:null,boolean:ir,booleanish:Tn,commaOrSpaceSeparated:va,commaSeparated:Nd,number:it,overloadedBoolean:iI,spaceSeparated:Hr},Symbol.toStringTag,{value:"Module"})),QC=Object.keys(aI);class UL extends ha{constructor(t,r,n,i){let a=-1;if(super(t,r),a4(this,"space",i),typeof n=="number")for(;++a<QC.length;){const s=QC[a];a4(this,QC[a],(n&aI[s])===aI[s])}}}UL.prototype.defined=!0;function a4(e,t,r){r&&(e[t]=r)}function kp(e){const t={},r={};for(const[n,i]of Object.entries(e.properties)){const a=new UL(n,e.transform(e.attributes||{},n),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(n)&&(a.mustUseProperty=!0),t[n]=a,r[Vm(n)]=n,r[Vm(a.attribute)]=n}return new O0(t,r,e.space)}const c$=kp({properties:{ariaActiveDescendant:null,ariaAtomic:Tn,ariaAutoComplete:null,ariaBusy:Tn,ariaChecked:Tn,ariaColCount:it,ariaColIndex:it,ariaColSpan:it,ariaControls:Hr,ariaCurrent:null,ariaDescribedBy:Hr,ariaDetails:null,ariaDisabled:Tn,ariaDropEffect:Hr,ariaErrorMessage:null,ariaExpanded:Tn,ariaFlowTo:Hr,ariaGrabbed:Tn,ariaHasPopup:null,ariaHidden:Tn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Hr,ariaLevel:it,ariaLive:null,ariaModal:Tn,ariaMultiLine:Tn,ariaMultiSelectable:Tn,ariaOrientation:null,ariaOwns:Hr,ariaPlaceholder:null,ariaPosInSet:it,ariaPressed:Tn,ariaReadOnly:Tn,ariaRelevant:null,ariaRequired:Tn,ariaRoleDescription:Hr,ariaRowCount:it,ariaRowIndex:it,ariaRowSpan:it,ariaSelected:Tn,ariaSetSize:it,ariaSort:null,ariaValueMax:it,ariaValueMin:it,ariaValueNow:it,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function h$(e,t){return t in e?e[t]:t}function f$(e,t){return h$(e,t.toLowerCase())}const jde=kp({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Nd,acceptCharset:Hr,accessKey:Hr,action:null,allow:null,allowFullScreen:ir,allowPaymentRequest:ir,allowUserMedia:ir,alt:null,as:null,async:ir,autoCapitalize:null,autoComplete:Hr,autoFocus:ir,autoPlay:ir,blocking:Hr,capture:null,charSet:null,checked:ir,cite:null,className:Hr,cols:it,colSpan:null,content:null,contentEditable:Tn,controls:ir,controlsList:Hr,coords:it|Nd,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ir,defer:ir,dir:null,dirName:null,disabled:ir,download:iI,draggable:Tn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ir,formTarget:null,headers:Hr,height:it,hidden:iI,high:it,href:null,hrefLang:null,htmlFor:Hr,httpEquiv:Hr,id:null,imageSizes:null,imageSrcSet:null,inert:ir,inputMode:null,integrity:null,is:null,isMap:ir,itemId:null,itemProp:Hr,itemRef:Hr,itemScope:ir,itemType:Hr,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ir,low:it,manifest:null,max:null,maxLength:it,media:null,method:null,min:null,minLength:it,multiple:ir,muted:ir,name:null,nonce:null,noModule:ir,noValidate:ir,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ir,optimum:it,pattern:null,ping:Hr,placeholder:null,playsInline:ir,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:ir,referrerPolicy:null,rel:Hr,required:ir,reversed:ir,rows:it,rowSpan:it,sandbox:Hr,scope:null,scoped:ir,seamless:ir,selected:ir,shadowRootClonable:ir,shadowRootDelegatesFocus:ir,shadowRootMode:null,shape:null,size:it,sizes:null,slot:null,span:it,spellCheck:Tn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:it,step:null,style:null,tabIndex:it,target:null,title:null,translate:null,type:null,typeMustMatch:ir,useMap:null,value:Tn,width:it,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Hr,axis:null,background:null,bgColor:null,border:it,borderColor:null,bottomMargin:it,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ir,declare:ir,event:null,face:null,frame:null,frameBorder:null,hSpace:it,leftMargin:it,link:null,longDesc:null,lowSrc:null,marginHeight:it,marginWidth:it,noResize:ir,noHref:ir,noShade:ir,noWrap:ir,object:null,profile:null,prompt:null,rev:null,rightMargin:it,rules:null,scheme:null,scrolling:Tn,standby:null,summary:null,text:null,topMargin:it,valueType:null,version:null,vAlign:null,vLink:null,vSpace:it,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ir,disableRemotePlayback:ir,prefix:null,property:null,results:it,security:null,unselectable:null},space:"html",transform:f$}),Hde=kp({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:va,accentHeight:it,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:it,amplitude:it,arabicForm:null,ascent:it,attributeName:null,attributeType:null,azimuth:it,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:it,by:null,calcMode:null,capHeight:it,className:Hr,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:it,diffuseConstant:it,direction:null,display:null,dur:null,divisor:it,dominantBaseline:null,download:ir,dx:null,dy:null,edgeMode:null,editable:null,elevation:it,enableBackground:null,end:null,event:null,exponent:it,externalResourcesRequired:null,fill:null,fillOpacity:it,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Nd,g2:Nd,glyphName:Nd,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:it,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:it,horizOriginX:it,horizOriginY:it,id:null,ideographic:it,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:it,k:it,k1:it,k2:it,k3:it,k4:it,kernelMatrix:va,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:it,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:it,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:it,overlineThickness:it,paintOrder:null,panose1:null,path:null,pathLength:it,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Hr,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:it,pointsAtY:it,pointsAtZ:it,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:va,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:va,rev:va,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:va,requiredFeatures:va,requiredFonts:va,requiredFormats:va,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:it,specularExponent:it,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:it,strikethroughThickness:it,string:null,stroke:null,strokeDashArray:va,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:it,strokeOpacity:it,strokeWidth:null,style:null,surfaceScale:it,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:va,tabIndex:it,tableValues:null,target:null,targetX:it,targetY:it,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:va,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:it,underlineThickness:it,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:it,values:null,vAlphabetic:it,vMathematical:it,vectorEffect:null,vHanging:it,vIdeographic:it,version:null,vertAdvY:it,vertOriginX:it,vertOriginY:it,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:it,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:h$}),d$=kp({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),p$=kp({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:f$}),v$=kp({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),Vde={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Ude=/[A-Z]/g,s4=/-[a-z]/g,Gde=/^data[-\w.:]+$/i;function G_(e,t){const r=Vm(t);let n=t,i=ha;if(r in e.normal)return e.property[e.normal[r]];if(r.length>4&&r.slice(0,4)==="data"&&Gde.test(t)){if(t.charAt(4)==="-"){const a=t.slice(5).replace(s4,$de);n="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=t.slice(4);if(!s4.test(a)){let s=a.replace(Ude,Wde);s.charAt(0)!=="-"&&(s="-"+s),t="data"+s}}i=UL}return new i(n,t)}function Wde(e){return"-"+e.toLowerCase()}function $de(e){return e.charAt(1).toUpperCase()}const B0=u$([c$,jde,d$,p$,v$],"html"),oc=u$([c$,Hde,d$,p$,v$],"svg");function o4(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function g$(e){return e.join(" ").trim()}var GL={},l4=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,Yde=/\n/g,Xde=/^\s*/,qde=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,Kde=/^:\s*/,Zde=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,Qde=/^[;\s]*/,Jde=/^\s+|\s+$/g,epe=`
`,u4="/",c4="*",sh="",tpe="comment",rpe="declaration";function npe(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var r=1,n=1;function i(v){var m=v.match(Yde);m&&(r+=m.length);var y=v.lastIndexOf(epe);n=~y?v.length-y:n+v.length}function a(){var v={line:r,column:n};return function(m){return m.position=new s(v),u(),m}}function s(v){this.start=v,this.end={line:r,column:n},this.source=t.source}s.prototype.content=e;function o(v){var m=new Error(t.source+":"+r+":"+n+": "+v);if(m.reason=v,m.filename=t.source,m.line=r,m.column=n,m.source=e,!t.silent)throw m}function l(v){var m=v.exec(e);if(m){var y=m[0];return i(y),e=e.slice(y.length),m}}function u(){l(Xde)}function c(v){var m;for(v=v||[];m=h();)m!==!1&&v.push(m);return v}function h(){var v=a();if(!(u4!=e.charAt(0)||c4!=e.charAt(1))){for(var m=2;sh!=e.charAt(m)&&(c4!=e.charAt(m)||u4!=e.charAt(m+1));)++m;if(m+=2,sh===e.charAt(m-1))return o("End of comment missing");var y=e.slice(2,m-2);return n+=2,i(y),e=e.slice(m),n+=2,v({type:tpe,comment:y})}}function f(){var v=a(),m=l(qde);if(m){if(h(),!l(Kde))return o("property missing ':'");var y=l(Zde),b=v({type:rpe,property:h4(m[0].replace(l4,sh)),value:y?h4(y[0].replace(l4,sh)):sh});return l(Qde),b}}function d(){var v=[];c(v);for(var m;m=f();)m!==!1&&(v.push(m),c(v));return v}return u(),d()}function h4(e){return e?e.replace(Jde,sh):sh}var ipe=npe,ape=Ud&&Ud.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(GL,"__esModule",{value:!0});GL.default=ope;const spe=ape(ipe);function ope(e,t){let r=null;if(!e||typeof e!="string")return r;const n=(0,spe.default)(e),i=typeof t=="function";return n.forEach(a=>{if(a.type!=="declaration")return;const{property:s,value:o}=a;i?t(s,o,a):o&&(r=r||{},r[s]=o)}),r}var W_={};Object.defineProperty(W_,"__esModule",{value:!0});W_.camelCase=void 0;var lpe=/^--[a-zA-Z0-9_-]+$/,upe=/-([a-z])/g,cpe=/^[^-]+$/,hpe=/^-(webkit|moz|ms|o|khtml)-/,fpe=/^-(ms)-/,dpe=function(e){return!e||cpe.test(e)||lpe.test(e)},ppe=function(e,t){return t.toUpperCase()},f4=function(e,t){return"".concat(t,"-")},vpe=function(e,t){return t===void 0&&(t={}),dpe(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(fpe,f4):e=e.replace(hpe,f4),e.replace(upe,ppe))};W_.camelCase=vpe;var gpe=Ud&&Ud.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},mpe=gpe(GL),ype=W_;function sI(e,t){var r={};return!e||typeof e!="string"||(0,mpe.default)(e,function(n,i){n&&i&&(r[(0,ype.camelCase)(n,t)]=i)}),r}sI.default=sI;var xpe=sI;const bpe=Ws(xpe),$_=m$("end"),Fo=m$("start");function m$(e){return t;function t(r){const n=r&&r.position&&r.position[e]||{};if(typeof n.line=="number"&&n.line>0&&typeof n.column=="number"&&n.column>0)return{line:n.line,column:n.column,offset:typeof n.offset=="number"&&n.offset>-1?n.offset:void 0}}}function Spe(e){const t=Fo(e),r=$_(e);if(t&&r)return{start:t,end:r}}function Wg(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?d4(e.position):"start"in e||"end"in e?d4(e):"line"in e||"column"in e?oI(e):""}function oI(e){return p4(e&&e.line)+":"+p4(e&&e.column)}function d4(e){return oI(e&&e.start)+"-"+oI(e&&e.end)}function p4(e){return e&&typeof e=="number"?e:1}class Ci extends Error{constructor(t,r,n){super(),typeof r=="string"&&(n=r,r=void 0);let i="",a={},s=!1;if(r&&("line"in r&&"column"in r?a={place:r}:"start"in r&&"end"in r?a={place:r}:"type"in r?a={ancestors:[r],place:r.position}:a={...r}),typeof t=="string"?i=t:!a.cause&&t&&(s=!0,i=t.message,a.cause=t),!a.ruleId&&!a.source&&typeof n=="string"){const l=n.indexOf(":");l===-1?a.ruleId=n:(a.source=n.slice(0,l),a.ruleId=n.slice(l+1))}if(!a.place&&a.ancestors&&a.ancestors){const l=a.ancestors[a.ancestors.length-1];l&&(a.place=l.position)}const o=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=o?o.line:void 0,this.name=Wg(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=s&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Ci.prototype.file="";Ci.prototype.name="";Ci.prototype.reason="";Ci.prototype.message="";Ci.prototype.stack="";Ci.prototype.column=void 0;Ci.prototype.line=void 0;Ci.prototype.ancestors=void 0;Ci.prototype.cause=void 0;Ci.prototype.fatal=void 0;Ci.prototype.place=void 0;Ci.prototype.ruleId=void 0;Ci.prototype.source=void 0;const WL={}.hasOwnProperty,_pe=new Map,wpe=/[A-Z]/g,Tpe=new Set(["table","tbody","thead","tfoot","tr"]),Cpe=new Set(["td","th"]),y$="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Epe(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const r=t.filePath||void 0;let n;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");n=Ppe(r,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");n=Npe(r,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:n,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:r,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?oc:B0,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},a=x$(i,e,void 0);return a&&typeof a!="string"?a:i.create(e,i.Fragment,{children:a||void 0},void 0)}function x$(e,t,r){if(t.type==="element")return Ape(e,t,r);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return kpe(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return Dpe(e,t,r);if(t.type==="mdxjsEsm")return Ipe(e,t);if(t.type==="root")return Mpe(e,t,r);if(t.type==="text")return Lpe(e,t)}function Ape(e,t,r){const n=e.schema;let i=n;t.tagName.toLowerCase()==="svg"&&n.space==="html"&&(i=oc,e.schema=i),e.ancestors.push(t);const a=S$(e,t.tagName,!1),s=Rpe(e,t);let o=YL(e,t);return Tpe.has(t.tagName)&&(o=o.filter(function(l){return typeof l=="string"?!Fde(l):!0})),b$(e,s,a,t),$L(s,o),e.ancestors.pop(),e.schema=n,e.create(t,a,s,r)}function kpe(e,t){if(t.data&&t.data.estree&&e.evaluater){const n=t.data.estree.body[0];return n.type,e.evaluater.evaluateExpression(n.expression)}Um(e,t.position)}function Ipe(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Um(e,t.position)}function Dpe(e,t,r){const n=e.schema;let i=n;t.name==="svg"&&n.space==="html"&&(i=oc,e.schema=i),e.ancestors.push(t);const a=t.name===null?e.Fragment:S$(e,t.name,!0),s=Ope(e,t),o=YL(e,t);return b$(e,s,a,t),$L(s,o),e.ancestors.pop(),e.schema=n,e.create(t,a,s,r)}function Mpe(e,t,r){const n={};return $L(n,YL(e,t)),e.create(t,e.Fragment,n,r)}function Lpe(e,t){return t.value}function b$(e,t,r,n){typeof r!="string"&&r!==e.Fragment&&e.passNode&&(t.node=n)}function $L(e,t){if(t.length>0){const r=t.length>1?t:t[0];r&&(e.children=r)}}function Npe(e,t,r){return n;function n(i,a,s,o){const u=Array.isArray(s.children)?r:t;return o?u(a,s,o):u(a,s)}}function Ppe(e,t){return r;function r(n,i,a,s){const o=Array.isArray(a.children),l=Fo(n);return t(i,a,s,o,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function Rpe(e,t){const r={};let n,i;for(i in t.properties)if(i!=="children"&&WL.call(t.properties,i)){const a=Bpe(e,i,t.properties[i]);if(a){const[s,o]=a;e.tableCellAlignToStyle&&s==="align"&&typeof o=="string"&&Cpe.has(t.tagName)?n=o:r[s]=o}}if(n){const a=r.style||(r.style={});a[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=n}return r}function Ope(e,t){const r={};for(const n of t.attributes)if(n.type==="mdxJsxExpressionAttribute")if(n.data&&n.data.estree&&e.evaluater){const a=n.data.estree.body[0];a.type;const s=a.expression;s.type;const o=s.properties[0];o.type,Object.assign(r,e.evaluater.evaluateExpression(o.argument))}else Um(e,t.position);else{const i=n.name;let a;if(n.value&&typeof n.value=="object")if(n.value.data&&n.value.data.estree&&e.evaluater){const o=n.value.data.estree.body[0];o.type,a=e.evaluater.evaluateExpression(o.expression)}else Um(e,t.position);else a=n.value===null?!0:n.value;r[i]=a}return r}function YL(e,t){const r=[];let n=-1;const i=e.passKeys?new Map:_pe;for(;++n<t.children.length;){const a=t.children[n];let s;if(e.passKeys){const l=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(l){const u=i.get(l)||0;s=l+"-"+u,i.set(l,u+1)}}const o=x$(e,a,s);o!==void 0&&r.push(o)}return r}function Bpe(e,t,r){const n=G_(e.schema,t);if(!(r==null||typeof r=="number"&&Number.isNaN(r))){if(Array.isArray(r)&&(r=n.commaSeparated?l$(r):g$(r)),n.property==="style"){let i=typeof r=="object"?r:Fpe(e,String(r));return e.stylePropertyNameCase==="css"&&(i=zpe(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&n.space?Vde[n.property]||n.property:n.attribute,r]}}function Fpe(e,t){try{return bpe(t,{reactCompat:!0})}catch(r){if(e.ignoreInvalidStyle)return{};const n=r,i=new Ci("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:n,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=y$+"#cannot-parse-style-attribute",i}}function S$(e,t,r){let n;if(!r)n={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let a=-1,s;for(;++a<i.length;){const o=n4(i[a])?{type:"Identifier",name:i[a]}:{type:"Literal",value:i[a]};s=s?{type:"MemberExpression",object:s,property:o,computed:!!(a&&o.type==="Literal"),optional:!1}:o}n=s}else n=n4(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(n.type==="Literal"){const i=n.value;return WL.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(n);Um(e)}function Um(e,t){const r=new Ci("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw r.file=e.filePath||void 0,r.url=y$+"#cannot-handle-mdx-estrees-without-createevaluater",r}function zpe(e){const t={};let r;for(r in e)WL.call(e,r)&&(t[jpe(r)]=e[r]);return t}function jpe(e){let t=e.replace(wpe,Hpe);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function Hpe(e){return"-"+e.toLowerCase()}const JC={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Vpe={};function XL(e,t){const r=Vpe,n=typeof r.includeImageAlt=="boolean"?r.includeImageAlt:!0,i=typeof r.includeHtml=="boolean"?r.includeHtml:!0;return _$(e,n,i)}function _$(e,t,r){if(Upe(e)){if("value"in e)return e.type==="html"&&!r?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return v4(e.children,t,r)}return Array.isArray(e)?v4(e,t,r):""}function v4(e,t,r){const n=[];let i=-1;for(;++i<e.length;)n[i]=_$(e[i],t,r);return n.join("")}function Upe(e){return!!(e&&typeof e=="object")}const g4=document.createElement("i");function qL(e){const t="&"+e+";";g4.innerHTML=t;const r=g4.textContent;return r.charCodeAt(r.length-1)===59&&e!=="semi"||r===t?!1:r}function Ta(e,t,r,n){const i=e.length;let a=0,s;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,r=r>0?r:0,n.length<1e4)s=Array.from(n),s.unshift(t,r),e.splice(...s);else for(r&&e.splice(t,r);a<n.length;)s=n.slice(a,a+1e4),s.unshift(t,0),e.splice(...s),a+=1e4,t+=1e4}function Xa(e,t){return e.length>0?(Ta(e,e.length,0,t),e):t}const m4={}.hasOwnProperty;function w$(e){const t={};let r=-1;for(;++r<e.length;)Gpe(t,e[r]);return t}function Gpe(e,t){let r;for(r in t){const i=(m4.call(e,r)?e[r]:void 0)||(e[r]={}),a=t[r];let s;if(a)for(s in a){m4.call(i,s)||(i[s]=[]);const o=a[s];Wpe(i[s],Array.isArray(o)?o:o?[o]:[])}}}function Wpe(e,t){let r=-1;const n=[];for(;++r<t.length;)(t[r].add==="after"?e:n).push(t[r]);Ta(e,0,0,n)}function T$(e,t){const r=Number.parseInt(e,t);return r<9||r===11||r>13&&r<32||r>126&&r<160||r>55295&&r<57344||r>64975&&r<65008||(r&65535)===65535||(r&65535)===65534||r>1114111?"":String.fromCodePoint(r)}function Rs(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Bi=lc(/[A-Za-z]/),yi=lc(/[\dA-Za-z]/),$pe=lc(/[#-'*+\--9=?A-Z^-~]/);function sS(e){return e!==null&&(e<32||e===127)}const lI=lc(/\d/),Ype=lc(/[\dA-Fa-f]/),Xpe=lc(/[!-/:-@[-`{-~]/);function Gt(e){return e!==null&&e<-2}function zr(e){return e!==null&&(e<0||e===32)}function hr(e){return e===-2||e===-1||e===32}const Y_=lc(new RegExp("\\p{P}|\\p{S}","u")),Yh=lc(/\s/);function lc(e){return t;function t(r){return r!==null&&r>-1&&e.test(String.fromCharCode(r))}}function Ip(e){const t=[];let r=-1,n=0,i=0;for(;++r<e.length;){const a=e.charCodeAt(r);let s="";if(a===37&&yi(e.charCodeAt(r+1))&&yi(e.charCodeAt(r+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(s=String.fromCharCode(a));else if(a>55295&&a<57344){const o=e.charCodeAt(r+1);a<56320&&o>56319&&o<57344?(s=String.fromCharCode(a,o),i=1):s=""}else s=String.fromCharCode(a);s&&(t.push(e.slice(n,r),encodeURIComponent(s)),n=r+i+1,s=""),i&&(r+=i,i=0)}return t.join("")+e.slice(n)}function yr(e,t,r,n){const i=n?n-1:Number.POSITIVE_INFINITY;let a=0;return s;function s(l){return hr(l)?(e.enter(r),o(l)):t(l)}function o(l){return hr(l)&&a++<i?(e.consume(l),o):(e.exit(r),t(l))}}const qpe={tokenize:Kpe};function Kpe(e){const t=e.attempt(this.parser.constructs.contentInitial,n,i);let r;return t;function n(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),yr(e,t,"linePrefix")}function i(o){return e.enter("paragraph"),a(o)}function a(o){const l=e.enter("chunkText",{contentType:"text",previous:r});return r&&(r.next=l),r=l,s(o)}function s(o){if(o===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(o);return}return Gt(o)?(e.consume(o),e.exit("chunkText"),a):(e.consume(o),s)}}const Zpe={tokenize:Qpe},y4={tokenize:Jpe};function Qpe(e){const t=this,r=[];let n=0,i,a,s;return o;function o(w){if(n<r.length){const k=r[n];return t.containerState=k[1],e.attempt(k[0].continuation,l,u)(w)}return u(w)}function l(w){if(n++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&S();const k=t.events.length;let M=k,I;for(;M--;)if(t.events[M][0]==="exit"&&t.events[M][1].type==="chunkFlow"){I=t.events[M][1].end;break}b(n);let L=k;for(;L<t.events.length;)t.events[L][1].end={...I},L++;return Ta(t.events,M+1,0,t.events.slice(k)),t.events.length=L,u(w)}return o(w)}function u(w){if(n===r.length){if(!i)return f(w);if(i.currentConstruct&&i.currentConstruct.concrete)return v(w);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(y4,c,h)(w)}function c(w){return i&&S(),b(n),f(w)}function h(w){return t.parser.lazy[t.now().line]=n!==r.length,s=t.now().offset,v(w)}function f(w){return t.containerState={},e.attempt(y4,d,v)(w)}function d(w){return n++,r.push([t.currentConstruct,t.containerState]),f(w)}function v(w){if(w===null){i&&S(),b(0),e.consume(w);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:a}),m(w)}function m(w){if(w===null){y(e.exit("chunkFlow"),!0),b(0),e.consume(w);return}return Gt(w)?(e.consume(w),y(e.exit("chunkFlow")),n=0,t.interrupt=void 0,o):(e.consume(w),m)}function y(w,k){const M=t.sliceStream(w);if(k&&M.push(null),w.previous=a,a&&(a.next=w),a=w,i.defineSkip(w.start),i.write(M),t.parser.lazy[w.start.line]){let I=i.events.length;for(;I--;)if(i.events[I][1].start.offset<s&&(!i.events[I][1].end||i.events[I][1].end.offset>s))return;const L=t.events.length;let N=L,z,B;for(;N--;)if(t.events[N][0]==="exit"&&t.events[N][1].type==="chunkFlow"){if(z){B=t.events[N][1].end;break}z=!0}for(b(n),I=L;I<t.events.length;)t.events[I][1].end={...B},I++;Ta(t.events,N+1,0,t.events.slice(L)),t.events.length=I}}function b(w){let k=r.length;for(;k-- >w;){const M=r[k];t.containerState=M[1],M[0].exit.call(t,e)}r.length=w}function S(){i.write([null]),a=void 0,i=void 0,t.containerState._closeFlow=void 0}}function Jpe(e,t,r){return yr(e,e.attempt(this.parser.constructs.document,t,r),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function ip(e){if(e===null||zr(e)||Yh(e))return 1;if(Y_(e))return 2}function X_(e,t,r){const n=[];let i=-1;for(;++i<e.length;){const a=e[i].resolveAll;a&&!n.includes(a)&&(t=a(t,r),n.push(a))}return t}const uI={name:"attention",resolveAll:eve,tokenize:tve};function eve(e,t){let r=-1,n,i,a,s,o,l,u,c;for(;++r<e.length;)if(e[r][0]==="enter"&&e[r][1].type==="attentionSequence"&&e[r][1]._close){for(n=r;n--;)if(e[n][0]==="exit"&&e[n][1].type==="attentionSequence"&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[r][1]).charCodeAt(0)){if((e[n][1]._close||e[r][1]._open)&&(e[r][1].end.offset-e[r][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[r][1].end.offset-e[r][1].start.offset)%3))continue;l=e[n][1].end.offset-e[n][1].start.offset>1&&e[r][1].end.offset-e[r][1].start.offset>1?2:1;const h={...e[n][1].end},f={...e[r][1].start};x4(h,-l),x4(f,l),s={type:l>1?"strongSequence":"emphasisSequence",start:h,end:{...e[n][1].end}},o={type:l>1?"strongSequence":"emphasisSequence",start:{...e[r][1].start},end:f},a={type:l>1?"strongText":"emphasisText",start:{...e[n][1].end},end:{...e[r][1].start}},i={type:l>1?"strong":"emphasis",start:{...s.start},end:{...o.end}},e[n][1].end={...s.start},e[r][1].start={...o.end},u=[],e[n][1].end.offset-e[n][1].start.offset&&(u=Xa(u,[["enter",e[n][1],t],["exit",e[n][1],t]])),u=Xa(u,[["enter",i,t],["enter",s,t],["exit",s,t],["enter",a,t]]),u=Xa(u,X_(t.parser.constructs.insideSpan.null,e.slice(n+1,r),t)),u=Xa(u,[["exit",a,t],["enter",o,t],["exit",o,t],["exit",i,t]]),e[r][1].end.offset-e[r][1].start.offset?(c=2,u=Xa(u,[["enter",e[r][1],t],["exit",e[r][1],t]])):c=0,Ta(e,n-1,r-n+3,u),r=n+u.length-c-2;break}}for(r=-1;++r<e.length;)e[r][1].type==="attentionSequence"&&(e[r][1].type="data");return e}function tve(e,t){const r=this.parser.constructs.attentionMarkers.null,n=this.previous,i=ip(n);let a;return s;function s(l){return a=l,e.enter("attentionSequence"),o(l)}function o(l){if(l===a)return e.consume(l),o;const u=e.exit("attentionSequence"),c=ip(l),h=!c||c===2&&i||r.includes(l),f=!i||i===2&&c||r.includes(n);return u._open=!!(a===42?h:h&&(i||!f)),u._close=!!(a===42?f:f&&(c||!h)),t(l)}}function x4(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const rve={name:"autolink",tokenize:nve};function nve(e,t,r){let n=0;return i;function i(d){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(d),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),a}function a(d){return Bi(d)?(e.consume(d),s):d===64?r(d):u(d)}function s(d){return d===43||d===45||d===46||yi(d)?(n=1,o(d)):u(d)}function o(d){return d===58?(e.consume(d),n=0,l):(d===43||d===45||d===46||yi(d))&&n++<32?(e.consume(d),o):(n=0,u(d))}function l(d){return d===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(d),e.exit("autolinkMarker"),e.exit("autolink"),t):d===null||d===32||d===60||sS(d)?r(d):(e.consume(d),l)}function u(d){return d===64?(e.consume(d),c):$pe(d)?(e.consume(d),u):r(d)}function c(d){return yi(d)?h(d):r(d)}function h(d){return d===46?(e.consume(d),n=0,c):d===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(d),e.exit("autolinkMarker"),e.exit("autolink"),t):f(d)}function f(d){if((d===45||yi(d))&&n++<63){const v=d===45?f:h;return e.consume(d),v}return r(d)}}const F0={partial:!0,tokenize:ive};function ive(e,t,r){return n;function n(a){return hr(a)?yr(e,i,"linePrefix")(a):i(a)}function i(a){return a===null||Gt(a)?t(a):r(a)}}const C$={continuation:{tokenize:sve},exit:ove,name:"blockQuote",tokenize:ave};function ave(e,t,r){const n=this;return i;function i(s){if(s===62){const o=n.containerState;return o.open||(e.enter("blockQuote",{_container:!0}),o.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(s),e.exit("blockQuoteMarker"),a}return r(s)}function a(s){return hr(s)?(e.enter("blockQuotePrefixWhitespace"),e.consume(s),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(s))}}function sve(e,t,r){const n=this;return i;function i(s){return hr(s)?yr(e,a,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):a(s)}function a(s){return e.attempt(C$,t,r)(s)}}function ove(e){e.exit("blockQuote")}const E$={name:"characterEscape",tokenize:lve};function lve(e,t,r){return n;function n(a){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(a),e.exit("escapeMarker"),i}function i(a){return Xpe(a)?(e.enter("characterEscapeValue"),e.consume(a),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):r(a)}}const A$={name:"characterReference",tokenize:uve};function uve(e,t,r){const n=this;let i=0,a,s;return o;function o(h){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),l}function l(h){return h===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(h),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),a=31,s=yi,c(h))}function u(h){return h===88||h===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(h),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),a=6,s=Ype,c):(e.enter("characterReferenceValue"),a=7,s=lI,c(h))}function c(h){if(h===59&&i){const f=e.exit("characterReferenceValue");return s===yi&&!qL(n.sliceSerialize(f))?r(h):(e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return s(h)&&i++<a?(e.consume(h),c):r(h)}}const b4={partial:!0,tokenize:hve},S4={concrete:!0,name:"codeFenced",tokenize:cve};function cve(e,t,r){const n=this,i={partial:!0,tokenize:M};let a=0,s=0,o;return l;function l(I){return u(I)}function u(I){const L=n.events[n.events.length-1];return a=L&&L[1].type==="linePrefix"?L[2].sliceSerialize(L[1],!0).length:0,o=I,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),c(I)}function c(I){return I===o?(s++,e.consume(I),c):s<3?r(I):(e.exit("codeFencedFenceSequence"),hr(I)?yr(e,h,"whitespace")(I):h(I))}function h(I){return I===null||Gt(I)?(e.exit("codeFencedFence"),n.interrupt?t(I):e.check(b4,m,k)(I)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),f(I))}function f(I){return I===null||Gt(I)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),h(I)):hr(I)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),yr(e,d,"whitespace")(I)):I===96&&I===o?r(I):(e.consume(I),f)}function d(I){return I===null||Gt(I)?h(I):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),v(I))}function v(I){return I===null||Gt(I)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),h(I)):I===96&&I===o?r(I):(e.consume(I),v)}function m(I){return e.attempt(i,k,y)(I)}function y(I){return e.enter("lineEnding"),e.consume(I),e.exit("lineEnding"),b}function b(I){return a>0&&hr(I)?yr(e,S,"linePrefix",a+1)(I):S(I)}function S(I){return I===null||Gt(I)?e.check(b4,m,k)(I):(e.enter("codeFlowValue"),w(I))}function w(I){return I===null||Gt(I)?(e.exit("codeFlowValue"),S(I)):(e.consume(I),w)}function k(I){return e.exit("codeFenced"),t(I)}function M(I,L,N){let z=0;return B;function B(X){return I.enter("lineEnding"),I.consume(X),I.exit("lineEnding"),H}function H(X){return I.enter("codeFencedFence"),hr(X)?yr(I,G,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(X):G(X)}function G(X){return X===o?(I.enter("codeFencedFenceSequence"),$(X)):N(X)}function $(X){return X===o?(z++,I.consume(X),$):z>=s?(I.exit("codeFencedFenceSequence"),hr(X)?yr(I,W,"whitespace")(X):W(X)):N(X)}function W(X){return X===null||Gt(X)?(I.exit("codeFencedFence"),L(X)):N(X)}}}function hve(e,t,r){const n=this;return i;function i(s){return s===null?r(s):(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),a)}function a(s){return n.parser.lazy[n.now().line]?r(s):t(s)}}const e2={name:"codeIndented",tokenize:dve},fve={partial:!0,tokenize:pve};function dve(e,t,r){const n=this;return i;function i(u){return e.enter("codeIndented"),yr(e,a,"linePrefix",5)(u)}function a(u){const c=n.events[n.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?s(u):r(u)}function s(u){return u===null?l(u):Gt(u)?e.attempt(fve,s,l)(u):(e.enter("codeFlowValue"),o(u))}function o(u){return u===null||Gt(u)?(e.exit("codeFlowValue"),s(u)):(e.consume(u),o)}function l(u){return e.exit("codeIndented"),t(u)}}function pve(e,t,r){const n=this;return i;function i(s){return n.parser.lazy[n.now().line]?r(s):Gt(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),i):yr(e,a,"linePrefix",5)(s)}function a(s){const o=n.events[n.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(s):Gt(s)?i(s):r(s)}}const vve={name:"codeText",previous:mve,resolve:gve,tokenize:yve};function gve(e){let t=e.length-4,r=3,n,i;if((e[r][1].type==="lineEnding"||e[r][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(n=r;++n<t;)if(e[n][1].type==="codeTextData"){e[r][1].type="codeTextPadding",e[t][1].type="codeTextPadding",r+=2,t-=2;break}}for(n=r-1,t++;++n<=t;)i===void 0?n!==t&&e[n][1].type!=="lineEnding"&&(i=n):(n===t||e[n][1].type==="lineEnding")&&(e[i][1].type="codeTextData",n!==i+2&&(e[i][1].end=e[n-1][1].end,e.splice(i+2,n-i-2),t-=n-i-2,n=i+2),i=void 0);return e}function mve(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function yve(e,t,r){let n=0,i,a;return s;function s(h){return e.enter("codeText"),e.enter("codeTextSequence"),o(h)}function o(h){return h===96?(e.consume(h),n++,o):(e.exit("codeTextSequence"),l(h))}function l(h){return h===null?r(h):h===32?(e.enter("space"),e.consume(h),e.exit("space"),l):h===96?(a=e.enter("codeTextSequence"),i=0,c(h)):Gt(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),l):(e.enter("codeTextData"),u(h))}function u(h){return h===null||h===32||h===96||Gt(h)?(e.exit("codeTextData"),l(h)):(e.consume(h),u)}function c(h){return h===96?(e.consume(h),i++,c):i===n?(e.exit("codeTextSequence"),e.exit("codeText"),t(h)):(a.type="codeTextData",u(h))}}class xve{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,r){const n=r??Number.POSITIVE_INFINITY;return n<this.left.length?this.left.slice(t,n):t>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(t,r,n){const i=r||0;this.setCursor(Math.trunc(t));const a=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return n&&Rv(this.left,n),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Rv(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Rv(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const r=this.left.splice(t,Number.POSITIVE_INFINITY);Rv(this.right,r.reverse())}else{const r=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Rv(this.left,r.reverse())}}}function Rv(e,t){let r=0;if(t.length<1e4)e.push(...t);else for(;r<t.length;)e.push(...t.slice(r,r+1e4)),r+=1e4}function k$(e){const t={};let r=-1,n,i,a,s,o,l,u;const c=new xve(e);for(;++r<c.length;){for(;r in t;)r=t[r];if(n=c.get(r),r&&n[1].type==="chunkFlow"&&c.get(r-1)[1].type==="listItemPrefix"&&(l=n[1]._tokenizer.events,a=0,a<l.length&&l[a][1].type==="lineEndingBlank"&&(a+=2),a<l.length&&l[a][1].type==="content"))for(;++a<l.length&&l[a][1].type!=="content";)l[a][1].type==="chunkText"&&(l[a][1]._isInFirstContentOfListItem=!0,a++);if(n[0]==="enter")n[1].contentType&&(Object.assign(t,bve(c,r)),r=t[r],u=!0);else if(n[1]._container){for(a=r,i=void 0;a--;)if(s=c.get(a),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank")s[0]==="enter"&&(i&&(c.get(i)[1].type="lineEndingBlank"),s[1].type="lineEnding",i=a);else if(!(s[1].type==="linePrefix"||s[1].type==="listItemIndent"))break;i&&(n[1].end={...c.get(i)[1].start},o=c.slice(i,r),o.unshift(n),c.splice(i,r-i+1,o))}}return Ta(e,0,Number.POSITIVE_INFINITY,c.slice(0)),!u}function bve(e,t){const r=e.get(t)[1],n=e.get(t)[2];let i=t-1;const a=[];let s=r._tokenizer;s||(s=n.parser[r.contentType](r.start),r._contentTypeTextTrailing&&(s._contentTypeTextTrailing=!0));const o=s.events,l=[],u={};let c,h,f=-1,d=r,v=0,m=0;const y=[m];for(;d;){for(;e.get(++i)[1]!==d;);a.push(i),d._tokenizer||(c=n.sliceStream(d),d.next||c.push(null),h&&s.defineSkip(d.start),d._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(c),d._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),h=d,d=d.next}for(d=r;++f<o.length;)o[f][0]==="exit"&&o[f-1][0]==="enter"&&o[f][1].type===o[f-1][1].type&&o[f][1].start.line!==o[f][1].end.line&&(m=f+1,y.push(m),d._tokenizer=void 0,d.previous=void 0,d=d.next);for(s.events=[],d?(d._tokenizer=void 0,d.previous=void 0):y.pop(),f=y.length;f--;){const b=o.slice(y[f],y[f+1]),S=a.pop();l.push([S,S+b.length-1]),e.splice(S,2,b)}for(l.reverse(),f=-1;++f<l.length;)u[v+l[f][0]]=v+l[f][1],v+=l[f][1]-l[f][0]-1;return u}const Sve={resolve:wve,tokenize:Tve},_ve={partial:!0,tokenize:Cve};function wve(e){return k$(e),e}function Tve(e,t){let r;return n;function n(o){return e.enter("content"),r=e.enter("chunkContent",{contentType:"content"}),i(o)}function i(o){return o===null?a(o):Gt(o)?e.check(_ve,s,a)(o):(e.consume(o),i)}function a(o){return e.exit("chunkContent"),e.exit("content"),t(o)}function s(o){return e.consume(o),e.exit("chunkContent"),r.next=e.enter("chunkContent",{contentType:"content",previous:r}),r=r.next,i}}function Cve(e,t,r){const n=this;return i;function i(s){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),yr(e,a,"linePrefix")}function a(s){if(s===null||Gt(s))return r(s);const o=n.events[n.events.length-1];return!n.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(s):e.interrupt(n.parser.constructs.flow,r,t)(s)}}function I$(e,t,r,n,i,a,s,o,l){const u=l||Number.POSITIVE_INFINITY;let c=0;return h;function h(b){return b===60?(e.enter(n),e.enter(i),e.enter(a),e.consume(b),e.exit(a),f):b===null||b===32||b===41||sS(b)?r(b):(e.enter(n),e.enter(s),e.enter(o),e.enter("chunkString",{contentType:"string"}),m(b))}function f(b){return b===62?(e.enter(a),e.consume(b),e.exit(a),e.exit(i),e.exit(n),t):(e.enter(o),e.enter("chunkString",{contentType:"string"}),d(b))}function d(b){return b===62?(e.exit("chunkString"),e.exit(o),f(b)):b===null||b===60||Gt(b)?r(b):(e.consume(b),b===92?v:d)}function v(b){return b===60||b===62||b===92?(e.consume(b),d):d(b)}function m(b){return!c&&(b===null||b===41||zr(b))?(e.exit("chunkString"),e.exit(o),e.exit(s),e.exit(n),t(b)):c<u&&b===40?(e.consume(b),c++,m):b===41?(e.consume(b),c--,m):b===null||b===32||b===40||sS(b)?r(b):(e.consume(b),b===92?y:m)}function y(b){return b===40||b===41||b===92?(e.consume(b),m):m(b)}}function D$(e,t,r,n,i,a){const s=this;let o=0,l;return u;function u(d){return e.enter(n),e.enter(i),e.consume(d),e.exit(i),e.enter(a),c}function c(d){return o>999||d===null||d===91||d===93&&!l||d===94&&!o&&"_hiddenFootnoteSupport"in s.parser.constructs?r(d):d===93?(e.exit(a),e.enter(i),e.consume(d),e.exit(i),e.exit(n),t):Gt(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),h(d))}function h(d){return d===null||d===91||d===93||Gt(d)||o++>999?(e.exit("chunkString"),c(d)):(e.consume(d),l||(l=!hr(d)),d===92?f:h)}function f(d){return d===91||d===92||d===93?(e.consume(d),o++,h):h(d)}}function M$(e,t,r,n,i,a){let s;return o;function o(f){return f===34||f===39||f===40?(e.enter(n),e.enter(i),e.consume(f),e.exit(i),s=f===40?41:f,l):r(f)}function l(f){return f===s?(e.enter(i),e.consume(f),e.exit(i),e.exit(n),t):(e.enter(a),u(f))}function u(f){return f===s?(e.exit(a),l(s)):f===null?r(f):Gt(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),yr(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(f))}function c(f){return f===s||f===null||Gt(f)?(e.exit("chunkString"),u(f)):(e.consume(f),f===92?h:c)}function h(f){return f===s||f===92?(e.consume(f),c):c(f)}}function $g(e,t){let r;return n;function n(i){return Gt(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),r=!0,n):hr(i)?yr(e,n,r?"linePrefix":"lineSuffix")(i):t(i)}}const Eve={name:"definition",tokenize:kve},Ave={partial:!0,tokenize:Ive};function kve(e,t,r){const n=this;let i;return a;function a(d){return e.enter("definition"),s(d)}function s(d){return D$.call(n,e,o,r,"definitionLabel","definitionLabelMarker","definitionLabelString")(d)}function o(d){return i=Rs(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)),d===58?(e.enter("definitionMarker"),e.consume(d),e.exit("definitionMarker"),l):r(d)}function l(d){return zr(d)?$g(e,u)(d):u(d)}function u(d){return I$(e,c,r,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(d)}function c(d){return e.attempt(Ave,h,h)(d)}function h(d){return hr(d)?yr(e,f,"whitespace")(d):f(d)}function f(d){return d===null||Gt(d)?(e.exit("definition"),n.parser.defined.push(i),t(d)):r(d)}}function Ive(e,t,r){return n;function n(o){return zr(o)?$g(e,i)(o):r(o)}function i(o){return M$(e,a,r,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function a(o){return hr(o)?yr(e,s,"whitespace")(o):s(o)}function s(o){return o===null||Gt(o)?t(o):r(o)}}const Dve={name:"hardBreakEscape",tokenize:Mve};function Mve(e,t,r){return n;function n(a){return e.enter("hardBreakEscape"),e.consume(a),i}function i(a){return Gt(a)?(e.exit("hardBreakEscape"),t(a)):r(a)}}const Lve={name:"headingAtx",resolve:Nve,tokenize:Pve};function Nve(e,t){let r=e.length-2,n=3,i,a;return e[n][1].type==="whitespace"&&(n+=2),r-2>n&&e[r][1].type==="whitespace"&&(r-=2),e[r][1].type==="atxHeadingSequence"&&(n===r-1||r-4>n&&e[r-2][1].type==="whitespace")&&(r-=n+1===r?2:4),r>n&&(i={type:"atxHeadingText",start:e[n][1].start,end:e[r][1].end},a={type:"chunkText",start:e[n][1].start,end:e[r][1].end,contentType:"text"},Ta(e,n,r-n+1,[["enter",i,t],["enter",a,t],["exit",a,t],["exit",i,t]])),e}function Pve(e,t,r){let n=0;return i;function i(c){return e.enter("atxHeading"),a(c)}function a(c){return e.enter("atxHeadingSequence"),s(c)}function s(c){return c===35&&n++<6?(e.consume(c),s):c===null||zr(c)?(e.exit("atxHeadingSequence"),o(c)):r(c)}function o(c){return c===35?(e.enter("atxHeadingSequence"),l(c)):c===null||Gt(c)?(e.exit("atxHeading"),t(c)):hr(c)?yr(e,o,"whitespace")(c):(e.enter("atxHeadingText"),u(c))}function l(c){return c===35?(e.consume(c),l):(e.exit("atxHeadingSequence"),o(c))}function u(c){return c===null||c===35||zr(c)?(e.exit("atxHeadingText"),o(c)):(e.consume(c),u)}}const Rve=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],_4=["pre","script","style","textarea"],Ove={concrete:!0,name:"htmlFlow",resolveTo:zve,tokenize:jve},Bve={partial:!0,tokenize:Vve},Fve={partial:!0,tokenize:Hve};function zve(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function jve(e,t,r){const n=this;let i,a,s,o,l;return u;function u(te){return c(te)}function c(te){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(te),h}function h(te){return te===33?(e.consume(te),f):te===47?(e.consume(te),a=!0,m):te===63?(e.consume(te),i=3,n.interrupt?t:re):Bi(te)?(e.consume(te),s=String.fromCharCode(te),y):r(te)}function f(te){return te===45?(e.consume(te),i=2,d):te===91?(e.consume(te),i=5,o=0,v):Bi(te)?(e.consume(te),i=4,n.interrupt?t:re):r(te)}function d(te){return te===45?(e.consume(te),n.interrupt?t:re):r(te)}function v(te){const ue="CDATA[";return te===ue.charCodeAt(o++)?(e.consume(te),o===ue.length?n.interrupt?t:G:v):r(te)}function m(te){return Bi(te)?(e.consume(te),s=String.fromCharCode(te),y):r(te)}function y(te){if(te===null||te===47||te===62||zr(te)){const ue=te===47,pe=s.toLowerCase();return!ue&&!a&&_4.includes(pe)?(i=1,n.interrupt?t(te):G(te)):Rve.includes(s.toLowerCase())?(i=6,ue?(e.consume(te),b):n.interrupt?t(te):G(te)):(i=7,n.interrupt&&!n.parser.lazy[n.now().line]?r(te):a?S(te):w(te))}return te===45||yi(te)?(e.consume(te),s+=String.fromCharCode(te),y):r(te)}function b(te){return te===62?(e.consume(te),n.interrupt?t:G):r(te)}function S(te){return hr(te)?(e.consume(te),S):B(te)}function w(te){return te===47?(e.consume(te),B):te===58||te===95||Bi(te)?(e.consume(te),k):hr(te)?(e.consume(te),w):B(te)}function k(te){return te===45||te===46||te===58||te===95||yi(te)?(e.consume(te),k):M(te)}function M(te){return te===61?(e.consume(te),I):hr(te)?(e.consume(te),M):w(te)}function I(te){return te===null||te===60||te===61||te===62||te===96?r(te):te===34||te===39?(e.consume(te),l=te,L):hr(te)?(e.consume(te),I):N(te)}function L(te){return te===l?(e.consume(te),l=null,z):te===null||Gt(te)?r(te):(e.consume(te),L)}function N(te){return te===null||te===34||te===39||te===47||te===60||te===61||te===62||te===96||zr(te)?M(te):(e.consume(te),N)}function z(te){return te===47||te===62||hr(te)?w(te):r(te)}function B(te){return te===62?(e.consume(te),H):r(te)}function H(te){return te===null||Gt(te)?G(te):hr(te)?(e.consume(te),H):r(te)}function G(te){return te===45&&i===2?(e.consume(te),ee):te===60&&i===1?(e.consume(te),le):te===62&&i===4?(e.consume(te),me):te===63&&i===3?(e.consume(te),re):te===93&&i===5?(e.consume(te),fe):Gt(te)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(Bve,J,$)(te)):te===null||Gt(te)?(e.exit("htmlFlowData"),$(te)):(e.consume(te),G)}function $(te){return e.check(Fve,W,J)(te)}function W(te){return e.enter("lineEnding"),e.consume(te),e.exit("lineEnding"),X}function X(te){return te===null||Gt(te)?$(te):(e.enter("htmlFlowData"),G(te))}function ee(te){return te===45?(e.consume(te),re):G(te)}function le(te){return te===47?(e.consume(te),s="",ie):G(te)}function ie(te){if(te===62){const ue=s.toLowerCase();return _4.includes(ue)?(e.consume(te),me):G(te)}return Bi(te)&&s.length<8?(e.consume(te),s+=String.fromCharCode(te),ie):G(te)}function fe(te){return te===93?(e.consume(te),re):G(te)}function re(te){return te===62?(e.consume(te),me):te===45&&i===2?(e.consume(te),re):G(te)}function me(te){return te===null||Gt(te)?(e.exit("htmlFlowData"),J(te)):(e.consume(te),me)}function J(te){return e.exit("htmlFlow"),t(te)}}function Hve(e,t,r){const n=this;return i;function i(s){return Gt(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),a):r(s)}function a(s){return n.parser.lazy[n.now().line]?r(s):t(s)}}function Vve(e,t,r){return n;function n(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(F0,t,r)}}const Uve={name:"htmlText",tokenize:Gve};function Gve(e,t,r){const n=this;let i,a,s;return o;function o(re){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(re),l}function l(re){return re===33?(e.consume(re),u):re===47?(e.consume(re),M):re===63?(e.consume(re),w):Bi(re)?(e.consume(re),N):r(re)}function u(re){return re===45?(e.consume(re),c):re===91?(e.consume(re),a=0,v):Bi(re)?(e.consume(re),S):r(re)}function c(re){return re===45?(e.consume(re),d):r(re)}function h(re){return re===null?r(re):re===45?(e.consume(re),f):Gt(re)?(s=h,le(re)):(e.consume(re),h)}function f(re){return re===45?(e.consume(re),d):h(re)}function d(re){return re===62?ee(re):re===45?f(re):h(re)}function v(re){const me="CDATA[";return re===me.charCodeAt(a++)?(e.consume(re),a===me.length?m:v):r(re)}function m(re){return re===null?r(re):re===93?(e.consume(re),y):Gt(re)?(s=m,le(re)):(e.consume(re),m)}function y(re){return re===93?(e.consume(re),b):m(re)}function b(re){return re===62?ee(re):re===93?(e.consume(re),b):m(re)}function S(re){return re===null||re===62?ee(re):Gt(re)?(s=S,le(re)):(e.consume(re),S)}function w(re){return re===null?r(re):re===63?(e.consume(re),k):Gt(re)?(s=w,le(re)):(e.consume(re),w)}function k(re){return re===62?ee(re):w(re)}function M(re){return Bi(re)?(e.consume(re),I):r(re)}function I(re){return re===45||yi(re)?(e.consume(re),I):L(re)}function L(re){return Gt(re)?(s=L,le(re)):hr(re)?(e.consume(re),L):ee(re)}function N(re){return re===45||yi(re)?(e.consume(re),N):re===47||re===62||zr(re)?z(re):r(re)}function z(re){return re===47?(e.consume(re),ee):re===58||re===95||Bi(re)?(e.consume(re),B):Gt(re)?(s=z,le(re)):hr(re)?(e.consume(re),z):ee(re)}function B(re){return re===45||re===46||re===58||re===95||yi(re)?(e.consume(re),B):H(re)}function H(re){return re===61?(e.consume(re),G):Gt(re)?(s=H,le(re)):hr(re)?(e.consume(re),H):z(re)}function G(re){return re===null||re===60||re===61||re===62||re===96?r(re):re===34||re===39?(e.consume(re),i=re,$):Gt(re)?(s=G,le(re)):hr(re)?(e.consume(re),G):(e.consume(re),W)}function $(re){return re===i?(e.consume(re),i=void 0,X):re===null?r(re):Gt(re)?(s=$,le(re)):(e.consume(re),$)}function W(re){return re===null||re===34||re===39||re===60||re===61||re===96?r(re):re===47||re===62||zr(re)?z(re):(e.consume(re),W)}function X(re){return re===47||re===62||zr(re)?z(re):r(re)}function ee(re){return re===62?(e.consume(re),e.exit("htmlTextData"),e.exit("htmlText"),t):r(re)}function le(re){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(re),e.exit("lineEnding"),ie}function ie(re){return hr(re)?yr(e,fe,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(re):fe(re)}function fe(re){return e.enter("htmlTextData"),s(re)}}const KL={name:"labelEnd",resolveAll:Xve,resolveTo:qve,tokenize:Kve},Wve={tokenize:Zve},$ve={tokenize:Qve},Yve={tokenize:Jve};function Xve(e){let t=-1;const r=[];for(;++t<e.length;){const n=e[t][1];if(r.push(e[t]),n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd"){const i=n.type==="labelImage"?4:2;n.type="data",t+=i}}return e.length!==r.length&&Ta(e,0,e.length,r),e}function qve(e,t){let r=e.length,n=0,i,a,s,o;for(;r--;)if(i=e[r][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[r][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(e[r][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=r,i.type!=="labelLink")){n=2;break}}else i.type==="labelEnd"&&(s=r);const l={type:e[a][1].type==="labelLink"?"link":"image",start:{...e[a][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[a][1].start},end:{...e[s][1].end}},c={type:"labelText",start:{...e[a+n+2][1].end},end:{...e[s-2][1].start}};return o=[["enter",l,t],["enter",u,t]],o=Xa(o,e.slice(a+1,a+n+3)),o=Xa(o,[["enter",c,t]]),o=Xa(o,X_(t.parser.constructs.insideSpan.null,e.slice(a+n+4,s-3),t)),o=Xa(o,[["exit",c,t],e[s-2],e[s-1],["exit",u,t]]),o=Xa(o,e.slice(s+1)),o=Xa(o,[["exit",l,t]]),Ta(e,a,e.length,o),e}function Kve(e,t,r){const n=this;let i=n.events.length,a,s;for(;i--;)if((n.events[i][1].type==="labelImage"||n.events[i][1].type==="labelLink")&&!n.events[i][1]._balanced){a=n.events[i][1];break}return o;function o(f){return a?a._inactive?h(f):(s=n.parser.defined.includes(Rs(n.sliceSerialize({start:a.end,end:n.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(f),e.exit("labelMarker"),e.exit("labelEnd"),l):r(f)}function l(f){return f===40?e.attempt(Wve,c,s?c:h)(f):f===91?e.attempt($ve,c,s?u:h)(f):s?c(f):h(f)}function u(f){return e.attempt(Yve,c,h)(f)}function c(f){return t(f)}function h(f){return a._balanced=!0,r(f)}}function Zve(e,t,r){return n;function n(h){return e.enter("resource"),e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),i}function i(h){return zr(h)?$g(e,a)(h):a(h)}function a(h){return h===41?c(h):I$(e,s,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(h)}function s(h){return zr(h)?$g(e,l)(h):c(h)}function o(h){return r(h)}function l(h){return h===34||h===39||h===40?M$(e,u,r,"resourceTitle","resourceTitleMarker","resourceTitleString")(h):c(h)}function u(h){return zr(h)?$g(e,c)(h):c(h)}function c(h){return h===41?(e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),e.exit("resource"),t):r(h)}}function Qve(e,t,r){const n=this;return i;function i(o){return D$.call(n,e,a,s,"reference","referenceMarker","referenceString")(o)}function a(o){return n.parser.defined.includes(Rs(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)))?t(o):r(o)}function s(o){return r(o)}}function Jve(e,t,r){return n;function n(a){return e.enter("reference"),e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),i}function i(a){return a===93?(e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),e.exit("reference"),t):r(a)}}const ege={name:"labelStartImage",resolveAll:KL.resolveAll,tokenize:tge};function tge(e,t,r){const n=this;return i;function i(o){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(o),e.exit("labelImageMarker"),a}function a(o){return o===91?(e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelImage"),s):r(o)}function s(o){return o===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(o):t(o)}}const rge={name:"labelStartLink",resolveAll:KL.resolveAll,tokenize:nge};function nge(e,t,r){const n=this;return i;function i(s){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelLink"),a}function a(s){return s===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(s):t(s)}}const t2={name:"lineEnding",tokenize:ige};function ige(e,t){return r;function r(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),yr(e,t,"linePrefix")}}const ab={name:"thematicBreak",tokenize:age};function age(e,t,r){let n=0,i;return a;function a(u){return e.enter("thematicBreak"),s(u)}function s(u){return i=u,o(u)}function o(u){return u===i?(e.enter("thematicBreakSequence"),l(u)):n>=3&&(u===null||Gt(u))?(e.exit("thematicBreak"),t(u)):r(u)}function l(u){return u===i?(e.consume(u),n++,l):(e.exit("thematicBreakSequence"),hr(u)?yr(e,o,"whitespace")(u):o(u))}}const Zi={continuation:{tokenize:uge},exit:hge,name:"list",tokenize:lge},sge={partial:!0,tokenize:fge},oge={partial:!0,tokenize:cge};function lge(e,t,r){const n=this,i=n.events[n.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return o;function o(d){const v=n.containerState.type||(d===42||d===43||d===45?"listUnordered":"listOrdered");if(v==="listUnordered"?!n.containerState.marker||d===n.containerState.marker:lI(d)){if(n.containerState.type||(n.containerState.type=v,e.enter(v,{_container:!0})),v==="listUnordered")return e.enter("listItemPrefix"),d===42||d===45?e.check(ab,r,u)(d):u(d);if(!n.interrupt||d===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(d)}return r(d)}function l(d){return lI(d)&&++s<10?(e.consume(d),l):(!n.interrupt||s<2)&&(n.containerState.marker?d===n.containerState.marker:d===41||d===46)?(e.exit("listItemValue"),u(d)):r(d)}function u(d){return e.enter("listItemMarker"),e.consume(d),e.exit("listItemMarker"),n.containerState.marker=n.containerState.marker||d,e.check(F0,n.interrupt?r:c,e.attempt(sge,f,h))}function c(d){return n.containerState.initialBlankLine=!0,a++,f(d)}function h(d){return hr(d)?(e.enter("listItemPrefixWhitespace"),e.consume(d),e.exit("listItemPrefixWhitespace"),f):r(d)}function f(d){return n.containerState.size=a+n.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(d)}}function uge(e,t,r){const n=this;return n.containerState._closeFlow=void 0,e.check(F0,i,a);function i(o){return n.containerState.furtherBlankLines=n.containerState.furtherBlankLines||n.containerState.initialBlankLine,yr(e,t,"listItemIndent",n.containerState.size+1)(o)}function a(o){return n.containerState.furtherBlankLines||!hr(o)?(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,s(o)):(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,e.attempt(oge,t,s)(o))}function s(o){return n.containerState._closeFlow=!0,n.interrupt=void 0,yr(e,e.attempt(Zi,t,r),"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function cge(e,t,r){const n=this;return yr(e,i,"listItemIndent",n.containerState.size+1);function i(a){const s=n.events[n.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===n.containerState.size?t(a):r(a)}}function hge(e){e.exit(this.containerState.type)}function fge(e,t,r){const n=this;return yr(e,i,"listItemPrefixWhitespace",n.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const s=n.events[n.events.length-1];return!hr(a)&&s&&s[1].type==="listItemPrefixWhitespace"?t(a):r(a)}}const w4={name:"setextUnderline",resolveTo:dge,tokenize:pge};function dge(e,t){let r=e.length,n,i,a;for(;r--;)if(e[r][0]==="enter"){if(e[r][1].type==="content"){n=r;break}e[r][1].type==="paragraph"&&(i=r)}else e[r][1].type==="content"&&e.splice(r,1),!a&&e[r][1].type==="definition"&&(a=r);const s={type:"setextHeading",start:{...e[n][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",a?(e.splice(i,0,["enter",s,t]),e.splice(a+1,0,["exit",e[n][1],t]),e[n][1].end={...e[a][1].end}):e[n][1]=s,e.push(["exit",s,t]),e}function pge(e,t,r){const n=this;let i;return a;function a(u){let c=n.events.length,h;for(;c--;)if(n.events[c][1].type!=="lineEnding"&&n.events[c][1].type!=="linePrefix"&&n.events[c][1].type!=="content"){h=n.events[c][1].type==="paragraph";break}return!n.parser.lazy[n.now().line]&&(n.interrupt||h)?(e.enter("setextHeadingLine"),i=u,s(u)):r(u)}function s(u){return e.enter("setextHeadingLineSequence"),o(u)}function o(u){return u===i?(e.consume(u),o):(e.exit("setextHeadingLineSequence"),hr(u)?yr(e,l,"lineSuffix")(u):l(u))}function l(u){return u===null||Gt(u)?(e.exit("setextHeadingLine"),t(u)):r(u)}}const vge={tokenize:gge};function gge(e){const t=this,r=e.attempt(F0,n,e.attempt(this.parser.constructs.flowInitial,i,yr(e,e.attempt(this.parser.constructs.flow,i,e.attempt(Sve,i)),"linePrefix")));return r;function n(a){if(a===null){e.consume(a);return}return e.enter("lineEndingBlank"),e.consume(a),e.exit("lineEndingBlank"),t.currentConstruct=void 0,r}function i(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),t.currentConstruct=void 0,r}}const mge={resolveAll:N$()},yge=L$("string"),xge=L$("text");function L$(e){return{resolveAll:N$(e==="text"?bge:void 0),tokenize:t};function t(r){const n=this,i=this.parser.constructs[e],a=r.attempt(i,s,o);return s;function s(c){return u(c)?a(c):o(c)}function o(c){if(c===null){r.consume(c);return}return r.enter("data"),r.consume(c),l}function l(c){return u(c)?(r.exit("data"),a(c)):(r.consume(c),l)}function u(c){if(c===null)return!0;const h=i[c];let f=-1;if(h)for(;++f<h.length;){const d=h[f];if(!d.previous||d.previous.call(n,n.previous))return!0}return!1}}}function N$(e){return t;function t(r,n){let i=-1,a;for(;++i<=r.length;)a===void 0?r[i]&&r[i][1].type==="data"&&(a=i,i++):(!r[i]||r[i][1].type!=="data")&&(i!==a+2&&(r[a][1].end=r[i-1][1].end,r.splice(a+2,i-a-2),i=a+2),a=void 0);return e?e(r,n):r}}function bge(e,t){let r=0;for(;++r<=e.length;)if((r===e.length||e[r][1].type==="lineEnding")&&e[r-1][1].type==="data"){const n=e[r-1][1],i=t.sliceStream(n);let a=i.length,s=-1,o=0,l;for(;a--;){const u=i[a];if(typeof u=="string"){for(s=u.length;u.charCodeAt(s-1)===32;)o++,s--;if(s)break;s=-1}else if(u===-2)l=!0,o++;else if(u!==-1){a++;break}}if(t._contentTypeTextTrailing&&r===e.length&&(o=0),o){const u={type:r===e.length||l||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?s:n.start._bufferIndex+s,_index:n.start._index+a,line:n.end.line,column:n.end.column-o,offset:n.end.offset-o},end:{...n.end}};n.end={...u.start},n.start.offset===n.end.offset?Object.assign(n,u):(e.splice(r,0,["enter",u,t],["exit",u,t]),r+=2)}r++}return e}const Sge={42:Zi,43:Zi,45:Zi,48:Zi,49:Zi,50:Zi,51:Zi,52:Zi,53:Zi,54:Zi,55:Zi,56:Zi,57:Zi,62:C$},_ge={91:Eve},wge={[-2]:e2,[-1]:e2,32:e2},Tge={35:Lve,42:ab,45:[w4,ab],60:Ove,61:w4,95:ab,96:S4,126:S4},Cge={38:A$,92:E$},Ege={[-5]:t2,[-4]:t2,[-3]:t2,33:ege,38:A$,42:uI,60:[rve,Uve],91:rge,92:[Dve,E$],93:KL,95:uI,96:vve},Age={null:[uI,mge]},kge={null:[42,95]},Ige={null:[]},Dge=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:kge,contentInitial:_ge,disable:Ige,document:Sge,flow:Tge,flowInitial:wge,insideSpan:Age,string:Cge,text:Ege},Symbol.toStringTag,{value:"Module"}));function Mge(e,t,r){let n={_bufferIndex:-1,_index:0,line:r&&r.line||1,column:r&&r.column||1,offset:r&&r.offset||0};const i={},a=[];let s=[],o=[];const l={attempt:L(M),check:L(I),consume:S,enter:w,exit:k,interrupt:L(I,{interrupt:!0})},u={code:null,containerState:{},defineSkip:m,events:[],now:v,parser:e,previous:null,sliceSerialize:f,sliceStream:d,write:h};let c=t.tokenize.call(u,l);return t.resolveAll&&a.push(t),u;function h(H){return s=Xa(s,H),y(),s[s.length-1]!==null?[]:(N(t,0),u.events=X_(a,u.events,u),u.events)}function f(H,G){return Nge(d(H),G)}function d(H){return Lge(s,H)}function v(){const{_bufferIndex:H,_index:G,line:$,column:W,offset:X}=n;return{_bufferIndex:H,_index:G,line:$,column:W,offset:X}}function m(H){i[H.line]=H.column,B()}function y(){let H;for(;n._index<s.length;){const G=s[n._index];if(typeof G=="string")for(H=n._index,n._bufferIndex<0&&(n._bufferIndex=0);n._index===H&&n._bufferIndex<G.length;)b(G.charCodeAt(n._bufferIndex));else b(G)}}function b(H){c=c(H)}function S(H){Gt(H)?(n.line++,n.column=1,n.offset+=H===-3?2:1,B()):H!==-1&&(n.column++,n.offset++),n._bufferIndex<0?n._index++:(n._bufferIndex++,n._bufferIndex===s[n._index].length&&(n._bufferIndex=-1,n._index++)),u.previous=H}function w(H,G){const $=G||{};return $.type=H,$.start=v(),u.events.push(["enter",$,u]),o.push($),$}function k(H){const G=o.pop();return G.end=v(),u.events.push(["exit",G,u]),G}function M(H,G){N(H,G.from)}function I(H,G){G.restore()}function L(H,G){return $;function $(W,X,ee){let le,ie,fe,re;return Array.isArray(W)?J(W):"tokenize"in W?J([W]):me(W);function me(Se){return je;function je(Pe){const Te=Pe!==null&&Se[Pe],Ve=Pe!==null&&Se.null,ze=[...Array.isArray(Te)?Te:Te?[Te]:[],...Array.isArray(Ve)?Ve:Ve?[Ve]:[]];return J(ze)(Pe)}}function J(Se){return le=Se,ie=0,Se.length===0?ee:te(Se[ie])}function te(Se){return je;function je(Pe){return re=z(),fe=Se,Se.partial||(u.currentConstruct=Se),Se.name&&u.parser.constructs.disable.null.includes(Se.name)?pe():Se.tokenize.call(G?Object.assign(Object.create(u),G):u,l,ue,pe)(Pe)}}function ue(Se){return H(fe,re),X}function pe(Se){return re.restore(),++ie<le.length?te(le[ie]):ee}}}function N(H,G){H.resolveAll&&!a.includes(H)&&a.push(H),H.resolve&&Ta(u.events,G,u.events.length-G,H.resolve(u.events.slice(G),u)),H.resolveTo&&(u.events=H.resolveTo(u.events,u))}function z(){const H=v(),G=u.previous,$=u.currentConstruct,W=u.events.length,X=Array.from(o);return{from:W,restore:ee};function ee(){n=H,u.previous=G,u.currentConstruct=$,u.events.length=W,o=X,B()}}function B(){n.line in i&&n.column<2&&(n.column=i[n.line],n.offset+=i[n.line]-1)}}function Lge(e,t){const r=t.start._index,n=t.start._bufferIndex,i=t.end._index,a=t.end._bufferIndex;let s;if(r===i)s=[e[r].slice(n,a)];else{if(s=e.slice(r,i),n>-1){const o=s[0];typeof o=="string"?s[0]=o.slice(n):s.shift()}a>0&&s.push(e[i].slice(0,a))}return s}function Nge(e,t){let r=-1;const n=[];let i;for(;++r<e.length;){const a=e[r];let s;if(typeof a=="string")s=a;else switch(a){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=t?" ":"	";break}case-1:{if(!t&&i)continue;s=" ";break}default:s=String.fromCharCode(a)}i=a===-2,n.push(s)}return n.join("")}function Pge(e){const n={constructs:w$([Dge,...(e||{}).extensions||[]]),content:i(qpe),defined:[],document:i(Zpe),flow:i(vge),lazy:{},string:i(yge),text:i(xge)};return n;function i(a){return s;function s(o){return Mge(n,a,o)}}}function Rge(e){for(;!k$(e););return e}const T4=/[\0\t\n\r]/g;function Oge(){let e=1,t="",r=!0,n;return i;function i(a,s,o){const l=[];let u,c,h,f,d;for(a=t+(typeof a=="string"?a.toString():new TextDecoder(s||void 0).decode(a)),h=0,t="",r&&(a.charCodeAt(0)===65279&&h++,r=void 0);h<a.length;){if(T4.lastIndex=h,u=T4.exec(a),f=u&&u.index!==void 0?u.index:a.length,d=a.charCodeAt(f),!u){t=a.slice(h);break}if(d===10&&h===f&&n)l.push(-3),n=void 0;else switch(n&&(l.push(-5),n=void 0),h<f&&(l.push(a.slice(h,f)),e+=f-h),d){case 0:{l.push(65533),e++;break}case 9:{for(c=Math.ceil(e/4)*4,l.push(-2);e++<c;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:n=!0,e=1}h=f+1}return o&&(n&&l.push(-5),t&&l.push(t),l.push(null)),l}}const Bge=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Fge(e){return e.replace(Bge,zge)}function zge(e,t,r){if(t)return t;if(r.charCodeAt(0)===35){const i=r.charCodeAt(1),a=i===120||i===88;return T$(r.slice(a?2:1),a?16:10)}return qL(r)||e}const P$={}.hasOwnProperty;function jge(e,t,r){return typeof t!="string"&&(r=t,t=void 0),Hge(r)(Rge(Pge(r).document().write(Oge()(e,t,!0))))}function Hge(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(lt),autolinkProtocol:z,autolinkEmail:z,atxHeading:a(Ae),blockQuote:a(Ve),characterEscape:z,characterReference:z,codeFenced:a(ze),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:a(ze,s),codeText:a($e,s),codeTextData:z,data:z,codeFlowValue:z,definition:a(ce),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:a(ve),hardBreakEscape:a(Le),hardBreakTrailing:a(Le),htmlFlow:a(Ge,s),htmlFlowData:z,htmlText:a(Ge,s),htmlTextData:z,image:a(nt),label:s,link:a(lt),listItem:a(Ee),listItemValue:f,listOrdered:a(He,h),listUnordered:a(He),paragraph:a(Ye),reference:te,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:a(Ae),strong:a(ut),thematicBreak:a(ft)},exit:{atxHeading:l(),atxHeadingSequence:M,autolink:l(),autolinkEmail:Te,autolinkProtocol:Pe,blockQuote:l(),characterEscapeValue:B,characterReferenceMarkerHexadecimal:pe,characterReferenceMarkerNumeric:pe,characterReferenceValue:Se,characterReference:je,codeFenced:l(y),codeFencedFence:m,codeFencedFenceInfo:d,codeFencedFenceMeta:v,codeFlowValue:B,codeIndented:l(b),codeText:l(X),codeTextData:B,data:B,definition:l(),definitionDestinationString:k,definitionLabelString:S,definitionTitleString:w,emphasis:l(),hardBreakEscape:l(G),hardBreakTrailing:l(G),htmlFlow:l($),htmlFlowData:B,htmlText:l(W),htmlTextData:B,image:l(le),label:fe,labelText:ie,lineEnding:H,link:l(ee),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:ue,resourceDestinationString:re,resourceTitleString:me,resource:J,setextHeading:l(N),setextHeadingLineSequence:L,setextHeadingText:I,strong:l(),thematicBreak:l()}};R$(t,(e||{}).mdastExtensions||[]);const r={};return n;function n(Ce){let ke={type:"root",children:[]};const ht={stack:[ke],tokenStack:[],config:t,enter:o,exit:u,buffer:s,resume:c,data:r},qe=[];let dt=-1;for(;++dt<Ce.length;)if(Ce[dt][1].type==="listOrdered"||Ce[dt][1].type==="listUnordered")if(Ce[dt][0]==="enter")qe.push(dt);else{const kt=qe.pop();dt=i(Ce,kt,dt)}for(dt=-1;++dt<Ce.length;){const kt=t[Ce[dt][0]];P$.call(kt,Ce[dt][1].type)&&kt[Ce[dt][1].type].call(Object.assign({sliceSerialize:Ce[dt][2].sliceSerialize},ht),Ce[dt][1])}if(ht.tokenStack.length>0){const kt=ht.tokenStack[ht.tokenStack.length-1];(kt[1]||C4).call(ht,void 0,kt[0])}for(ke.position={start:Kl(Ce.length>0?Ce[0][1].start:{line:1,column:1,offset:0}),end:Kl(Ce.length>0?Ce[Ce.length-2][1].end:{line:1,column:1,offset:0})},dt=-1;++dt<t.transforms.length;)ke=t.transforms[dt](ke)||ke;return ke}function i(Ce,ke,ht){let qe=ke-1,dt=-1,kt=!1,mt,cr,br,Ht;for(;++qe<=ht;){const pn=Ce[qe];switch(pn[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{pn[0]==="enter"?dt++:dt--,Ht=void 0;break}case"lineEndingBlank":{pn[0]==="enter"&&(mt&&!Ht&&!dt&&!br&&(br=qe),Ht=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Ht=void 0}if(!dt&&pn[0]==="enter"&&pn[1].type==="listItemPrefix"||dt===-1&&pn[0]==="exit"&&(pn[1].type==="listUnordered"||pn[1].type==="listOrdered")){if(mt){let jr=qe;for(cr=void 0;jr--;){const Pr=Ce[jr];if(Pr[1].type==="lineEnding"||Pr[1].type==="lineEndingBlank"){if(Pr[0]==="exit")continue;cr&&(Ce[cr][1].type="lineEndingBlank",kt=!0),Pr[1].type="lineEnding",cr=jr}else if(!(Pr[1].type==="linePrefix"||Pr[1].type==="blockQuotePrefix"||Pr[1].type==="blockQuotePrefixWhitespace"||Pr[1].type==="blockQuoteMarker"||Pr[1].type==="listItemIndent"))break}br&&(!cr||br<cr)&&(mt._spread=!0),mt.end=Object.assign({},cr?Ce[cr][1].start:pn[1].end),Ce.splice(cr||qe,0,["exit",mt,pn[2]]),qe++,ht++}if(pn[1].type==="listItemPrefix"){const jr={type:"listItem",_spread:!1,start:Object.assign({},pn[1].start),end:void 0};mt=jr,Ce.splice(qe,0,["enter",jr,pn[2]]),qe++,ht++,br=void 0,Ht=!0}}}return Ce[ke][1]._spread=kt,ht}function a(Ce,ke){return ht;function ht(qe){o.call(this,Ce(qe),qe),ke&&ke.call(this,qe)}}function s(){this.stack.push({type:"fragment",children:[]})}function o(Ce,ke,ht){this.stack[this.stack.length-1].children.push(Ce),this.stack.push(Ce),this.tokenStack.push([ke,ht||void 0]),Ce.position={start:Kl(ke.start),end:void 0}}function l(Ce){return ke;function ke(ht){Ce&&Ce.call(this,ht),u.call(this,ht)}}function u(Ce,ke){const ht=this.stack.pop(),qe=this.tokenStack.pop();if(qe)qe[0].type!==Ce.type&&(ke?ke.call(this,Ce,qe[0]):(qe[1]||C4).call(this,Ce,qe[0]));else throw new Error("Cannot close `"+Ce.type+"` ("+Wg({start:Ce.start,end:Ce.end})+"): its not open");ht.position.end=Kl(Ce.end)}function c(){return XL(this.stack.pop())}function h(){this.data.expectingFirstListItemValue=!0}function f(Ce){if(this.data.expectingFirstListItemValue){const ke=this.stack[this.stack.length-2];ke.start=Number.parseInt(this.sliceSerialize(Ce),10),this.data.expectingFirstListItemValue=void 0}}function d(){const Ce=this.resume(),ke=this.stack[this.stack.length-1];ke.lang=Ce}function v(){const Ce=this.resume(),ke=this.stack[this.stack.length-1];ke.meta=Ce}function m(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function y(){const Ce=this.resume(),ke=this.stack[this.stack.length-1];ke.value=Ce.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function b(){const Ce=this.resume(),ke=this.stack[this.stack.length-1];ke.value=Ce.replace(/(\r?\n|\r)$/g,"")}function S(Ce){const ke=this.resume(),ht=this.stack[this.stack.length-1];ht.label=ke,ht.identifier=Rs(this.sliceSerialize(Ce)).toLowerCase()}function w(){const Ce=this.resume(),ke=this.stack[this.stack.length-1];ke.title=Ce}function k(){const Ce=this.resume(),ke=this.stack[this.stack.length-1];ke.url=Ce}function M(Ce){const ke=this.stack[this.stack.length-1];if(!ke.depth){const ht=this.sliceSerialize(Ce).length;ke.depth=ht}}function I(){this.data.setextHeadingSlurpLineEnding=!0}function L(Ce){const ke=this.stack[this.stack.length-1];ke.depth=this.sliceSerialize(Ce).codePointAt(0)===61?1:2}function N(){this.data.setextHeadingSlurpLineEnding=void 0}function z(Ce){const ht=this.stack[this.stack.length-1].children;let qe=ht[ht.length-1];(!qe||qe.type!=="text")&&(qe=et(),qe.position={start:Kl(Ce.start),end:void 0},ht.push(qe)),this.stack.push(qe)}function B(Ce){const ke=this.stack.pop();ke.value+=this.sliceSerialize(Ce),ke.position.end=Kl(Ce.end)}function H(Ce){const ke=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ht=ke.children[ke.children.length-1];ht.position.end=Kl(Ce.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(ke.type)&&(z.call(this,Ce),B.call(this,Ce))}function G(){this.data.atHardBreak=!0}function $(){const Ce=this.resume(),ke=this.stack[this.stack.length-1];ke.value=Ce}function W(){const Ce=this.resume(),ke=this.stack[this.stack.length-1];ke.value=Ce}function X(){const Ce=this.resume(),ke=this.stack[this.stack.length-1];ke.value=Ce}function ee(){const Ce=this.stack[this.stack.length-1];if(this.data.inReference){const ke=this.data.referenceType||"shortcut";Ce.type+="Reference",Ce.referenceType=ke,delete Ce.url,delete Ce.title}else delete Ce.identifier,delete Ce.label;this.data.referenceType=void 0}function le(){const Ce=this.stack[this.stack.length-1];if(this.data.inReference){const ke=this.data.referenceType||"shortcut";Ce.type+="Reference",Ce.referenceType=ke,delete Ce.url,delete Ce.title}else delete Ce.identifier,delete Ce.label;this.data.referenceType=void 0}function ie(Ce){const ke=this.sliceSerialize(Ce),ht=this.stack[this.stack.length-2];ht.label=Fge(ke),ht.identifier=Rs(ke).toLowerCase()}function fe(){const Ce=this.stack[this.stack.length-1],ke=this.resume(),ht=this.stack[this.stack.length-1];if(this.data.inReference=!0,ht.type==="link"){const qe=Ce.children;ht.children=qe}else ht.alt=ke}function re(){const Ce=this.resume(),ke=this.stack[this.stack.length-1];ke.url=Ce}function me(){const Ce=this.resume(),ke=this.stack[this.stack.length-1];ke.title=Ce}function J(){this.data.inReference=void 0}function te(){this.data.referenceType="collapsed"}function ue(Ce){const ke=this.resume(),ht=this.stack[this.stack.length-1];ht.label=ke,ht.identifier=Rs(this.sliceSerialize(Ce)).toLowerCase(),this.data.referenceType="full"}function pe(Ce){this.data.characterReferenceType=Ce.type}function Se(Ce){const ke=this.sliceSerialize(Ce),ht=this.data.characterReferenceType;let qe;ht?(qe=T$(ke,ht==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):qe=qL(ke);const dt=this.stack[this.stack.length-1];dt.value+=qe}function je(Ce){const ke=this.stack.pop();ke.position.end=Kl(Ce.end)}function Pe(Ce){B.call(this,Ce);const ke=this.stack[this.stack.length-1];ke.url=this.sliceSerialize(Ce)}function Te(Ce){B.call(this,Ce);const ke=this.stack[this.stack.length-1];ke.url="mailto:"+this.sliceSerialize(Ce)}function Ve(){return{type:"blockquote",children:[]}}function ze(){return{type:"code",lang:null,meta:null,value:""}}function $e(){return{type:"inlineCode",value:""}}function ce(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ve(){return{type:"emphasis",children:[]}}function Ae(){return{type:"heading",depth:0,children:[]}}function Le(){return{type:"break"}}function Ge(){return{type:"html",value:""}}function nt(){return{type:"image",title:null,url:"",alt:null}}function lt(){return{type:"link",title:null,url:"",children:[]}}function He(Ce){return{type:"list",ordered:Ce.type==="listOrdered",start:null,spread:Ce._spread,children:[]}}function Ee(Ce){return{type:"listItem",spread:Ce._spread,checked:null,children:[]}}function Ye(){return{type:"paragraph",children:[]}}function ut(){return{type:"strong",children:[]}}function et(){return{type:"text",value:""}}function ft(){return{type:"thematicBreak"}}}function Kl(e){return{line:e.line,column:e.column,offset:e.offset}}function R$(e,t){let r=-1;for(;++r<t.length;){const n=t[r];Array.isArray(n)?R$(e,n):Vge(e,n)}}function Vge(e,t){let r;for(r in t)if(P$.call(t,r))switch(r){case"canContainEols":{const n=t[r];n&&e[r].push(...n);break}case"transforms":{const n=t[r];n&&e[r].push(...n);break}case"enter":case"exit":{const n=t[r];n&&Object.assign(e[r],n);break}}}function C4(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Wg({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Wg({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Wg({start:t.start,end:t.end})+") is still open")}function Uge(e){const t=this;t.parser=r;function r(n){return jge(n,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function Gge(e,t){const r={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,r),e.applyData(t,r)}function Wge(e,t){const r={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,r),[e.applyData(t,r),{type:"text",value:`
`}]}function $ge(e,t){const r=t.value?t.value+`
`:"",n={},i=t.lang?t.lang.split(/\s+/):[];i.length>0&&(n.className=["language-"+i[0]]);let a={type:"element",tagName:"code",properties:n,children:[{type:"text",value:r}]};return t.meta&&(a.data={meta:t.meta}),e.patch(t,a),a=e.applyData(t,a),a={type:"element",tagName:"pre",properties:{},children:[a]},e.patch(t,a),a}function Yge(e,t){const r={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Xge(e,t){const r={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function qge(e,t){const r=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=String(t.identifier).toUpperCase(),i=Ip(n.toLowerCase()),a=e.footnoteOrder.indexOf(n);let s,o=e.footnoteCounts.get(n);o===void 0?(o=0,e.footnoteOrder.push(n),s=e.footnoteOrder.length):s=a+1,o+=1,e.footnoteCounts.set(n,o);const l={type:"element",tagName:"a",properties:{href:"#"+r+"fn-"+i,id:r+"fnref-"+i+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};e.patch(t,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,u),e.applyData(t,u)}function Kge(e,t){const r={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Zge(e,t){if(e.options.allowDangerousHtml){const r={type:"raw",value:t.value};return e.patch(t,r),e.applyData(t,r)}}function O$(e,t){const r=t.referenceType;let n="]";if(r==="collapsed"?n+="[]":r==="full"&&(n+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+n}];const i=e.all(t),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const s=i[i.length-1];return s&&s.type==="text"?s.value+=n:i.push({type:"text",value:n}),i}function Qge(e,t){const r=String(t.identifier).toUpperCase(),n=e.definitionById.get(r);if(!n)return O$(e,t);const i={src:Ip(n.url||""),alt:t.alt};n.title!==null&&n.title!==void 0&&(i.title=n.title);const a={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,a),e.applyData(t,a)}function Jge(e,t){const r={src:Ip(t.url)};t.alt!==null&&t.alt!==void 0&&(r.alt=t.alt),t.title!==null&&t.title!==void 0&&(r.title=t.title);const n={type:"element",tagName:"img",properties:r,children:[]};return e.patch(t,n),e.applyData(t,n)}function eme(e,t){const r={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,r);const n={type:"element",tagName:"code",properties:{},children:[r]};return e.patch(t,n),e.applyData(t,n)}function tme(e,t){const r=String(t.identifier).toUpperCase(),n=e.definitionById.get(r);if(!n)return O$(e,t);const i={href:Ip(n.url||"")};n.title!==null&&n.title!==void 0&&(i.title=n.title);const a={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,a),e.applyData(t,a)}function rme(e,t){const r={href:Ip(t.url)};t.title!==null&&t.title!==void 0&&(r.title=t.title);const n={type:"element",tagName:"a",properties:r,children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function nme(e,t,r){const n=e.all(t),i=r?ime(r):B$(t),a={},s=[];if(typeof t.checked=="boolean"){const c=n[0];let h;c&&c.type==="element"&&c.tagName==="p"?h=c:(h={type:"element",tagName:"p",properties:{},children:[]},n.unshift(h)),h.children.length>0&&h.children.unshift({type:"text",value:" "}),h.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let o=-1;for(;++o<n.length;){const c=n[o];(i||o!==0||c.type!=="element"||c.tagName!=="p")&&s.push({type:"text",value:`
`}),c.type==="element"&&c.tagName==="p"&&!i?s.push(...c.children):s.push(c)}const l=n[n.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&s.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:a,children:s};return e.patch(t,u),e.applyData(t,u)}function ime(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const r=e.children;let n=-1;for(;!t&&++n<r.length;)t=B$(r[n])}return t}function B$(e){const t=e.spread;return t??e.children.length>1}function ame(e,t){const r={},n=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(r.start=t.start);++i<n.length;){const s=n[i];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){r.className=["contains-task-list"];break}}const a={type:"element",tagName:t.ordered?"ol":"ul",properties:r,children:e.wrap(n,!0)};return e.patch(t,a),e.applyData(t,a)}function sme(e,t){const r={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function ome(e,t){const r={type:"root",children:e.wrap(e.all(t))};return e.patch(t,r),e.applyData(t,r)}function lme(e,t){const r={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function ume(e,t){const r=e.all(t),n=r.shift(),i=[];if(n){const s={type:"element",tagName:"thead",properties:{},children:e.wrap([n],!0)};e.patch(t.children[0],s),i.push(s)}if(r.length>0){const s={type:"element",tagName:"tbody",properties:{},children:e.wrap(r,!0)},o=Fo(t.children[1]),l=$_(t.children[t.children.length-1]);o&&l&&(s.position={start:o,end:l}),i.push(s)}const a={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,a),e.applyData(t,a)}function cme(e,t,r){const n=r?r.children:void 0,a=(n?n.indexOf(t):1)===0?"th":"td",s=r&&r.type==="table"?r.align:void 0,o=s?s.length:t.children.length;let l=-1;const u=[];for(;++l<o;){const h=t.children[l],f={},d=s?s[l]:void 0;d&&(f.align=d);let v={type:"element",tagName:a,properties:f,children:[]};h&&(v.children=e.all(h),e.patch(h,v),v=e.applyData(h,v)),u.push(v)}const c={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,c),e.applyData(t,c)}function hme(e,t){const r={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}const E4=9,A4=32;function fme(e){const t=String(e),r=/\r?\n|\r/g;let n=r.exec(t),i=0;const a=[];for(;n;)a.push(k4(t.slice(i,n.index),i>0,!0),n[0]),i=n.index+n[0].length,n=r.exec(t);return a.push(k4(t.slice(i),i>0,!1)),a.join("")}function k4(e,t,r){let n=0,i=e.length;if(t){let a=e.codePointAt(n);for(;a===E4||a===A4;)n++,a=e.codePointAt(n)}if(r){let a=e.codePointAt(i-1);for(;a===E4||a===A4;)i--,a=e.codePointAt(i-1)}return i>n?e.slice(n,i):""}function dme(e,t){const r={type:"text",value:fme(String(t.value))};return e.patch(t,r),e.applyData(t,r)}function pme(e,t){const r={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,r),e.applyData(t,r)}const vme={blockquote:Gge,break:Wge,code:$ge,delete:Yge,emphasis:Xge,footnoteReference:qge,heading:Kge,html:Zge,imageReference:Qge,image:Jge,inlineCode:eme,linkReference:tme,link:rme,listItem:nme,list:ame,paragraph:sme,root:ome,strong:lme,table:ume,tableCell:hme,tableRow:cme,text:dme,thematicBreak:pme,toml:D1,yaml:D1,definition:D1,footnoteDefinition:D1};function D1(){}const F$=-1,q_=0,Yg=1,oS=2,ZL=3,QL=4,JL=5,eN=6,z$=7,j$=8,I4=typeof self=="object"?self:globalThis,gme=(e,t)=>{const r=(i,a)=>(e.set(a,i),i),n=i=>{if(e.has(i))return e.get(i);const[a,s]=t[i];switch(a){case q_:case F$:return r(s,i);case Yg:{const o=r([],i);for(const l of s)o.push(n(l));return o}case oS:{const o=r({},i);for(const[l,u]of s)o[n(l)]=n(u);return o}case ZL:return r(new Date(s),i);case QL:{const{source:o,flags:l}=s;return r(new RegExp(o,l),i)}case JL:{const o=r(new Map,i);for(const[l,u]of s)o.set(n(l),n(u));return o}case eN:{const o=r(new Set,i);for(const l of s)o.add(n(l));return o}case z$:{const{name:o,message:l}=s;return r(new I4[o](l),i)}case j$:return r(BigInt(s),i);case"BigInt":return r(Object(BigInt(s)),i);case"ArrayBuffer":return r(new Uint8Array(s).buffer,s);case"DataView":{const{buffer:o}=new Uint8Array(s);return r(new DataView(o),s)}}return r(new I4[a](s),i)};return n},D4=e=>gme(new Map,e)(0),Nf="",{toString:mme}={},{keys:yme}=Object,Ov=e=>{const t=typeof e;if(t!=="object"||!e)return[q_,t];const r=mme.call(e).slice(8,-1);switch(r){case"Array":return[Yg,Nf];case"Object":return[oS,Nf];case"Date":return[ZL,Nf];case"RegExp":return[QL,Nf];case"Map":return[JL,Nf];case"Set":return[eN,Nf];case"DataView":return[Yg,r]}return r.includes("Array")?[Yg,r]:r.includes("Error")?[z$,r]:[oS,r]},M1=([e,t])=>e===q_&&(t==="function"||t==="symbol"),xme=(e,t,r,n)=>{const i=(s,o)=>{const l=n.push(s)-1;return r.set(o,l),l},a=s=>{if(r.has(s))return r.get(s);let[o,l]=Ov(s);switch(o){case q_:{let c=s;switch(l){case"bigint":o=j$,c=s.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);c=null;break;case"undefined":return i([F$],s)}return i([o,c],s)}case Yg:{if(l){let f=s;return l==="DataView"?f=new Uint8Array(s.buffer):l==="ArrayBuffer"&&(f=new Uint8Array(s)),i([l,[...f]],s)}const c=[],h=i([o,c],s);for(const f of s)c.push(a(f));return h}case oS:{if(l)switch(l){case"BigInt":return i([l,s.toString()],s);case"Boolean":case"Number":case"String":return i([l,s.valueOf()],s)}if(t&&"toJSON"in s)return a(s.toJSON());const c=[],h=i([o,c],s);for(const f of yme(s))(e||!M1(Ov(s[f])))&&c.push([a(f),a(s[f])]);return h}case ZL:return i([o,s.toISOString()],s);case QL:{const{source:c,flags:h}=s;return i([o,{source:c,flags:h}],s)}case JL:{const c=[],h=i([o,c],s);for(const[f,d]of s)(e||!(M1(Ov(f))||M1(Ov(d))))&&c.push([a(f),a(d)]);return h}case eN:{const c=[],h=i([o,c],s);for(const f of s)(e||!M1(Ov(f)))&&c.push(a(f));return h}}const{message:u}=s;return i([o,{name:l,message:u}],s)};return a},M4=(e,{json:t,lossy:r}={})=>{const n=[];return xme(!(t||r),!!t,new Map,n)(e),n},ap=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?D4(M4(e,t)):structuredClone(e):(e,t)=>D4(M4(e,t));function bme(e,t){const r=[{type:"text",value:""}];return t>1&&r.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),r}function Sme(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function _me(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=e.options.footnoteBackContent||bme,n=e.options.footnoteBackLabel||Sme,i=e.options.footnoteLabel||"Footnotes",a=e.options.footnoteLabelTagName||"h2",s=e.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let l=-1;for(;++l<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[l]);if(!u)continue;const c=e.all(u),h=String(u.identifier).toUpperCase(),f=Ip(h.toLowerCase());let d=0;const v=[],m=e.footnoteCounts.get(h);for(;m!==void 0&&++d<=m;){v.length>0&&v.push({type:"text",value:" "});let S=typeof r=="string"?r:r(l,d);typeof S=="string"&&(S={type:"text",value:S}),v.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+f+(d>1?"-"+d:""),dataFootnoteBackref:"",ariaLabel:typeof n=="string"?n:n(l,d),className:["data-footnote-backref"]},children:Array.isArray(S)?S:[S]})}const y=c[c.length-1];if(y&&y.type==="element"&&y.tagName==="p"){const S=y.children[y.children.length-1];S&&S.type==="text"?S.value+=" ":y.children.push({type:"text",value:" "}),y.children.push(...v)}else c.push(...v);const b={type:"element",tagName:"li",properties:{id:t+"fn-"+f},children:e.wrap(c,!0)};e.patch(u,b),o.push(b)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...ap(s),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(o,!0)},{type:"text",value:`
`}]}}const K_=function(e){if(e==null)return Eme;if(typeof e=="function")return Z_(e);if(typeof e=="object")return Array.isArray(e)?wme(e):Tme(e);if(typeof e=="string")return Cme(e);throw new Error("Expected function, string, or object as test")};function wme(e){const t=[];let r=-1;for(;++r<e.length;)t[r]=K_(e[r]);return Z_(n);function n(...i){let a=-1;for(;++a<t.length;)if(t[a].apply(this,i))return!0;return!1}}function Tme(e){const t=e;return Z_(r);function r(n){const i=n;let a;for(a in e)if(i[a]!==t[a])return!1;return!0}}function Cme(e){return Z_(t);function t(r){return r&&r.type===e}}function Z_(e){return t;function t(r,n,i){return!!(Ame(r)&&e.call(this,r,typeof n=="number"?n:void 0,i||void 0))}}function Eme(){return!0}function Ame(e){return e!==null&&typeof e=="object"&&"type"in e}const H$=[],kme=!0,cI=!1,Ime="skip";function V$(e,t,r,n){let i;typeof t=="function"&&typeof r!="function"?(n=r,r=t):i=t;const a=K_(i),s=n?-1:1;o(e,void 0,[])();function o(l,u,c){const h=l&&typeof l=="object"?l:{};if(typeof h.type=="string"){const d=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(f,"name",{value:"node ("+(l.type+(d?"<"+d+">":""))+")"})}return f;function f(){let d=H$,v,m,y;if((!t||a(l,u,c[c.length-1]||void 0))&&(d=Dme(r(l,c)),d[0]===cI))return d;if("children"in l&&l.children){const b=l;if(b.children&&d[0]!==Ime)for(m=(n?b.children.length:-1)+s,y=c.concat(b);m>-1&&m<b.children.length;){const S=b.children[m];if(v=o(S,m,y)(),v[0]===cI)return v;m=typeof v[1]=="number"?v[1]:m+s}}return d}}}function Dme(e){return Array.isArray(e)?e:typeof e=="number"?[kme,e]:e==null?H$:[e]}function Q_(e,t,r,n){let i,a,s;typeof t=="function"&&typeof r!="function"?(a=void 0,s=t,i=r):(a=t,s=r,i=n),V$(e,a,o,i);function o(l,u){const c=u[u.length-1],h=c?c.children.indexOf(l):void 0;return s(l,h,c)}}const hI={}.hasOwnProperty,Mme={};function Lme(e,t){const r=t||Mme,n=new Map,i=new Map,a=new Map,s={...vme,...r.handlers},o={all:u,applyData:Pme,definitionById:n,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:s,one:l,options:r,patch:Nme,wrap:Ome};return Q_(e,function(c){if(c.type==="definition"||c.type==="footnoteDefinition"){const h=c.type==="definition"?n:i,f=String(c.identifier).toUpperCase();h.has(f)||h.set(f,c)}}),o;function l(c,h){const f=c.type,d=o.handlers[f];if(hI.call(o.handlers,f)&&d)return d(o,c,h);if(o.options.passThrough&&o.options.passThrough.includes(f)){if("children"in c){const{children:m,...y}=c,b=ap(y);return b.children=o.all(c),b}return ap(c)}return(o.options.unknownHandler||Rme)(o,c,h)}function u(c){const h=[];if("children"in c){const f=c.children;let d=-1;for(;++d<f.length;){const v=o.one(f[d],c);if(v){if(d&&f[d-1].type==="break"&&(!Array.isArray(v)&&v.type==="text"&&(v.value=L4(v.value)),!Array.isArray(v)&&v.type==="element")){const m=v.children[0];m&&m.type==="text"&&(m.value=L4(m.value))}Array.isArray(v)?h.push(...v):h.push(v)}}}return h}}function Nme(e,t){e.position&&(t.position=Spe(e))}function Pme(e,t){let r=t;if(e&&e.data){const n=e.data.hName,i=e.data.hChildren,a=e.data.hProperties;if(typeof n=="string")if(r.type==="element")r.tagName=n;else{const s="children"in r?r.children:[r];r={type:"element",tagName:n,properties:{},children:s}}r.type==="element"&&a&&Object.assign(r.properties,ap(a)),"children"in r&&r.children&&i!==null&&i!==void 0&&(r.children=i)}return r}function Rme(e,t){const r=t.data||{},n="value"in t&&!(hI.call(r,"hProperties")||hI.call(r,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Ome(e,t){const r=[];let n=-1;for(t&&r.push({type:"text",value:`
`});++n<e.length;)n&&r.push({type:"text",value:`
`}),r.push(e[n]);return t&&e.length>0&&r.push({type:"text",value:`
`}),r}function L4(e){let t=0,r=e.charCodeAt(t);for(;r===9||r===32;)t++,r=e.charCodeAt(t);return e.slice(t)}function N4(e,t){const r=Lme(e,t),n=r.one(e,void 0),i=_me(r),a=Array.isArray(n)?{type:"root",children:n}:n||{type:"root",children:[]};return i&&a.children.push({type:"text",value:`
`},i),a}function Bme(e,t){return e&&"run"in e?async function(r,n){const i=N4(r,{file:n,...t});await e.run(i,n)}:function(r,n){return N4(r,{file:n,...e||t})}}function P4(e){if(e)throw e}var sb=Object.prototype.hasOwnProperty,U$=Object.prototype.toString,R4=Object.defineProperty,O4=Object.getOwnPropertyDescriptor,B4=function(t){return typeof Array.isArray=="function"?Array.isArray(t):U$.call(t)==="[object Array]"},F4=function(t){if(!t||U$.call(t)!=="[object Object]")return!1;var r=sb.call(t,"constructor"),n=t.constructor&&t.constructor.prototype&&sb.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!r&&!n)return!1;var i;for(i in t);return typeof i>"u"||sb.call(t,i)},z4=function(t,r){R4&&r.name==="__proto__"?R4(t,r.name,{enumerable:!0,configurable:!0,value:r.newValue,writable:!0}):t[r.name]=r.newValue},j4=function(t,r){if(r==="__proto__")if(sb.call(t,r)){if(O4)return O4(t,r).value}else return;return t[r]},Fme=function e(){var t,r,n,i,a,s,o=arguments[0],l=1,u=arguments.length,c=!1;for(typeof o=="boolean"&&(c=o,o=arguments[1]||{},l=2),(o==null||typeof o!="object"&&typeof o!="function")&&(o={});l<u;++l)if(t=arguments[l],t!=null)for(r in t)n=j4(o,r),i=j4(t,r),o!==i&&(c&&i&&(F4(i)||(a=B4(i)))?(a?(a=!1,s=n&&B4(n)?n:[]):s=n&&F4(n)?n:{},z4(o,{name:r,newValue:e(c,s,i)})):typeof i<"u"&&z4(o,{name:r,newValue:i}));return o};const r2=Ws(Fme);function fI(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function zme(){const e=[],t={run:r,use:n};return t;function r(...i){let a=-1;const s=i.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);o(null,...i);function o(l,...u){const c=e[++a];let h=-1;if(l){s(l);return}for(;++h<i.length;)(u[h]===null||u[h]===void 0)&&(u[h]=i[h]);i=u,c?jme(c,o)(...u):s(null,...u)}}function n(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function jme(e,t){let r;return n;function n(...s){const o=e.length>s.length;let l;o&&s.push(i);try{l=e.apply(this,s)}catch(u){const c=u;if(o&&r)throw c;return i(c)}o||(l&&l.then&&typeof l.then=="function"?l.then(a,i):l instanceof Error?i(l):a(l))}function i(s,...o){r||(r=!0,t(s,...o))}function a(s){i(null,s)}}const vo={basename:Hme,dirname:Vme,extname:Ume,join:Gme,sep:"/"};function Hme(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');z0(e);let r=0,n=-1,i=e.length,a;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(a){r=i+1;break}}else n<0&&(a=!0,n=i+1);return n<0?"":e.slice(r,n)}if(t===e)return"";let s=-1,o=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(a){r=i+1;break}}else s<0&&(a=!0,s=i+1),o>-1&&(e.codePointAt(i)===t.codePointAt(o--)?o<0&&(n=i):(o=-1,n=s));return r===n?n=s:n<0&&(n=e.length),e.slice(r,n)}function Vme(e){if(z0(e),e.length===0)return".";let t=-1,r=e.length,n;for(;--r;)if(e.codePointAt(r)===47){if(n){t=r;break}}else n||(n=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function Ume(e){z0(e);let t=e.length,r=-1,n=0,i=-1,a=0,s;for(;t--;){const o=e.codePointAt(t);if(o===47){if(s){n=t+1;break}continue}r<0&&(s=!0,r=t+1),o===46?i<0?i=t:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||r<0||a===0||a===1&&i===r-1&&i===n+1?"":e.slice(i,r)}function Gme(...e){let t=-1,r;for(;++t<e.length;)z0(e[t]),e[t]&&(r=r===void 0?e[t]:r+"/"+e[t]);return r===void 0?".":Wme(r)}function Wme(e){z0(e);const t=e.codePointAt(0)===47;let r=$me(e,!t);return r.length===0&&!t&&(r="."),r.length>0&&e.codePointAt(e.length-1)===47&&(r+="/"),t?"/"+r:r}function $me(e,t){let r="",n=0,i=-1,a=0,s=-1,o,l;for(;++s<=e.length;){if(s<e.length)o=e.codePointAt(s);else{if(o===47)break;o=47}if(o===47){if(!(i===s-1||a===1))if(i!==s-1&&a===2){if(r.length<2||n!==2||r.codePointAt(r.length-1)!==46||r.codePointAt(r.length-2)!==46){if(r.length>2){if(l=r.lastIndexOf("/"),l!==r.length-1){l<0?(r="",n=0):(r=r.slice(0,l),n=r.length-1-r.lastIndexOf("/")),i=s,a=0;continue}}else if(r.length>0){r="",n=0,i=s,a=0;continue}}t&&(r=r.length>0?r+"/..":"..",n=2)}else r.length>0?r+="/"+e.slice(i+1,s):r=e.slice(i+1,s),n=s-i-1;i=s,a=0}else o===46&&a>-1?a++:a=-1}return r}function z0(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const Yme={cwd:Xme};function Xme(){return"/"}function dI(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function qme(e){if(typeof e=="string")e=new URL(e);else if(!dI(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return Kme(e)}function Kme(e){if(e.hostname!==""){const n=new TypeError('File URL host must be "localhost" or empty on darwin');throw n.code="ERR_INVALID_FILE_URL_HOST",n}const t=e.pathname;let r=-1;for(;++r<t.length;)if(t.codePointAt(r)===37&&t.codePointAt(r+1)===50){const n=t.codePointAt(r+2);if(n===70||n===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const n2=["history","path","basename","stem","extname","dirname"];class G${constructor(t){let r;t?dI(t)?r={path:t}:typeof t=="string"||Zme(t)?r={value:t}:r=t:r={},this.cwd="cwd"in r?"":Yme.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n=-1;for(;++n<n2.length;){const a=n2[n];a in r&&r[a]!==void 0&&r[a]!==null&&(this[a]=a==="history"?[...r[a]]:r[a])}let i;for(i in r)n2.includes(i)||(this[i]=r[i])}get basename(){return typeof this.path=="string"?vo.basename(this.path):void 0}set basename(t){a2(t,"basename"),i2(t,"basename"),this.path=vo.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?vo.dirname(this.path):void 0}set dirname(t){H4(this.basename,"dirname"),this.path=vo.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?vo.extname(this.path):void 0}set extname(t){if(i2(t,"extname"),H4(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=vo.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){dI(t)&&(t=qme(t)),a2(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?vo.basename(this.path,this.extname):void 0}set stem(t){a2(t,"stem"),i2(t,"stem"),this.path=vo.join(this.dirname||"",t+(this.extname||""))}fail(t,r,n){const i=this.message(t,r,n);throw i.fatal=!0,i}info(t,r,n){const i=this.message(t,r,n);return i.fatal=void 0,i}message(t,r,n){const i=new Ci(t,r,n);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function i2(e,t){if(e&&e.includes(vo.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+vo.sep+"`")}function a2(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function H4(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function Zme(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Qme=function(e){const n=this.constructor.prototype,i=n[e],a=function(){return i.apply(a,arguments)};return Object.setPrototypeOf(a,n),a},Jme={}.hasOwnProperty;class tN extends Qme{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=zme()}copy(){const t=new tN;let r=-1;for(;++r<this.attachers.length;){const n=this.attachers[r];t.use(...n)}return t.data(r2(!0,{},this.namespace)),t}data(t,r){return typeof t=="string"?arguments.length===2?(l2("data",this.frozen),this.namespace[t]=r,this):Jme.call(this.namespace,t)&&this.namespace[t]||void 0:t?(l2("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[r,...n]=this.attachers[this.freezeIndex];if(n[0]===!1)continue;n[0]===!0&&(n[0]=void 0);const i=r.call(t,...n);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const r=L1(t),n=this.parser||this.Parser;return s2("parse",n),n(String(r),r)}process(t,r){const n=this;return this.freeze(),s2("process",this.parser||this.Parser),o2("process",this.compiler||this.Compiler),r?i(void 0,r):new Promise(i);function i(a,s){const o=L1(t),l=n.parse(o);n.run(l,o,function(c,h,f){if(c||!h||!f)return u(c);const d=h,v=n.stringify(d,f);r0e(v)?f.value=v:f.result=v,u(c,f)});function u(c,h){c||!h?s(c):a?a(h):r(void 0,h)}}}processSync(t){let r=!1,n;return this.freeze(),s2("processSync",this.parser||this.Parser),o2("processSync",this.compiler||this.Compiler),this.process(t,i),U4("processSync","process",r),n;function i(a,s){r=!0,P4(a),n=s}}run(t,r,n){V4(t),this.freeze();const i=this.transformers;return!n&&typeof r=="function"&&(n=r,r=void 0),n?a(void 0,n):new Promise(a);function a(s,o){const l=L1(r);i.run(t,l,u);function u(c,h,f){const d=h||t;c?o(c):s?s(d):n(void 0,d,f)}}}runSync(t,r){let n=!1,i;return this.run(t,r,a),U4("runSync","run",n),i;function a(s,o){P4(s),i=o,n=!0}}stringify(t,r){this.freeze();const n=L1(r),i=this.compiler||this.Compiler;return o2("stringify",i),V4(t),i(t,n)}use(t,...r){const n=this.attachers,i=this.namespace;if(l2("use",this.frozen),t!=null)if(typeof t=="function")l(t,r);else if(typeof t=="object")Array.isArray(t)?o(t):s(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function a(u){if(typeof u=="function")l(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[c,...h]=u;l(c,h)}else s(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function s(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(u.plugins),u.settings&&(i.settings=r2(!0,i.settings,u.settings))}function o(u){let c=-1;if(u!=null)if(Array.isArray(u))for(;++c<u.length;){const h=u[c];a(h)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function l(u,c){let h=-1,f=-1;for(;++h<n.length;)if(n[h][0]===u){f=h;break}if(f===-1)n.push([u,...c]);else if(c.length>0){let[d,...v]=c;const m=n[f][1];fI(m)&&fI(d)&&(d=r2(!0,m,d)),n[f]=[u,d,...v]}}}}const e0e=new tN().freeze();function s2(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function o2(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function l2(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function V4(e){if(!fI(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function U4(e,t,r){if(!r)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function L1(e){return t0e(e)?e:new G$(e)}function t0e(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function r0e(e){return typeof e=="string"||n0e(e)}function n0e(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const i0e="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",G4=[],W4={allowDangerousHtml:!0},a0e=/^(https?|ircs?|mailto|xmpp)$/i,s0e=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function pI(e){const t=o0e(e),r=l0e(e);return u0e(t.runSync(t.parse(r),r),e)}function o0e(e){const t=e.rehypePlugins||G4,r=e.remarkPlugins||G4,n=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...W4}:W4;return e0e().use(Uge).use(r).use(Bme,n).use(t)}function l0e(e){const t=e.children||"",r=new G$;return typeof t=="string"&&(r.value=t),r}function u0e(e,t){const r=t.allowedElements,n=t.allowElement,i=t.components,a=t.disallowedElements,s=t.skipHtml,o=t.unwrapDisallowed,l=t.urlTransform||c0e;for(const c of s0e)Object.hasOwn(t,c.from)&&(""+c.from+(c.to?"use `"+c.to+"` instead":"remove it")+i0e+c.id,void 0);return t.className&&(e={type:"element",tagName:"div",properties:{className:t.className},children:e.type==="root"?e.children:[e]}),Q_(e,u),Epe(e,{Fragment:E.Fragment,components:i,ignoreInvalidStyle:!0,jsx:E.jsx,jsxs:E.jsxs,passKeys:!0,passNode:!0});function u(c,h,f){if(c.type==="raw"&&f&&typeof h=="number")return s?f.children.splice(h,1):f.children[h]={type:"text",value:c.value},h;if(c.type==="element"){let d;for(d in JC)if(Object.hasOwn(JC,d)&&Object.hasOwn(c.properties,d)){const v=c.properties[d],m=JC[d];(m===null||m.includes(c.tagName))&&(c.properties[d]=l(String(v||""),d,c))}}if(c.type==="element"){let d=r?!r.includes(c.tagName):a?a.includes(c.tagName):!1;if(!d&&n&&typeof h=="number"&&(d=!n(c,h,f)),d&&f&&typeof h=="number")return o&&c.children?f.children.splice(h,1,...c.children):f.children.splice(h,1),h}}}function c0e(e){const t=e.indexOf(":"),r=e.indexOf("?"),n=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||r!==-1&&t>r||n!==-1&&t>n||a0e.test(e.slice(0,t))?e:""}function $4(e,t){const r=String(e);if(typeof t!="string")throw new TypeError("Expected character");let n=0,i=r.indexOf(t);for(;i!==-1;)n++,i=r.indexOf(t,i+t.length);return n}function h0e(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function f0e(e,t,r){const i=K_((r||{}).ignore||[]),a=d0e(t);let s=-1;for(;++s<a.length;)V$(e,"text",o);function o(u,c){let h=-1,f;for(;++h<c.length;){const d=c[h],v=f?f.children:void 0;if(i(d,v?v.indexOf(d):void 0,f))return;f=d}if(f)return l(u,c)}function l(u,c){const h=c[c.length-1],f=a[s][0],d=a[s][1];let v=0;const y=h.children.indexOf(u);let b=!1,S=[];f.lastIndex=0;let w=f.exec(u.value);for(;w;){const k=w.index,M={index:w.index,input:w.input,stack:[...c,u]};let I=d(...w,M);if(typeof I=="string"&&(I=I.length>0?{type:"text",value:I}:void 0),I===!1?f.lastIndex=k+1:(v!==k&&S.push({type:"text",value:u.value.slice(v,k)}),Array.isArray(I)?S.push(...I):I&&S.push(I),v=k+w[0].length,b=!0),!f.global)break;w=f.exec(u.value)}return b?(v<u.value.length&&S.push({type:"text",value:u.value.slice(v)}),h.children.splice(y,1,...S)):S=[u],y+S.length}}function d0e(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const r=!e[0]||Array.isArray(e[0])?e:[e];let n=-1;for(;++n<r.length;){const i=r[n];t.push([p0e(i[0]),v0e(i[1])])}return t}function p0e(e){return typeof e=="string"?new RegExp(h0e(e),"g"):e}function v0e(e){return typeof e=="function"?e:function(){return e}}const u2="phrasing",c2=["autolink","link","image","label"];function g0e(){return{transforms:[w0e],enter:{literalAutolink:y0e,literalAutolinkEmail:h2,literalAutolinkHttp:h2,literalAutolinkWww:h2},exit:{literalAutolink:_0e,literalAutolinkEmail:S0e,literalAutolinkHttp:x0e,literalAutolinkWww:b0e}}}function m0e(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:u2,notInConstruct:c2},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:u2,notInConstruct:c2},{character:":",before:"[ps]",after:"\\/",inConstruct:u2,notInConstruct:c2}]}}function y0e(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function h2(e){this.config.enter.autolinkProtocol.call(this,e)}function x0e(e){this.config.exit.autolinkProtocol.call(this,e)}function b0e(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function S0e(e){this.config.exit.autolinkEmail.call(this,e)}function _0e(e){this.exit(e)}function w0e(e){f0e(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,T0e],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),C0e]],{ignore:["link","linkReference"]})}function T0e(e,t,r,n,i){let a="";if(!W$(i)||(/^w/i.test(t)&&(r=t+r,t="",a="http://"),!E0e(r)))return!1;const s=A0e(r+n);if(!s[0])return!1;const o={type:"link",title:null,url:a+t+s[0],children:[{type:"text",value:t+s[0]}]};return s[1]?[o,{type:"text",value:s[1]}]:o}function C0e(e,t,r,n){return!W$(n,!0)||/[-\d_]$/.test(r)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+r,children:[{type:"text",value:t+"@"+r}]}}function E0e(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function A0e(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let r=t[0],n=r.indexOf(")");const i=$4(e,"(");let a=$4(e,")");for(;n!==-1&&i>a;)e+=r.slice(0,n+1),r=r.slice(n+1),n=r.indexOf(")"),a++;return[e,r]}function W$(e,t){const r=e.input.charCodeAt(e.index-1);return(e.index===0||Yh(r)||Y_(r))&&(!t||r!==47)}$$.peek=O0e;function k0e(){this.buffer()}function I0e(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function D0e(){this.buffer()}function M0e(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function L0e(e){const t=this.resume(),r=this.stack[this.stack.length-1];r.type,r.identifier=Rs(this.sliceSerialize(e)).toLowerCase(),r.label=t}function N0e(e){this.exit(e)}function P0e(e){const t=this.resume(),r=this.stack[this.stack.length-1];r.type,r.identifier=Rs(this.sliceSerialize(e)).toLowerCase(),r.label=t}function R0e(e){this.exit(e)}function O0e(){return"["}function $$(e,t,r,n){const i=r.createTracker(n);let a=i.move("[^");const s=r.enter("footnoteReference"),o=r.enter("reference");return a+=i.move(r.safe(r.associationId(e),{after:"]",before:a})),o(),s(),a+=i.move("]"),a}function B0e(){return{enter:{gfmFootnoteCallString:k0e,gfmFootnoteCall:I0e,gfmFootnoteDefinitionLabelString:D0e,gfmFootnoteDefinition:M0e},exit:{gfmFootnoteCallString:L0e,gfmFootnoteCall:N0e,gfmFootnoteDefinitionLabelString:P0e,gfmFootnoteDefinition:R0e}}}function F0e(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:r,footnoteReference:$$},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function r(n,i,a,s){const o=a.createTracker(s);let l=o.move("[^");const u=a.enter("footnoteDefinition"),c=a.enter("label");return l+=o.move(a.safe(a.associationId(n),{before:l,after:"]"})),c(),l+=o.move("]:"),n.children&&n.children.length>0&&(o.shift(4),l+=o.move((t?`
`:" ")+a.indentLines(a.containerFlow(n,o.current()),t?Y$:z0e))),u(),l}}function z0e(e,t,r){return t===0?e:Y$(e,t,r)}function Y$(e,t,r){return(r?"":"    ")+e}const j0e=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];X$.peek=W0e;function H0e(){return{canContainEols:["delete"],enter:{strikethrough:U0e},exit:{strikethrough:G0e}}}function V0e(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:j0e}],handlers:{delete:X$}}}function U0e(e){this.enter({type:"delete",children:[]},e)}function G0e(e){this.exit(e)}function X$(e,t,r,n){const i=r.createTracker(n),a=r.enter("strikethrough");let s=i.move("~~");return s+=r.containerPhrasing(e,{...i.current(),before:s,after:"~"}),s+=i.move("~~"),a(),s}function W0e(){return"~"}function $0e(e){return e.length}function Y0e(e,t){const r=t||{},n=(r.align||[]).concat(),i=r.stringLength||$0e,a=[],s=[],o=[],l=[];let u=0,c=-1;for(;++c<e.length;){const m=[],y=[];let b=-1;for(e[c].length>u&&(u=e[c].length);++b<e[c].length;){const S=X0e(e[c][b]);if(r.alignDelimiters!==!1){const w=i(S);y[b]=w,(l[b]===void 0||w>l[b])&&(l[b]=w)}m.push(S)}s[c]=m,o[c]=y}let h=-1;if(typeof n=="object"&&"length"in n)for(;++h<u;)a[h]=Y4(n[h]);else{const m=Y4(n);for(;++h<u;)a[h]=m}h=-1;const f=[],d=[];for(;++h<u;){const m=a[h];let y="",b="";m===99?(y=":",b=":"):m===108?y=":":m===114&&(b=":");let S=r.alignDelimiters===!1?1:Math.max(1,l[h]-y.length-b.length);const w=y+"-".repeat(S)+b;r.alignDelimiters!==!1&&(S=y.length+S+b.length,S>l[h]&&(l[h]=S),d[h]=S),f[h]=w}s.splice(1,0,f),o.splice(1,0,d),c=-1;const v=[];for(;++c<s.length;){const m=s[c],y=o[c];h=-1;const b=[];for(;++h<u;){const S=m[h]||"";let w="",k="";if(r.alignDelimiters!==!1){const M=l[h]-(y[h]||0),I=a[h];I===114?w=" ".repeat(M):I===99?M%2?(w=" ".repeat(M/2+.5),k=" ".repeat(M/2-.5)):(w=" ".repeat(M/2),k=w):k=" ".repeat(M)}r.delimiterStart!==!1&&!h&&b.push("|"),r.padding!==!1&&!(r.alignDelimiters===!1&&S==="")&&(r.delimiterStart!==!1||h)&&b.push(" "),r.alignDelimiters!==!1&&b.push(w),b.push(S),r.alignDelimiters!==!1&&b.push(k),r.padding!==!1&&b.push(" "),(r.delimiterEnd!==!1||h!==u-1)&&b.push("|")}v.push(r.delimiterEnd===!1?b.join("").replace(/ +$/,""):b.join(""))}return v.join(`
`)}function X0e(e){return e==null?"":String(e)}function Y4(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}const X4={}.hasOwnProperty;function q$(e,t){const r=t||{};function n(i,...a){let s=n.invalid;const o=n.handlers;if(i&&X4.call(i,e)){const l=String(i[e]);s=X4.call(o,l)?o[l]:n.unknown}if(s)return s.call(this,i,...a)}return n.handlers=r.handlers||{},n.invalid=r.invalid,n.unknown=r.unknown,n}function q0e(e,t,r,n){const i=r.enter("blockquote"),a=r.createTracker(n);a.move("> "),a.shift(2);const s=r.indentLines(r.containerFlow(e,a.current()),K0e);return i(),s}function K0e(e,t,r){return">"+(r?"":" ")+e}function Z0e(e,t){return q4(e,t.inConstruct,!0)&&!q4(e,t.notInConstruct,!1)}function q4(e,t,r){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return r;let n=-1;for(;++n<t.length;)if(e.includes(t[n]))return!0;return!1}function K4(e,t,r,n){let i=-1;for(;++i<r.unsafe.length;)if(r.unsafe[i].character===`
`&&Z0e(r.stack,r.unsafe[i]))return/[ \t]/.test(n.before)?"":" ";return`\\
`}function Q0e(e,t){const r=String(e);let n=r.indexOf(t),i=n,a=0,s=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;n!==-1;)n===i?++a>s&&(s=a):a=1,i=n+t.length,n=r.indexOf(t,i);return s}function J0e(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function eye(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function tye(e,t,r,n){const i=eye(r),a=e.value||"",s=i==="`"?"GraveAccent":"Tilde";if(J0e(e,r)){const h=r.enter("codeIndented"),f=r.indentLines(a,rye);return h(),f}const o=r.createTracker(n),l=i.repeat(Math.max(Q0e(a,i)+1,3)),u=r.enter("codeFenced");let c=o.move(l);if(e.lang){const h=r.enter(`codeFencedLang${s}`);c+=o.move(r.safe(e.lang,{before:c,after:" ",encode:["`"],...o.current()})),h()}if(e.lang&&e.meta){const h=r.enter(`codeFencedMeta${s}`);c+=o.move(" "),c+=o.move(r.safe(e.meta,{before:c,after:`
`,encode:["`"],...o.current()})),h()}return c+=o.move(`
`),a&&(c+=o.move(a+`
`)),c+=o.move(l),u(),c}function rye(e,t,r){return(r?"":"    ")+e}function rN(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function nye(e,t,r,n){const i=rN(r),a=i==='"'?"Quote":"Apostrophe",s=r.enter("definition");let o=r.enter("label");const l=r.createTracker(n);let u=l.move("[");return u+=l.move(r.safe(r.associationId(e),{before:u,after:"]",...l.current()})),u+=l.move("]: "),o(),!e.url||/[\0- \u007F]/.test(e.url)?(o=r.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(r.safe(e.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(o=r.enter("destinationRaw"),u+=l.move(r.safe(e.url,{before:u,after:e.title?" ":`
`,...l.current()}))),o(),e.title&&(o=r.enter(`title${a}`),u+=l.move(" "+i),u+=l.move(r.safe(e.title,{before:u,after:i,...l.current()})),u+=l.move(i),o()),s(),u}function iye(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function Gm(e){return"&#x"+e.toString(16).toUpperCase()+";"}function lS(e,t,r){const n=ip(e),i=ip(t);return n===void 0?i===void 0?r==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:n===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}K$.peek=aye;function K$(e,t,r,n){const i=iye(r),a=r.enter("emphasis"),s=r.createTracker(n),o=s.move(i);let l=s.move(r.containerPhrasing(e,{after:i,before:o,...s.current()}));const u=l.charCodeAt(0),c=lS(n.before.charCodeAt(n.before.length-1),u,i);c.inside&&(l=Gm(u)+l.slice(1));const h=l.charCodeAt(l.length-1),f=lS(n.after.charCodeAt(0),h,i);f.inside&&(l=l.slice(0,-1)+Gm(h));const d=s.move(i);return a(),r.attentionEncodeSurroundingInfo={after:f.outside,before:c.outside},o+l+d}function aye(e,t,r){return r.options.emphasis||"*"}function sye(e,t){let r=!1;return Q_(e,function(n){if("value"in n&&/\r?\n|\r/.test(n.value)||n.type==="break")return r=!0,cI}),!!((!e.depth||e.depth<3)&&XL(e)&&(t.options.setext||r))}function oye(e,t,r,n){const i=Math.max(Math.min(6,e.depth||1),1),a=r.createTracker(n);if(sye(e,r)){const c=r.enter("headingSetext"),h=r.enter("phrasing"),f=r.containerPhrasing(e,{...a.current(),before:`
`,after:`
`});return h(),c(),f+`
`+(i===1?"=":"-").repeat(f.length-(Math.max(f.lastIndexOf("\r"),f.lastIndexOf(`
`))+1))}const s="#".repeat(i),o=r.enter("headingAtx"),l=r.enter("phrasing");a.move(s+" ");let u=r.containerPhrasing(e,{before:"# ",after:`
`,...a.current()});return/^[\t ]/.test(u)&&(u=Gm(u.charCodeAt(0))+u.slice(1)),u=u?s+" "+u:s,r.options.closeAtx&&(u+=" "+s),l(),o(),u}Z$.peek=lye;function Z$(e){return e.value||""}function lye(){return"<"}Q$.peek=uye;function Q$(e,t,r,n){const i=rN(r),a=i==='"'?"Quote":"Apostrophe",s=r.enter("image");let o=r.enter("label");const l=r.createTracker(n);let u=l.move("![");return u+=l.move(r.safe(e.alt,{before:u,after:"]",...l.current()})),u+=l.move("]("),o(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(o=r.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(r.safe(e.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(o=r.enter("destinationRaw"),u+=l.move(r.safe(e.url,{before:u,after:e.title?" ":")",...l.current()}))),o(),e.title&&(o=r.enter(`title${a}`),u+=l.move(" "+i),u+=l.move(r.safe(e.title,{before:u,after:i,...l.current()})),u+=l.move(i),o()),u+=l.move(")"),s(),u}function uye(){return"!"}J$.peek=cye;function J$(e,t,r,n){const i=e.referenceType,a=r.enter("imageReference");let s=r.enter("label");const o=r.createTracker(n);let l=o.move("![");const u=r.safe(e.alt,{before:l,after:"]",...o.current()});l+=o.move(u+"]["),s();const c=r.stack;r.stack=[],s=r.enter("reference");const h=r.safe(r.associationId(e),{before:l,after:"]",...o.current()});return s(),r.stack=c,a(),i==="full"||!u||u!==h?l+=o.move(h+"]"):i==="shortcut"?l=l.slice(0,-1):l+=o.move("]"),l}function cye(){return"!"}eY.peek=hye;function eY(e,t,r){let n=e.value||"",i="`",a=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(n);)i+="`";for(/[^ \r\n]/.test(n)&&(/^[ \r\n]/.test(n)&&/[ \r\n]$/.test(n)||/^`|`$/.test(n))&&(n=" "+n+" ");++a<r.unsafe.length;){const s=r.unsafe[a],o=r.compilePattern(s);let l;if(s.atBreak)for(;l=o.exec(n);){let u=l.index;n.charCodeAt(u)===10&&n.charCodeAt(u-1)===13&&u--,n=n.slice(0,u)+" "+n.slice(l.index+1)}}return i+n+i}function hye(){return"`"}function tY(e,t){const r=XL(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(r===e.url||"mailto:"+r===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}rY.peek=fye;function rY(e,t,r,n){const i=rN(r),a=i==='"'?"Quote":"Apostrophe",s=r.createTracker(n);let o,l;if(tY(e,r)){const c=r.stack;r.stack=[],o=r.enter("autolink");let h=s.move("<");return h+=s.move(r.containerPhrasing(e,{before:h,after:">",...s.current()})),h+=s.move(">"),o(),r.stack=c,h}o=r.enter("link"),l=r.enter("label");let u=s.move("[");return u+=s.move(r.containerPhrasing(e,{before:u,after:"](",...s.current()})),u+=s.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=r.enter("destinationLiteral"),u+=s.move("<"),u+=s.move(r.safe(e.url,{before:u,after:">",...s.current()})),u+=s.move(">")):(l=r.enter("destinationRaw"),u+=s.move(r.safe(e.url,{before:u,after:e.title?" ":")",...s.current()}))),l(),e.title&&(l=r.enter(`title${a}`),u+=s.move(" "+i),u+=s.move(r.safe(e.title,{before:u,after:i,...s.current()})),u+=s.move(i),l()),u+=s.move(")"),o(),u}function fye(e,t,r){return tY(e,r)?"<":"["}nY.peek=dye;function nY(e,t,r,n){const i=e.referenceType,a=r.enter("linkReference");let s=r.enter("label");const o=r.createTracker(n);let l=o.move("[");const u=r.containerPhrasing(e,{before:l,after:"]",...o.current()});l+=o.move(u+"]["),s();const c=r.stack;r.stack=[],s=r.enter("reference");const h=r.safe(r.associationId(e),{before:l,after:"]",...o.current()});return s(),r.stack=c,a(),i==="full"||!u||u!==h?l+=o.move(h+"]"):i==="shortcut"?l=l.slice(0,-1):l+=o.move("]"),l}function dye(){return"["}function nN(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function pye(e){const t=nN(e),r=e.options.bulletOther;if(!r)return t==="*"?"-":"*";if(r!=="*"&&r!=="+"&&r!=="-")throw new Error("Cannot serialize items with `"+r+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(r===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+r+"`) to be different");return r}function vye(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function iY(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function gye(e,t,r,n){const i=r.enter("list"),a=r.bulletCurrent;let s=e.ordered?vye(r):nN(r);const o=e.ordered?s==="."?")":".":pye(r);let l=t&&r.bulletLastUsed?s===r.bulletLastUsed:!1;if(!e.ordered){const c=e.children?e.children[0]:void 0;if((s==="*"||s==="-")&&c&&(!c.children||!c.children[0])&&r.stack[r.stack.length-1]==="list"&&r.stack[r.stack.length-2]==="listItem"&&r.stack[r.stack.length-3]==="list"&&r.stack[r.stack.length-4]==="listItem"&&r.indexStack[r.indexStack.length-1]===0&&r.indexStack[r.indexStack.length-2]===0&&r.indexStack[r.indexStack.length-3]===0&&(l=!0),iY(r)===s&&c){let h=-1;for(;++h<e.children.length;){const f=e.children[h];if(f&&f.type==="listItem"&&f.children&&f.children[0]&&f.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(s=o),r.bulletCurrent=s;const u=r.containerFlow(e,n);return r.bulletLastUsed=s,r.bulletCurrent=a,i(),u}function mye(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function yye(e,t,r,n){const i=mye(r);let a=r.bulletCurrent||nN(r);t&&t.type==="list"&&t.ordered&&(a=(typeof t.start=="number"&&t.start>-1?t.start:1)+(r.options.incrementListMarker===!1?0:t.children.indexOf(e))+a);let s=a.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(s=Math.ceil(s/4)*4);const o=r.createTracker(n);o.move(a+" ".repeat(s-a.length)),o.shift(s);const l=r.enter("listItem"),u=r.indentLines(r.containerFlow(e,o.current()),c);return l(),u;function c(h,f,d){return f?(d?"":" ".repeat(s))+h:(d?a:a+" ".repeat(s-a.length))+h}}function xye(e,t,r,n){const i=r.enter("paragraph"),a=r.enter("phrasing"),s=r.containerPhrasing(e,n);return a(),i(),s}const bye=K_(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function Sye(e,t,r,n){return(e.children.some(function(s){return bye(s)})?r.containerPhrasing:r.containerFlow).call(r,e,n)}function _ye(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}aY.peek=wye;function aY(e,t,r,n){const i=_ye(r),a=r.enter("strong"),s=r.createTracker(n),o=s.move(i+i);let l=s.move(r.containerPhrasing(e,{after:i,before:o,...s.current()}));const u=l.charCodeAt(0),c=lS(n.before.charCodeAt(n.before.length-1),u,i);c.inside&&(l=Gm(u)+l.slice(1));const h=l.charCodeAt(l.length-1),f=lS(n.after.charCodeAt(0),h,i);f.inside&&(l=l.slice(0,-1)+Gm(h));const d=s.move(i+i);return a(),r.attentionEncodeSurroundingInfo={after:f.outside,before:c.outside},o+l+d}function wye(e,t,r){return r.options.strong||"*"}function Tye(e,t,r,n){return r.safe(e.value,n)}function Cye(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function Eye(e,t,r){const n=(iY(r)+(r.options.ruleSpaces?" ":"")).repeat(Cye(r));return r.options.ruleSpaces?n.slice(0,-1):n}const sY={blockquote:q0e,break:K4,code:tye,definition:nye,emphasis:K$,hardBreak:K4,heading:oye,html:Z$,image:Q$,imageReference:J$,inlineCode:eY,link:rY,linkReference:nY,list:gye,listItem:yye,paragraph:xye,root:Sye,strong:aY,text:Tye,thematicBreak:Eye};function Aye(){return{enter:{table:kye,tableData:Z4,tableHeader:Z4,tableRow:Dye},exit:{codeText:Mye,table:Iye,tableData:f2,tableHeader:f2,tableRow:f2}}}function kye(e){const t=e._align;this.enter({type:"table",align:t.map(function(r){return r==="none"?null:r}),children:[]},e),this.data.inTable=!0}function Iye(e){this.exit(e),this.data.inTable=void 0}function Dye(e){this.enter({type:"tableRow",children:[]},e)}function f2(e){this.exit(e)}function Z4(e){this.enter({type:"tableCell",children:[]},e)}function Mye(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,Lye));const r=this.stack[this.stack.length-1];r.type,r.value=t,this.exit(e)}function Lye(e,t){return t==="|"?t:e}function Nye(e){const t=e||{},r=t.tableCellPadding,n=t.tablePipeAlign,i=t.stringLength,a=r?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:f,table:s,tableCell:l,tableRow:o}};function s(d,v,m,y){return u(c(d,m,y),d.align)}function o(d,v,m,y){const b=h(d,m,y),S=u([b]);return S.slice(0,S.indexOf(`
`))}function l(d,v,m,y){const b=m.enter("tableCell"),S=m.enter("phrasing"),w=m.containerPhrasing(d,{...y,before:a,after:a});return S(),b(),w}function u(d,v){return Y0e(d,{align:v,alignDelimiters:n,padding:r,stringLength:i})}function c(d,v,m){const y=d.children;let b=-1;const S=[],w=v.enter("table");for(;++b<y.length;)S[b]=h(y[b],v,m);return w(),S}function h(d,v,m){const y=d.children;let b=-1;const S=[],w=v.enter("tableRow");for(;++b<y.length;)S[b]=l(y[b],d,v,m);return w(),S}function f(d,v,m){let y=sY.inlineCode(d,v,m);return m.stack.includes("tableCell")&&(y=y.replace(/\|/g,"\\$&")),y}}function Pye(){return{exit:{taskListCheckValueChecked:Q4,taskListCheckValueUnchecked:Q4,paragraph:Oye}}}function Rye(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:Bye}}}function Q4(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function Oye(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const r=this.stack[this.stack.length-1];r.type;const n=r.children[0];if(n&&n.type==="text"){const i=t.children;let a=-1,s;for(;++a<i.length;){const o=i[a];if(o.type==="paragraph"){s=o;break}}s===r&&(n.value=n.value.slice(1),n.value.length===0?r.children.shift():r.position&&n.position&&typeof n.position.start.offset=="number"&&(n.position.start.column++,n.position.start.offset++,r.position.start=Object.assign({},n.position.start)))}}this.exit(e)}function Bye(e,t,r,n){const i=e.children[0],a=typeof e.checked=="boolean"&&i&&i.type==="paragraph",s="["+(e.checked?"x":" ")+"] ",o=r.createTracker(n);a&&o.move(s);let l=sY.listItem(e,t,r,{...n,...o.current()});return a&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),l;function u(c){return c+s}}function Fye(){return[g0e(),B0e(),H0e(),Aye(),Pye()]}function zye(e){return{extensions:[m0e(),F0e(e),V0e(),Nye(e),Rye()]}}const jye={tokenize:$ye,partial:!0},oY={tokenize:Yye,partial:!0},lY={tokenize:Xye,partial:!0},uY={tokenize:qye,partial:!0},Hye={tokenize:Kye,partial:!0},cY={name:"wwwAutolink",tokenize:Gye,previous:fY},hY={name:"protocolAutolink",tokenize:Wye,previous:dY},Rl={name:"emailAutolink",tokenize:Uye,previous:pY},zo={};function Vye(){return{text:zo}}let Ac=48;for(;Ac<123;)zo[Ac]=Rl,Ac++,Ac===58?Ac=65:Ac===91&&(Ac=97);zo[43]=Rl;zo[45]=Rl;zo[46]=Rl;zo[95]=Rl;zo[72]=[Rl,hY];zo[104]=[Rl,hY];zo[87]=[Rl,cY];zo[119]=[Rl,cY];function Uye(e,t,r){const n=this;let i,a;return s;function s(h){return!vI(h)||!pY.call(n,n.previous)||iN(n.events)?r(h):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),o(h))}function o(h){return vI(h)?(e.consume(h),o):h===64?(e.consume(h),l):r(h)}function l(h){return h===46?e.check(Hye,c,u)(h):h===45||h===95||yi(h)?(a=!0,e.consume(h),l):c(h)}function u(h){return e.consume(h),i=!0,l}function c(h){return a&&i&&Bi(n.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(h)):r(h)}}function Gye(e,t,r){const n=this;return i;function i(s){return s!==87&&s!==119||!fY.call(n,n.previous)||iN(n.events)?r(s):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(jye,e.attempt(oY,e.attempt(lY,a),r),r)(s))}function a(s){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(s)}}function Wye(e,t,r){const n=this;let i="",a=!1;return s;function s(h){return(h===72||h===104)&&dY.call(n,n.previous)&&!iN(n.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(h),e.consume(h),o):r(h)}function o(h){if(Bi(h)&&i.length<5)return i+=String.fromCodePoint(h),e.consume(h),o;if(h===58){const f=i.toLowerCase();if(f==="http"||f==="https")return e.consume(h),l}return r(h)}function l(h){return h===47?(e.consume(h),a?u:(a=!0,l)):r(h)}function u(h){return h===null||sS(h)||zr(h)||Yh(h)||Y_(h)?r(h):e.attempt(oY,e.attempt(lY,c),r)(h)}function c(h){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(h)}}function $ye(e,t,r){let n=0;return i;function i(s){return(s===87||s===119)&&n<3?(n++,e.consume(s),i):s===46&&n===3?(e.consume(s),a):r(s)}function a(s){return s===null?r(s):t(s)}}function Yye(e,t,r){let n,i,a;return s;function s(u){return u===46||u===95?e.check(uY,l,o)(u):u===null||zr(u)||Yh(u)||u!==45&&Y_(u)?l(u):(a=!0,e.consume(u),s)}function o(u){return u===95?n=!0:(i=n,n=void 0),e.consume(u),s}function l(u){return i||n||!a?r(u):t(u)}}function Xye(e,t){let r=0,n=0;return i;function i(s){return s===40?(r++,e.consume(s),i):s===41&&n<r?a(s):s===33||s===34||s===38||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===60||s===63||s===93||s===95||s===126?e.check(uY,t,a)(s):s===null||zr(s)||Yh(s)?t(s):(e.consume(s),i)}function a(s){return s===41&&n++,e.consume(s),i}}function qye(e,t,r){return n;function n(o){return o===33||o===34||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===63||o===95||o===126?(e.consume(o),n):o===38?(e.consume(o),a):o===93?(e.consume(o),i):o===60||o===null||zr(o)||Yh(o)?t(o):r(o)}function i(o){return o===null||o===40||o===91||zr(o)||Yh(o)?t(o):n(o)}function a(o){return Bi(o)?s(o):r(o)}function s(o){return o===59?(e.consume(o),n):Bi(o)?(e.consume(o),s):r(o)}}function Kye(e,t,r){return n;function n(a){return e.consume(a),i}function i(a){return yi(a)?r(a):t(a)}}function fY(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||zr(e)}function dY(e){return!Bi(e)}function pY(e){return!(e===47||vI(e))}function vI(e){return e===43||e===45||e===46||e===95||yi(e)}function iN(e){let t=e.length,r=!1;for(;t--;){const n=e[t][1];if((n.type==="labelLink"||n.type==="labelImage")&&!n._balanced){r=!0;break}if(n._gfmAutolinkLiteralWalkedInto){r=!1;break}}return e.length>0&&!r&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),r}const Zye={tokenize:a1e,partial:!0};function Qye(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:r1e,continuation:{tokenize:n1e},exit:i1e}},text:{91:{name:"gfmFootnoteCall",tokenize:t1e},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:Jye,resolveTo:e1e}}}}function Jye(e,t,r){const n=this;let i=n.events.length;const a=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let s;for(;i--;){const l=n.events[i][1];if(l.type==="labelImage"){s=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return o;function o(l){if(!s||!s._balanced)return r(l);const u=Rs(n.sliceSerialize({start:s.end,end:n.now()}));return u.codePointAt(0)!==94||!a.includes(u.slice(1))?r(l):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(l),e.exit("gfmFootnoteCallLabelMarker"),t(l))}}function e1e(e,t){let r=e.length;for(;r--;)if(e[r][1].type==="labelImage"&&e[r][0]==="enter"){e[r][1];break}e[r+1][1].type="data",e[r+3][1].type="gfmFootnoteCallLabelMarker";const n={type:"gfmFootnoteCall",start:Object.assign({},e[r+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[r+3][1].end),end:Object.assign({},e[r+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const a={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},s={type:"chunkString",contentType:"string",start:Object.assign({},a.start),end:Object.assign({},a.end)},o=[e[r+1],e[r+2],["enter",n,t],e[r+3],e[r+4],["enter",i,t],["exit",i,t],["enter",a,t],["enter",s,t],["exit",s,t],["exit",a,t],e[e.length-2],e[e.length-1],["exit",n,t]];return e.splice(r,e.length-r+1,...o),e}function t1e(e,t,r){const n=this,i=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let a=0,s;return o;function o(h){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(h),e.exit("gfmFootnoteCallLabelMarker"),l}function l(h){return h!==94?r(h):(e.enter("gfmFootnoteCallMarker"),e.consume(h),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",u)}function u(h){if(a>999||h===93&&!s||h===null||h===91||zr(h))return r(h);if(h===93){e.exit("chunkString");const f=e.exit("gfmFootnoteCallString");return i.includes(Rs(n.sliceSerialize(f)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(h),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):r(h)}return zr(h)||(s=!0),a++,e.consume(h),h===92?c:u}function c(h){return h===91||h===92||h===93?(e.consume(h),a++,u):u(h)}}function r1e(e,t,r){const n=this,i=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let a,s=0,o;return l;function l(v){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(v),e.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(v){return v===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(v),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",c):r(v)}function c(v){if(s>999||v===93&&!o||v===null||v===91||zr(v))return r(v);if(v===93){e.exit("chunkString");const m=e.exit("gfmFootnoteDefinitionLabelString");return a=Rs(n.sliceSerialize(m)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(v),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),f}return zr(v)||(o=!0),s++,e.consume(v),v===92?h:c}function h(v){return v===91||v===92||v===93?(e.consume(v),s++,c):c(v)}function f(v){return v===58?(e.enter("definitionMarker"),e.consume(v),e.exit("definitionMarker"),i.includes(a)||i.push(a),yr(e,d,"gfmFootnoteDefinitionWhitespace")):r(v)}function d(v){return t(v)}}function n1e(e,t,r){return e.check(F0,t,e.attempt(Zye,t,r))}function i1e(e){e.exit("gfmFootnoteDefinition")}function a1e(e,t,r){const n=this;return yr(e,i,"gfmFootnoteDefinitionIndent",5);function i(a){const s=n.events[n.events.length-1];return s&&s[1].type==="gfmFootnoteDefinitionIndent"&&s[2].sliceSerialize(s[1],!0).length===4?t(a):r(a)}}function s1e(e){let r=(e||{}).singleTilde;const n={name:"strikethrough",tokenize:a,resolveAll:i};return r==null&&(r=!0),{text:{126:n},insideSpan:{null:[n]},attentionMarkers:{null:[126]}};function i(s,o){let l=-1;for(;++l<s.length;)if(s[l][0]==="enter"&&s[l][1].type==="strikethroughSequenceTemporary"&&s[l][1]._close){let u=l;for(;u--;)if(s[u][0]==="exit"&&s[u][1].type==="strikethroughSequenceTemporary"&&s[u][1]._open&&s[l][1].end.offset-s[l][1].start.offset===s[u][1].end.offset-s[u][1].start.offset){s[l][1].type="strikethroughSequence",s[u][1].type="strikethroughSequence";const c={type:"strikethrough",start:Object.assign({},s[u][1].start),end:Object.assign({},s[l][1].end)},h={type:"strikethroughText",start:Object.assign({},s[u][1].end),end:Object.assign({},s[l][1].start)},f=[["enter",c,o],["enter",s[u][1],o],["exit",s[u][1],o],["enter",h,o]],d=o.parser.constructs.insideSpan.null;d&&Ta(f,f.length,0,X_(d,s.slice(u+1,l),o)),Ta(f,f.length,0,[["exit",h,o],["enter",s[l][1],o],["exit",s[l][1],o],["exit",c,o]]),Ta(s,u-1,l-u+3,f),l=u+f.length-2;break}}for(l=-1;++l<s.length;)s[l][1].type==="strikethroughSequenceTemporary"&&(s[l][1].type="data");return s}function a(s,o,l){const u=this.previous,c=this.events;let h=0;return f;function f(v){return u===126&&c[c.length-1][1].type!=="characterEscape"?l(v):(s.enter("strikethroughSequenceTemporary"),d(v))}function d(v){const m=ip(u);if(v===126)return h>1?l(v):(s.consume(v),h++,d);if(h<2&&!r)return l(v);const y=s.exit("strikethroughSequenceTemporary"),b=ip(v);return y._open=!b||b===2&&!!m,y._close=!m||m===2&&!!b,o(v)}}}class o1e{constructor(){this.map=[]}add(t,r,n){l1e(this,t,r,n)}consume(t){if(this.map.sort(function(a,s){return a[0]-s[0]}),this.map.length===0)return;let r=this.map.length;const n=[];for(;r>0;)r-=1,n.push(t.slice(this.map[r][0]+this.map[r][1]),this.map[r][2]),t.length=this.map[r][0];n.push(t.slice()),t.length=0;let i=n.pop();for(;i;){for(const a of i)t.push(a);i=n.pop()}this.map.length=0}}function l1e(e,t,r,n){let i=0;if(!(r===0&&n.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=r,e.map[i][2].push(...n);return}i+=1}e.map.push([t,r,n])}}function u1e(e,t){let r=!1;const n=[];for(;t<e.length;){const i=e[t];if(r){if(i[0]==="enter")i[1].type==="tableContent"&&n.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const a=n.length-1;n[a]=n[a]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(r=!0);t+=1}return n}function c1e(){return{flow:{null:{name:"table",tokenize:h1e,resolveAll:f1e}}}}function h1e(e,t,r){const n=this;let i=0,a=0,s;return o;function o(B){let H=n.events.length-1;for(;H>-1;){const W=n.events[H][1].type;if(W==="lineEnding"||W==="linePrefix")H--;else break}const G=H>-1?n.events[H][1].type:null,$=G==="tableHead"||G==="tableRow"?I:l;return $===I&&n.parser.lazy[n.now().line]?r(B):$(B)}function l(B){return e.enter("tableHead"),e.enter("tableRow"),u(B)}function u(B){return B===124||(s=!0,a+=1),c(B)}function c(B){return B===null?r(B):Gt(B)?a>1?(a=0,n.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(B),e.exit("lineEnding"),d):r(B):hr(B)?yr(e,c,"whitespace")(B):(a+=1,s&&(s=!1,i+=1),B===124?(e.enter("tableCellDivider"),e.consume(B),e.exit("tableCellDivider"),s=!0,c):(e.enter("data"),h(B)))}function h(B){return B===null||B===124||zr(B)?(e.exit("data"),c(B)):(e.consume(B),B===92?f:h)}function f(B){return B===92||B===124?(e.consume(B),h):h(B)}function d(B){return n.interrupt=!1,n.parser.lazy[n.now().line]?r(B):(e.enter("tableDelimiterRow"),s=!1,hr(B)?yr(e,v,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(B):v(B))}function v(B){return B===45||B===58?y(B):B===124?(s=!0,e.enter("tableCellDivider"),e.consume(B),e.exit("tableCellDivider"),m):M(B)}function m(B){return hr(B)?yr(e,y,"whitespace")(B):y(B)}function y(B){return B===58?(a+=1,s=!0,e.enter("tableDelimiterMarker"),e.consume(B),e.exit("tableDelimiterMarker"),b):B===45?(a+=1,b(B)):B===null||Gt(B)?k(B):M(B)}function b(B){return B===45?(e.enter("tableDelimiterFiller"),S(B)):M(B)}function S(B){return B===45?(e.consume(B),S):B===58?(s=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(B),e.exit("tableDelimiterMarker"),w):(e.exit("tableDelimiterFiller"),w(B))}function w(B){return hr(B)?yr(e,k,"whitespace")(B):k(B)}function k(B){return B===124?v(B):B===null||Gt(B)?!s||i!==a?M(B):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(B)):M(B)}function M(B){return r(B)}function I(B){return e.enter("tableRow"),L(B)}function L(B){return B===124?(e.enter("tableCellDivider"),e.consume(B),e.exit("tableCellDivider"),L):B===null||Gt(B)?(e.exit("tableRow"),t(B)):hr(B)?yr(e,L,"whitespace")(B):(e.enter("data"),N(B))}function N(B){return B===null||B===124||zr(B)?(e.exit("data"),L(B)):(e.consume(B),B===92?z:N)}function z(B){return B===92||B===124?(e.consume(B),N):N(B)}}function f1e(e,t){let r=-1,n=!0,i=0,a=[0,0,0,0],s=[0,0,0,0],o=!1,l=0,u,c,h;const f=new o1e;for(;++r<e.length;){const d=e[r],v=d[1];d[0]==="enter"?v.type==="tableHead"?(o=!1,l!==0&&(J4(f,t,l,u,c),c=void 0,l=0),u={type:"table",start:Object.assign({},v.start),end:Object.assign({},v.end)},f.add(r,0,[["enter",u,t]])):v.type==="tableRow"||v.type==="tableDelimiterRow"?(n=!0,h=void 0,a=[0,0,0,0],s=[0,r+1,0,0],o&&(o=!1,c={type:"tableBody",start:Object.assign({},v.start),end:Object.assign({},v.end)},f.add(r,0,[["enter",c,t]])),i=v.type==="tableDelimiterRow"?2:c?3:1):i&&(v.type==="data"||v.type==="tableDelimiterMarker"||v.type==="tableDelimiterFiller")?(n=!1,s[2]===0&&(a[1]!==0&&(s[0]=s[1],h=N1(f,t,a,i,void 0,h),a=[0,0,0,0]),s[2]=r)):v.type==="tableCellDivider"&&(n?n=!1:(a[1]!==0&&(s[0]=s[1],h=N1(f,t,a,i,void 0,h)),a=s,s=[a[1],r,0,0])):v.type==="tableHead"?(o=!0,l=r):v.type==="tableRow"||v.type==="tableDelimiterRow"?(l=r,a[1]!==0?(s[0]=s[1],h=N1(f,t,a,i,r,h)):s[1]!==0&&(h=N1(f,t,s,i,r,h)),i=0):i&&(v.type==="data"||v.type==="tableDelimiterMarker"||v.type==="tableDelimiterFiller")&&(s[3]=r)}for(l!==0&&J4(f,t,l,u,c),f.consume(t.events),r=-1;++r<t.events.length;){const d=t.events[r];d[0]==="enter"&&d[1].type==="table"&&(d[1]._align=u1e(t.events,r))}return e}function N1(e,t,r,n,i,a){const s=n===1?"tableHeader":n===2?"tableDelimiter":"tableData",o="tableContent";r[0]!==0&&(a.end=Object.assign({},nd(t.events,r[0])),e.add(r[0],0,[["exit",a,t]]));const l=nd(t.events,r[1]);if(a={type:s,start:Object.assign({},l),end:Object.assign({},l)},e.add(r[1],0,[["enter",a,t]]),r[2]!==0){const u=nd(t.events,r[2]),c=nd(t.events,r[3]),h={type:o,start:Object.assign({},u),end:Object.assign({},c)};if(e.add(r[2],0,[["enter",h,t]]),n!==2){const f=t.events[r[2]],d=t.events[r[3]];if(f[1].end=Object.assign({},d[1].end),f[1].type="chunkText",f[1].contentType="text",r[3]>r[2]+1){const v=r[2]+1,m=r[3]-r[2]-1;e.add(v,m,[])}}e.add(r[3]+1,0,[["exit",h,t]])}return i!==void 0&&(a.end=Object.assign({},nd(t.events,i)),e.add(i,0,[["exit",a,t]]),a=void 0),a}function J4(e,t,r,n,i){const a=[],s=nd(t.events,r);i&&(i.end=Object.assign({},s),a.push(["exit",i,t])),n.end=Object.assign({},s),a.push(["exit",n,t]),e.add(r+1,0,a)}function nd(e,t){const r=e[t],n=r[0]==="enter"?"start":"end";return r[1][n]}const d1e={name:"tasklistCheck",tokenize:v1e};function p1e(){return{text:{91:d1e}}}function v1e(e,t,r){const n=this;return i;function i(l){return n.previous!==null||!n._gfmTasklistFirstContentOfListItem?r(l):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),a)}function a(l){return zr(l)?(e.enter("taskListCheckValueUnchecked"),e.consume(l),e.exit("taskListCheckValueUnchecked"),s):l===88||l===120?(e.enter("taskListCheckValueChecked"),e.consume(l),e.exit("taskListCheckValueChecked"),s):r(l)}function s(l){return l===93?(e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),o):r(l)}function o(l){return Gt(l)?t(l):hr(l)?e.check({tokenize:g1e},t,r)(l):r(l)}}function g1e(e,t,r){return yr(e,n,"whitespace");function n(i){return i===null?r(i):t(i)}}function m1e(e){return w$([Vye(),Qye(),s1e(e),c1e(),p1e()])}const y1e={};function gI(e){const t=this,r=e||y1e,n=t.data(),i=n.micromarkExtensions||(n.micromarkExtensions=[]),a=n.fromMarkdownExtensions||(n.fromMarkdownExtensions=[]),s=n.toMarkdownExtensions||(n.toMarkdownExtensions=[]);i.push(m1e(r)),a.push(Fye()),s.push(zye(r))}const eB=/[#.]/g;function x1e(e,t){const r=e||"",n={};let i=0,a,s;for(;i<r.length;){eB.lastIndex=i;const o=eB.exec(r),l=r.slice(i,o?o.index:r.length);l&&(a?a==="#"?n.id=l:Array.isArray(n.className)?n.className.push(l):n.className=[l]:s=l,i+=l.length),o&&(a=o[0],i++)}return{type:"element",tagName:s||t||"div",properties:n,children:[]}}function vY(e,t,r){const n=r?w1e(r):void 0;function i(a,s,...o){let l;if(a==null){l={type:"root",children:[]};const u=s;o.unshift(u)}else{l=x1e(a,t);const u=l.tagName.toLowerCase(),c=n?n.get(u):void 0;if(l.tagName=c||u,b1e(s))o.unshift(s);else for(const[h,f]of Object.entries(s))S1e(e,l.properties,h,f)}for(const u of o)mI(l.children,u);return l.type==="element"&&l.tagName==="template"&&(l.content={type:"root",children:l.children},l.children=[]),l}return i}function b1e(e){if(e===null||typeof e!="object"||Array.isArray(e))return!0;if(typeof e.type!="string")return!1;const t=e,r=Object.keys(e);for(const n of r){const i=t[n];if(i&&typeof i=="object"){if(!Array.isArray(i))return!0;const a=i;for(const s of a)if(typeof s!="number"&&typeof s!="string")return!0}}return!!("children"in e&&Array.isArray(e.children))}function S1e(e,t,r,n){const i=G_(e,r);let a;if(n!=null){if(typeof n=="number"){if(Number.isNaN(n))return;a=n}else typeof n=="boolean"?a=n:typeof n=="string"?i.spaceSeparated?a=o4(n):i.commaSeparated?a=r4(n):i.commaOrSpaceSeparated?a=o4(r4(n).join(" ")):a=tB(i,i.property,n):Array.isArray(n)?a=[...n]:a=i.property==="style"?_1e(n):String(n);if(Array.isArray(a)){const s=[];for(const o of a)s.push(tB(i,i.property,o));a=s}i.property==="className"&&Array.isArray(t.className)&&(a=t.className.concat(a)),t[i.property]=a}}function mI(e,t){if(t!=null)if(typeof t=="number"||typeof t=="string")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(const r of t)mI(e,r);else if(typeof t=="object"&&"type"in t)t.type==="root"?mI(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function tB(e,t,r){if(typeof r=="string"){if(e.number&&r&&!Number.isNaN(Number(r)))return Number(r);if((e.boolean||e.overloadedBoolean)&&(r===""||Vm(r)===Vm(t)))return!0}return r}function _1e(e){const t=[];for(const[r,n]of Object.entries(e))t.push([r,n].join(": "));return t.join("; ")}function w1e(e){const t=new Map;for(const r of e)t.set(r.toLowerCase(),r);return t}const T1e=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],C1e=vY(B0,"div"),E1e=vY(oc,"g",T1e);function A1e(e){const t=String(e),r=[];return{toOffset:i,toPoint:n};function n(a){if(typeof a=="number"&&a>-1&&a<=t.length){let s=0;for(;;){let o=r[s];if(o===void 0){const l=rB(t,r[s-1]);o=l===-1?t.length+1:l+1,r[s]=o}if(o>a)return{line:s+1,column:a-(s>0?r[s-1]:0)+1,offset:a};s++}}}function i(a){if(a&&typeof a.line=="number"&&typeof a.column=="number"&&!Number.isNaN(a.line)&&!Number.isNaN(a.column)){for(;r.length<a.line;){const o=r[r.length-1],l=rB(t,o),u=l===-1?t.length+1:l+1;if(o===u)break;r.push(u)}const s=(a.line>1?r[a.line-2]:0)+a.column-1;if(s<r[a.line-1])return s}}}function rB(e,t){const r=e.indexOf("\r",t),n=e.indexOf(`
`,t);return n===-1?r:r===-1||r+1===n?n:r<n?r:n}const gh={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},gY={}.hasOwnProperty,k1e=Object.prototype;function I1e(e,t){const r=t||{};return aN({file:r.file||void 0,location:!1,schema:r.space==="svg"?oc:B0,verbose:r.verbose||!1},e)}function aN(e,t){let r;switch(t.nodeName){case"#comment":{const n=t;return r={type:"comment",value:n.data},ob(e,n,r),r}case"#document":case"#document-fragment":{const n=t,i="mode"in n?n.mode==="quirks"||n.mode==="limited-quirks":!1;if(r={type:"root",children:mY(e,t.childNodes),data:{quirksMode:i}},e.file&&e.location){const a=String(e.file),s=A1e(a),o=s.toPoint(0),l=s.toPoint(a.length);r.position={start:o,end:l}}return r}case"#documentType":{const n=t;return r={type:"doctype"},ob(e,n,r),r}case"#text":{const n=t;return r={type:"text",value:n.value},ob(e,n,r),r}default:return r=D1e(e,t),r}}function mY(e,t){let r=-1;const n=[];for(;++r<t.length;){const i=aN(e,t[r]);n.push(i)}return n}function D1e(e,t){const r=e.schema;e.schema=t.namespaceURI===gh.svg?oc:B0;let n=-1;const i={};for(;++n<t.attrs.length;){const o=t.attrs[n],l=(o.prefix?o.prefix+":":"")+o.name;gY.call(k1e,l)||(i[l]=o.value)}const s=(e.schema.space==="svg"?E1e:C1e)(t.tagName,i,mY(e,t.childNodes));if(ob(e,t,s),s.tagName==="template"){const o=t,l=o.sourceCodeLocation,u=l&&l.startTag&&Sd(l.startTag),c=l&&l.endTag&&Sd(l.endTag),h=aN(e,o.content);u&&c&&e.file&&(h.position={start:u.end,end:c.start}),s.content=h}return e.schema=r,s}function ob(e,t,r){if("sourceCodeLocation"in t&&t.sourceCodeLocation&&e.file){const n=M1e(e,r,t.sourceCodeLocation);n&&(e.location=!0,r.position=n)}}function M1e(e,t,r){const n=Sd(r);if(t.type==="element"){const i=t.children[t.children.length-1];if(n&&!r.endTag&&i&&i.position&&i.position.end&&(n.end=Object.assign({},i.position.end)),e.verbose){const a={};let s;if(r.attrs)for(s in r.attrs)gY.call(r.attrs,s)&&(a[G_(e.schema,s).property]=Sd(r.attrs[s]));r.startTag;const o=Sd(r.startTag),l=r.endTag?Sd(r.endTag):void 0,u={opening:o};l&&(u.closing=l),u.properties=a,t.data={position:u}}}return n}function Sd(e){const t=nB({line:e.startLine,column:e.startCol,offset:e.startOffset}),r=nB({line:e.endLine,column:e.endCol,offset:e.endOffset});return t||r?{start:t,end:r}:void 0}function nB(e){return e.line&&e.column?e:void 0}const L1e={},N1e={}.hasOwnProperty,yY=q$("type",{handlers:{root:R1e,element:j1e,text:F1e,comment:z1e,doctype:B1e}});function P1e(e,t){const n=(t||L1e).space;return yY(e,n==="svg"?oc:B0)}function R1e(e,t){const r={nodeName:"#document",mode:(e.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return r.childNodes=sN(e.children,r,t),Dp(e,r),r}function O1e(e,t){const r={nodeName:"#document-fragment",childNodes:[]};return r.childNodes=sN(e.children,r,t),Dp(e,r),r}function B1e(e){const t={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:null};return Dp(e,t),t}function F1e(e){const t={nodeName:"#text",value:e.value,parentNode:null};return Dp(e,t),t}function z1e(e){const t={nodeName:"#comment",data:e.value,parentNode:null};return Dp(e,t),t}function j1e(e,t){const r=t;let n=r;e.type==="element"&&e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(n=oc);const i=[];let a;if(e.properties){for(a in e.properties)if(a!=="children"&&N1e.call(e.properties,a)){const l=H1e(n,a,e.properties[a]);l&&i.push(l)}}const s=n.space,o={nodeName:e.tagName,tagName:e.tagName,attrs:i,namespaceURI:gh[s],childNodes:[],parentNode:null};return o.childNodes=sN(e.children,o,n),Dp(e,o),e.tagName==="template"&&e.content&&(o.content=O1e(e.content,n)),o}function H1e(e,t,r){const n=G_(e,t);if(r===!1||r===null||r===void 0||typeof r=="number"&&Number.isNaN(r)||!r&&n.boolean)return;Array.isArray(r)&&(r=n.commaSeparated?l$(r):g$(r));const i={name:n.attribute,value:r===!0?"":String(r)};if(n.space&&n.space!=="html"&&n.space!=="svg"){const a=i.name.indexOf(":");a<0?i.prefix="":(i.name=i.name.slice(a+1),i.prefix=n.attribute.slice(0,a)),i.namespace=gh[n.space]}return i}function sN(e,t,r){let n=-1;const i=[];if(e)for(;++n<e.length;){const a=yY(e[n],r);a.parentNode=t,i.push(a)}return i}function Dp(e,t){const r=e.position;r&&r.start&&r.end&&(r.start.offset,r.end.offset,t.sourceCodeLocation={startLine:r.start.line,startCol:r.start.column,startOffset:r.start.offset,endLine:r.end.line,endCol:r.end.column,endOffset:r.end.offset})}const V1e=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],U1e=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),Jr="";var he;(function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(he||(he={}));const Yi={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function xY(e){return e>=55296&&e<=57343}function G1e(e){return e>=56320&&e<=57343}function W1e(e,t){return(e-55296)*1024+9216+t}function bY(e){return e!==32&&e!==10&&e!==13&&e!==9&&e!==12&&e>=1&&e<=31||e>=127&&e<=159}function SY(e){return e>=64976&&e<=65007||U1e.has(e)}var Be;(function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(Be||(Be={}));const $1e=65536;class Y1e{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=$1e,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t,r){const{line:n,col:i,offset:a}=this,s=i+r,o=a+r;return{code:t,startLine:n,endLine:n,startCol:s,endCol:s,startOffset:o,endOffset:o}}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(t){if(this.pos!==this.html.length-1){const r=this.html.charCodeAt(this.pos+1);if(G1e(r))return this.pos++,this._addGap(),W1e(t,r)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,he.EOF;return this._err(Be.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(t,r){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=r}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(t,r){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(r)return this.html.startsWith(t,this.pos);for(let n=0;n<t.length;n++)if((this.html.charCodeAt(this.pos+n)|32)!==t.charCodeAt(n))return!1;return!0}peek(t){const r=this.pos+t;if(r>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,he.EOF;const n=this.html.charCodeAt(r);return n===he.CARRIAGE_RETURN?he.LINE_FEED:n}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,he.EOF;let t=this.html.charCodeAt(this.pos);return t===he.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,he.LINE_FEED):t===he.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,xY(t)&&(t=this._processSurrogate(t)),this.handler.onParseError===null||t>31&&t<127||t===he.LINE_FEED||t===he.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t)}_checkForProblematicCharacters(t){bY(t)?this._err(Be.controlCharacterInInputStream):SY(t)&&this._err(Be.noncharacterInInputStream)}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var or;(function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"})(or||(or={}));function _Y(e,t){for(let r=e.attrs.length-1;r>=0;r--)if(e.attrs[r].name===t)return e.attrs[r].value;return null}const X1e=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),q1e=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);function K1e(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=q1e.get(e))!==null&&t!==void 0?t:e}var Yn;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(Yn||(Yn={}));const Z1e=32;var bu;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(bu||(bu={}));function yI(e){return e>=Yn.ZERO&&e<=Yn.NINE}function Q1e(e){return e>=Yn.UPPER_A&&e<=Yn.UPPER_F||e>=Yn.LOWER_A&&e<=Yn.LOWER_F}function J1e(e){return e>=Yn.UPPER_A&&e<=Yn.UPPER_Z||e>=Yn.LOWER_A&&e<=Yn.LOWER_Z||yI(e)}function exe(e){return e===Yn.EQUALS||J1e(e)}var Gn;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(Gn||(Gn={}));var rl;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(rl||(rl={}));class txe{constructor(t,r,n){this.decodeTree=t,this.emitCodePoint=r,this.errors=n,this.state=Gn.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=rl.Strict}startEntity(t){this.decodeMode=t,this.state=Gn.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,r){switch(this.state){case Gn.EntityStart:return t.charCodeAt(r)===Yn.NUM?(this.state=Gn.NumericStart,this.consumed+=1,this.stateNumericStart(t,r+1)):(this.state=Gn.NamedEntity,this.stateNamedEntity(t,r));case Gn.NumericStart:return this.stateNumericStart(t,r);case Gn.NumericDecimal:return this.stateNumericDecimal(t,r);case Gn.NumericHex:return this.stateNumericHex(t,r);case Gn.NamedEntity:return this.stateNamedEntity(t,r)}}stateNumericStart(t,r){return r>=t.length?-1:(t.charCodeAt(r)|Z1e)===Yn.LOWER_X?(this.state=Gn.NumericHex,this.consumed+=1,this.stateNumericHex(t,r+1)):(this.state=Gn.NumericDecimal,this.stateNumericDecimal(t,r))}addToNumericResult(t,r,n,i){if(r!==n){const a=n-r;this.result=this.result*Math.pow(i,a)+Number.parseInt(t.substr(r,a),i),this.consumed+=a}}stateNumericHex(t,r){const n=r;for(;r<t.length;){const i=t.charCodeAt(r);if(yI(i)||Q1e(i))r+=1;else return this.addToNumericResult(t,n,r,16),this.emitNumericEntity(i,3)}return this.addToNumericResult(t,n,r,16),-1}stateNumericDecimal(t,r){const n=r;for(;r<t.length;){const i=t.charCodeAt(r);if(yI(i))r+=1;else return this.addToNumericResult(t,n,r,10),this.emitNumericEntity(i,2)}return this.addToNumericResult(t,n,r,10),-1}emitNumericEntity(t,r){var n;if(this.consumed<=r)return(n=this.errors)===null||n===void 0||n.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===Yn.SEMI)this.consumed+=1;else if(this.decodeMode===rl.Strict)return 0;return this.emitCodePoint(K1e(this.result),this.consumed),this.errors&&(t!==Yn.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,r){const{decodeTree:n}=this;let i=n[this.treeIndex],a=(i&bu.VALUE_LENGTH)>>14;for(;r<t.length;r++,this.excess++){const s=t.charCodeAt(r);if(this.treeIndex=rxe(n,i,this.treeIndex+Math.max(1,a),s),this.treeIndex<0)return this.result===0||this.decodeMode===rl.Attribute&&(a===0||exe(s))?0:this.emitNotTerminatedNamedEntity();if(i=n[this.treeIndex],a=(i&bu.VALUE_LENGTH)>>14,a!==0){if(s===Yn.SEMI)return this.emitNamedEntityData(this.treeIndex,a,this.consumed+this.excess);this.decodeMode!==rl.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:r,decodeTree:n}=this,i=(n[r]&bu.VALUE_LENGTH)>>14;return this.emitNamedEntityData(r,i,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,r,n){const{decodeTree:i}=this;return this.emitCodePoint(r===1?i[t]&~bu.VALUE_LENGTH:i[t+1],n),r===3&&this.emitCodePoint(i[t+2],n),n}end(){var t;switch(this.state){case Gn.NamedEntity:return this.result!==0&&(this.decodeMode!==rl.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case Gn.NumericDecimal:return this.emitNumericEntity(0,2);case Gn.NumericHex:return this.emitNumericEntity(0,3);case Gn.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case Gn.EntityStart:return 0}}}function rxe(e,t,r,n){const i=(t&bu.BRANCH_LENGTH)>>7,a=t&bu.JUMP_TABLE;if(i===0)return a!==0&&n===a?r:-1;if(a){const l=n-a;return l<0||l>=i?-1:e[r+l]-1}let s=r,o=s+i-1;for(;s<=o;){const l=s+o>>>1,u=e[l];if(u<n)s=l+1;else if(u>n)o=l-1;else return e[l+i]}return-1}var Ke;(function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"})(Ke||(Ke={}));var Dh;(function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"})(Dh||(Dh={}));var qa;(function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"})(qa||(qa={}));var Me;(function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SEARCH="search",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"})(Me||(Me={}));var F;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SEARCH=94]="SEARCH",e[e.SECTION=95]="SECTION",e[e.SELECT=96]="SELECT",e[e.SOURCE=97]="SOURCE",e[e.SMALL=98]="SMALL",e[e.SPAN=99]="SPAN",e[e.STRIKE=100]="STRIKE",e[e.STRONG=101]="STRONG",e[e.STYLE=102]="STYLE",e[e.SUB=103]="SUB",e[e.SUMMARY=104]="SUMMARY",e[e.SUP=105]="SUP",e[e.TABLE=106]="TABLE",e[e.TBODY=107]="TBODY",e[e.TEMPLATE=108]="TEMPLATE",e[e.TEXTAREA=109]="TEXTAREA",e[e.TFOOT=110]="TFOOT",e[e.TD=111]="TD",e[e.TH=112]="TH",e[e.THEAD=113]="THEAD",e[e.TITLE=114]="TITLE",e[e.TR=115]="TR",e[e.TRACK=116]="TRACK",e[e.TT=117]="TT",e[e.U=118]="U",e[e.UL=119]="UL",e[e.SVG=120]="SVG",e[e.VAR=121]="VAR",e[e.WBR=122]="WBR",e[e.XMP=123]="XMP"})(F||(F={}));const nxe=new Map([[Me.A,F.A],[Me.ADDRESS,F.ADDRESS],[Me.ANNOTATION_XML,F.ANNOTATION_XML],[Me.APPLET,F.APPLET],[Me.AREA,F.AREA],[Me.ARTICLE,F.ARTICLE],[Me.ASIDE,F.ASIDE],[Me.B,F.B],[Me.BASE,F.BASE],[Me.BASEFONT,F.BASEFONT],[Me.BGSOUND,F.BGSOUND],[Me.BIG,F.BIG],[Me.BLOCKQUOTE,F.BLOCKQUOTE],[Me.BODY,F.BODY],[Me.BR,F.BR],[Me.BUTTON,F.BUTTON],[Me.CAPTION,F.CAPTION],[Me.CENTER,F.CENTER],[Me.CODE,F.CODE],[Me.COL,F.COL],[Me.COLGROUP,F.COLGROUP],[Me.DD,F.DD],[Me.DESC,F.DESC],[Me.DETAILS,F.DETAILS],[Me.DIALOG,F.DIALOG],[Me.DIR,F.DIR],[Me.DIV,F.DIV],[Me.DL,F.DL],[Me.DT,F.DT],[Me.EM,F.EM],[Me.EMBED,F.EMBED],[Me.FIELDSET,F.FIELDSET],[Me.FIGCAPTION,F.FIGCAPTION],[Me.FIGURE,F.FIGURE],[Me.FONT,F.FONT],[Me.FOOTER,F.FOOTER],[Me.FOREIGN_OBJECT,F.FOREIGN_OBJECT],[Me.FORM,F.FORM],[Me.FRAME,F.FRAME],[Me.FRAMESET,F.FRAMESET],[Me.H1,F.H1],[Me.H2,F.H2],[Me.H3,F.H3],[Me.H4,F.H4],[Me.H5,F.H5],[Me.H6,F.H6],[Me.HEAD,F.HEAD],[Me.HEADER,F.HEADER],[Me.HGROUP,F.HGROUP],[Me.HR,F.HR],[Me.HTML,F.HTML],[Me.I,F.I],[Me.IMG,F.IMG],[Me.IMAGE,F.IMAGE],[Me.INPUT,F.INPUT],[Me.IFRAME,F.IFRAME],[Me.KEYGEN,F.KEYGEN],[Me.LABEL,F.LABEL],[Me.LI,F.LI],[Me.LINK,F.LINK],[Me.LISTING,F.LISTING],[Me.MAIN,F.MAIN],[Me.MALIGNMARK,F.MALIGNMARK],[Me.MARQUEE,F.MARQUEE],[Me.MATH,F.MATH],[Me.MENU,F.MENU],[Me.META,F.META],[Me.MGLYPH,F.MGLYPH],[Me.MI,F.MI],[Me.MO,F.MO],[Me.MN,F.MN],[Me.MS,F.MS],[Me.MTEXT,F.MTEXT],[Me.NAV,F.NAV],[Me.NOBR,F.NOBR],[Me.NOFRAMES,F.NOFRAMES],[Me.NOEMBED,F.NOEMBED],[Me.NOSCRIPT,F.NOSCRIPT],[Me.OBJECT,F.OBJECT],[Me.OL,F.OL],[Me.OPTGROUP,F.OPTGROUP],[Me.OPTION,F.OPTION],[Me.P,F.P],[Me.PARAM,F.PARAM],[Me.PLAINTEXT,F.PLAINTEXT],[Me.PRE,F.PRE],[Me.RB,F.RB],[Me.RP,F.RP],[Me.RT,F.RT],[Me.RTC,F.RTC],[Me.RUBY,F.RUBY],[Me.S,F.S],[Me.SCRIPT,F.SCRIPT],[Me.SEARCH,F.SEARCH],[Me.SECTION,F.SECTION],[Me.SELECT,F.SELECT],[Me.SOURCE,F.SOURCE],[Me.SMALL,F.SMALL],[Me.SPAN,F.SPAN],[Me.STRIKE,F.STRIKE],[Me.STRONG,F.STRONG],[Me.STYLE,F.STYLE],[Me.SUB,F.SUB],[Me.SUMMARY,F.SUMMARY],[Me.SUP,F.SUP],[Me.TABLE,F.TABLE],[Me.TBODY,F.TBODY],[Me.TEMPLATE,F.TEMPLATE],[Me.TEXTAREA,F.TEXTAREA],[Me.TFOOT,F.TFOOT],[Me.TD,F.TD],[Me.TH,F.TH],[Me.THEAD,F.THEAD],[Me.TITLE,F.TITLE],[Me.TR,F.TR],[Me.TRACK,F.TRACK],[Me.TT,F.TT],[Me.U,F.U],[Me.UL,F.UL],[Me.SVG,F.SVG],[Me.VAR,F.VAR],[Me.WBR,F.WBR],[Me.XMP,F.XMP]]);function Mp(e){var t;return(t=nxe.get(e))!==null&&t!==void 0?t:F.UNKNOWN}const Qe=F,ixe={[Ke.HTML]:new Set([Qe.ADDRESS,Qe.APPLET,Qe.AREA,Qe.ARTICLE,Qe.ASIDE,Qe.BASE,Qe.BASEFONT,Qe.BGSOUND,Qe.BLOCKQUOTE,Qe.BODY,Qe.BR,Qe.BUTTON,Qe.CAPTION,Qe.CENTER,Qe.COL,Qe.COLGROUP,Qe.DD,Qe.DETAILS,Qe.DIR,Qe.DIV,Qe.DL,Qe.DT,Qe.EMBED,Qe.FIELDSET,Qe.FIGCAPTION,Qe.FIGURE,Qe.FOOTER,Qe.FORM,Qe.FRAME,Qe.FRAMESET,Qe.H1,Qe.H2,Qe.H3,Qe.H4,Qe.H5,Qe.H6,Qe.HEAD,Qe.HEADER,Qe.HGROUP,Qe.HR,Qe.HTML,Qe.IFRAME,Qe.IMG,Qe.INPUT,Qe.LI,Qe.LINK,Qe.LISTING,Qe.MAIN,Qe.MARQUEE,Qe.MENU,Qe.META,Qe.NAV,Qe.NOEMBED,Qe.NOFRAMES,Qe.NOSCRIPT,Qe.OBJECT,Qe.OL,Qe.P,Qe.PARAM,Qe.PLAINTEXT,Qe.PRE,Qe.SCRIPT,Qe.SECTION,Qe.SELECT,Qe.SOURCE,Qe.STYLE,Qe.SUMMARY,Qe.TABLE,Qe.TBODY,Qe.TD,Qe.TEMPLATE,Qe.TEXTAREA,Qe.TFOOT,Qe.TH,Qe.THEAD,Qe.TITLE,Qe.TR,Qe.TRACK,Qe.UL,Qe.WBR,Qe.XMP]),[Ke.MATHML]:new Set([Qe.MI,Qe.MO,Qe.MN,Qe.MS,Qe.MTEXT,Qe.ANNOTATION_XML]),[Ke.SVG]:new Set([Qe.TITLE,Qe.FOREIGN_OBJECT,Qe.DESC]),[Ke.XLINK]:new Set,[Ke.XML]:new Set,[Ke.XMLNS]:new Set},xI=new Set([Qe.H1,Qe.H2,Qe.H3,Qe.H4,Qe.H5,Qe.H6]);Me.STYLE,Me.SCRIPT,Me.XMP,Me.IFRAME,Me.NOEMBED,Me.NOFRAMES,Me.PLAINTEXT;var de;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(de||(de={}));const xn={DATA:de.DATA,RCDATA:de.RCDATA,RAWTEXT:de.RAWTEXT,SCRIPT_DATA:de.SCRIPT_DATA,PLAINTEXT:de.PLAINTEXT,CDATA_SECTION:de.CDATA_SECTION};function axe(e){return e>=he.DIGIT_0&&e<=he.DIGIT_9}function xg(e){return e>=he.LATIN_CAPITAL_A&&e<=he.LATIN_CAPITAL_Z}function sxe(e){return e>=he.LATIN_SMALL_A&&e<=he.LATIN_SMALL_Z}function au(e){return sxe(e)||xg(e)}function iB(e){return au(e)||axe(e)}function P1(e){return e+32}function wY(e){return e===he.SPACE||e===he.LINE_FEED||e===he.TABULATION||e===he.FORM_FEED}function aB(e){return wY(e)||e===he.SOLIDUS||e===he.GREATER_THAN_SIGN}function oxe(e){return e===he.NULL?Be.nullCharacterReference:e>1114111?Be.characterReferenceOutsideUnicodeRange:xY(e)?Be.surrogateCharacterReference:SY(e)?Be.noncharacterCharacterReference:bY(e)||e===he.CARRIAGE_RETURN?Be.controlCharacterReference:null}class lxe{constructor(t,r){this.options=t,this.handler=r,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=de.DATA,this.returnState=de.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new Y1e(r),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new txe(X1e,(n,i)=>{this.preprocessor.pos=this.entityStartPos+i-1,this._flushCodePointConsumedAsCharacterReference(n)},r.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(Be.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:n=>{this._err(Be.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+n)},validateNumericCharacterReference:n=>{const i=oxe(n);i&&this._err(i,1)}}:void 0)}_err(t,r=0){var n,i;(i=(n=this.handler).onParseError)===null||i===void 0||i.call(n,this.preprocessor.getError(t,r))}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const t=this._consume();this._ensureHibernation()||this._callState(t)}this.inLoop=!1}}pause(){this.paused=!0}resume(t){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||t==null||t())}write(t,r,n){this.active=!0,this.preprocessor.write(t,r),this._runParsingLoop(),this.paused||n==null||n()}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let r=0;r<t;r++)this.preprocessor.advance()}_consumeSequenceIfMatch(t,r){return this.preprocessor.startsWith(t,r)?(this._advanceBy(t.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:or.START_TAG,tagName:"",tagID:F.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:or.END_TAG,tagName:"",tagID:F.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(t){this.currentToken={type:or.COMMENT,data:"",location:this.getCurrentLocation(t)}}_createDoctypeToken(t){this.currentToken={type:or.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(t,r){this.currentCharacterToken={type:t,chars:r,location:this.currentLocation}}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var t,r;const n=this.currentToken;if(_Y(n,this.currentAttr.name)===null){if(n.attrs.push(this.currentAttr),n.location&&this.currentLocation){const i=(t=(r=n.location).attrs)!==null&&t!==void 0?t:r.attrs=Object.create(null);i[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(Be.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const t=this.currentToken;this.prepareToken(t),t.tagID=Mp(t.tagName),t.type===or.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err(Be.endTagWithAttributes),t.selfClosing&&this._err(Be.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk()}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case or.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case or.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case or.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:or.EOF,location:t}),this.active=!1}_appendCharToCurrentCharacterToken(t,r){if(this.currentCharacterToken)if(this.currentCharacterToken.type===t){this.currentCharacterToken.chars+=r;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(t,r)}_emitCodePoint(t){const r=wY(t)?or.WHITESPACE_CHARACTER:t===he.NULL?or.NULL_CHARACTER:or.CHARACTER;this._appendCharToCurrentCharacterToken(r,String.fromCodePoint(t))}_emitChars(t){this._appendCharToCurrentCharacterToken(or.CHARACTER,t)}_startCharacterReference(){this.returnState=this.state,this.state=de.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?rl.Attribute:rl.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===de.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===de.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===de.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t)}_callState(t){switch(this.state){case de.DATA:{this._stateData(t);break}case de.RCDATA:{this._stateRcdata(t);break}case de.RAWTEXT:{this._stateRawtext(t);break}case de.SCRIPT_DATA:{this._stateScriptData(t);break}case de.PLAINTEXT:{this._statePlaintext(t);break}case de.TAG_OPEN:{this._stateTagOpen(t);break}case de.END_TAG_OPEN:{this._stateEndTagOpen(t);break}case de.TAG_NAME:{this._stateTagName(t);break}case de.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(t);break}case de.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(t);break}case de.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(t);break}case de.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(t);break}case de.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(t);break}case de.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(t);break}case de.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(t);break}case de.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(t);break}case de.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(t);break}case de.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(t);break}case de.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(t);break}case de.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(t);break}case de.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(t);break}case de.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(t);break}case de.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(t);break}case de.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(t);break}case de.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(t);break}case de.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(t);break}case de.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(t);break}case de.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(t);break}case de.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(t);break}case de.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(t);break}case de.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(t);break}case de.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(t);break}case de.ATTRIBUTE_NAME:{this._stateAttributeName(t);break}case de.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(t);break}case de.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(t);break}case de.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(t);break}case de.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(t);break}case de.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(t);break}case de.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(t);break}case de.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(t);break}case de.BOGUS_COMMENT:{this._stateBogusComment(t);break}case de.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(t);break}case de.COMMENT_START:{this._stateCommentStart(t);break}case de.COMMENT_START_DASH:{this._stateCommentStartDash(t);break}case de.COMMENT:{this._stateComment(t);break}case de.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(t);break}case de.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(t);break}case de.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(t);break}case de.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(t);break}case de.COMMENT_END_DASH:{this._stateCommentEndDash(t);break}case de.COMMENT_END:{this._stateCommentEnd(t);break}case de.COMMENT_END_BANG:{this._stateCommentEndBang(t);break}case de.DOCTYPE:{this._stateDoctype(t);break}case de.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(t);break}case de.DOCTYPE_NAME:{this._stateDoctypeName(t);break}case de.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(t);break}case de.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(t);break}case de.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(t);break}case de.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(t);break}case de.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(t);break}case de.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(t);break}case de.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break}case de.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(t);break}case de.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(t);break}case de.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(t);break}case de.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(t);break}case de.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(t);break}case de.BOGUS_DOCTYPE:{this._stateBogusDoctype(t);break}case de.CDATA_SECTION:{this._stateCdataSection(t);break}case de.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(t);break}case de.CDATA_SECTION_END:{this._stateCdataSectionEnd(t);break}case de.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case de.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(t);break}default:throw new Error("Unknown state")}}_stateData(t){switch(t){case he.LESS_THAN_SIGN:{this.state=de.TAG_OPEN;break}case he.AMPERSAND:{this._startCharacterReference();break}case he.NULL:{this._err(Be.unexpectedNullCharacter),this._emitCodePoint(t);break}case he.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRcdata(t){switch(t){case he.AMPERSAND:{this._startCharacterReference();break}case he.LESS_THAN_SIGN:{this.state=de.RCDATA_LESS_THAN_SIGN;break}case he.NULL:{this._err(Be.unexpectedNullCharacter),this._emitChars(Jr);break}case he.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRawtext(t){switch(t){case he.LESS_THAN_SIGN:{this.state=de.RAWTEXT_LESS_THAN_SIGN;break}case he.NULL:{this._err(Be.unexpectedNullCharacter),this._emitChars(Jr);break}case he.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptData(t){switch(t){case he.LESS_THAN_SIGN:{this.state=de.SCRIPT_DATA_LESS_THAN_SIGN;break}case he.NULL:{this._err(Be.unexpectedNullCharacter),this._emitChars(Jr);break}case he.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_statePlaintext(t){switch(t){case he.NULL:{this._err(Be.unexpectedNullCharacter),this._emitChars(Jr);break}case he.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateTagOpen(t){if(au(t))this._createStartTagToken(),this.state=de.TAG_NAME,this._stateTagName(t);else switch(t){case he.EXCLAMATION_MARK:{this.state=de.MARKUP_DECLARATION_OPEN;break}case he.SOLIDUS:{this.state=de.END_TAG_OPEN;break}case he.QUESTION_MARK:{this._err(Be.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=de.BOGUS_COMMENT,this._stateBogusComment(t);break}case he.EOF:{this._err(Be.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(Be.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=de.DATA,this._stateData(t)}}_stateEndTagOpen(t){if(au(t))this._createEndTagToken(),this.state=de.TAG_NAME,this._stateTagName(t);else switch(t){case he.GREATER_THAN_SIGN:{this._err(Be.missingEndTagName),this.state=de.DATA;break}case he.EOF:{this._err(Be.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(Be.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=de.BOGUS_COMMENT,this._stateBogusComment(t)}}_stateTagName(t){const r=this.currentToken;switch(t){case he.SPACE:case he.LINE_FEED:case he.TABULATION:case he.FORM_FEED:{this.state=de.BEFORE_ATTRIBUTE_NAME;break}case he.SOLIDUS:{this.state=de.SELF_CLOSING_START_TAG;break}case he.GREATER_THAN_SIGN:{this.state=de.DATA,this.emitCurrentTagToken();break}case he.NULL:{this._err(Be.unexpectedNullCharacter),r.tagName+=Jr;break}case he.EOF:{this._err(Be.eofInTag),this._emitEOFToken();break}default:r.tagName+=String.fromCodePoint(xg(t)?P1(t):t)}}_stateRcdataLessThanSign(t){t===he.SOLIDUS?this.state=de.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=de.RCDATA,this._stateRcdata(t))}_stateRcdataEndTagOpen(t){au(t)?(this.state=de.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=de.RCDATA,this._stateRcdata(t))}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const r=this.currentToken;switch(r.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case he.SPACE:case he.LINE_FEED:case he.TABULATION:case he.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=de.BEFORE_ATTRIBUTE_NAME,!1;case he.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=de.SELF_CLOSING_START_TAG,!1;case he.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=de.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=de.RCDATA,this._stateRcdata(t))}_stateRawtextLessThanSign(t){t===he.SOLIDUS?this.state=de.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=de.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagOpen(t){au(t)?(this.state=de.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=de.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=de.RAWTEXT,this._stateRawtext(t))}_stateScriptDataLessThanSign(t){switch(t){case he.SOLIDUS:{this.state=de.SCRIPT_DATA_END_TAG_OPEN;break}case he.EXCLAMATION_MARK:{this.state=de.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=de.SCRIPT_DATA,this._stateScriptData(t)}}_stateScriptDataEndTagOpen(t){au(t)?(this.state=de.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=de.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=de.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStart(t){t===he.HYPHEN_MINUS?(this.state=de.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=de.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStartDash(t){t===he.HYPHEN_MINUS?(this.state=de.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=de.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscaped(t){switch(t){case he.HYPHEN_MINUS:{this.state=de.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case he.LESS_THAN_SIGN:{this.state=de.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case he.NULL:{this._err(Be.unexpectedNullCharacter),this._emitChars(Jr);break}case he.EOF:{this._err(Be.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataEscapedDash(t){switch(t){case he.HYPHEN_MINUS:{this.state=de.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case he.LESS_THAN_SIGN:{this.state=de.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case he.NULL:{this._err(Be.unexpectedNullCharacter),this.state=de.SCRIPT_DATA_ESCAPED,this._emitChars(Jr);break}case he.EOF:{this._err(Be.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=de.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedDashDash(t){switch(t){case he.HYPHEN_MINUS:{this._emitChars("-");break}case he.LESS_THAN_SIGN:{this.state=de.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case he.GREATER_THAN_SIGN:{this.state=de.SCRIPT_DATA,this._emitChars(">");break}case he.NULL:{this._err(Be.unexpectedNullCharacter),this.state=de.SCRIPT_DATA_ESCAPED,this._emitChars(Jr);break}case he.EOF:{this._err(Be.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=de.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedLessThanSign(t){t===he.SOLIDUS?this.state=de.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:au(t)?(this._emitChars("<"),this.state=de.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=de.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagOpen(t){au(t)?(this.state=de.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=de.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=de.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(Yi.SCRIPT,!1)&&aB(this.preprocessor.peek(Yi.SCRIPT.length))){this._emitCodePoint(t);for(let r=0;r<Yi.SCRIPT.length;r++)this._emitCodePoint(this._consume());this.state=de.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=de.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscaped(t){switch(t){case he.HYPHEN_MINUS:{this.state=de.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case he.LESS_THAN_SIGN:{this.state=de.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case he.NULL:{this._err(Be.unexpectedNullCharacter),this._emitChars(Jr);break}case he.EOF:{this._err(Be.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDash(t){switch(t){case he.HYPHEN_MINUS:{this.state=de.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case he.LESS_THAN_SIGN:{this.state=de.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case he.NULL:{this._err(Be.unexpectedNullCharacter),this.state=de.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Jr);break}case he.EOF:{this._err(Be.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=de.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case he.HYPHEN_MINUS:{this._emitChars("-");break}case he.LESS_THAN_SIGN:{this.state=de.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case he.GREATER_THAN_SIGN:{this.state=de.SCRIPT_DATA,this._emitChars(">");break}case he.NULL:{this._err(Be.unexpectedNullCharacter),this.state=de.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(Jr);break}case he.EOF:{this._err(Be.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=de.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedLessThanSign(t){t===he.SOLIDUS?(this.state=de.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=de.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(Yi.SCRIPT,!1)&&aB(this.preprocessor.peek(Yi.SCRIPT.length))){this._emitCodePoint(t);for(let r=0;r<Yi.SCRIPT.length;r++)this._emitCodePoint(this._consume());this.state=de.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=de.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateBeforeAttributeName(t){switch(t){case he.SPACE:case he.LINE_FEED:case he.TABULATION:case he.FORM_FEED:break;case he.SOLIDUS:case he.GREATER_THAN_SIGN:case he.EOF:{this.state=de.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case he.EQUALS_SIGN:{this._err(Be.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=de.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=de.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateAttributeName(t){switch(t){case he.SPACE:case he.LINE_FEED:case he.TABULATION:case he.FORM_FEED:case he.SOLIDUS:case he.GREATER_THAN_SIGN:case he.EOF:{this._leaveAttrName(),this.state=de.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case he.EQUALS_SIGN:{this._leaveAttrName(),this.state=de.BEFORE_ATTRIBUTE_VALUE;break}case he.QUOTATION_MARK:case he.APOSTROPHE:case he.LESS_THAN_SIGN:{this._err(Be.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break}case he.NULL:{this._err(Be.unexpectedNullCharacter),this.currentAttr.name+=Jr;break}default:this.currentAttr.name+=String.fromCodePoint(xg(t)?P1(t):t)}}_stateAfterAttributeName(t){switch(t){case he.SPACE:case he.LINE_FEED:case he.TABULATION:case he.FORM_FEED:break;case he.SOLIDUS:{this.state=de.SELF_CLOSING_START_TAG;break}case he.EQUALS_SIGN:{this.state=de.BEFORE_ATTRIBUTE_VALUE;break}case he.GREATER_THAN_SIGN:{this.state=de.DATA,this.emitCurrentTagToken();break}case he.EOF:{this._err(Be.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=de.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateBeforeAttributeValue(t){switch(t){case he.SPACE:case he.LINE_FEED:case he.TABULATION:case he.FORM_FEED:break;case he.QUOTATION_MARK:{this.state=de.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case he.APOSTROPHE:{this.state=de.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case he.GREATER_THAN_SIGN:{this._err(Be.missingAttributeValue),this.state=de.DATA,this.emitCurrentTagToken();break}default:this.state=de.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t)}}_stateAttributeValueDoubleQuoted(t){switch(t){case he.QUOTATION_MARK:{this.state=de.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case he.AMPERSAND:{this._startCharacterReference();break}case he.NULL:{this._err(Be.unexpectedNullCharacter),this.currentAttr.value+=Jr;break}case he.EOF:{this._err(Be.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueSingleQuoted(t){switch(t){case he.APOSTROPHE:{this.state=de.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case he.AMPERSAND:{this._startCharacterReference();break}case he.NULL:{this._err(Be.unexpectedNullCharacter),this.currentAttr.value+=Jr;break}case he.EOF:{this._err(Be.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueUnquoted(t){switch(t){case he.SPACE:case he.LINE_FEED:case he.TABULATION:case he.FORM_FEED:{this._leaveAttrValue(),this.state=de.BEFORE_ATTRIBUTE_NAME;break}case he.AMPERSAND:{this._startCharacterReference();break}case he.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=de.DATA,this.emitCurrentTagToken();break}case he.NULL:{this._err(Be.unexpectedNullCharacter),this.currentAttr.value+=Jr;break}case he.QUOTATION_MARK:case he.APOSTROPHE:case he.LESS_THAN_SIGN:case he.EQUALS_SIGN:case he.GRAVE_ACCENT:{this._err(Be.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break}case he.EOF:{this._err(Be.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAfterAttributeValueQuoted(t){switch(t){case he.SPACE:case he.LINE_FEED:case he.TABULATION:case he.FORM_FEED:{this._leaveAttrValue(),this.state=de.BEFORE_ATTRIBUTE_NAME;break}case he.SOLIDUS:{this._leaveAttrValue(),this.state=de.SELF_CLOSING_START_TAG;break}case he.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=de.DATA,this.emitCurrentTagToken();break}case he.EOF:{this._err(Be.eofInTag),this._emitEOFToken();break}default:this._err(Be.missingWhitespaceBetweenAttributes),this.state=de.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateSelfClosingStartTag(t){switch(t){case he.GREATER_THAN_SIGN:{const r=this.currentToken;r.selfClosing=!0,this.state=de.DATA,this.emitCurrentTagToken();break}case he.EOF:{this._err(Be.eofInTag),this._emitEOFToken();break}default:this._err(Be.unexpectedSolidusInTag),this.state=de.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateBogusComment(t){const r=this.currentToken;switch(t){case he.GREATER_THAN_SIGN:{this.state=de.DATA,this.emitCurrentComment(r);break}case he.EOF:{this.emitCurrentComment(r),this._emitEOFToken();break}case he.NULL:{this._err(Be.unexpectedNullCharacter),r.data+=Jr;break}default:r.data+=String.fromCodePoint(t)}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(Yi.DASH_DASH,!0)?(this._createCommentToken(Yi.DASH_DASH.length+1),this.state=de.COMMENT_START):this._consumeSequenceIfMatch(Yi.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(Yi.DOCTYPE.length+1),this.state=de.DOCTYPE):this._consumeSequenceIfMatch(Yi.CDATA_START,!0)?this.inForeignNode?this.state=de.CDATA_SECTION:(this._err(Be.cdataInHtmlContent),this._createCommentToken(Yi.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=de.BOGUS_COMMENT):this._ensureHibernation()||(this._err(Be.incorrectlyOpenedComment),this._createCommentToken(2),this.state=de.BOGUS_COMMENT,this._stateBogusComment(t))}_stateCommentStart(t){switch(t){case he.HYPHEN_MINUS:{this.state=de.COMMENT_START_DASH;break}case he.GREATER_THAN_SIGN:{this._err(Be.abruptClosingOfEmptyComment),this.state=de.DATA;const r=this.currentToken;this.emitCurrentComment(r);break}default:this.state=de.COMMENT,this._stateComment(t)}}_stateCommentStartDash(t){const r=this.currentToken;switch(t){case he.HYPHEN_MINUS:{this.state=de.COMMENT_END;break}case he.GREATER_THAN_SIGN:{this._err(Be.abruptClosingOfEmptyComment),this.state=de.DATA,this.emitCurrentComment(r);break}case he.EOF:{this._err(Be.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+="-",this.state=de.COMMENT,this._stateComment(t)}}_stateComment(t){const r=this.currentToken;switch(t){case he.HYPHEN_MINUS:{this.state=de.COMMENT_END_DASH;break}case he.LESS_THAN_SIGN:{r.data+="<",this.state=de.COMMENT_LESS_THAN_SIGN;break}case he.NULL:{this._err(Be.unexpectedNullCharacter),r.data+=Jr;break}case he.EOF:{this._err(Be.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+=String.fromCodePoint(t)}}_stateCommentLessThanSign(t){const r=this.currentToken;switch(t){case he.EXCLAMATION_MARK:{r.data+="!",this.state=de.COMMENT_LESS_THAN_SIGN_BANG;break}case he.LESS_THAN_SIGN:{r.data+="<";break}default:this.state=de.COMMENT,this._stateComment(t)}}_stateCommentLessThanSignBang(t){t===he.HYPHEN_MINUS?this.state=de.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=de.COMMENT,this._stateComment(t))}_stateCommentLessThanSignBangDash(t){t===he.HYPHEN_MINUS?this.state=de.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=de.COMMENT_END_DASH,this._stateCommentEndDash(t))}_stateCommentLessThanSignBangDashDash(t){t!==he.GREATER_THAN_SIGN&&t!==he.EOF&&this._err(Be.nestedComment),this.state=de.COMMENT_END,this._stateCommentEnd(t)}_stateCommentEndDash(t){const r=this.currentToken;switch(t){case he.HYPHEN_MINUS:{this.state=de.COMMENT_END;break}case he.EOF:{this._err(Be.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+="-",this.state=de.COMMENT,this._stateComment(t)}}_stateCommentEnd(t){const r=this.currentToken;switch(t){case he.GREATER_THAN_SIGN:{this.state=de.DATA,this.emitCurrentComment(r);break}case he.EXCLAMATION_MARK:{this.state=de.COMMENT_END_BANG;break}case he.HYPHEN_MINUS:{r.data+="-";break}case he.EOF:{this._err(Be.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+="--",this.state=de.COMMENT,this._stateComment(t)}}_stateCommentEndBang(t){const r=this.currentToken;switch(t){case he.HYPHEN_MINUS:{r.data+="--!",this.state=de.COMMENT_END_DASH;break}case he.GREATER_THAN_SIGN:{this._err(Be.incorrectlyClosedComment),this.state=de.DATA,this.emitCurrentComment(r);break}case he.EOF:{this._err(Be.eofInComment),this.emitCurrentComment(r),this._emitEOFToken();break}default:r.data+="--!",this.state=de.COMMENT,this._stateComment(t)}}_stateDoctype(t){switch(t){case he.SPACE:case he.LINE_FEED:case he.TABULATION:case he.FORM_FEED:{this.state=de.BEFORE_DOCTYPE_NAME;break}case he.GREATER_THAN_SIGN:{this.state=de.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break}case he.EOF:{this._err(Be.eofInDoctype),this._createDoctypeToken(null);const r=this.currentToken;r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(Be.missingWhitespaceBeforeDoctypeName),this.state=de.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t)}}_stateBeforeDoctypeName(t){if(xg(t))this._createDoctypeToken(String.fromCharCode(P1(t))),this.state=de.DOCTYPE_NAME;else switch(t){case he.SPACE:case he.LINE_FEED:case he.TABULATION:case he.FORM_FEED:break;case he.NULL:{this._err(Be.unexpectedNullCharacter),this._createDoctypeToken(Jr),this.state=de.DOCTYPE_NAME;break}case he.GREATER_THAN_SIGN:{this._err(Be.missingDoctypeName),this._createDoctypeToken(null);const r=this.currentToken;r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=de.DATA;break}case he.EOF:{this._err(Be.eofInDoctype),this._createDoctypeToken(null);const r=this.currentToken;r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=de.DOCTYPE_NAME}}_stateDoctypeName(t){const r=this.currentToken;switch(t){case he.SPACE:case he.LINE_FEED:case he.TABULATION:case he.FORM_FEED:{this.state=de.AFTER_DOCTYPE_NAME;break}case he.GREATER_THAN_SIGN:{this.state=de.DATA,this.emitCurrentDoctype(r);break}case he.NULL:{this._err(Be.unexpectedNullCharacter),r.name+=Jr;break}case he.EOF:{this._err(Be.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.name+=String.fromCodePoint(xg(t)?P1(t):t)}}_stateAfterDoctypeName(t){const r=this.currentToken;switch(t){case he.SPACE:case he.LINE_FEED:case he.TABULATION:case he.FORM_FEED:break;case he.GREATER_THAN_SIGN:{this.state=de.DATA,this.emitCurrentDoctype(r);break}case he.EOF:{this._err(Be.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(Yi.PUBLIC,!1)?this.state=de.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(Yi.SYSTEM,!1)?this.state=de.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(Be.invalidCharacterSequenceAfterDoctypeName),r.forceQuirks=!0,this.state=de.BOGUS_DOCTYPE,this._stateBogusDoctype(t))}}_stateAfterDoctypePublicKeyword(t){const r=this.currentToken;switch(t){case he.SPACE:case he.LINE_FEED:case he.TABULATION:case he.FORM_FEED:{this.state=de.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case he.QUOTATION_MARK:{this._err(Be.missingWhitespaceAfterDoctypePublicKeyword),r.publicId="",this.state=de.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case he.APOSTROPHE:{this._err(Be.missingWhitespaceAfterDoctypePublicKeyword),r.publicId="",this.state=de.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case he.GREATER_THAN_SIGN:{this._err(Be.missingDoctypePublicIdentifier),r.forceQuirks=!0,this.state=de.DATA,this.emitCurrentDoctype(r);break}case he.EOF:{this._err(Be.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(Be.missingQuoteBeforeDoctypePublicIdentifier),r.forceQuirks=!0,this.state=de.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypePublicIdentifier(t){const r=this.currentToken;switch(t){case he.SPACE:case he.LINE_FEED:case he.TABULATION:case he.FORM_FEED:break;case he.QUOTATION_MARK:{r.publicId="",this.state=de.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case he.APOSTROPHE:{r.publicId="",this.state=de.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case he.GREATER_THAN_SIGN:{this._err(Be.missingDoctypePublicIdentifier),r.forceQuirks=!0,this.state=de.DATA,this.emitCurrentDoctype(r);break}case he.EOF:{this._err(Be.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(Be.missingQuoteBeforeDoctypePublicIdentifier),r.forceQuirks=!0,this.state=de.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypePublicIdentifierDoubleQuoted(t){const r=this.currentToken;switch(t){case he.QUOTATION_MARK:{this.state=de.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case he.NULL:{this._err(Be.unexpectedNullCharacter),r.publicId+=Jr;break}case he.GREATER_THAN_SIGN:{this._err(Be.abruptDoctypePublicIdentifier),r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=de.DATA;break}case he.EOF:{this._err(Be.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.publicId+=String.fromCodePoint(t)}}_stateDoctypePublicIdentifierSingleQuoted(t){const r=this.currentToken;switch(t){case he.APOSTROPHE:{this.state=de.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case he.NULL:{this._err(Be.unexpectedNullCharacter),r.publicId+=Jr;break}case he.GREATER_THAN_SIGN:{this._err(Be.abruptDoctypePublicIdentifier),r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=de.DATA;break}case he.EOF:{this._err(Be.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.publicId+=String.fromCodePoint(t)}}_stateAfterDoctypePublicIdentifier(t){const r=this.currentToken;switch(t){case he.SPACE:case he.LINE_FEED:case he.TABULATION:case he.FORM_FEED:{this.state=de.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case he.GREATER_THAN_SIGN:{this.state=de.DATA,this.emitCurrentDoctype(r);break}case he.QUOTATION_MARK:{this._err(Be.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),r.systemId="",this.state=de.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case he.APOSTROPHE:{this._err(Be.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),r.systemId="",this.state=de.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case he.EOF:{this._err(Be.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(Be.missingQuoteBeforeDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=de.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){const r=this.currentToken;switch(t){case he.SPACE:case he.LINE_FEED:case he.TABULATION:case he.FORM_FEED:break;case he.GREATER_THAN_SIGN:{this.emitCurrentDoctype(r),this.state=de.DATA;break}case he.QUOTATION_MARK:{r.systemId="",this.state=de.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case he.APOSTROPHE:{r.systemId="",this.state=de.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case he.EOF:{this._err(Be.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(Be.missingQuoteBeforeDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=de.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateAfterDoctypeSystemKeyword(t){const r=this.currentToken;switch(t){case he.SPACE:case he.LINE_FEED:case he.TABULATION:case he.FORM_FEED:{this.state=de.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case he.QUOTATION_MARK:{this._err(Be.missingWhitespaceAfterDoctypeSystemKeyword),r.systemId="",this.state=de.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case he.APOSTROPHE:{this._err(Be.missingWhitespaceAfterDoctypeSystemKeyword),r.systemId="",this.state=de.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case he.GREATER_THAN_SIGN:{this._err(Be.missingDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=de.DATA,this.emitCurrentDoctype(r);break}case he.EOF:{this._err(Be.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(Be.missingQuoteBeforeDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=de.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypeSystemIdentifier(t){const r=this.currentToken;switch(t){case he.SPACE:case he.LINE_FEED:case he.TABULATION:case he.FORM_FEED:break;case he.QUOTATION_MARK:{r.systemId="",this.state=de.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case he.APOSTROPHE:{r.systemId="",this.state=de.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case he.GREATER_THAN_SIGN:{this._err(Be.missingDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=de.DATA,this.emitCurrentDoctype(r);break}case he.EOF:{this._err(Be.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(Be.missingQuoteBeforeDoctypeSystemIdentifier),r.forceQuirks=!0,this.state=de.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypeSystemIdentifierDoubleQuoted(t){const r=this.currentToken;switch(t){case he.QUOTATION_MARK:{this.state=de.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case he.NULL:{this._err(Be.unexpectedNullCharacter),r.systemId+=Jr;break}case he.GREATER_THAN_SIGN:{this._err(Be.abruptDoctypeSystemIdentifier),r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=de.DATA;break}case he.EOF:{this._err(Be.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.systemId+=String.fromCodePoint(t)}}_stateDoctypeSystemIdentifierSingleQuoted(t){const r=this.currentToken;switch(t){case he.APOSTROPHE:{this.state=de.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case he.NULL:{this._err(Be.unexpectedNullCharacter),r.systemId+=Jr;break}case he.GREATER_THAN_SIGN:{this._err(Be.abruptDoctypeSystemIdentifier),r.forceQuirks=!0,this.emitCurrentDoctype(r),this.state=de.DATA;break}case he.EOF:{this._err(Be.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:r.systemId+=String.fromCodePoint(t)}}_stateAfterDoctypeSystemIdentifier(t){const r=this.currentToken;switch(t){case he.SPACE:case he.LINE_FEED:case he.TABULATION:case he.FORM_FEED:break;case he.GREATER_THAN_SIGN:{this.emitCurrentDoctype(r),this.state=de.DATA;break}case he.EOF:{this._err(Be.eofInDoctype),r.forceQuirks=!0,this.emitCurrentDoctype(r),this._emitEOFToken();break}default:this._err(Be.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=de.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBogusDoctype(t){const r=this.currentToken;switch(t){case he.GREATER_THAN_SIGN:{this.emitCurrentDoctype(r),this.state=de.DATA;break}case he.NULL:{this._err(Be.unexpectedNullCharacter);break}case he.EOF:{this.emitCurrentDoctype(r),this._emitEOFToken();break}}}_stateCdataSection(t){switch(t){case he.RIGHT_SQUARE_BRACKET:{this.state=de.CDATA_SECTION_BRACKET;break}case he.EOF:{this._err(Be.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateCdataSectionBracket(t){t===he.RIGHT_SQUARE_BRACKET?this.state=de.CDATA_SECTION_END:(this._emitChars("]"),this.state=de.CDATA_SECTION,this._stateCdataSection(t))}_stateCdataSectionEnd(t){switch(t){case he.GREATER_THAN_SIGN:{this.state=de.DATA;break}case he.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=de.CDATA_SECTION,this._stateCdataSection(t)}}_stateCharacterReference(){let t=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(t<0)if(this.preprocessor.lastChunkWritten)t=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}t===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(he.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&iB(this.preprocessor.peek(1))?de.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(t){iB(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===he.SEMICOLON&&this._err(Be.unknownNamedCharacterReference),this.state=this.returnState,this._callState(t))}}const TY=new Set([F.DD,F.DT,F.LI,F.OPTGROUP,F.OPTION,F.P,F.RB,F.RP,F.RT,F.RTC]),sB=new Set([...TY,F.CAPTION,F.COLGROUP,F.TBODY,F.TD,F.TFOOT,F.TH,F.THEAD,F.TR]),uS=new Set([F.APPLET,F.CAPTION,F.HTML,F.MARQUEE,F.OBJECT,F.TABLE,F.TD,F.TEMPLATE,F.TH]),uxe=new Set([...uS,F.OL,F.UL]),cxe=new Set([...uS,F.BUTTON]),oB=new Set([F.ANNOTATION_XML,F.MI,F.MN,F.MO,F.MS,F.MTEXT]),lB=new Set([F.DESC,F.FOREIGN_OBJECT,F.TITLE]),hxe=new Set([F.TR,F.TEMPLATE,F.HTML]),fxe=new Set([F.TBODY,F.TFOOT,F.THEAD,F.TEMPLATE,F.HTML]),dxe=new Set([F.TABLE,F.TEMPLATE,F.HTML]),pxe=new Set([F.TD,F.TH]);class vxe{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,r,n){this.treeAdapter=r,this.handler=n,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=F.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===F.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===Ke.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,r){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=r,this.currentTagId=r,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,r,!0)}pop(){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,r){const n=this._indexOf(t);this.items[n]=r,n===this.stackTop&&(this.current=r)}insertAfter(t,r,n){const i=this._indexOf(t)+1;this.items.splice(i,0,r),this.tagIDs.splice(i,0,n),this.stackTop++,i===this.stackTop&&this._updateCurrentElement(),this.current&&this.currentTagId!==void 0&&this.handler.onItemPush(this.current,this.currentTagId,i===this.stackTop)}popUntilTagNamePopped(t){let r=this.stackTop+1;do r=this.tagIDs.lastIndexOf(t,r-1);while(r>0&&this.treeAdapter.getNamespaceURI(this.items[r])!==Ke.HTML);this.shortenToLength(Math.max(r,0))}shortenToLength(t){for(;this.stackTop>=t;){const r=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(r,this.stackTop<t)}}popUntilElementPopped(t){const r=this._indexOf(t);this.shortenToLength(Math.max(r,0))}popUntilPopped(t,r){const n=this._indexOfTagNames(t,r);this.shortenToLength(Math.max(n,0))}popUntilNumberedHeaderPopped(){this.popUntilPopped(xI,Ke.HTML)}popUntilTableCellPopped(){this.popUntilPopped(pxe,Ke.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,r){for(let n=this.stackTop;n>=0;n--)if(t.has(this.tagIDs[n])&&this.treeAdapter.getNamespaceURI(this.items[n])===r)return n;return-1}clearBackTo(t,r){const n=this._indexOfTagNames(t,r);this.shortenToLength(n+1)}clearBackToTableContext(){this.clearBackTo(dxe,Ke.HTML)}clearBackToTableBodyContext(){this.clearBackTo(fxe,Ke.HTML)}clearBackToTableRowContext(){this.clearBackTo(hxe,Ke.HTML)}remove(t){const r=this._indexOf(t);r>=0&&(r===this.stackTop?this.pop():(this.items.splice(r,1),this.tagIDs.splice(r,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===F.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){const r=this._indexOf(t)-1;return r>=0?this.items[r]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===F.HTML}hasInDynamicScope(t,r){for(let n=this.stackTop;n>=0;n--){const i=this.tagIDs[n];switch(this.treeAdapter.getNamespaceURI(this.items[n])){case Ke.HTML:{if(i===t)return!0;if(r.has(i))return!1;break}case Ke.SVG:{if(lB.has(i))return!1;break}case Ke.MATHML:{if(oB.has(i))return!1;break}}}return!0}hasInScope(t){return this.hasInDynamicScope(t,uS)}hasInListItemScope(t){return this.hasInDynamicScope(t,uxe)}hasInButtonScope(t){return this.hasInDynamicScope(t,cxe)}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){const r=this.tagIDs[t];switch(this.treeAdapter.getNamespaceURI(this.items[t])){case Ke.HTML:{if(xI.has(r))return!0;if(uS.has(r))return!1;break}case Ke.SVG:{if(lB.has(r))return!1;break}case Ke.MATHML:{if(oB.has(r))return!1;break}}}return!0}hasInTableScope(t){for(let r=this.stackTop;r>=0;r--)if(this.treeAdapter.getNamespaceURI(this.items[r])===Ke.HTML)switch(this.tagIDs[r]){case t:return!0;case F.TABLE:case F.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--)if(this.treeAdapter.getNamespaceURI(this.items[t])===Ke.HTML)switch(this.tagIDs[t]){case F.TBODY:case F.THEAD:case F.TFOOT:return!0;case F.TABLE:case F.HTML:return!1}return!0}hasInSelectScope(t){for(let r=this.stackTop;r>=0;r--)if(this.treeAdapter.getNamespaceURI(this.items[r])===Ke.HTML)switch(this.tagIDs[r]){case t:return!0;case F.OPTION:case F.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;this.currentTagId!==void 0&&TY.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;this.currentTagId!==void 0&&sB.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==void 0&&this.currentTagId!==t&&sB.has(this.currentTagId);)this.pop()}}const d2=3;var yo;(function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"})(yo||(yo={}));const uB={type:yo.Marker};class gxe{constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(t,r){const n=[],i=r.length,a=this.treeAdapter.getTagName(t),s=this.treeAdapter.getNamespaceURI(t);for(let o=0;o<this.entries.length;o++){const l=this.entries[o];if(l.type===yo.Marker)break;const{element:u}=l;if(this.treeAdapter.getTagName(u)===a&&this.treeAdapter.getNamespaceURI(u)===s){const c=this.treeAdapter.getAttrList(u);c.length===i&&n.push({idx:o,attrs:c})}}return n}_ensureNoahArkCondition(t){if(this.entries.length<d2)return;const r=this.treeAdapter.getAttrList(t),n=this._getNoahArkConditionCandidates(t,r);if(n.length<d2)return;const i=new Map(r.map(s=>[s.name,s.value]));let a=0;for(let s=0;s<n.length;s++){const o=n[s];o.attrs.every(l=>i.get(l.name)===l.value)&&(a+=1,a>=d2&&this.entries.splice(o.idx,1))}}insertMarker(){this.entries.unshift(uB)}pushElement(t,r){this._ensureNoahArkCondition(t),this.entries.unshift({type:yo.Element,element:t,token:r})}insertElementAfterBookmark(t,r){const n=this.entries.indexOf(this.bookmark);this.entries.splice(n,0,{type:yo.Element,element:t,token:r})}removeEntry(t){const r=this.entries.indexOf(t);r!==-1&&this.entries.splice(r,1)}clearToLastMarker(){const t=this.entries.indexOf(uB);t===-1?this.entries.length=0:this.entries.splice(0,t+1)}getElementEntryInScopeWithTagName(t){const r=this.entries.find(n=>n.type===yo.Marker||this.treeAdapter.getTagName(n.element)===t);return r&&r.type===yo.Element?r:null}getElementEntry(t){return this.entries.find(r=>r.type===yo.Element&&r.element===t)}}const su={createDocument(){return{nodeName:"#document",mode:qa.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(e,t,r){return{nodeName:e,tagName:e,attrs:r,namespaceURI:t,childNodes:[],parentNode:null}},createCommentNode(e){return{nodeName:"#comment",data:e,parentNode:null}},createTextNode(e){return{nodeName:"#text",value:e,parentNode:null}},appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,r){const n=e.childNodes.indexOf(r);e.childNodes.splice(n,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent(e){return e.content},setDocumentType(e,t,r,n){const i=e.childNodes.find(a=>a.nodeName==="#documentType");if(i)i.name=t,i.publicId=r,i.systemId=n;else{const a={nodeName:"#documentType",name:t,publicId:r,systemId:n,parentNode:null};su.appendChild(e,a)}},setDocumentMode(e,t){e.mode=t},getDocumentMode(e){return e.mode},detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const r=e.childNodes[e.childNodes.length-1];if(su.isTextNode(r)){r.value+=t;return}}su.appendChild(e,su.createTextNode(t))},insertTextBefore(e,t,r){const n=e.childNodes[e.childNodes.indexOf(r)-1];n&&su.isTextNode(n)?n.value+=t:su.insertBefore(e,su.createTextNode(t),r)},adoptAttributes(e,t){const r=new Set(e.attrs.map(n=>n.name));for(let n=0;n<t.length;n++)r.has(t[n].name)||e.attrs.push(t[n])},getFirstChild(e){return e.childNodes[0]},getChildNodes(e){return e.childNodes},getParentNode(e){return e.parentNode},getAttrList(e){return e.attrs},getTagName(e){return e.tagName},getNamespaceURI(e){return e.namespaceURI},getTextNodeContent(e){return e.value},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){return e.name},getDocumentTypeNodePublicId(e){return e.publicId},getDocumentTypeNodeSystemId(e){return e.systemId},isTextNode(e){return e.nodeName==="#text"},isCommentNode(e){return e.nodeName==="#comment"},isDocumentTypeNode(e){return e.nodeName==="#documentType"},isElementNode(e){return Object.prototype.hasOwnProperty.call(e,"tagName")},setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}},CY="html",mxe="about:legacy-compat",yxe="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",EY=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],xxe=[...EY,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],bxe=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),AY=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],Sxe=[...AY,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function cB(e,t){return t.some(r=>e.startsWith(r))}function _xe(e){return e.name===CY&&e.publicId===null&&(e.systemId===null||e.systemId===mxe)}function wxe(e){if(e.name!==CY)return qa.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===yxe)return qa.QUIRKS;let{publicId:r}=e;if(r!==null){if(r=r.toLowerCase(),bxe.has(r))return qa.QUIRKS;let n=t===null?xxe:EY;if(cB(r,n))return qa.QUIRKS;if(n=t===null?AY:Sxe,cB(r,n))return qa.LIMITED_QUIRKS}return qa.NO_QUIRKS}const hB={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},Txe="definitionurl",Cxe="definitionURL",Exe=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),Axe=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:Ke.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:Ke.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:Ke.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:Ke.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:Ke.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:Ke.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:Ke.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:Ke.XML}],["xml:space",{prefix:"xml",name:"space",namespace:Ke.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:Ke.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:Ke.XMLNS}]]),kxe=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),Ixe=new Set([F.B,F.BIG,F.BLOCKQUOTE,F.BODY,F.BR,F.CENTER,F.CODE,F.DD,F.DIV,F.DL,F.DT,F.EM,F.EMBED,F.H1,F.H2,F.H3,F.H4,F.H5,F.H6,F.HEAD,F.HR,F.I,F.IMG,F.LI,F.LISTING,F.MENU,F.META,F.NOBR,F.OL,F.P,F.PRE,F.RUBY,F.S,F.SMALL,F.SPAN,F.STRONG,F.STRIKE,F.SUB,F.SUP,F.TABLE,F.TT,F.U,F.UL,F.VAR]);function Dxe(e){const t=e.tagID;return t===F.FONT&&e.attrs.some(({name:n})=>n===Dh.COLOR||n===Dh.SIZE||n===Dh.FACE)||Ixe.has(t)}function kY(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===Txe){e.attrs[t].name=Cxe;break}}function IY(e){for(let t=0;t<e.attrs.length;t++){const r=Exe.get(e.attrs[t].name);r!=null&&(e.attrs[t].name=r)}}function oN(e){for(let t=0;t<e.attrs.length;t++){const r=Axe.get(e.attrs[t].name);r&&(e.attrs[t].prefix=r.prefix,e.attrs[t].name=r.name,e.attrs[t].namespace=r.namespace)}}function Mxe(e){const t=kxe.get(e.tagName);t!=null&&(e.tagName=t,e.tagID=Mp(e.tagName))}function Lxe(e,t){return t===Ke.MATHML&&(e===F.MI||e===F.MO||e===F.MN||e===F.MS||e===F.MTEXT)}function Nxe(e,t,r){if(t===Ke.MATHML&&e===F.ANNOTATION_XML){for(let n=0;n<r.length;n++)if(r[n].name===Dh.ENCODING){const i=r[n].value.toLowerCase();return i===hB.TEXT_HTML||i===hB.APPLICATION_XML}}return t===Ke.SVG&&(e===F.FOREIGN_OBJECT||e===F.DESC||e===F.TITLE)}function Pxe(e,t,r,n){return(!n||n===Ke.HTML)&&Nxe(e,t,r)||(!n||n===Ke.MATHML)&&Lxe(e,t)}const Rxe="hidden",Oxe=8,Bxe=3;var ye;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(ye||(ye={}));const Fxe={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},DY=new Set([F.TABLE,F.TBODY,F.TFOOT,F.THEAD,F.TR]),fB={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:su,onParseError:null};let dB=class{constructor(t,r,n=null,i=null){this.fragmentContext=n,this.scriptHandler=i,this.currentToken=null,this.stopped=!1,this.insertionMode=ye.INITIAL,this.originalInsertionMode=ye.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...fB,...t},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=r??this.treeAdapter.createDocument(),this.tokenizer=new lxe(this.options,this),this.activeFormattingElements=new gxe(this.treeAdapter),this.fragmentContextID=n?Mp(this.treeAdapter.getTagName(n)):F.UNKNOWN,this._setContextModes(n??this.document,this.fragmentContextID),this.openElements=new vxe(this.document,this.treeAdapter,this)}static parse(t,r){const n=new this(r);return n.tokenizer.write(t,!0),n.document}static getFragmentParser(t,r){const n={...fB,...r};t??(t=n.treeAdapter.createElement(Me.TEMPLATE,Ke.HTML,[]));const i=n.treeAdapter.createElement("documentmock",Ke.HTML,[]),a=new this(n,i,t);return a.fragmentContextID===F.TEMPLATE&&a.tmplInsertionModeStack.unshift(ye.IN_TEMPLATE),a._initTokenizerForFragmentParsing(),a._insertFakeRootElement(),a._resetInsertionMode(),a._findFormInFragmentContext(),a}getFragment(){const t=this.treeAdapter.getFirstChild(this.document),r=this.treeAdapter.createDocumentFragment();return this._adoptNodes(t,r),r}_err(t,r,n){var i;if(!this.onParseError)return;const a=(i=t.location)!==null&&i!==void 0?i:Fxe,s={code:r,startLine:a.startLine,startCol:a.startCol,startOffset:a.startOffset,endLine:n?a.startLine:a.endLine,endCol:n?a.startCol:a.endCol,endOffset:n?a.startOffset:a.endOffset};this.onParseError(s)}onItemPush(t,r,n){var i,a;(a=(i=this.treeAdapter).onItemPush)===null||a===void 0||a.call(i,t),n&&this.openElements.stackTop>0&&this._setContextModes(t,r)}onItemPop(t,r){var n,i;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(t,this.currentToken),(i=(n=this.treeAdapter).onItemPop)===null||i===void 0||i.call(n,t,this.openElements.current),r){let a,s;this.openElements.stackTop===0&&this.fragmentContext?(a=this.fragmentContext,s=this.fragmentContextID):{current:a,currentTagId:s}=this.openElements,this._setContextModes(a,s)}}_setContextModes(t,r){const n=t===this.document||t&&this.treeAdapter.getNamespaceURI(t)===Ke.HTML;this.currentNotInHTML=!n,this.tokenizer.inForeignNode=!n&&t!==void 0&&r!==void 0&&!this._isIntegrationPoint(r,t)}_switchToTextParsing(t,r){this._insertElement(t,Ke.HTML),this.tokenizer.state=r,this.originalInsertionMode=this.insertionMode,this.insertionMode=ye.TEXT}switchToPlaintextParsing(){this.insertionMode=ye.TEXT,this.originalInsertionMode=ye.IN_BODY,this.tokenizer.state=xn.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let t=this.fragmentContext;for(;t;){if(this.treeAdapter.getTagName(t)===Me.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==Ke.HTML))switch(this.fragmentContextID){case F.TITLE:case F.TEXTAREA:{this.tokenizer.state=xn.RCDATA;break}case F.STYLE:case F.XMP:case F.IFRAME:case F.NOEMBED:case F.NOFRAMES:case F.NOSCRIPT:{this.tokenizer.state=xn.RAWTEXT;break}case F.SCRIPT:{this.tokenizer.state=xn.SCRIPT_DATA;break}case F.PLAINTEXT:{this.tokenizer.state=xn.PLAINTEXT;break}}}_setDocumentType(t){const r=t.name||"",n=t.publicId||"",i=t.systemId||"";if(this.treeAdapter.setDocumentType(this.document,r,n,i),t.location){const s=this.treeAdapter.getChildNodes(this.document).find(o=>this.treeAdapter.isDocumentTypeNode(o));s&&this.treeAdapter.setNodeSourceCodeLocation(s,t.location)}}_attachElementToTree(t,r){if(this.options.sourceCodeLocationInfo){const n=r&&{...r,startTag:r};this.treeAdapter.setNodeSourceCodeLocation(t,n)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(t);else{const n=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(n??this.document,t)}}_appendElement(t,r){const n=this.treeAdapter.createElement(t.tagName,r,t.attrs);this._attachElementToTree(n,t.location)}_insertElement(t,r){const n=this.treeAdapter.createElement(t.tagName,r,t.attrs);this._attachElementToTree(n,t.location),this.openElements.push(n,t.tagID)}_insertFakeElement(t,r){const n=this.treeAdapter.createElement(t,Ke.HTML,[]);this._attachElementToTree(n,null),this.openElements.push(n,r)}_insertTemplate(t){const r=this.treeAdapter.createElement(t.tagName,Ke.HTML,t.attrs),n=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(r,n),this._attachElementToTree(r,t.location),this.openElements.push(r,t.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(n,null)}_insertFakeRootElement(){const t=this.treeAdapter.createElement(Me.HTML,Ke.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(t,null),this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t,F.HTML)}_appendCommentNode(t,r){const n=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(r,n),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(n,t.location)}_insertCharacters(t){let r,n;if(this._shouldFosterParentOnInsertion()?({parent:r,beforeElement:n}=this._findFosterParentingLocation(),n?this.treeAdapter.insertTextBefore(r,t.chars,n):this.treeAdapter.insertText(r,t.chars)):(r=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(r,t.chars)),!t.location)return;const i=this.treeAdapter.getChildNodes(r),a=n?i.lastIndexOf(n):i.length,s=i[a-1];if(this.treeAdapter.getNodeSourceCodeLocation(s)){const{endLine:l,endCol:u,endOffset:c}=t.location;this.treeAdapter.updateNodeSourceCodeLocation(s,{endLine:l,endCol:u,endOffset:c})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(s,t.location)}_adoptNodes(t,r){for(let n=this.treeAdapter.getFirstChild(t);n;n=this.treeAdapter.getFirstChild(t))this.treeAdapter.detachNode(n),this.treeAdapter.appendChild(r,n)}_setEndLocation(t,r){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&r.location){const n=r.location,i=this.treeAdapter.getTagName(t),a=r.type===or.END_TAG&&i===r.tagName?{endTag:{...n},endLine:n.endLine,endCol:n.endCol,endOffset:n.endOffset}:{endLine:n.startLine,endCol:n.startCol,endOffset:n.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(t,a)}}shouldProcessStartTagTokenInForeignContent(t){if(!this.currentNotInHTML)return!1;let r,n;return this.openElements.stackTop===0&&this.fragmentContext?(r=this.fragmentContext,n=this.fragmentContextID):{current:r,currentTagId:n}=this.openElements,t.tagID===F.SVG&&this.treeAdapter.getTagName(r)===Me.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(r)===Ke.MATHML?!1:this.tokenizer.inForeignNode||(t.tagID===F.MGLYPH||t.tagID===F.MALIGNMARK)&&n!==void 0&&!this._isIntegrationPoint(n,r,Ke.HTML)}_processToken(t){switch(t.type){case or.CHARACTER:{this.onCharacter(t);break}case or.NULL_CHARACTER:{this.onNullCharacter(t);break}case or.COMMENT:{this.onComment(t);break}case or.DOCTYPE:{this.onDoctype(t);break}case or.START_TAG:{this._processStartTag(t);break}case or.END_TAG:{this.onEndTag(t);break}case or.EOF:{this.onEof(t);break}case or.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(t);break}}}_isIntegrationPoint(t,r,n){const i=this.treeAdapter.getNamespaceURI(r),a=this.treeAdapter.getAttrList(r);return Pxe(t,i,a,n)}_reconstructActiveFormattingElements(){const t=this.activeFormattingElements.entries.length;if(t){const r=this.activeFormattingElements.entries.findIndex(i=>i.type===yo.Marker||this.openElements.contains(i.element)),n=r===-1?t-1:r-1;for(let i=n;i>=0;i--){const a=this.activeFormattingElements.entries[i];this._insertElement(a.token,this.treeAdapter.getNamespaceURI(a.element)),a.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=ye.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(F.P),this.openElements.popUntilTagNamePopped(F.P)}_resetInsertionMode(){for(let t=this.openElements.stackTop;t>=0;t--)switch(t===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[t]){case F.TR:{this.insertionMode=ye.IN_ROW;return}case F.TBODY:case F.THEAD:case F.TFOOT:{this.insertionMode=ye.IN_TABLE_BODY;return}case F.CAPTION:{this.insertionMode=ye.IN_CAPTION;return}case F.COLGROUP:{this.insertionMode=ye.IN_COLUMN_GROUP;return}case F.TABLE:{this.insertionMode=ye.IN_TABLE;return}case F.BODY:{this.insertionMode=ye.IN_BODY;return}case F.FRAMESET:{this.insertionMode=ye.IN_FRAMESET;return}case F.SELECT:{this._resetInsertionModeForSelect(t);return}case F.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case F.HTML:{this.insertionMode=this.headElement?ye.AFTER_HEAD:ye.BEFORE_HEAD;return}case F.TD:case F.TH:{if(t>0){this.insertionMode=ye.IN_CELL;return}break}case F.HEAD:{if(t>0){this.insertionMode=ye.IN_HEAD;return}break}}this.insertionMode=ye.IN_BODY}_resetInsertionModeForSelect(t){if(t>0)for(let r=t-1;r>0;r--){const n=this.openElements.tagIDs[r];if(n===F.TEMPLATE)break;if(n===F.TABLE){this.insertionMode=ye.IN_SELECT_IN_TABLE;return}}this.insertionMode=ye.IN_SELECT}_isElementCausesFosterParenting(t){return DY.has(t)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this.openElements.currentTagId!==void 0&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let t=this.openElements.stackTop;t>=0;t--){const r=this.openElements.items[t];switch(this.openElements.tagIDs[t]){case F.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(r)===Ke.HTML)return{parent:this.treeAdapter.getTemplateContent(r),beforeElement:null};break}case F.TABLE:{const n=this.treeAdapter.getParentNode(r);return n?{parent:n,beforeElement:r}:{parent:this.openElements.items[t-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(t){const r=this._findFosterParentingLocation();r.beforeElement?this.treeAdapter.insertBefore(r.parent,t,r.beforeElement):this.treeAdapter.appendChild(r.parent,t)}_isSpecialElement(t,r){const n=this.treeAdapter.getNamespaceURI(t);return ixe[n].has(r)}onCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){pSe(this,t);return}switch(this.insertionMode){case ye.INITIAL:{Bv(this,t);break}case ye.BEFORE_HTML:{Xg(this,t);break}case ye.BEFORE_HEAD:{qg(this,t);break}case ye.IN_HEAD:{Kg(this,t);break}case ye.IN_HEAD_NO_SCRIPT:{Zg(this,t);break}case ye.AFTER_HEAD:{Qg(this,t);break}case ye.IN_BODY:case ye.IN_CAPTION:case ye.IN_CELL:case ye.IN_TEMPLATE:{LY(this,t);break}case ye.TEXT:case ye.IN_SELECT:case ye.IN_SELECT_IN_TABLE:{this._insertCharacters(t);break}case ye.IN_TABLE:case ye.IN_TABLE_BODY:case ye.IN_ROW:{p2(this,t);break}case ye.IN_TABLE_TEXT:{FY(this,t);break}case ye.IN_COLUMN_GROUP:{cS(this,t);break}case ye.AFTER_BODY:{hS(this,t);break}case ye.AFTER_AFTER_BODY:{lb(this,t);break}}}onNullCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){dSe(this,t);return}switch(this.insertionMode){case ye.INITIAL:{Bv(this,t);break}case ye.BEFORE_HTML:{Xg(this,t);break}case ye.BEFORE_HEAD:{qg(this,t);break}case ye.IN_HEAD:{Kg(this,t);break}case ye.IN_HEAD_NO_SCRIPT:{Zg(this,t);break}case ye.AFTER_HEAD:{Qg(this,t);break}case ye.TEXT:{this._insertCharacters(t);break}case ye.IN_TABLE:case ye.IN_TABLE_BODY:case ye.IN_ROW:{p2(this,t);break}case ye.IN_COLUMN_GROUP:{cS(this,t);break}case ye.AFTER_BODY:{hS(this,t);break}case ye.AFTER_AFTER_BODY:{lb(this,t);break}}}onComment(t){if(this.skipNextNewLine=!1,this.currentNotInHTML){bI(this,t);return}switch(this.insertionMode){case ye.INITIAL:case ye.BEFORE_HTML:case ye.BEFORE_HEAD:case ye.IN_HEAD:case ye.IN_HEAD_NO_SCRIPT:case ye.AFTER_HEAD:case ye.IN_BODY:case ye.IN_TABLE:case ye.IN_CAPTION:case ye.IN_COLUMN_GROUP:case ye.IN_TABLE_BODY:case ye.IN_ROW:case ye.IN_CELL:case ye.IN_SELECT:case ye.IN_SELECT_IN_TABLE:case ye.IN_TEMPLATE:case ye.IN_FRAMESET:case ye.AFTER_FRAMESET:{bI(this,t);break}case ye.IN_TABLE_TEXT:{Fv(this,t);break}case ye.AFTER_BODY:{Wxe(this,t);break}case ye.AFTER_AFTER_BODY:case ye.AFTER_AFTER_FRAMESET:{$xe(this,t);break}}}onDoctype(t){switch(this.skipNextNewLine=!1,this.insertionMode){case ye.INITIAL:{Yxe(this,t);break}case ye.BEFORE_HEAD:case ye.IN_HEAD:case ye.IN_HEAD_NO_SCRIPT:case ye.AFTER_HEAD:{this._err(t,Be.misplacedDoctype);break}case ye.IN_TABLE_TEXT:{Fv(this,t);break}}}onStartTag(t){this.skipNextNewLine=!1,this.currentToken=t,this._processStartTag(t),t.selfClosing&&!t.ackSelfClosing&&this._err(t,Be.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(t){this.shouldProcessStartTagTokenInForeignContent(t)?vSe(this,t):this._startTagOutsideForeignContent(t)}_startTagOutsideForeignContent(t){switch(this.insertionMode){case ye.INITIAL:{Bv(this,t);break}case ye.BEFORE_HTML:{Xxe(this,t);break}case ye.BEFORE_HEAD:{Kxe(this,t);break}case ye.IN_HEAD:{$s(this,t);break}case ye.IN_HEAD_NO_SCRIPT:{Jxe(this,t);break}case ye.AFTER_HEAD:{tbe(this,t);break}case ye.IN_BODY:{Ei(this,t);break}case ye.IN_TABLE:{sp(this,t);break}case ye.IN_TABLE_TEXT:{Fv(this,t);break}case ye.IN_CAPTION:{Zbe(this,t);break}case ye.IN_COLUMN_GROUP:{cN(this,t);break}case ye.IN_TABLE_BODY:{tw(this,t);break}case ye.IN_ROW:{rw(this,t);break}case ye.IN_CELL:{eSe(this,t);break}case ye.IN_SELECT:{HY(this,t);break}case ye.IN_SELECT_IN_TABLE:{rSe(this,t);break}case ye.IN_TEMPLATE:{iSe(this,t);break}case ye.AFTER_BODY:{sSe(this,t);break}case ye.IN_FRAMESET:{oSe(this,t);break}case ye.AFTER_FRAMESET:{uSe(this,t);break}case ye.AFTER_AFTER_BODY:{hSe(this,t);break}case ye.AFTER_AFTER_FRAMESET:{fSe(this,t);break}}}onEndTag(t){this.skipNextNewLine=!1,this.currentToken=t,this.currentNotInHTML?gSe(this,t):this._endTagOutsideForeignContent(t)}_endTagOutsideForeignContent(t){switch(this.insertionMode){case ye.INITIAL:{Bv(this,t);break}case ye.BEFORE_HTML:{qxe(this,t);break}case ye.BEFORE_HEAD:{Zxe(this,t);break}case ye.IN_HEAD:{Qxe(this,t);break}case ye.IN_HEAD_NO_SCRIPT:{ebe(this,t);break}case ye.AFTER_HEAD:{rbe(this,t);break}case ye.IN_BODY:{ew(this,t);break}case ye.TEXT:{Hbe(this,t);break}case ye.IN_TABLE:{Wm(this,t);break}case ye.IN_TABLE_TEXT:{Fv(this,t);break}case ye.IN_CAPTION:{Qbe(this,t);break}case ye.IN_COLUMN_GROUP:{Jbe(this,t);break}case ye.IN_TABLE_BODY:{SI(this,t);break}case ye.IN_ROW:{jY(this,t);break}case ye.IN_CELL:{tSe(this,t);break}case ye.IN_SELECT:{VY(this,t);break}case ye.IN_SELECT_IN_TABLE:{nSe(this,t);break}case ye.IN_TEMPLATE:{aSe(this,t);break}case ye.AFTER_BODY:{GY(this,t);break}case ye.IN_FRAMESET:{lSe(this,t);break}case ye.AFTER_FRAMESET:{cSe(this,t);break}case ye.AFTER_AFTER_BODY:{lb(this,t);break}}}onEof(t){switch(this.insertionMode){case ye.INITIAL:{Bv(this,t);break}case ye.BEFORE_HTML:{Xg(this,t);break}case ye.BEFORE_HEAD:{qg(this,t);break}case ye.IN_HEAD:{Kg(this,t);break}case ye.IN_HEAD_NO_SCRIPT:{Zg(this,t);break}case ye.AFTER_HEAD:{Qg(this,t);break}case ye.IN_BODY:case ye.IN_TABLE:case ye.IN_CAPTION:case ye.IN_COLUMN_GROUP:case ye.IN_TABLE_BODY:case ye.IN_ROW:case ye.IN_CELL:case ye.IN_SELECT:case ye.IN_SELECT_IN_TABLE:{OY(this,t);break}case ye.TEXT:{Vbe(this,t);break}case ye.IN_TABLE_TEXT:{Fv(this,t);break}case ye.IN_TEMPLATE:{UY(this,t);break}case ye.AFTER_BODY:case ye.IN_FRAMESET:case ye.AFTER_FRAMESET:case ye.AFTER_AFTER_BODY:case ye.AFTER_AFTER_FRAMESET:{uN(this,t);break}}}onWhitespaceCharacter(t){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.chars.charCodeAt(0)===he.LINE_FEED)){if(t.chars.length===1)return;t.chars=t.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(t);return}switch(this.insertionMode){case ye.IN_HEAD:case ye.IN_HEAD_NO_SCRIPT:case ye.AFTER_HEAD:case ye.TEXT:case ye.IN_COLUMN_GROUP:case ye.IN_SELECT:case ye.IN_SELECT_IN_TABLE:case ye.IN_FRAMESET:case ye.AFTER_FRAMESET:{this._insertCharacters(t);break}case ye.IN_BODY:case ye.IN_CAPTION:case ye.IN_CELL:case ye.IN_TEMPLATE:case ye.AFTER_BODY:case ye.AFTER_AFTER_BODY:case ye.AFTER_AFTER_FRAMESET:{MY(this,t);break}case ye.IN_TABLE:case ye.IN_TABLE_BODY:case ye.IN_ROW:{p2(this,t);break}case ye.IN_TABLE_TEXT:{BY(this,t);break}}}};function zxe(e,t){let r=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return r?e.openElements.contains(r.element)?e.openElements.hasInScope(t.tagID)||(r=null):(e.activeFormattingElements.removeEntry(r),r=null):RY(e,t),r}function jxe(e,t){let r=null,n=e.openElements.stackTop;for(;n>=0;n--){const i=e.openElements.items[n];if(i===t.element)break;e._isSpecialElement(i,e.openElements.tagIDs[n])&&(r=i)}return r||(e.openElements.shortenToLength(Math.max(n,0)),e.activeFormattingElements.removeEntry(t)),r}function Hxe(e,t,r){let n=t,i=e.openElements.getCommonAncestor(t);for(let a=0,s=i;s!==r;a++,s=i){i=e.openElements.getCommonAncestor(s);const o=e.activeFormattingElements.getElementEntry(s),l=o&&a>=Bxe;!o||l?(l&&e.activeFormattingElements.removeEntry(o),e.openElements.remove(s)):(s=Vxe(e,o),n===t&&(e.activeFormattingElements.bookmark=o),e.treeAdapter.detachNode(n),e.treeAdapter.appendChild(s,n),n=s)}return n}function Vxe(e,t){const r=e.treeAdapter.getNamespaceURI(t.element),n=e.treeAdapter.createElement(t.token.tagName,r,t.token.attrs);return e.openElements.replace(t.element,n),t.element=n,n}function Uxe(e,t,r){const n=e.treeAdapter.getTagName(t),i=Mp(n);if(e._isElementCausesFosterParenting(i))e._fosterParentElement(r);else{const a=e.treeAdapter.getNamespaceURI(t);i===F.TEMPLATE&&a===Ke.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,r)}}function Gxe(e,t,r){const n=e.treeAdapter.getNamespaceURI(r.element),{token:i}=r,a=e.treeAdapter.createElement(i.tagName,n,i.attrs);e._adoptNodes(t,a),e.treeAdapter.appendChild(t,a),e.activeFormattingElements.insertElementAfterBookmark(a,i),e.activeFormattingElements.removeEntry(r),e.openElements.remove(r.element),e.openElements.insertAfter(t,a,i.tagID)}function lN(e,t){for(let r=0;r<Oxe;r++){const n=zxe(e,t);if(!n)break;const i=jxe(e,n);if(!i)break;e.activeFormattingElements.bookmark=n;const a=Hxe(e,i,n.element),s=e.openElements.getCommonAncestor(n.element);e.treeAdapter.detachNode(a),s&&Uxe(e,s,a),Gxe(e,i,n)}}function bI(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function Wxe(e,t){e._appendCommentNode(t,e.openElements.items[0])}function $xe(e,t){e._appendCommentNode(t,e.document)}function uN(e,t){if(e.stopped=!0,t.location){const r=e.fragmentContext?0:2;for(let n=e.openElements.stackTop;n>=r;n--)e._setEndLocation(e.openElements.items[n],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const n=e.openElements.items[0],i=e.treeAdapter.getNodeSourceCodeLocation(n);if(i&&!i.endTag&&(e._setEndLocation(n,t),e.openElements.stackTop>=1)){const a=e.openElements.items[1],s=e.treeAdapter.getNodeSourceCodeLocation(a);s&&!s.endTag&&e._setEndLocation(a,t)}}}}function Yxe(e,t){e._setDocumentType(t);const r=t.forceQuirks?qa.QUIRKS:wxe(t);_xe(t)||e._err(t,Be.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,r),e.insertionMode=ye.BEFORE_HTML}function Bv(e,t){e._err(t,Be.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,qa.QUIRKS),e.insertionMode=ye.BEFORE_HTML,e._processToken(t)}function Xxe(e,t){t.tagID===F.HTML?(e._insertElement(t,Ke.HTML),e.insertionMode=ye.BEFORE_HEAD):Xg(e,t)}function qxe(e,t){const r=t.tagID;(r===F.HTML||r===F.HEAD||r===F.BODY||r===F.BR)&&Xg(e,t)}function Xg(e,t){e._insertFakeRootElement(),e.insertionMode=ye.BEFORE_HEAD,e._processToken(t)}function Kxe(e,t){switch(t.tagID){case F.HTML:{Ei(e,t);break}case F.HEAD:{e._insertElement(t,Ke.HTML),e.headElement=e.openElements.current,e.insertionMode=ye.IN_HEAD;break}default:qg(e,t)}}function Zxe(e,t){const r=t.tagID;r===F.HEAD||r===F.BODY||r===F.HTML||r===F.BR?qg(e,t):e._err(t,Be.endTagWithoutMatchingOpenElement)}function qg(e,t){e._insertFakeElement(Me.HEAD,F.HEAD),e.headElement=e.openElements.current,e.insertionMode=ye.IN_HEAD,e._processToken(t)}function $s(e,t){switch(t.tagID){case F.HTML:{Ei(e,t);break}case F.BASE:case F.BASEFONT:case F.BGSOUND:case F.LINK:case F.META:{e._appendElement(t,Ke.HTML),t.ackSelfClosing=!0;break}case F.TITLE:{e._switchToTextParsing(t,xn.RCDATA);break}case F.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,xn.RAWTEXT):(e._insertElement(t,Ke.HTML),e.insertionMode=ye.IN_HEAD_NO_SCRIPT);break}case F.NOFRAMES:case F.STYLE:{e._switchToTextParsing(t,xn.RAWTEXT);break}case F.SCRIPT:{e._switchToTextParsing(t,xn.SCRIPT_DATA);break}case F.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=ye.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(ye.IN_TEMPLATE);break}case F.HEAD:{e._err(t,Be.misplacedStartTagForHeadElement);break}default:Kg(e,t)}}function Qxe(e,t){switch(t.tagID){case F.HEAD:{e.openElements.pop(),e.insertionMode=ye.AFTER_HEAD;break}case F.BODY:case F.BR:case F.HTML:{Kg(e,t);break}case F.TEMPLATE:{of(e,t);break}default:e._err(t,Be.endTagWithoutMatchingOpenElement)}}function of(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==F.TEMPLATE&&e._err(t,Be.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(F.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,Be.endTagWithoutMatchingOpenElement)}function Kg(e,t){e.openElements.pop(),e.insertionMode=ye.AFTER_HEAD,e._processToken(t)}function Jxe(e,t){switch(t.tagID){case F.HTML:{Ei(e,t);break}case F.BASEFONT:case F.BGSOUND:case F.HEAD:case F.LINK:case F.META:case F.NOFRAMES:case F.STYLE:{$s(e,t);break}case F.NOSCRIPT:{e._err(t,Be.nestedNoscriptInHead);break}default:Zg(e,t)}}function ebe(e,t){switch(t.tagID){case F.NOSCRIPT:{e.openElements.pop(),e.insertionMode=ye.IN_HEAD;break}case F.BR:{Zg(e,t);break}default:e._err(t,Be.endTagWithoutMatchingOpenElement)}}function Zg(e,t){const r=t.type===or.EOF?Be.openElementsLeftAfterEof:Be.disallowedContentInNoscriptInHead;e._err(t,r),e.openElements.pop(),e.insertionMode=ye.IN_HEAD,e._processToken(t)}function tbe(e,t){switch(t.tagID){case F.HTML:{Ei(e,t);break}case F.BODY:{e._insertElement(t,Ke.HTML),e.framesetOk=!1,e.insertionMode=ye.IN_BODY;break}case F.FRAMESET:{e._insertElement(t,Ke.HTML),e.insertionMode=ye.IN_FRAMESET;break}case F.BASE:case F.BASEFONT:case F.BGSOUND:case F.LINK:case F.META:case F.NOFRAMES:case F.SCRIPT:case F.STYLE:case F.TEMPLATE:case F.TITLE:{e._err(t,Be.abandonedHeadElementChild),e.openElements.push(e.headElement,F.HEAD),$s(e,t),e.openElements.remove(e.headElement);break}case F.HEAD:{e._err(t,Be.misplacedStartTagForHeadElement);break}default:Qg(e,t)}}function rbe(e,t){switch(t.tagID){case F.BODY:case F.HTML:case F.BR:{Qg(e,t);break}case F.TEMPLATE:{of(e,t);break}default:e._err(t,Be.endTagWithoutMatchingOpenElement)}}function Qg(e,t){e._insertFakeElement(Me.BODY,F.BODY),e.insertionMode=ye.IN_BODY,J_(e,t)}function J_(e,t){switch(t.type){case or.CHARACTER:{LY(e,t);break}case or.WHITESPACE_CHARACTER:{MY(e,t);break}case or.COMMENT:{bI(e,t);break}case or.START_TAG:{Ei(e,t);break}case or.END_TAG:{ew(e,t);break}case or.EOF:{OY(e,t);break}}}function MY(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function LY(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function nbe(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}function ibe(e,t){const r=e.openElements.tryPeekProperlyNestedBodyElement();r&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(r,t.attrs))}function abe(e,t){const r=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&r&&(e.treeAdapter.detachNode(r),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,Ke.HTML),e.insertionMode=ye.IN_FRAMESET)}function sbe(e,t){e.openElements.hasInButtonScope(F.P)&&e._closePElement(),e._insertElement(t,Ke.HTML)}function obe(e,t){e.openElements.hasInButtonScope(F.P)&&e._closePElement(),e.openElements.currentTagId!==void 0&&xI.has(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,Ke.HTML)}function lbe(e,t){e.openElements.hasInButtonScope(F.P)&&e._closePElement(),e._insertElement(t,Ke.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function ube(e,t){const r=e.openElements.tmplCount>0;(!e.formElement||r)&&(e.openElements.hasInButtonScope(F.P)&&e._closePElement(),e._insertElement(t,Ke.HTML),r||(e.formElement=e.openElements.current))}function cbe(e,t){e.framesetOk=!1;const r=t.tagID;for(let n=e.openElements.stackTop;n>=0;n--){const i=e.openElements.tagIDs[n];if(r===F.LI&&i===F.LI||(r===F.DD||r===F.DT)&&(i===F.DD||i===F.DT)){e.openElements.generateImpliedEndTagsWithExclusion(i),e.openElements.popUntilTagNamePopped(i);break}if(i!==F.ADDRESS&&i!==F.DIV&&i!==F.P&&e._isSpecialElement(e.openElements.items[n],i))break}e.openElements.hasInButtonScope(F.P)&&e._closePElement(),e._insertElement(t,Ke.HTML)}function hbe(e,t){e.openElements.hasInButtonScope(F.P)&&e._closePElement(),e._insertElement(t,Ke.HTML),e.tokenizer.state=xn.PLAINTEXT}function fbe(e,t){e.openElements.hasInScope(F.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(F.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,Ke.HTML),e.framesetOk=!1}function dbe(e,t){const r=e.activeFormattingElements.getElementEntryInScopeWithTagName(Me.A);r&&(lN(e,t),e.openElements.remove(r.element),e.activeFormattingElements.removeEntry(r)),e._reconstructActiveFormattingElements(),e._insertElement(t,Ke.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function pbe(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Ke.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function vbe(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(F.NOBR)&&(lN(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,Ke.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function gbe(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Ke.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function mbe(e,t){e.treeAdapter.getDocumentMode(e.document)!==qa.QUIRKS&&e.openElements.hasInButtonScope(F.P)&&e._closePElement(),e._insertElement(t,Ke.HTML),e.framesetOk=!1,e.insertionMode=ye.IN_TABLE}function NY(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,Ke.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function PY(e){const t=_Y(e,Dh.TYPE);return t!=null&&t.toLowerCase()===Rxe}function ybe(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,Ke.HTML),PY(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}function xbe(e,t){e._appendElement(t,Ke.HTML),t.ackSelfClosing=!0}function bbe(e,t){e.openElements.hasInButtonScope(F.P)&&e._closePElement(),e._appendElement(t,Ke.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function Sbe(e,t){t.tagName=Me.IMG,t.tagID=F.IMG,NY(e,t)}function _be(e,t){e._insertElement(t,Ke.HTML),e.skipNextNewLine=!0,e.tokenizer.state=xn.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=ye.TEXT}function wbe(e,t){e.openElements.hasInButtonScope(F.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,xn.RAWTEXT)}function Tbe(e,t){e.framesetOk=!1,e._switchToTextParsing(t,xn.RAWTEXT)}function pB(e,t){e._switchToTextParsing(t,xn.RAWTEXT)}function Cbe(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Ke.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===ye.IN_TABLE||e.insertionMode===ye.IN_CAPTION||e.insertionMode===ye.IN_TABLE_BODY||e.insertionMode===ye.IN_ROW||e.insertionMode===ye.IN_CELL?ye.IN_SELECT_IN_TABLE:ye.IN_SELECT}function Ebe(e,t){e.openElements.currentTagId===F.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,Ke.HTML)}function Abe(e,t){e.openElements.hasInScope(F.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,Ke.HTML)}function kbe(e,t){e.openElements.hasInScope(F.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(F.RTC),e._insertElement(t,Ke.HTML)}function Ibe(e,t){e._reconstructActiveFormattingElements(),kY(t),oN(t),t.selfClosing?e._appendElement(t,Ke.MATHML):e._insertElement(t,Ke.MATHML),t.ackSelfClosing=!0}function Dbe(e,t){e._reconstructActiveFormattingElements(),IY(t),oN(t),t.selfClosing?e._appendElement(t,Ke.SVG):e._insertElement(t,Ke.SVG),t.ackSelfClosing=!0}function vB(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,Ke.HTML)}function Ei(e,t){switch(t.tagID){case F.I:case F.S:case F.B:case F.U:case F.EM:case F.TT:case F.BIG:case F.CODE:case F.FONT:case F.SMALL:case F.STRIKE:case F.STRONG:{pbe(e,t);break}case F.A:{dbe(e,t);break}case F.H1:case F.H2:case F.H3:case F.H4:case F.H5:case F.H6:{obe(e,t);break}case F.P:case F.DL:case F.OL:case F.UL:case F.DIV:case F.DIR:case F.NAV:case F.MAIN:case F.MENU:case F.ASIDE:case F.CENTER:case F.FIGURE:case F.FOOTER:case F.HEADER:case F.HGROUP:case F.DIALOG:case F.DETAILS:case F.ADDRESS:case F.ARTICLE:case F.SEARCH:case F.SECTION:case F.SUMMARY:case F.FIELDSET:case F.BLOCKQUOTE:case F.FIGCAPTION:{sbe(e,t);break}case F.LI:case F.DD:case F.DT:{cbe(e,t);break}case F.BR:case F.IMG:case F.WBR:case F.AREA:case F.EMBED:case F.KEYGEN:{NY(e,t);break}case F.HR:{bbe(e,t);break}case F.RB:case F.RTC:{Abe(e,t);break}case F.RT:case F.RP:{kbe(e,t);break}case F.PRE:case F.LISTING:{lbe(e,t);break}case F.XMP:{wbe(e,t);break}case F.SVG:{Dbe(e,t);break}case F.HTML:{nbe(e,t);break}case F.BASE:case F.LINK:case F.META:case F.STYLE:case F.TITLE:case F.SCRIPT:case F.BGSOUND:case F.BASEFONT:case F.TEMPLATE:{$s(e,t);break}case F.BODY:{ibe(e,t);break}case F.FORM:{ube(e,t);break}case F.NOBR:{vbe(e,t);break}case F.MATH:{Ibe(e,t);break}case F.TABLE:{mbe(e,t);break}case F.INPUT:{ybe(e,t);break}case F.PARAM:case F.TRACK:case F.SOURCE:{xbe(e,t);break}case F.IMAGE:{Sbe(e,t);break}case F.BUTTON:{fbe(e,t);break}case F.APPLET:case F.OBJECT:case F.MARQUEE:{gbe(e,t);break}case F.IFRAME:{Tbe(e,t);break}case F.SELECT:{Cbe(e,t);break}case F.OPTION:case F.OPTGROUP:{Ebe(e,t);break}case F.NOEMBED:case F.NOFRAMES:{pB(e,t);break}case F.FRAMESET:{abe(e,t);break}case F.TEXTAREA:{_be(e,t);break}case F.NOSCRIPT:{e.options.scriptingEnabled?pB(e,t):vB(e,t);break}case F.PLAINTEXT:{hbe(e,t);break}case F.COL:case F.TH:case F.TD:case F.TR:case F.HEAD:case F.FRAME:case F.TBODY:case F.TFOOT:case F.THEAD:case F.CAPTION:case F.COLGROUP:break;default:vB(e,t)}}function Mbe(e,t){if(e.openElements.hasInScope(F.BODY)&&(e.insertionMode=ye.AFTER_BODY,e.options.sourceCodeLocationInfo)){const r=e.openElements.tryPeekProperlyNestedBodyElement();r&&e._setEndLocation(r,t)}}function Lbe(e,t){e.openElements.hasInScope(F.BODY)&&(e.insertionMode=ye.AFTER_BODY,GY(e,t))}function Nbe(e,t){const r=t.tagID;e.openElements.hasInScope(r)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(r))}function Pbe(e){const t=e.openElements.tmplCount>0,{formElement:r}=e;t||(e.formElement=null),(r||t)&&e.openElements.hasInScope(F.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(F.FORM):r&&e.openElements.remove(r))}function Rbe(e){e.openElements.hasInButtonScope(F.P)||e._insertFakeElement(Me.P,F.P),e._closePElement()}function Obe(e){e.openElements.hasInListItemScope(F.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(F.LI),e.openElements.popUntilTagNamePopped(F.LI))}function Bbe(e,t){const r=t.tagID;e.openElements.hasInScope(r)&&(e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.popUntilTagNamePopped(r))}function Fbe(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}function zbe(e,t){const r=t.tagID;e.openElements.hasInScope(r)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(r),e.activeFormattingElements.clearToLastMarker())}function jbe(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(Me.BR,F.BR),e.openElements.pop(),e.framesetOk=!1}function RY(e,t){const r=t.tagName,n=t.tagID;for(let i=e.openElements.stackTop;i>0;i--){const a=e.openElements.items[i],s=e.openElements.tagIDs[i];if(n===s&&(n!==F.UNKNOWN||e.treeAdapter.getTagName(a)===r)){e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.stackTop>=i&&e.openElements.shortenToLength(i);break}if(e._isSpecialElement(a,s))break}}function ew(e,t){switch(t.tagID){case F.A:case F.B:case F.I:case F.S:case F.U:case F.EM:case F.TT:case F.BIG:case F.CODE:case F.FONT:case F.NOBR:case F.SMALL:case F.STRIKE:case F.STRONG:{lN(e,t);break}case F.P:{Rbe(e);break}case F.DL:case F.UL:case F.OL:case F.DIR:case F.DIV:case F.NAV:case F.PRE:case F.MAIN:case F.MENU:case F.ASIDE:case F.BUTTON:case F.CENTER:case F.FIGURE:case F.FOOTER:case F.HEADER:case F.HGROUP:case F.DIALOG:case F.ADDRESS:case F.ARTICLE:case F.DETAILS:case F.SEARCH:case F.SECTION:case F.SUMMARY:case F.LISTING:case F.FIELDSET:case F.BLOCKQUOTE:case F.FIGCAPTION:{Nbe(e,t);break}case F.LI:{Obe(e);break}case F.DD:case F.DT:{Bbe(e,t);break}case F.H1:case F.H2:case F.H3:case F.H4:case F.H5:case F.H6:{Fbe(e);break}case F.BR:{jbe(e);break}case F.BODY:{Mbe(e,t);break}case F.HTML:{Lbe(e,t);break}case F.FORM:{Pbe(e);break}case F.APPLET:case F.OBJECT:case F.MARQUEE:{zbe(e,t);break}case F.TEMPLATE:{of(e,t);break}default:RY(e,t)}}function OY(e,t){e.tmplInsertionModeStack.length>0?UY(e,t):uN(e,t)}function Hbe(e,t){var r;t.tagID===F.SCRIPT&&((r=e.scriptHandler)===null||r===void 0||r.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}function Vbe(e,t){e._err(t,Be.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}function p2(e,t){if(e.openElements.currentTagId!==void 0&&DY.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=ye.IN_TABLE_TEXT,t.type){case or.CHARACTER:{FY(e,t);break}case or.WHITESPACE_CHARACTER:{BY(e,t);break}}else j0(e,t)}function Ube(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,Ke.HTML),e.insertionMode=ye.IN_CAPTION}function Gbe(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,Ke.HTML),e.insertionMode=ye.IN_COLUMN_GROUP}function Wbe(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(Me.COLGROUP,F.COLGROUP),e.insertionMode=ye.IN_COLUMN_GROUP,cN(e,t)}function $be(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,Ke.HTML),e.insertionMode=ye.IN_TABLE_BODY}function Ybe(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(Me.TBODY,F.TBODY),e.insertionMode=ye.IN_TABLE_BODY,tw(e,t)}function Xbe(e,t){e.openElements.hasInTableScope(F.TABLE)&&(e.openElements.popUntilTagNamePopped(F.TABLE),e._resetInsertionMode(),e._processStartTag(t))}function qbe(e,t){PY(t)?e._appendElement(t,Ke.HTML):j0(e,t),t.ackSelfClosing=!0}function Kbe(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,Ke.HTML),e.formElement=e.openElements.current,e.openElements.pop())}function sp(e,t){switch(t.tagID){case F.TD:case F.TH:case F.TR:{Ybe(e,t);break}case F.STYLE:case F.SCRIPT:case F.TEMPLATE:{$s(e,t);break}case F.COL:{Wbe(e,t);break}case F.FORM:{Kbe(e,t);break}case F.TABLE:{Xbe(e,t);break}case F.TBODY:case F.TFOOT:case F.THEAD:{$be(e,t);break}case F.INPUT:{qbe(e,t);break}case F.CAPTION:{Ube(e,t);break}case F.COLGROUP:{Gbe(e,t);break}default:j0(e,t)}}function Wm(e,t){switch(t.tagID){case F.TABLE:{e.openElements.hasInTableScope(F.TABLE)&&(e.openElements.popUntilTagNamePopped(F.TABLE),e._resetInsertionMode());break}case F.TEMPLATE:{of(e,t);break}case F.BODY:case F.CAPTION:case F.COL:case F.COLGROUP:case F.HTML:case F.TBODY:case F.TD:case F.TFOOT:case F.TH:case F.THEAD:case F.TR:break;default:j0(e,t)}}function j0(e,t){const r=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,J_(e,t),e.fosterParentingEnabled=r}function BY(e,t){e.pendingCharacterTokens.push(t)}function FY(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function Fv(e,t){let r=0;if(e.hasNonWhitespacePendingCharacterToken)for(;r<e.pendingCharacterTokens.length;r++)j0(e,e.pendingCharacterTokens[r]);else for(;r<e.pendingCharacterTokens.length;r++)e._insertCharacters(e.pendingCharacterTokens[r]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const zY=new Set([F.CAPTION,F.COL,F.COLGROUP,F.TBODY,F.TD,F.TFOOT,F.TH,F.THEAD,F.TR]);function Zbe(e,t){const r=t.tagID;zY.has(r)?e.openElements.hasInTableScope(F.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(F.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=ye.IN_TABLE,sp(e,t)):Ei(e,t)}function Qbe(e,t){const r=t.tagID;switch(r){case F.CAPTION:case F.TABLE:{e.openElements.hasInTableScope(F.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(F.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=ye.IN_TABLE,r===F.TABLE&&Wm(e,t));break}case F.BODY:case F.COL:case F.COLGROUP:case F.HTML:case F.TBODY:case F.TD:case F.TFOOT:case F.TH:case F.THEAD:case F.TR:break;default:ew(e,t)}}function cN(e,t){switch(t.tagID){case F.HTML:{Ei(e,t);break}case F.COL:{e._appendElement(t,Ke.HTML),t.ackSelfClosing=!0;break}case F.TEMPLATE:{$s(e,t);break}default:cS(e,t)}}function Jbe(e,t){switch(t.tagID){case F.COLGROUP:{e.openElements.currentTagId===F.COLGROUP&&(e.openElements.pop(),e.insertionMode=ye.IN_TABLE);break}case F.TEMPLATE:{of(e,t);break}case F.COL:break;default:cS(e,t)}}function cS(e,t){e.openElements.currentTagId===F.COLGROUP&&(e.openElements.pop(),e.insertionMode=ye.IN_TABLE,e._processToken(t))}function tw(e,t){switch(t.tagID){case F.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,Ke.HTML),e.insertionMode=ye.IN_ROW;break}case F.TH:case F.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(Me.TR,F.TR),e.insertionMode=ye.IN_ROW,rw(e,t);break}case F.CAPTION:case F.COL:case F.COLGROUP:case F.TBODY:case F.TFOOT:case F.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=ye.IN_TABLE,sp(e,t));break}default:sp(e,t)}}function SI(e,t){const r=t.tagID;switch(t.tagID){case F.TBODY:case F.TFOOT:case F.THEAD:{e.openElements.hasInTableScope(r)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=ye.IN_TABLE);break}case F.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=ye.IN_TABLE,Wm(e,t));break}case F.BODY:case F.CAPTION:case F.COL:case F.COLGROUP:case F.HTML:case F.TD:case F.TH:case F.TR:break;default:Wm(e,t)}}function rw(e,t){switch(t.tagID){case F.TH:case F.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,Ke.HTML),e.insertionMode=ye.IN_CELL,e.activeFormattingElements.insertMarker();break}case F.CAPTION:case F.COL:case F.COLGROUP:case F.TBODY:case F.TFOOT:case F.THEAD:case F.TR:{e.openElements.hasInTableScope(F.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=ye.IN_TABLE_BODY,tw(e,t));break}default:sp(e,t)}}function jY(e,t){switch(t.tagID){case F.TR:{e.openElements.hasInTableScope(F.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=ye.IN_TABLE_BODY);break}case F.TABLE:{e.openElements.hasInTableScope(F.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=ye.IN_TABLE_BODY,SI(e,t));break}case F.TBODY:case F.TFOOT:case F.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(F.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=ye.IN_TABLE_BODY,SI(e,t));break}case F.BODY:case F.CAPTION:case F.COL:case F.COLGROUP:case F.HTML:case F.TD:case F.TH:break;default:Wm(e,t)}}function eSe(e,t){const r=t.tagID;zY.has(r)?(e.openElements.hasInTableScope(F.TD)||e.openElements.hasInTableScope(F.TH))&&(e._closeTableCell(),rw(e,t)):Ei(e,t)}function tSe(e,t){const r=t.tagID;switch(r){case F.TD:case F.TH:{e.openElements.hasInTableScope(r)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(r),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=ye.IN_ROW);break}case F.TABLE:case F.TBODY:case F.TFOOT:case F.THEAD:case F.TR:{e.openElements.hasInTableScope(r)&&(e._closeTableCell(),jY(e,t));break}case F.BODY:case F.CAPTION:case F.COL:case F.COLGROUP:case F.HTML:break;default:ew(e,t)}}function HY(e,t){switch(t.tagID){case F.HTML:{Ei(e,t);break}case F.OPTION:{e.openElements.currentTagId===F.OPTION&&e.openElements.pop(),e._insertElement(t,Ke.HTML);break}case F.OPTGROUP:{e.openElements.currentTagId===F.OPTION&&e.openElements.pop(),e.openElements.currentTagId===F.OPTGROUP&&e.openElements.pop(),e._insertElement(t,Ke.HTML);break}case F.HR:{e.openElements.currentTagId===F.OPTION&&e.openElements.pop(),e.openElements.currentTagId===F.OPTGROUP&&e.openElements.pop(),e._appendElement(t,Ke.HTML),t.ackSelfClosing=!0;break}case F.INPUT:case F.KEYGEN:case F.TEXTAREA:case F.SELECT:{e.openElements.hasInSelectScope(F.SELECT)&&(e.openElements.popUntilTagNamePopped(F.SELECT),e._resetInsertionMode(),t.tagID!==F.SELECT&&e._processStartTag(t));break}case F.SCRIPT:case F.TEMPLATE:{$s(e,t);break}}}function VY(e,t){switch(t.tagID){case F.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===F.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===F.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===F.OPTGROUP&&e.openElements.pop();break}case F.OPTION:{e.openElements.currentTagId===F.OPTION&&e.openElements.pop();break}case F.SELECT:{e.openElements.hasInSelectScope(F.SELECT)&&(e.openElements.popUntilTagNamePopped(F.SELECT),e._resetInsertionMode());break}case F.TEMPLATE:{of(e,t);break}}}function rSe(e,t){const r=t.tagID;r===F.CAPTION||r===F.TABLE||r===F.TBODY||r===F.TFOOT||r===F.THEAD||r===F.TR||r===F.TD||r===F.TH?(e.openElements.popUntilTagNamePopped(F.SELECT),e._resetInsertionMode(),e._processStartTag(t)):HY(e,t)}function nSe(e,t){const r=t.tagID;r===F.CAPTION||r===F.TABLE||r===F.TBODY||r===F.TFOOT||r===F.THEAD||r===F.TR||r===F.TD||r===F.TH?e.openElements.hasInTableScope(r)&&(e.openElements.popUntilTagNamePopped(F.SELECT),e._resetInsertionMode(),e.onEndTag(t)):VY(e,t)}function iSe(e,t){switch(t.tagID){case F.BASE:case F.BASEFONT:case F.BGSOUND:case F.LINK:case F.META:case F.NOFRAMES:case F.SCRIPT:case F.STYLE:case F.TEMPLATE:case F.TITLE:{$s(e,t);break}case F.CAPTION:case F.COLGROUP:case F.TBODY:case F.TFOOT:case F.THEAD:{e.tmplInsertionModeStack[0]=ye.IN_TABLE,e.insertionMode=ye.IN_TABLE,sp(e,t);break}case F.COL:{e.tmplInsertionModeStack[0]=ye.IN_COLUMN_GROUP,e.insertionMode=ye.IN_COLUMN_GROUP,cN(e,t);break}case F.TR:{e.tmplInsertionModeStack[0]=ye.IN_TABLE_BODY,e.insertionMode=ye.IN_TABLE_BODY,tw(e,t);break}case F.TD:case F.TH:{e.tmplInsertionModeStack[0]=ye.IN_ROW,e.insertionMode=ye.IN_ROW,rw(e,t);break}default:e.tmplInsertionModeStack[0]=ye.IN_BODY,e.insertionMode=ye.IN_BODY,Ei(e,t)}}function aSe(e,t){t.tagID===F.TEMPLATE&&of(e,t)}function UY(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(F.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):uN(e,t)}function sSe(e,t){t.tagID===F.HTML?Ei(e,t):hS(e,t)}function GY(e,t){var r;if(t.tagID===F.HTML){if(e.fragmentContext||(e.insertionMode=ye.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===F.HTML){e._setEndLocation(e.openElements.items[0],t);const n=e.openElements.items[1];n&&!(!((r=e.treeAdapter.getNodeSourceCodeLocation(n))===null||r===void 0)&&r.endTag)&&e._setEndLocation(n,t)}}else hS(e,t)}function hS(e,t){e.insertionMode=ye.IN_BODY,J_(e,t)}function oSe(e,t){switch(t.tagID){case F.HTML:{Ei(e,t);break}case F.FRAMESET:{e._insertElement(t,Ke.HTML);break}case F.FRAME:{e._appendElement(t,Ke.HTML),t.ackSelfClosing=!0;break}case F.NOFRAMES:{$s(e,t);break}}}function lSe(e,t){t.tagID===F.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==F.FRAMESET&&(e.insertionMode=ye.AFTER_FRAMESET))}function uSe(e,t){switch(t.tagID){case F.HTML:{Ei(e,t);break}case F.NOFRAMES:{$s(e,t);break}}}function cSe(e,t){t.tagID===F.HTML&&(e.insertionMode=ye.AFTER_AFTER_FRAMESET)}function hSe(e,t){t.tagID===F.HTML?Ei(e,t):lb(e,t)}function lb(e,t){e.insertionMode=ye.IN_BODY,J_(e,t)}function fSe(e,t){switch(t.tagID){case F.HTML:{Ei(e,t);break}case F.NOFRAMES:{$s(e,t);break}}}function dSe(e,t){t.chars=Jr,e._insertCharacters(t)}function pSe(e,t){e._insertCharacters(t),e.framesetOk=!1}function WY(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==Ke.HTML&&e.openElements.currentTagId!==void 0&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}function vSe(e,t){if(Dxe(t))WY(e),e._startTagOutsideForeignContent(t);else{const r=e._getAdjustedCurrentElement(),n=e.treeAdapter.getNamespaceURI(r);n===Ke.MATHML?kY(t):n===Ke.SVG&&(Mxe(t),IY(t)),oN(t),t.selfClosing?e._appendElement(t,n):e._insertElement(t,n),t.ackSelfClosing=!0}}function gSe(e,t){if(t.tagID===F.P||t.tagID===F.BR){WY(e),e._endTagOutsideForeignContent(t);return}for(let r=e.openElements.stackTop;r>0;r--){const n=e.openElements.items[r];if(e.treeAdapter.getNamespaceURI(n)===Ke.HTML){e._endTagOutsideForeignContent(t);break}const i=e.treeAdapter.getTagName(n);if(i.toLowerCase()===t.tagName){t.tagName=i,e.openElements.shortenToLength(r);break}}}Me.AREA,Me.BASE,Me.BASEFONT,Me.BGSOUND,Me.BR,Me.COL,Me.EMBED,Me.FRAME,Me.HR,Me.IMG,Me.INPUT,Me.KEYGEN,Me.LINK,Me.META,Me.PARAM,Me.SOURCE,Me.TRACK,Me.WBR;const mSe=/<(\/?)(iframe|noembed|noframes|plaintext|script|style|textarea|title|xmp)(?=[\t\n\f\r />])/gi,ySe=new Set(["mdxFlowExpression","mdxJsxFlowElement","mdxJsxTextElement","mdxTextExpression","mdxjsEsm"]),gB={sourceCodeLocationInfo:!0,scriptingEnabled:!1};function $Y(e,t){const r=kSe(e),n=q$("type",{handlers:{root:xSe,element:bSe,text:SSe,comment:XY,doctype:_Se,raw:TSe},unknown:CSe}),i={parser:r?new dB(gB):dB.getFragmentParser(void 0,gB),handle(o){n(o,i)},stitches:!1,options:t||{}};n(e,i),Lp(i,Fo());const a=r?i.parser.document:i.parser.getFragment(),s=I1e(a,{file:i.options.file});return i.stitches&&Q_(s,"comment",function(o,l,u){const c=o;if(c.value.stitch&&u&&l!==void 0){const h=u.children;return h[l]=c.value.stitch,l}}),s.type==="root"&&s.children.length===1&&s.children[0].type===e.type?s.children[0]:s}function YY(e,t){let r=-1;if(e)for(;++r<e.length;)t.handle(e[r])}function xSe(e,t){YY(e.children,t)}function bSe(e,t){ESe(e,t),YY(e.children,t),ASe(e,t)}function SSe(e,t){t.parser.tokenizer.state>4&&(t.parser.tokenizer.state=0);const r={type:or.CHARACTER,chars:e.value,location:H0(e)};Lp(t,Fo(e)),t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken)}function _Se(e,t){const r={type:or.DOCTYPE,name:"html",forceQuirks:!1,publicId:"",systemId:"",location:H0(e)};Lp(t,Fo(e)),t.parser.currentToken=r,t.parser._processToken(t.parser.currentToken)}function wSe(e,t){t.stitches=!0;const r=ISe(e);if("children"in e&&"children"in r){const n=$Y({type:"root",children:e.children},t.options);r.children=n.children}XY({type:"comment",value:{stitch:r}},t)}function XY(e,t){const r=e.value,n={type:or.COMMENT,data:r,location:H0(e)};Lp(t,Fo(e)),t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken)}function TSe(e,t){if(t.parser.tokenizer.preprocessor.html="",t.parser.tokenizer.preprocessor.pos=-1,t.parser.tokenizer.preprocessor.lastGapPos=-2,t.parser.tokenizer.preprocessor.gapStack=[],t.parser.tokenizer.preprocessor.skipNextNewLine=!1,t.parser.tokenizer.preprocessor.lastChunkWritten=!1,t.parser.tokenizer.preprocessor.endOfChunkHit=!1,t.parser.tokenizer.preprocessor.isEol=!1,qY(t,Fo(e)),t.parser.tokenizer.write(t.options.tagfilter?e.value.replace(mSe,"&lt;$1$2"):e.value,!1),t.parser.tokenizer._runParsingLoop(),t.parser.tokenizer.state===72||t.parser.tokenizer.state===78){t.parser.tokenizer.preprocessor.lastChunkWritten=!0;const r=t.parser.tokenizer._consume();t.parser.tokenizer._callState(r)}}function CSe(e,t){const r=e;if(t.options.passThrough&&t.options.passThrough.includes(r.type))wSe(r,t);else{let n="";throw ySe.has(r.type)&&(n=". It looks like you are using MDX nodes with `hast-util-raw` (or `rehype-raw`). If you use this because you are using remark or rehype plugins that inject `'html'` nodes, then please raise an issue with that plugin, as its a bad and slow idea. If you use this because you are using markdown syntax, then you have to configure this utility (or plugin) to pass through these nodes (see `passThrough` in docs), but you can also migrate to use the MDX syntax"),new Error("Cannot compile `"+r.type+"` node"+n)}}function Lp(e,t){qY(e,t);const r=e.parser.tokenizer.currentCharacterToken;r&&r.location&&(r.location.endLine=e.parser.tokenizer.preprocessor.line,r.location.endCol=e.parser.tokenizer.preprocessor.col+1,r.location.endOffset=e.parser.tokenizer.preprocessor.offset+1,e.parser.currentToken=r,e.parser._processToken(e.parser.currentToken)),e.parser.tokenizer.paused=!1,e.parser.tokenizer.inLoop=!1,e.parser.tokenizer.active=!1,e.parser.tokenizer.returnState=xn.DATA,e.parser.tokenizer.charRefCode=-1,e.parser.tokenizer.consumedAfterSnapshot=-1,e.parser.tokenizer.currentLocation=null,e.parser.tokenizer.currentCharacterToken=null,e.parser.tokenizer.currentToken=null,e.parser.tokenizer.currentAttr={name:"",value:""}}function qY(e,t){if(t&&t.offset!==void 0){const r={startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:-1,endCol:-1,endOffset:-1};e.parser.tokenizer.preprocessor.lineStartPos=-t.column+1,e.parser.tokenizer.preprocessor.droppedBufferSize=t.offset,e.parser.tokenizer.preprocessor.line=t.line,e.parser.tokenizer.currentLocation=r}}function ESe(e,t){const r=e.tagName.toLowerCase();if(t.parser.tokenizer.state===xn.PLAINTEXT)return;Lp(t,Fo(e));const n=t.parser.openElements.current;let i="namespaceURI"in n?n.namespaceURI:gh.html;i===gh.html&&r==="svg"&&(i=gh.svg);const a=P1e({...e,children:[]},{space:i===gh.svg?"svg":"html"}),s={type:or.START_TAG,tagName:r,tagID:Mp(r),selfClosing:!1,ackSelfClosing:!1,attrs:"attrs"in a?a.attrs:[],location:H0(e)};t.parser.currentToken=s,t.parser._processToken(t.parser.currentToken),t.parser.tokenizer.lastStartTagName=r}function ASe(e,t){const r=e.tagName.toLowerCase();if(!t.parser.tokenizer.inForeignNode&&V1e.includes(r)||t.parser.tokenizer.state===xn.PLAINTEXT)return;Lp(t,$_(e));const n={type:or.END_TAG,tagName:r,tagID:Mp(r),selfClosing:!1,ackSelfClosing:!1,attrs:[],location:H0(e)};t.parser.currentToken=n,t.parser._processToken(t.parser.currentToken),r===t.parser.tokenizer.lastStartTagName&&(t.parser.tokenizer.state===xn.RCDATA||t.parser.tokenizer.state===xn.RAWTEXT||t.parser.tokenizer.state===xn.SCRIPT_DATA)&&(t.parser.tokenizer.state=xn.DATA)}function kSe(e){const t=e.type==="root"?e.children[0]:e;return!!(t&&(t.type==="doctype"||t.type==="element"&&t.tagName.toLowerCase()==="html"))}function H0(e){const t=Fo(e)||{line:void 0,column:void 0,offset:void 0},r=$_(e)||{line:void 0,column:void 0,offset:void 0};return{startLine:t.line,startCol:t.column,startOffset:t.offset,endLine:r.line,endCol:r.column,endOffset:r.offset}}function ISe(e){return"children"in e?ap({...e,children:[]}):ap(e)}function _I(e){return function(t,r){return $Y(t,{...e,file:r})}}function mB(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function DSe(e){if(Array.isArray(e))return e}function MSe(e,t,r){return(t=FSe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LSe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}function NSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xB(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yB(Object(r),!0).forEach(function(n){MSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yB(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PSe(e,t){if(e==null)return{};var r,n,i=RSe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function RSe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function OSe(e,t){return DSe(e)||LSe(e,t)||zSe(e,t)||NSe()}function BSe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FSe(e){var t=BSe(e,"string");return typeof t=="symbol"?t:t+""}function zSe(e,t){if(e){if(typeof e=="string")return mB(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?mB(e,t):void 0}}function jSe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function SB(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bB(Object(r),!0).forEach(function(n){jSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bB(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HSe(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){return t.reduceRight(function(i,a){return a(i)},n)}}function bg(e){return function t(){for(var r=this,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return i.length>=e.length?e.apply(this,i):function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];return t.apply(r,[].concat(i,o))}}}function fS(e){return{}.toString.call(e).includes("Object")}function VSe(e){return!Object.keys(e).length}function $m(e){return typeof e=="function"}function USe(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function GSe(e,t){return fS(t)||Fu("changeType"),Object.keys(t).some(function(r){return!USe(e,r)})&&Fu("changeField"),t}function WSe(e){$m(e)||Fu("selectorType")}function $Se(e){$m(e)||fS(e)||Fu("handlerType"),fS(e)&&Object.values(e).some(function(t){return!$m(t)})&&Fu("handlersType")}function YSe(e){e||Fu("initialIsRequired"),fS(e)||Fu("initialType"),VSe(e)&&Fu("initialContent")}function XSe(e,t){throw new Error(e[t]||e.default)}var qSe={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},Fu=bg(XSe)(qSe),R1={changes:GSe,selector:WSe,handler:$Se,initial:YSe};function KSe(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};R1.initial(e),R1.handler(t);var r={current:e},n=bg(JSe)(r,t),i=bg(QSe)(r),a=bg(R1.changes)(e),s=bg(ZSe)(r);function o(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(c){return c};return R1.selector(u),u(r.current)}function l(u){HSe(n,i,a,s)(u)}return[o,l]}function ZSe(e,t){return $m(t)?t(e.current):t}function QSe(e,t){return e.current=SB(SB({},e.current),t),t}function JSe(e,t,r){return $m(t)?t(e.current):Object.keys(r).forEach(function(n){var i;return(i=t[n])===null||i===void 0?void 0:i.call(t,e.current[n])}),r}var e_e={create:KSe},t_e={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.55.1/min/vs"}};function r_e(e){return function t(){for(var r=this,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return i.length>=e.length?e.apply(this,i):function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];return t.apply(r,[].concat(i,o))}}}function n_e(e){return{}.toString.call(e).includes("Object")}function i_e(e){return e||_B("configIsRequired"),n_e(e)||_B("configType"),e.urls?(a_e(),{paths:{vs:e.urls.monacoBase}}):e}function a_e(){console.warn(KY.deprecation)}function s_e(e,t){throw new Error(e[t]||e.default)}var KY={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},_B=r_e(s_e)(KY),o_e={config:i_e},l_e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(i){return r.reduceRight(function(a,s){return s(a)},i)}};function ZY(e,t){return Object.keys(t).forEach(function(r){t[r]instanceof Object&&e[r]&&Object.assign(t[r],ZY(e[r],t[r]))}),xB(xB({},e),t)}var u_e={type:"cancelation",msg:"operation is manually canceled"};function v2(e){var t=!1,r=new Promise(function(n,i){e.then(function(a){return t?i(u_e):n(a)}),e.catch(i)});return r.cancel=function(){return t=!0},r}var c_e=["monaco"],h_e=e_e.create({config:t_e,isInitialized:!1,resolve:null,reject:null,monaco:null}),QY=OSe(h_e,2),V0=QY[0],nw=QY[1];function f_e(e){var t=o_e.config(e),r=t.monaco,n=PSe(t,c_e);nw(function(i){return{config:ZY(i.config,n),monaco:r}})}function d_e(){var e=V0(function(t){var r=t.monaco,n=t.isInitialized,i=t.resolve;return{monaco:r,isInitialized:n,resolve:i}});if(!e.isInitialized){if(nw({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),v2(g2);if(window.monaco&&window.monaco.editor)return JY(window.monaco),e.resolve(window.monaco),v2(g2);l_e(p_e,g_e)(m_e)}return v2(g2)}function p_e(e){return document.body.appendChild(e)}function v_e(e){var t=document.createElement("script");return e&&(t.src=e),t}function g_e(e){var t=V0(function(n){var i=n.config,a=n.reject;return{config:i,reject:a}}),r=v_e("".concat(t.config.paths.vs,"/loader.js"));return r.onload=function(){return e()},r.onerror=t.reject,r}function m_e(){var e=V0(function(r){var n=r.config,i=r.resolve,a=r.reject;return{config:n,resolve:i,reject:a}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(r){var n=r.m||r;JY(n),e.resolve(n)},function(r){e.reject(r)})}function JY(e){V0().monaco||nw({monaco:e})}function y_e(){return V0(function(e){var t=e.monaco;return t})}var g2=new Promise(function(e,t){return nw({resolve:e,reject:t})}),eX={config:f_e,init:d_e,__getMonacoInstance:y_e},x_e={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},m2=x_e,b_e={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},S_e=b_e;function __e({children:e}){return Bt.createElement("div",{style:S_e.container},e)}var w_e=__e,T_e=w_e;function C_e({width:e,height:t,isEditorReady:r,loading:n,_ref:i,className:a,wrapperProps:s}){return Bt.createElement("section",{style:{...m2.wrapper,width:e,height:t},...s},!r&&Bt.createElement(T_e,null,n),Bt.createElement("div",{ref:i,style:{...m2.fullWidth,...!r&&m2.hide},className:a}))}var E_e=C_e,tX=Q.memo(E_e);function A_e(e){Q.useEffect(e,[])}var rX=A_e;function k_e(e,t,r=!0){let n=Q.useRef(!0);Q.useEffect(n.current||!r?()=>{n.current=!1}:e,t)}var ma=k_e;function Jg(){}function _d(e,t,r,n){return I_e(e,n)||D_e(e,t,r,n)}function I_e(e,t){return e.editor.getModel(nX(e,t))}function D_e(e,t,r,n){return e.editor.createModel(t,r,n?nX(e,n):void 0)}function nX(e,t){return e.Uri.parse(t)}function M_e({original:e,modified:t,language:r,originalLanguage:n,modifiedLanguage:i,originalModelPath:a,modifiedModelPath:s,keepCurrentOriginalModel:o=!1,keepCurrentModifiedModel:l=!1,theme:u="light",loading:c="Loading...",options:h={},height:f="100%",width:d="100%",className:v,wrapperProps:m={},beforeMount:y=Jg,onMount:b=Jg}){let[S,w]=Q.useState(!1),[k,M]=Q.useState(!0),I=Q.useRef(null),L=Q.useRef(null),N=Q.useRef(null),z=Q.useRef(b),B=Q.useRef(y),H=Q.useRef(!1);rX(()=>{let X=eX.init();return X.then(ee=>(L.current=ee)&&M(!1)).catch(ee=>(ee==null?void 0:ee.type)!=="cancelation"&&console.error("Monaco initialization: error:",ee)),()=>I.current?W():X.cancel()}),ma(()=>{if(I.current&&L.current){let X=I.current.getOriginalEditor(),ee=_d(L.current,e||"",n||r||"text",a||"");ee!==X.getModel()&&X.setModel(ee)}},[a],S),ma(()=>{if(I.current&&L.current){let X=I.current.getModifiedEditor(),ee=_d(L.current,t||"",i||r||"text",s||"");ee!==X.getModel()&&X.setModel(ee)}},[s],S),ma(()=>{let X=I.current.getModifiedEditor();X.getOption(L.current.editor.EditorOption.readOnly)?X.setValue(t||""):t!==X.getValue()&&(X.executeEdits("",[{range:X.getModel().getFullModelRange(),text:t||"",forceMoveMarkers:!0}]),X.pushUndoStop())},[t],S),ma(()=>{var X,ee;(ee=(X=I.current)==null?void 0:X.getModel())==null||ee.original.setValue(e||"")},[e],S),ma(()=>{let{original:X,modified:ee}=I.current.getModel();L.current.editor.setModelLanguage(X,n||r||"text"),L.current.editor.setModelLanguage(ee,i||r||"text")},[r,n,i],S),ma(()=>{var X;(X=L.current)==null||X.editor.setTheme(u)},[u],S),ma(()=>{var X;(X=I.current)==null||X.updateOptions(h)},[h],S);let G=Q.useCallback(()=>{var le;if(!L.current)return;B.current(L.current);let X=_d(L.current,e||"",n||r||"text",a||""),ee=_d(L.current,t||"",i||r||"text",s||"");(le=I.current)==null||le.setModel({original:X,modified:ee})},[r,t,i,e,n,a,s]),$=Q.useCallback(()=>{var X;!H.current&&N.current&&(I.current=L.current.editor.createDiffEditor(N.current,{automaticLayout:!0,...h}),G(),(X=L.current)==null||X.editor.setTheme(u),w(!0),H.current=!0)},[h,u,G]);Q.useEffect(()=>{S&&z.current(I.current,L.current)},[S]),Q.useEffect(()=>{!k&&!S&&$()},[k,S,$]);function W(){var ee,le,ie,fe;let X=(ee=I.current)==null?void 0:ee.getModel();o||((le=X==null?void 0:X.original)==null||le.dispose()),l||((ie=X==null?void 0:X.modified)==null||ie.dispose()),(fe=I.current)==null||fe.dispose()}return Bt.createElement(tX,{width:d,height:f,isEditorReady:S,loading:c,_ref:N,className:v,wrapperProps:m})}var L_e=M_e,N_e=Q.memo(L_e);function P_e(e){let t=Q.useRef();return Q.useEffect(()=>{t.current=e},[e]),t.current}var R_e=P_e,O1=new Map;function O_e({defaultValue:e,defaultLanguage:t,defaultPath:r,value:n,language:i,path:a,theme:s="light",line:o,loading:l="Loading...",options:u={},overrideServices:c={},saveViewState:h=!0,keepCurrentModel:f=!1,width:d="100%",height:v="100%",className:m,wrapperProps:y={},beforeMount:b=Jg,onMount:S=Jg,onChange:w,onValidate:k=Jg}){let[M,I]=Q.useState(!1),[L,N]=Q.useState(!0),z=Q.useRef(null),B=Q.useRef(null),H=Q.useRef(null),G=Q.useRef(S),$=Q.useRef(b),W=Q.useRef(),X=Q.useRef(n),ee=R_e(a),le=Q.useRef(!1),ie=Q.useRef(!1);rX(()=>{let me=eX.init();return me.then(J=>(z.current=J)&&N(!1)).catch(J=>(J==null?void 0:J.type)!=="cancelation"&&console.error("Monaco initialization: error:",J)),()=>B.current?re():me.cancel()}),ma(()=>{var J,te,ue,pe;let me=_d(z.current,e||n||"",t||i||"",a||r||"");me!==((J=B.current)==null?void 0:J.getModel())&&(h&&O1.set(ee,(te=B.current)==null?void 0:te.saveViewState()),(ue=B.current)==null||ue.setModel(me),h&&((pe=B.current)==null||pe.restoreViewState(O1.get(a))))},[a],M),ma(()=>{var me;(me=B.current)==null||me.updateOptions(u)},[u],M),ma(()=>{!B.current||n===void 0||(B.current.getOption(z.current.editor.EditorOption.readOnly)?B.current.setValue(n):n!==B.current.getValue()&&(ie.current=!0,B.current.executeEdits("",[{range:B.current.getModel().getFullModelRange(),text:n,forceMoveMarkers:!0}]),B.current.pushUndoStop(),ie.current=!1))},[n],M),ma(()=>{var J,te;let me=(J=B.current)==null?void 0:J.getModel();me&&i&&((te=z.current)==null||te.editor.setModelLanguage(me,i))},[i],M),ma(()=>{var me;o!==void 0&&((me=B.current)==null||me.revealLine(o))},[o],M),ma(()=>{var me;(me=z.current)==null||me.editor.setTheme(s)},[s],M);let fe=Q.useCallback(()=>{var me;if(!(!H.current||!z.current)&&!le.current){$.current(z.current);let J=a||r,te=_d(z.current,n||e||"",t||i||"",J||"");B.current=(me=z.current)==null?void 0:me.editor.create(H.current,{model:te,automaticLayout:!0,...u},c),h&&B.current.restoreViewState(O1.get(J)),z.current.editor.setTheme(s),o!==void 0&&B.current.revealLine(o),I(!0),le.current=!0}},[e,t,r,n,i,a,u,c,h,s,o]);Q.useEffect(()=>{M&&G.current(B.current,z.current)},[M]),Q.useEffect(()=>{!L&&!M&&fe()},[L,M,fe]),X.current=n,Q.useEffect(()=>{var me,J;M&&w&&((me=W.current)==null||me.dispose(),W.current=(J=B.current)==null?void 0:J.onDidChangeModelContent(te=>{ie.current||w(B.current.getValue(),te)}))},[M,w]),Q.useEffect(()=>{if(M){let me=z.current.editor.onDidChangeMarkers(J=>{var ue;let te=(ue=B.current.getModel())==null?void 0:ue.uri;if(te&&J.find(pe=>pe.path===te.path)){let pe=z.current.editor.getModelMarkers({resource:te});k==null||k(pe)}});return()=>{me==null||me.dispose()}}return()=>{}},[M,k]);function re(){var me,J;(me=W.current)==null||me.dispose(),f?h&&O1.set(a,B.current.saveViewState()):(J=B.current.getModel())==null||J.dispose(),B.current.dispose()}return Bt.createElement(tX,{width:d,height:v,isEditorReady:M,loading:l,_ref:H,className:m,wrapperProps:y})}var B_e=O_e,F_e=Q.memo(B_e),op=F_e;const iX=({src:e,alt:t,setModalImage:r,...n})=>{const[i,a]=Bt.useState(e||""),[s,o]=Bt.useState(null);return Bt.useEffect(()=>{let l=!0;return(async()=>{if(e&&e.startsWith("cms-image://")){const c=e.replace("cms-image://","");try{const h=await Er.getFile(c);h&&l&&(a(h.thumbnail||h.content),o(h.content))}catch(h){console.error("Failed to load image",h)}}else a(e),o(e)})(),()=>{l=!1}},[e]),E.jsx("img",{src:i,alt:t,...n,onClick:()=>r&&r(s||i),style:{...n.style,cursor:r?"pointer":"default"}})};var aX={exports:{}};(function(e){var t=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32},r=-1,n=1,i=0;t.Diff=function(a,s){return[a,s]},t.prototype.diff_main=function(a,s,o,l){typeof l>"u"&&(this.Diff_Timeout<=0?l=Number.MAX_VALUE:l=new Date().getTime()+this.Diff_Timeout*1e3);var u=l;if(a==null||s==null)throw new Error("Null input. (diff_main)");if(a==s)return a?[new t.Diff(i,a)]:[];typeof o>"u"&&(o=!0);var c=o,h=this.diff_commonPrefix(a,s),f=a.substring(0,h);a=a.substring(h),s=s.substring(h),h=this.diff_commonSuffix(a,s);var d=a.substring(a.length-h);a=a.substring(0,a.length-h),s=s.substring(0,s.length-h);var v=this.diff_compute_(a,s,c,u);return f&&v.unshift(new t.Diff(i,f)),d&&v.push(new t.Diff(i,d)),this.diff_cleanupMerge(v),v},t.prototype.diff_compute_=function(a,s,o,l){var u;if(!a)return[new t.Diff(n,s)];if(!s)return[new t.Diff(r,a)];var c=a.length>s.length?a:s,h=a.length>s.length?s:a,f=c.indexOf(h);if(f!=-1)return u=[new t.Diff(n,c.substring(0,f)),new t.Diff(i,h),new t.Diff(n,c.substring(f+h.length))],a.length>s.length&&(u[0][0]=u[2][0]=r),u;if(h.length==1)return[new t.Diff(r,a),new t.Diff(n,s)];var d=this.diff_halfMatch_(a,s);if(d){var v=d[0],m=d[1],y=d[2],b=d[3],S=d[4],w=this.diff_main(v,y,o,l),k=this.diff_main(m,b,o,l);return w.concat([new t.Diff(i,S)],k)}return o&&a.length>100&&s.length>100?this.diff_lineMode_(a,s,l):this.diff_bisect_(a,s,l)},t.prototype.diff_lineMode_=function(a,s,o){var l=this.diff_linesToChars_(a,s);a=l.chars1,s=l.chars2;var u=l.lineArray,c=this.diff_main(a,s,!1,o);this.diff_charsToLines_(c,u),this.diff_cleanupSemantic(c),c.push(new t.Diff(i,""));for(var h=0,f=0,d=0,v="",m="";h<c.length;){switch(c[h][0]){case n:d++,m+=c[h][1];break;case r:f++,v+=c[h][1];break;case i:if(f>=1&&d>=1){c.splice(h-f-d,f+d),h=h-f-d;for(var y=this.diff_main(v,m,!1,o),b=y.length-1;b>=0;b--)c.splice(h,0,y[b]);h=h+y.length}d=0,f=0,v="",m="";break}h++}return c.pop(),c},t.prototype.diff_bisect_=function(a,s,o){for(var l=a.length,u=s.length,c=Math.ceil((l+u)/2),h=c,f=2*c,d=new Array(f),v=new Array(f),m=0;m<f;m++)d[m]=-1,v[m]=-1;d[h+1]=0,v[h+1]=0;for(var y=l-u,b=y%2!=0,S=0,w=0,k=0,M=0,I=0;I<c&&!(new Date().getTime()>o);I++){for(var L=-I+S;L<=I-w;L+=2){var N=h+L,z;L==-I||L!=I&&d[N-1]<d[N+1]?z=d[N+1]:z=d[N-1]+1;for(var B=z-L;z<l&&B<u&&a.charAt(z)==s.charAt(B);)z++,B++;if(d[N]=z,z>l)w+=2;else if(B>u)S+=2;else if(b){var H=h+y-L;if(H>=0&&H<f&&v[H]!=-1){var G=l-v[H];if(z>=G)return this.diff_bisectSplit_(a,s,z,B,o)}}}for(var $=-I+k;$<=I-M;$+=2){var H=h+$,G;$==-I||$!=I&&v[H-1]<v[H+1]?G=v[H+1]:G=v[H-1]+1;for(var W=G-$;G<l&&W<u&&a.charAt(l-G-1)==s.charAt(u-W-1);)G++,W++;if(v[H]=G,G>l)M+=2;else if(W>u)k+=2;else if(!b){var N=h+y-$;if(N>=0&&N<f&&d[N]!=-1){var z=d[N],B=h+z-N;if(G=l-G,z>=G)return this.diff_bisectSplit_(a,s,z,B,o)}}}}return[new t.Diff(r,a),new t.Diff(n,s)]},t.prototype.diff_bisectSplit_=function(a,s,o,l,u){var c=a.substring(0,o),h=s.substring(0,l),f=a.substring(o),d=s.substring(l),v=this.diff_main(c,h,!1,u),m=this.diff_main(f,d,!1,u);return v.concat(m)},t.prototype.diff_linesToChars_=function(a,s){var o=[],l={};o[0]="";function u(d){for(var v="",m=0,y=-1,b=o.length;y<d.length-1;){y=d.indexOf(`
`,m),y==-1&&(y=d.length-1);var S=d.substring(m,y+1);(l.hasOwnProperty?l.hasOwnProperty(S):l[S]!==void 0)?v+=String.fromCharCode(l[S]):(b==c&&(S=d.substring(m),y=d.length),v+=String.fromCharCode(b),l[S]=b,o[b++]=S),m=y+1}return v}var c=4e4,h=u(a);c=65535;var f=u(s);return{chars1:h,chars2:f,lineArray:o}},t.prototype.diff_charsToLines_=function(a,s){for(var o=0;o<a.length;o++){for(var l=a[o][1],u=[],c=0;c<l.length;c++)u[c]=s[l.charCodeAt(c)];a[o][1]=u.join("")}},t.prototype.diff_commonPrefix=function(a,s){if(!a||!s||a.charAt(0)!=s.charAt(0))return 0;for(var o=0,l=Math.min(a.length,s.length),u=l,c=0;o<u;)a.substring(c,u)==s.substring(c,u)?(o=u,c=o):l=u,u=Math.floor((l-o)/2+o);return u},t.prototype.diff_commonSuffix=function(a,s){if(!a||!s||a.charAt(a.length-1)!=s.charAt(s.length-1))return 0;for(var o=0,l=Math.min(a.length,s.length),u=l,c=0;o<u;)a.substring(a.length-u,a.length-c)==s.substring(s.length-u,s.length-c)?(o=u,c=o):l=u,u=Math.floor((l-o)/2+o);return u},t.prototype.diff_commonOverlap_=function(a,s){var o=a.length,l=s.length;if(o==0||l==0)return 0;o>l?a=a.substring(o-l):o<l&&(s=s.substring(0,o));var u=Math.min(o,l);if(a==s)return u;for(var c=0,h=1;;){var f=a.substring(u-h),d=s.indexOf(f);if(d==-1)return c;h+=d,(d==0||a.substring(u-h)==s.substring(0,h))&&(c=h,h++)}},t.prototype.diff_halfMatch_=function(a,s){if(this.Diff_Timeout<=0)return null;var o=a.length>s.length?a:s,l=a.length>s.length?s:a;if(o.length<4||l.length*2<o.length)return null;var u=this;function c(w,k,M){for(var I=w.substring(M,M+Math.floor(w.length/4)),L=-1,N="",z,B,H,G;(L=k.indexOf(I,L+1))!=-1;){var $=u.diff_commonPrefix(w.substring(M),k.substring(L)),W=u.diff_commonSuffix(w.substring(0,M),k.substring(0,L));N.length<W+$&&(N=k.substring(L-W,L)+k.substring(L,L+$),z=w.substring(0,M-W),B=w.substring(M+$),H=k.substring(0,L-W),G=k.substring(L+$))}return N.length*2>=w.length?[z,B,H,G,N]:null}var h=c(o,l,Math.ceil(o.length/4)),f=c(o,l,Math.ceil(o.length/2)),d;if(!h&&!f)return null;f?h?d=h[4].length>f[4].length?h:f:d=f:d=h;var v,m,y,b;a.length>s.length?(v=d[0],m=d[1],y=d[2],b=d[3]):(y=d[0],b=d[1],v=d[2],m=d[3]);var S=d[4];return[v,m,y,b,S]},t.prototype.diff_cleanupSemantic=function(a){for(var s=!1,o=[],l=0,u=null,c=0,h=0,f=0,d=0,v=0;c<a.length;)a[c][0]==i?(o[l++]=c,h=d,f=v,d=0,v=0,u=a[c][1]):(a[c][0]==n?d+=a[c][1].length:v+=a[c][1].length,u&&u.length<=Math.max(h,f)&&u.length<=Math.max(d,v)&&(a.splice(o[l-1],0,new t.Diff(r,u)),a[o[l-1]+1][0]=n,l--,l--,c=l>0?o[l-1]:-1,h=0,f=0,d=0,v=0,u=null,s=!0)),c++;for(s&&this.diff_cleanupMerge(a),this.diff_cleanupSemanticLossless(a),c=1;c<a.length;){if(a[c-1][0]==r&&a[c][0]==n){var m=a[c-1][1],y=a[c][1],b=this.diff_commonOverlap_(m,y),S=this.diff_commonOverlap_(y,m);b>=S?(b>=m.length/2||b>=y.length/2)&&(a.splice(c,0,new t.Diff(i,y.substring(0,b))),a[c-1][1]=m.substring(0,m.length-b),a[c+1][1]=y.substring(b),c++):(S>=m.length/2||S>=y.length/2)&&(a.splice(c,0,new t.Diff(i,m.substring(0,S))),a[c-1][0]=n,a[c-1][1]=y.substring(0,y.length-S),a[c+1][0]=r,a[c+1][1]=m.substring(S),c++),c++}c++}},t.prototype.diff_cleanupSemanticLossless=function(a){function s(S,w){if(!S||!w)return 6;var k=S.charAt(S.length-1),M=w.charAt(0),I=k.match(t.nonAlphaNumericRegex_),L=M.match(t.nonAlphaNumericRegex_),N=I&&k.match(t.whitespaceRegex_),z=L&&M.match(t.whitespaceRegex_),B=N&&k.match(t.linebreakRegex_),H=z&&M.match(t.linebreakRegex_),G=B&&S.match(t.blanklineEndRegex_),$=H&&w.match(t.blanklineStartRegex_);return G||$?5:B||H?4:I&&!N&&z?3:N||z?2:I||L?1:0}for(var o=1;o<a.length-1;){if(a[o-1][0]==i&&a[o+1][0]==i){var l=a[o-1][1],u=a[o][1],c=a[o+1][1],h=this.diff_commonSuffix(l,u);if(h){var f=u.substring(u.length-h);l=l.substring(0,l.length-h),u=f+u.substring(0,u.length-h),c=f+c}for(var d=l,v=u,m=c,y=s(l,u)+s(u,c);u.charAt(0)===c.charAt(0);){l+=u.charAt(0),u=u.substring(1)+c.charAt(0),c=c.substring(1);var b=s(l,u)+s(u,c);b>=y&&(y=b,d=l,v=u,m=c)}a[o-1][1]!=d&&(d?a[o-1][1]=d:(a.splice(o-1,1),o--),a[o][1]=v,m?a[o+1][1]=m:(a.splice(o+1,1),o--))}o++}},t.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,t.whitespaceRegex_=/\s/,t.linebreakRegex_=/[\r\n]/,t.blanklineEndRegex_=/\n\r?\n$/,t.blanklineStartRegex_=/^\r?\n\r?\n/,t.prototype.diff_cleanupEfficiency=function(a){for(var s=!1,o=[],l=0,u=null,c=0,h=!1,f=!1,d=!1,v=!1;c<a.length;)a[c][0]==i?(a[c][1].length<this.Diff_EditCost&&(d||v)?(o[l++]=c,h=d,f=v,u=a[c][1]):(l=0,u=null),d=v=!1):(a[c][0]==r?v=!0:d=!0,u&&(h&&f&&d&&v||u.length<this.Diff_EditCost/2&&h+f+d+v==3)&&(a.splice(o[l-1],0,new t.Diff(r,u)),a[o[l-1]+1][0]=n,l--,u=null,h&&f?(d=v=!0,l=0):(l--,c=l>0?o[l-1]:-1,d=v=!1),s=!0)),c++;s&&this.diff_cleanupMerge(a)},t.prototype.diff_cleanupMerge=function(a){a.push(new t.Diff(i,""));for(var s=0,o=0,l=0,u="",c="",h;s<a.length;)switch(a[s][0]){case n:l++,c+=a[s][1],s++;break;case r:o++,u+=a[s][1],s++;break;case i:o+l>1?(o!==0&&l!==0&&(h=this.diff_commonPrefix(c,u),h!==0&&(s-o-l>0&&a[s-o-l-1][0]==i?a[s-o-l-1][1]+=c.substring(0,h):(a.splice(0,0,new t.Diff(i,c.substring(0,h))),s++),c=c.substring(h),u=u.substring(h)),h=this.diff_commonSuffix(c,u),h!==0&&(a[s][1]=c.substring(c.length-h)+a[s][1],c=c.substring(0,c.length-h),u=u.substring(0,u.length-h))),s-=o+l,a.splice(s,o+l),u.length&&(a.splice(s,0,new t.Diff(r,u)),s++),c.length&&(a.splice(s,0,new t.Diff(n,c)),s++),s++):s!==0&&a[s-1][0]==i?(a[s-1][1]+=a[s][1],a.splice(s,1)):s++,l=0,o=0,u="",c="";break}a[a.length-1][1]===""&&a.pop();var f=!1;for(s=1;s<a.length-1;)a[s-1][0]==i&&a[s+1][0]==i&&(a[s][1].substring(a[s][1].length-a[s-1][1].length)==a[s-1][1]?(a[s][1]=a[s-1][1]+a[s][1].substring(0,a[s][1].length-a[s-1][1].length),a[s+1][1]=a[s-1][1]+a[s+1][1],a.splice(s-1,1),f=!0):a[s][1].substring(0,a[s+1][1].length)==a[s+1][1]&&(a[s-1][1]+=a[s+1][1],a[s][1]=a[s][1].substring(a[s+1][1].length)+a[s+1][1],a.splice(s+1,1),f=!0)),s++;f&&this.diff_cleanupMerge(a)},t.prototype.diff_xIndex=function(a,s){var o=0,l=0,u=0,c=0,h;for(h=0;h<a.length&&(a[h][0]!==n&&(o+=a[h][1].length),a[h][0]!==r&&(l+=a[h][1].length),!(o>s));h++)u=o,c=l;return a.length!=h&&a[h][0]===r?c:c+(s-u)},t.prototype.diff_prettyHtml=function(a){for(var s=[],o=/&/g,l=/</g,u=/>/g,c=/\n/g,h=0;h<a.length;h++){var f=a[h][0],d=a[h][1],v=d.replace(o,"&amp;").replace(l,"&lt;").replace(u,"&gt;").replace(c,"&para;<br>");switch(f){case n:s[h]='<ins style="background:#e6ffe6;">'+v+"</ins>";break;case r:s[h]='<del style="background:#ffe6e6;">'+v+"</del>";break;case i:s[h]="<span>"+v+"</span>";break}}return s.join("")},t.prototype.diff_text1=function(a){for(var s=[],o=0;o<a.length;o++)a[o][0]!==n&&(s[o]=a[o][1]);return s.join("")},t.prototype.diff_text2=function(a){for(var s=[],o=0;o<a.length;o++)a[o][0]!==r&&(s[o]=a[o][1]);return s.join("")},t.prototype.diff_levenshtein=function(a){for(var s=0,o=0,l=0,u=0;u<a.length;u++){var c=a[u][0],h=a[u][1];switch(c){case n:o+=h.length;break;case r:l+=h.length;break;case i:s+=Math.max(o,l),o=0,l=0;break}}return s+=Math.max(o,l),s},t.prototype.diff_toDelta=function(a){for(var s=[],o=0;o<a.length;o++)switch(a[o][0]){case n:s[o]="+"+encodeURI(a[o][1]);break;case r:s[o]="-"+a[o][1].length;break;case i:s[o]="="+a[o][1].length;break}return s.join("	").replace(/%20/g," ")},t.prototype.diff_fromDelta=function(a,s){for(var o=[],l=0,u=0,c=s.split(/\t/g),h=0;h<c.length;h++){var f=c[h].substring(1);switch(c[h].charAt(0)){case"+":try{o[l++]=new t.Diff(n,decodeURI(f))}catch{throw new Error("Illegal escape in diff_fromDelta: "+f)}break;case"-":case"=":var d=parseInt(f,10);if(isNaN(d)||d<0)throw new Error("Invalid number in diff_fromDelta: "+f);var v=a.substring(u,u+=d);c[h].charAt(0)=="="?o[l++]=new t.Diff(i,v):o[l++]=new t.Diff(r,v);break;default:if(c[h])throw new Error("Invalid diff operation in diff_fromDelta: "+c[h])}}if(u!=a.length)throw new Error("Delta length ("+u+") does not equal source text length ("+a.length+").");return o},t.prototype.match_main=function(a,s,o){if(a==null||s==null||o==null)throw new Error("Null input. (match_main)");return o=Math.max(0,Math.min(o,a.length)),a==s?0:a.length?a.substring(o,o+s.length)==s?o:this.match_bitap_(a,s,o):-1},t.prototype.match_bitap_=function(a,s,o){if(s.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var l=this.match_alphabet_(s),u=this;function c(z,B){var H=z/s.length,G=Math.abs(o-B);return u.Match_Distance?H+G/u.Match_Distance:G?1:H}var h=this.Match_Threshold,f=a.indexOf(s,o);f!=-1&&(h=Math.min(c(0,f),h),f=a.lastIndexOf(s,o+s.length),f!=-1&&(h=Math.min(c(0,f),h)));var d=1<<s.length-1;f=-1;for(var v,m,y=s.length+a.length,b,S=0;S<s.length;S++){for(v=0,m=y;v<m;)c(S,o+m)<=h?v=m:y=m,m=Math.floor((y-v)/2+v);y=m;var w=Math.max(1,o-m+1),k=Math.min(o+m,a.length)+s.length,M=Array(k+2);M[k+1]=(1<<S)-1;for(var I=k;I>=w;I--){var L=l[a.charAt(I-1)];if(S===0?M[I]=(M[I+1]<<1|1)&L:M[I]=(M[I+1]<<1|1)&L|((b[I+1]|b[I])<<1|1)|b[I+1],M[I]&d){var N=c(S,I-1);if(N<=h)if(h=N,f=I-1,f>o)w=Math.max(1,2*o-f);else break}}if(c(S+1,o)>h)break;b=M}return f},t.prototype.match_alphabet_=function(a){for(var s={},o=0;o<a.length;o++)s[a.charAt(o)]=0;for(var o=0;o<a.length;o++)s[a.charAt(o)]|=1<<a.length-o-1;return s},t.prototype.patch_addContext_=function(a,s){if(s.length!=0){if(a.start2===null)throw Error("patch not initialized");for(var o=s.substring(a.start2,a.start2+a.length1),l=0;s.indexOf(o)!=s.lastIndexOf(o)&&o.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)l+=this.Patch_Margin,o=s.substring(a.start2-l,a.start2+a.length1+l);l+=this.Patch_Margin;var u=s.substring(a.start2-l,a.start2);u&&a.diffs.unshift(new t.Diff(i,u));var c=s.substring(a.start2+a.length1,a.start2+a.length1+l);c&&a.diffs.push(new t.Diff(i,c)),a.start1-=u.length,a.start2-=u.length,a.length1+=u.length+c.length,a.length2+=u.length+c.length}},t.prototype.patch_make=function(a,s,o){var l,u;if(typeof a=="string"&&typeof s=="string"&&typeof o>"u")l=a,u=this.diff_main(l,s,!0),u.length>2&&(this.diff_cleanupSemantic(u),this.diff_cleanupEfficiency(u));else if(a&&typeof a=="object"&&typeof s>"u"&&typeof o>"u")u=a,l=this.diff_text1(u);else if(typeof a=="string"&&s&&typeof s=="object"&&typeof o>"u")l=a,u=s;else if(typeof a=="string"&&typeof s=="string"&&o&&typeof o=="object")l=a,u=o;else throw new Error("Unknown call format to patch_make.");if(u.length===0)return[];for(var c=[],h=new t.patch_obj,f=0,d=0,v=0,m=l,y=l,b=0;b<u.length;b++){var S=u[b][0],w=u[b][1];switch(!f&&S!==i&&(h.start1=d,h.start2=v),S){case n:h.diffs[f++]=u[b],h.length2+=w.length,y=y.substring(0,v)+w+y.substring(v);break;case r:h.length1+=w.length,h.diffs[f++]=u[b],y=y.substring(0,v)+y.substring(v+w.length);break;case i:w.length<=2*this.Patch_Margin&&f&&u.length!=b+1?(h.diffs[f++]=u[b],h.length1+=w.length,h.length2+=w.length):w.length>=2*this.Patch_Margin&&f&&(this.patch_addContext_(h,m),c.push(h),h=new t.patch_obj,f=0,m=y,d=v);break}S!==n&&(d+=w.length),S!==r&&(v+=w.length)}return f&&(this.patch_addContext_(h,m),c.push(h)),c},t.prototype.patch_deepCopy=function(a){for(var s=[],o=0;o<a.length;o++){var l=a[o],u=new t.patch_obj;u.diffs=[];for(var c=0;c<l.diffs.length;c++)u.diffs[c]=new t.Diff(l.diffs[c][0],l.diffs[c][1]);u.start1=l.start1,u.start2=l.start2,u.length1=l.length1,u.length2=l.length2,s[o]=u}return s},t.prototype.patch_apply=function(a,s){if(a.length==0)return[s,[]];a=this.patch_deepCopy(a);var o=this.patch_addPadding(a);s=o+s+o,this.patch_splitMax(a);for(var l=0,u=[],c=0;c<a.length;c++){var h=a[c].start2+l,f=this.diff_text1(a[c].diffs),d,v=-1;if(f.length>this.Match_MaxBits?(d=this.match_main(s,f.substring(0,this.Match_MaxBits),h),d!=-1&&(v=this.match_main(s,f.substring(f.length-this.Match_MaxBits),h+f.length-this.Match_MaxBits),(v==-1||d>=v)&&(d=-1))):d=this.match_main(s,f,h),d==-1)u[c]=!1,l-=a[c].length2-a[c].length1;else{u[c]=!0,l=d-h;var m;if(v==-1?m=s.substring(d,d+f.length):m=s.substring(d,v+this.Match_MaxBits),f==m)s=s.substring(0,d)+this.diff_text2(a[c].diffs)+s.substring(d+f.length);else{var y=this.diff_main(f,m,!1);if(f.length>this.Match_MaxBits&&this.diff_levenshtein(y)/f.length>this.Patch_DeleteThreshold)u[c]=!1;else{this.diff_cleanupSemanticLossless(y);for(var b=0,S,w=0;w<a[c].diffs.length;w++){var k=a[c].diffs[w];k[0]!==i&&(S=this.diff_xIndex(y,b)),k[0]===n?s=s.substring(0,d+S)+k[1]+s.substring(d+S):k[0]===r&&(s=s.substring(0,d+S)+s.substring(d+this.diff_xIndex(y,b+k[1].length))),k[0]!==r&&(b+=k[1].length)}}}}}return s=s.substring(o.length,s.length-o.length),[s,u]},t.prototype.patch_addPadding=function(a){for(var s=this.Patch_Margin,o="",l=1;l<=s;l++)o+=String.fromCharCode(l);for(var l=0;l<a.length;l++)a[l].start1+=s,a[l].start2+=s;var u=a[0],c=u.diffs;if(c.length==0||c[0][0]!=i)c.unshift(new t.Diff(i,o)),u.start1-=s,u.start2-=s,u.length1+=s,u.length2+=s;else if(s>c[0][1].length){var h=s-c[0][1].length;c[0][1]=o.substring(c[0][1].length)+c[0][1],u.start1-=h,u.start2-=h,u.length1+=h,u.length2+=h}if(u=a[a.length-1],c=u.diffs,c.length==0||c[c.length-1][0]!=i)c.push(new t.Diff(i,o)),u.length1+=s,u.length2+=s;else if(s>c[c.length-1][1].length){var h=s-c[c.length-1][1].length;c[c.length-1][1]+=o.substring(0,h),u.length1+=h,u.length2+=h}return o},t.prototype.patch_splitMax=function(a){for(var s=this.Match_MaxBits,o=0;o<a.length;o++)if(!(a[o].length1<=s)){var l=a[o];a.splice(o--,1);for(var u=l.start1,c=l.start2,h="";l.diffs.length!==0;){var f=new t.patch_obj,d=!0;for(f.start1=u-h.length,f.start2=c-h.length,h!==""&&(f.length1=f.length2=h.length,f.diffs.push(new t.Diff(i,h)));l.diffs.length!==0&&f.length1<s-this.Patch_Margin;){var v=l.diffs[0][0],m=l.diffs[0][1];v===n?(f.length2+=m.length,c+=m.length,f.diffs.push(l.diffs.shift()),d=!1):v===r&&f.diffs.length==1&&f.diffs[0][0]==i&&m.length>2*s?(f.length1+=m.length,u+=m.length,d=!1,f.diffs.push(new t.Diff(v,m)),l.diffs.shift()):(m=m.substring(0,s-f.length1-this.Patch_Margin),f.length1+=m.length,u+=m.length,v===i?(f.length2+=m.length,c+=m.length):d=!1,f.diffs.push(new t.Diff(v,m)),m==l.diffs[0][1]?l.diffs.shift():l.diffs[0][1]=l.diffs[0][1].substring(m.length))}h=this.diff_text2(f.diffs),h=h.substring(h.length-this.Patch_Margin);var y=this.diff_text1(l.diffs).substring(0,this.Patch_Margin);y!==""&&(f.length1+=y.length,f.length2+=y.length,f.diffs.length!==0&&f.diffs[f.diffs.length-1][0]===i?f.diffs[f.diffs.length-1][1]+=y:f.diffs.push(new t.Diff(i,y))),d||a.splice(++o,0,f)}}},t.prototype.patch_toText=function(a){for(var s=[],o=0;o<a.length;o++)s[o]=a[o];return s.join("")},t.prototype.patch_fromText=function(a){var s=[];if(!a)return s;for(var o=a.split(`
`),l=0,u=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;l<o.length;){var c=o[l].match(u);if(!c)throw new Error("Invalid patch string: "+o[l]);var h=new t.patch_obj;for(s.push(h),h.start1=parseInt(c[1],10),c[2]===""?(h.start1--,h.length1=1):c[2]=="0"?h.length1=0:(h.start1--,h.length1=parseInt(c[2],10)),h.start2=parseInt(c[3],10),c[4]===""?(h.start2--,h.length2=1):c[4]=="0"?h.length2=0:(h.start2--,h.length2=parseInt(c[4],10)),l++;l<o.length;){var f=o[l].charAt(0);try{var d=decodeURI(o[l].substring(1))}catch{throw new Error("Illegal escape in patch_fromText: "+d)}if(f=="-")h.diffs.push(new t.Diff(r,d));else if(f=="+")h.diffs.push(new t.Diff(n,d));else if(f==" ")h.diffs.push(new t.Diff(i,d));else{if(f=="@")break;if(f!=="")throw new Error('Invalid patch mode "'+f+'" in: '+d)}l++}}return s},t.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},t.patch_obj.prototype.toString=function(){var a,s;this.length1===0?a=this.start1+",0":this.length1==1?a=this.start1+1:a=this.start1+1+","+this.length1,this.length2===0?s=this.start2+",0":this.length2==1?s=this.start2+1:s=this.start2+1+","+this.length2;for(var o=["@@ -"+a+" +"+s+` @@
`],l,u=0;u<this.diffs.length;u++){switch(this.diffs[u][0]){case n:l="+";break;case r:l="-";break;case i:l=" ";break}o[u+1]=l+encodeURI(this.diffs[u][1])+`
`}return o.join("").replace(/%20/g," ")},e.exports=t,e.exports.diff_match_patch=t,e.exports.DIFF_DELETE=r,e.exports.DIFF_INSERT=n,e.exports.DIFF_EQUAL=i})(aX);var z_e=aX.exports;const j_e=Ws(z_e),wB=new j_e,hN=({oldText:e,newText:t})=>{const r=wB.diff_main(e||"",t||"");return wB.diff_cleanupSemantic(r),E.jsxs("div",{className:"diff-viewer font-monospace small",children:[r.map(([n,i],a)=>{let s="";return n===1&&(s="diff-added"),n===-1&&(s="diff-removed"),E.jsx("span",{className:s,children:i},a)}),E.jsx("style",{children:`
        .diff-added { background-color: #e6ffec; color: #24292f; }
        .diff-removed { background-color: #ffebe9; color: #24292f; text-decoration: line-through; }
        .diff-viewer { white-space: pre-wrap; word-break: break-all; border: 1px solid #ddd; padding: 10px; border-radius: 4px; background: #fff; }
      `})]})},H_e=({content:e,oldContent:t,isEditing:r,isPreview:n,isDiffMode:i,issues:a,onUpdate:s,onCancel:o,onEditStart:l,onSelectionChange:u,onHoverIssue:c})=>{const[h,f]=Q.useState(e),d=Q.useRef(null),v=Q.useRef(null);Q.useEffect(()=>{r&&f(e)},[r,e]);const m=M=>{const I=M.getModifiedEditor();I.onDidChangeModelContent(()=>{f(I.getValue())})},y=(M,I)=>{v.current=M;const L=M.getDomNode();L&&(L.addEventListener("paste",async N=>{var B;const z=(B=N.clipboardData)==null?void 0:B.items;if(z){for(const H of z)if(H.type.startsWith("image/")){const G=H.getAsFile();if(G){N.preventDefault(),N.stopPropagation(),N.stopImmediatePropagation();const $=new FileReader;$.onload=async W=>{var X;if((X=W.target)!=null&&X.result){const ee=await Er.saveFile({name:G.name||`pasted-image-${Date.now()}.png`,type:G.type,size:G.size,content:W.target.result,category:"working",uploader:"User"}),le=`![${G.name||"pasted-image"}](cms-image://${ee.id})`,ie=M.getSelection(),fe=new I.Range(ie.startLineNumber,ie.startColumn,ie.endLineNumber,ie.endColumn);M.executeEdits("paste-image",[{range:fe,text:le,forceMoveMarkers:!0}]),window.dispatchEvent(new CustomEvent("files-updated"))}},$.readAsDataURL(G)}}}}),L.addEventListener("dragover",N=>{(N.dataTransfer.types.includes("application/json")||N.dataTransfer.types.length===0)&&N.preventDefault()}),L.addEventListener("drop",N=>{const z=N.dataTransfer.getData("application/json");if(z)try{const B=JSON.parse(z);if(B.type==="cms-file"){N.preventDefault(),N.stopPropagation();const H=M.getTargetAtClientPoint(N.clientX,N.clientY);if(H&&H.position){const G=H.position;M.setPosition(G),M.focus();const W=B.mimeType.startsWith("image/")?`![${B.name}](cms-image://${B.id})`:`[${B.name}](cms-image://${B.id})`,ee={range:new I.Range(G.lineNumber,G.column,G.lineNumber,G.column),text:W,forceMoveMarkers:!0};M.executeEdits("dnd",[ee])}}}catch{}}))},b=M=>{if(r||M.detail>1)return;const I=window.getSelection();if(I&&I.toString().trim().length>0&&d.current){const L=I.getRangeAt(0),N=L.getBoundingClientRect(),z=I.toString(),B=d.current,H=L.cloneRange();H.selectNodeContents(B),H.setEnd(L.startContainer,L.startOffset);const G=H.toString().split(z).length-1;let $=-1,W=0;const X=String(e);let ee=X.indexOf(z);for(;ee!==-1;){if(W===G){$=ee;break}W++,ee=X.indexOf(z,ee+1)}if($!==-1){const le=X.substring(Math.max(0,$-20),$),ie=X.substring($+z.length,$+z.length+20);u&&u({text:z,startIndex:$,length:z.length,context:{prefix:le,suffix:ie},x:N.left,y:N.top-40})}}},S=Q.useMemo(()=>({img:({node:M,...I})=>E.jsx(iX,{...I,style:{maxWidth:"100%"}}),a:({node:M,href:I,children:L,...N})=>I&&I.startsWith("cms-image://")?E.jsx("a",{href:"#",onClick:async z=>{z.preventDefault();const B=I.replace("cms-image://",""),H=await Er.getFile(B);if(H){const G=document.createElement("a");G.href=H.content,G.download=H.name,G.click()}},...N,title:"Click to download file",children:L}):E.jsx("a",{href:I,...N,children:L})}),[]),w=()=>{s(h)};if(r)return E.jsxs("div",{children:[E.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[E.jsx("span",{className:"small text-muted fw-bold",children:"Markdown Content"}),i&&E.jsx(No,{bg:"info",children:"Diff Active"})]}),E.jsx("div",{className:"border rounded overflow-hidden mb-2",style:{height:"300px",backgroundColor:"#fdfdfd"},children:i?E.jsx(N_e,{height:"100%",original:String(t||""),modified:String(h||""),language:"markdown",theme:"light",onMount:m,options:{renderSideBySide:!0,minimap:{enabled:!1},fontSize:14,automaticLayout:!0,lineNumbers:"off",wordWrap:"on"}}):E.jsx(op,{height:"100%",defaultLanguage:"markdown",theme:"light",value:String(h||""),onChange:M=>f(M),onMount:y,options:{minimap:{enabled:!1},fontSize:14,lineNumbers:"off",scrollBeyondLastLine:!1,automaticLayout:!0,wordWrap:"on",padding:{top:10,bottom:10},quickSuggestions:!1,suggest:{showWords:!1,showSnippets:!1,showKeywords:!1,showIcons:!1},parameterHints:{enabled:!1},hover:{enabled:!1},suggestOnTriggerCharacters:!1,acceptSuggestionOnEnter:"off",tabCompletion:"off"}})}),E.jsxs("div",{className:"d-flex justify-content-end mt-2 gap-2",children:[E.jsx(We,{size:"sm",variant:"outline-secondary",onClick:o,children:"Cancel"}),E.jsx(We,{size:"sm",variant:"primary",onClick:w,children:"Done"})]})]});if(i)return E.jsxs("div",{children:[E.jsx("h6",{children:"Changes since last save"}),t!==void 0?E.jsx(hN,{oldText:String(t),newText:String(e)}):E.jsx("div",{className:"p-3 border rounded border-success bg-light",children:"New Cell"})]});let k=e;if(typeof k=="string"){const M=a.filter(L=>!L.closed&&L.startIndex!==void 0),I=[];M.forEach(L=>{if(L.startIndex!==void 0&&L.length!==void 0&&L.startIndex>=0&&L.startIndex<k.length){const N=k.substring(L.startIndex,L.startIndex+L.length);I.push({start:L.startIndex,length:L.length,issueId:L.id,text:N})}}),I.sort((L,N)=>N.start-L.start),I.forEach(L=>{const N=k.substring(0,L.start),z=k.substring(L.start+L.length);k=`${N}<mark class="issue-marker" data-issue-id="${L.issueId}">${L.text}</mark>${z}`})}return E.jsx("div",{ref:d,onMouseUp:b,onDoubleClick:()=>!n&&l&&l(),onClick:M=>{if(M.target.classList.contains("issue-marker")){const I=M.target.dataset.issueId;window.dispatchEvent(new CustomEvent("scroll-to-issue",{detail:{id:I}}))}},onMouseMove:M=>{if(M.target.classList.contains("issue-marker")){const I=M.target.dataset.issueId,L=a.find(N=>N.id===I);L&&c&&c({id:I,x:M.clientX,y:M.clientY,issue:L})}else c&&c(null)},onMouseLeave:()=>c&&c(null),children:E.jsx(pI,{remarkPlugins:[gI],rehypePlugins:[_I],components:S,urlTransform:M=>(M.startsWith("data:")||M.startsWith("http"),M),children:String(k||"*Empty cell (double click to edit)*")})})};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var wI=function(e,t){return wI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},wI(e,t)};function _e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");wI(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var em=function(){return em=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},em.apply(this,arguments)};function V_e(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function TB(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(c){try{u(n.next(c))}catch(h){s(h)}}function l(c){try{u(n.throw(c))}catch(h){s(h)}}function u(c){c.done?a(c.value):i(c.value).then(o,l)}u((n=n.apply(e,[])).next())})}function CB(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(u){return function(c){return l([u,c])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){r.label=u[1];break}if(u[0]===6&&r.label<a[1]){r.label=a[1],a=u;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(u);break}a[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(c){u=[6,c],i=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var U_e=function(){function e(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return e}(),G_e=function(){function e(){this.browser=new U_e,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"}return e}(),Xt=new G_e;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(Xt.wxa=!0,Xt.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?Xt.worker=!0:!Xt.hasGlobalWindow||"Deno"in window?(Xt.node=!0,Xt.svgSupported=!0):W_e(navigator.userAgent,Xt);function W_e(e,t){var r=t.browser,n=e.match(/Firefox\/([\d.]+)/),i=e.match(/MSIE\s([\d.]+)/)||e.match(/Trident\/.+?rv:(([\d.]+))/),a=e.match(/Edge?\/([\d.]+)/),s=/micromessenger/i.test(e);n&&(r.firefox=!0,r.version=n[1]),i&&(r.ie=!0,r.version=i[1]),a&&(r.edge=!0,r.version=a[1],r.newEdge=+a[1].split(".")[0]>18),s&&(r.weChat=!0),t.svgSupported=typeof SVGRect<"u",t.touchEventsSupported="ontouchstart"in window&&!r.ie&&!r.edge,t.pointerEventsSupported="onpointerdown"in window&&(r.edge||r.ie&&+r.version>=11),t.domSupported=typeof document<"u";var o=document.documentElement.style;t.transform3dSupported=(r.ie&&"transition"in o||r.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in o)&&!("OTransition"in o),t.transformSupported=t.transform3dSupported||r.ie&&+r.version>=9}var fN=12,sX="sans-serif",Ku=fN+"px "+sX,$_e=20,Y_e=100,X_e="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function q_e(e){var t={};if(typeof JSON>"u")return t;for(var r=0;r<e.length;r++){var n=String.fromCharCode(r+32),i=(e.charCodeAt(r)-$_e)/Y_e;t[n]=i}return t}var K_e=q_e(X_e),Hs={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:function(){var e,t;return function(r,n){if(!e){var i=Hs.createCanvas();e=i&&i.getContext("2d")}if(e)return t!==n&&(t=e.font=n||Ku),e.measureText(r);r=r||"",n=n||Ku;var a=/((?:\d+)?\.?\d*)px/.exec(n),s=a&&+a[1]||fN,o=0;if(n.indexOf("mono")>=0)o=s*r.length;else for(var l=0;l<r.length;l++){var u=K_e[r[l]];o+=u==null?s:u*s}return{width:o}}}(),loadImage:function(e,t,r){var n=new Image;return n.onload=t,n.onerror=r,n.src=e,n}};function oX(e){for(var t in Hs)e[t]&&(Hs[t]=e[t])}var lX=ls(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(e,t){return e["[object "+t+"]"]=!0,e},{}),uX=ls(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(e,t){return e["[object "+t+"Array]"]=!0,e},{}),Np=Object.prototype.toString,iw=Array.prototype,Z_e=iw.forEach,Q_e=iw.filter,dN=iw.slice,J_e=iw.map,EB=(function(){}).constructor,B1=EB?EB.prototype:null,pN="__proto__",ewe=2311;function vN(){return ewe++}function aw(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];typeof console<"u"&&console.error.apply(console,e)}function _t(e){if(e==null||typeof e!="object")return e;var t=e,r=Np.call(e);if(r==="[object Array]"){if(!Pd(e)){t=[];for(var n=0,i=e.length;n<i;n++)t[n]=_t(e[n])}}else if(uX[r]){if(!Pd(e)){var a=e.constructor;if(a.from)t=a.from(e);else{t=new a(e.length);for(var n=0,i=e.length;n<i;n++)t[n]=e[n]}}}else if(!lX[r]&&!Pd(e)&&!Xh(e)){t={};for(var s in e)e.hasOwnProperty(s)&&s!==pN&&(t[s]=_t(e[s]))}return t}function Ot(e,t,r){if(!St(t)||!St(e))return r?_t(t):e;for(var n in t)if(t.hasOwnProperty(n)&&n!==pN){var i=e[n],a=t[n];St(a)&&St(i)&&!Oe(a)&&!Oe(i)&&!Xh(a)&&!Xh(i)&&!TI(a)&&!TI(i)&&!Pd(a)&&!Pd(i)?Ot(i,a,r):(r||!(n in e))&&(e[n]=_t(t[n]))}return e}function sw(e,t){for(var r=e[0],n=1,i=e.length;n<i;n++)r=Ot(r,e[n],t);return r}function Ne(e,t){if(Object.assign)Object.assign(e,t);else for(var r in t)t.hasOwnProperty(r)&&r!==pN&&(e[r]=t[r]);return e}function yt(e,t,r){for(var n=Kt(t),i=0,a=n.length;i<a;i++){var s=n[i];(r?t[s]!=null:e[s]==null)&&(e[s]=t[s])}return e}var twe=Hs.createCanvas;function Ut(e,t){if(e){if(e.indexOf)return e.indexOf(t);for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r}return-1}function gN(e,t){var r=e.prototype;function n(){}n.prototype=t.prototype,e.prototype=new n;for(var i in r)r.hasOwnProperty(i)&&(e.prototype[i]=r[i]);e.prototype.constructor=e,e.superClass=t}function cn(e,t,r){if(e="prototype"in e?e.prototype:e,t="prototype"in t?t.prototype:t,Object.getOwnPropertyNames)for(var n=Object.getOwnPropertyNames(t),i=0;i<n.length;i++){var a=n[i];a!=="constructor"&&(r?t[a]!=null:e[a]==null)&&(e[a]=t[a])}else yt(e,t,r)}function ai(e){return!e||typeof e=="string"?!1:typeof e.length=="number"}function q(e,t,r){if(e&&t)if(e.forEach&&e.forEach===Z_e)e.forEach(t,r);else if(e.length===+e.length)for(var n=0,i=e.length;n<i;n++)t.call(r,e[n],n,e);else for(var a in e)e.hasOwnProperty(a)&&t.call(r,e[a],a,e)}function Fe(e,t,r){if(!e)return[];if(!t)return ow(e);if(e.map&&e.map===J_e)return e.map(t,r);for(var n=[],i=0,a=e.length;i<a;i++)n.push(t.call(r,e[i],i,e));return n}function ls(e,t,r,n){if(e&&t){for(var i=0,a=e.length;i<a;i++)r=t.call(n,r,e[i],i,e);return r}}function lr(e,t,r){if(!e)return[];if(!t)return ow(e);if(e.filter&&e.filter===Q_e)return e.filter(t,r);for(var n=[],i=0,a=e.length;i<a;i++)t.call(r,e[i],i,e)&&n.push(e[i]);return n}function cX(e,t,r){if(e&&t){for(var n=0,i=e.length;n<i;n++)if(t.call(r,e[n],n,e))return e[n]}}function Kt(e){if(!e)return[];if(Object.keys)return Object.keys(e);var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(r);return t}function rwe(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return function(){return e.apply(t,r.concat(dN.call(arguments)))}}var rt=B1&&vt(B1.bind)?B1.call.bind(B1.bind):rwe;function Lt(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return function(){return e.apply(this,t.concat(dN.call(arguments)))}}function Oe(e){return Array.isArray?Array.isArray(e):Np.call(e)==="[object Array]"}function vt(e){return typeof e=="function"}function Je(e){return typeof e=="string"}function dS(e){return Np.call(e)==="[object String]"}function ar(e){return typeof e=="number"}function St(e){var t=typeof e;return t==="function"||!!e&&t==="object"}function TI(e){return!!lX[Np.call(e)]}function Hi(e){return!!uX[Np.call(e)]}function Xh(e){return typeof e=="object"&&typeof e.nodeType=="number"&&typeof e.ownerDocument=="object"}function U0(e){return e.colorStops!=null}function hX(e){return e.image!=null}function fX(e){return Np.call(e)==="[object RegExp]"}function lp(e){return e!==e}function On(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=0,n=e.length;r<n;r++)if(e[r]!=null)return e[r]}function Mt(e,t){return e??t}function Os(e,t,r){return e??t??r}function ow(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return dN.apply(e,t)}function lw(e){if(typeof e=="number")return[e,e,e,e];var t=e.length;return t===2?[e[0],e[1],e[0],e[1]]:t===3?[e[0],e[1],e[2],e[1]]:e}function Si(e,t){if(!e)throw new Error(t)}function ts(e){return e==null?null:typeof e.trim=="function"?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var dX="__ec_primitive__";function Ym(e){e[dX]=!0}function Pd(e){return e[dX]}var nwe=function(){function e(){this.data={}}return e.prototype.delete=function(t){var r=this.has(t);return r&&delete this.data[t],r},e.prototype.has=function(t){return this.data.hasOwnProperty(t)},e.prototype.get=function(t){return this.data[t]},e.prototype.set=function(t,r){return this.data[t]=r,this},e.prototype.keys=function(){return Kt(this.data)},e.prototype.forEach=function(t){var r=this.data;for(var n in r)r.hasOwnProperty(n)&&t(r[n],n)},e}(),pX=typeof Map=="function";function iwe(){return pX?new Map:new nwe}var vX=function(){function e(t){var r=Oe(t);this.data=iwe();var n=this;t instanceof e?t.each(i):t&&q(t,i);function i(a,s){r?n.set(a,s):n.set(s,a)}}return e.prototype.hasKey=function(t){return this.data.has(t)},e.prototype.get=function(t){return this.data.get(t)},e.prototype.set=function(t,r){return this.data.set(t,r),r},e.prototype.each=function(t,r){this.data.forEach(function(n,i){t.call(r,n,i)})},e.prototype.keys=function(){var t=this.data.keys();return pX?Array.from(t):t},e.prototype.removeKey=function(t){this.data.delete(t)},e}();function ct(e){return new vX(e)}function up(e,t){for(var r=new e.constructor(e.length+t.length),n=0;n<e.length;n++)r[n]=e[n];for(var i=e.length,n=0;n<t.length;n++)r[n+i]=t[n];return r}function G0(e,t){var r;if(Object.create)r=Object.create(e);else{var n=function(){};n.prototype=e,r=new n}return t&&Ne(r,t),r}function mN(e){var t=e.style;t.webkitUserSelect="none",t.userSelect="none",t.webkitTapHighlightColor="rgba(0,0,0,0)",t["-webkit-touch-callout"]="none"}function ot(e,t){return e.hasOwnProperty(t)}function ln(){}var tm=180/Math.PI;const awe=Object.freeze(Object.defineProperty({__proto__:null,HashMap:vX,RADIAN_TO_DEGREE:tm,assert:Si,bind:rt,clone:_t,concatArray:up,createCanvas:twe,createHashMap:ct,createObject:G0,curry:Lt,defaults:yt,disableUserSelect:mN,each:q,eqNaN:lp,extend:Ne,filter:lr,find:cX,guid:vN,hasOwn:ot,indexOf:Ut,inherits:gN,isArray:Oe,isArrayLike:ai,isBuiltInObject:TI,isDom:Xh,isFunction:vt,isGradientObject:U0,isImagePatternObject:hX,isNumber:ar,isObject:St,isPrimitive:Pd,isRegExp:fX,isString:Je,isStringSafe:dS,isTypedArray:Hi,keys:Kt,logError:aw,map:Fe,merge:Ot,mergeAll:sw,mixin:cn,noop:ln,normalizeCssArray:lw,reduce:ls,retrieve:On,retrieve2:Mt,retrieve3:Os,setAsPrimitive:Ym,slice:ow,trim:ts},Symbol.toStringTag,{value:"Module"}));function uc(e,t){return e==null&&(e=0),t==null&&(t=0),[e,t]}function di(e,t){return e[0]=t[0],e[1]=t[1],e}function Io(e){return[e[0],e[1]]}function gX(e,t,r){return e[0]=t,e[1]=r,e}function CI(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e}function pS(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e}function Su(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e}function Xm(e){return Math.sqrt(yN(e))}var swe=Xm;function yN(e){return e[0]*e[0]+e[1]*e[1]}var owe=yN;function lwe(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e}function uwe(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e}function cwe(e,t){return e[0]*t[0]+e[1]*t[1]}function rm(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e}function lf(e,t){var r=Xm(t);return r===0?(e[0]=0,e[1]=0):(e[0]=t[0]/r,e[1]=t[1]/r),e}function vS(e,t){return Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1]))}var ll=vS;function mX(e,t){return(e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1])}var zu=mX;function hwe(e,t){return e[0]=-t[0],e[1]=-t[1],e}function nm(e,t,r,n){return e[0]=t[0]+n*(r[0]-t[0]),e[1]=t[1]+n*(r[1]-t[1]),e}function qn(e,t,r){var n=t[0],i=t[1];return e[0]=r[0]*n+r[2]*i+r[4],e[1]=r[1]*n+r[3]*i+r[5],e}function ul(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e}function cl(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e}const fwe=Object.freeze(Object.defineProperty({__proto__:null,add:CI,applyTransform:qn,clone:Io,copy:di,create:uc,dist:ll,distSquare:zu,distance:vS,distanceSquare:mX,div:uwe,dot:cwe,len:Xm,lenSquare:yN,length:swe,lengthSquare:owe,lerp:nm,max:cl,min:ul,mul:lwe,negate:hwe,normalize:lf,scale:rm,scaleAndAdd:pS,set:gX,sub:Su},Symbol.toStringTag,{value:"Module"}));var Pf=function(){function e(t,r){this.target=t,this.topTarget=r&&r.topTarget}return e}(),dwe=function(){function e(t){this.handler=t,t.on("mousedown",this._dragStart,this),t.on("mousemove",this._drag,this),t.on("mouseup",this._dragEnd,this)}return e.prototype._dragStart=function(t){for(var r=t.target;r&&!r.draggable;)r=r.parent||r.__hostTarget;r&&(this._draggingTarget=r,r.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.handler.dispatchToElement(new Pf(r,t),"dragstart",t.event))},e.prototype._drag=function(t){var r=this._draggingTarget;if(r){var n=t.offsetX,i=t.offsetY,a=n-this._x,s=i-this._y;this._x=n,this._y=i,r.drift(a,s,t),this.handler.dispatchToElement(new Pf(r,t),"drag",t.event);var o=this.handler.findHover(n,i,r).target,l=this._dropTarget;this._dropTarget=o,r!==o&&(l&&o!==l&&this.handler.dispatchToElement(new Pf(l,t),"dragleave",t.event),o&&o!==l&&this.handler.dispatchToElement(new Pf(o,t),"dragenter",t.event))}},e.prototype._dragEnd=function(t){var r=this._draggingTarget;r&&(r.dragging=!1),this.handler.dispatchToElement(new Pf(r,t),"dragend",t.event),this._dropTarget&&this.handler.dispatchToElement(new Pf(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null},e}(),cs=function(){function e(t){t&&(this._$eventProcessor=t)}return e.prototype.on=function(t,r,n,i){this._$handlers||(this._$handlers={});var a=this._$handlers;if(typeof r=="function"&&(i=n,n=r,r=null),!n||!t)return this;var s=this._$eventProcessor;r!=null&&s&&s.normalizeQuery&&(r=s.normalizeQuery(r)),a[t]||(a[t]=[]);for(var o=0;o<a[t].length;o++)if(a[t][o].h===n)return this;var l={h:n,query:r,ctx:i||this,callAtLast:n.zrEventfulCallAtLast},u=a[t].length-1,c=a[t][u];return c&&c.callAtLast?a[t].splice(u,0,l):a[t].push(l),this},e.prototype.isSilent=function(t){var r=this._$handlers;return!r||!r[t]||!r[t].length},e.prototype.off=function(t,r){var n=this._$handlers;if(!n)return this;if(!t)return this._$handlers={},this;if(r){if(n[t]){for(var i=[],a=0,s=n[t].length;a<s;a++)n[t][a].h!==r&&i.push(n[t][a]);n[t]=i}n[t]&&n[t].length===0&&delete n[t]}else delete n[t];return this},e.prototype.trigger=function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];if(!this._$handlers)return this;var i=this._$handlers[t],a=this._$eventProcessor;if(i)for(var s=r.length,o=i.length,l=0;l<o;l++){var u=i[l];if(!(a&&a.filter&&u.query!=null&&!a.filter(t,u.query)))switch(s){case 0:u.h.call(u.ctx);break;case 1:u.h.call(u.ctx,r[0]);break;case 2:u.h.call(u.ctx,r[0],r[1]);break;default:u.h.apply(u.ctx,r);break}}return a&&a.afterTrigger&&a.afterTrigger(t),this},e.prototype.triggerWithContext=function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];if(!this._$handlers)return this;var i=this._$handlers[t],a=this._$eventProcessor;if(i)for(var s=r.length,o=r[s-1],l=i.length,u=0;u<l;u++){var c=i[u];if(!(a&&a.filter&&c.query!=null&&!a.filter(t,c.query)))switch(s){case 0:c.h.call(o);break;case 1:c.h.call(o,r[0]);break;case 2:c.h.call(o,r[0],r[1]);break;default:c.h.apply(o,r.slice(1,s-1));break}}return a&&a.afterTrigger&&a.afterTrigger(t),this},e}(),pwe=Math.log(2);function EI(e,t,r,n,i,a){var s=n+"-"+i,o=e.length;if(a.hasOwnProperty(s))return a[s];if(t===1){var l=Math.round(Math.log((1<<o)-1&~i)/pwe);return e[r][l]}for(var u=n|1<<r,c=r+1;n&1<<c;)c++;for(var h=0,f=0,d=0;f<o;f++){var v=1<<f;v&i||(h+=(d%2?-1:1)*e[r][f]*EI(e,t-1,c,u,i|v,a),d++)}return a[s]=h,h}function AB(e,t){var r=[[e[0],e[1],1,0,0,0,-t[0]*e[0],-t[0]*e[1]],[0,0,0,e[0],e[1],1,-t[1]*e[0],-t[1]*e[1]],[e[2],e[3],1,0,0,0,-t[2]*e[2],-t[2]*e[3]],[0,0,0,e[2],e[3],1,-t[3]*e[2],-t[3]*e[3]],[e[4],e[5],1,0,0,0,-t[4]*e[4],-t[4]*e[5]],[0,0,0,e[4],e[5],1,-t[5]*e[4],-t[5]*e[5]],[e[6],e[7],1,0,0,0,-t[6]*e[6],-t[6]*e[7]],[0,0,0,e[6],e[7],1,-t[7]*e[6],-t[7]*e[7]]],n={},i=EI(r,8,0,0,0,n);if(i!==0){for(var a=[],s=0;s<8;s++)for(var o=0;o<8;o++)a[o]==null&&(a[o]=0),a[o]+=((s+o)%2?-1:1)*EI(r,7,s===0?1:0,1<<s,1<<o,n)/i*t[s];return function(l,u,c){var h=u*a[6]+c*a[7]+1;l[0]=(u*a[0]+c*a[1]+a[2])/h,l[1]=(u*a[3]+c*a[4]+a[5])/h}}}var kB="___zrEVENTSAVED",y2=[];function vwe(e,t,r,n,i){return AI(y2,t,n,i,!0)&&AI(e,r,y2[0],y2[1])}function AI(e,t,r,n,i){if(t.getBoundingClientRect&&Xt.domSupported&&!yX(t)){var a=t[kB]||(t[kB]={}),s=gwe(t,a),o=mwe(s,a,i);if(o)return o(e,r,n),!0}return!1}function gwe(e,t){var r=t.markers;if(r)return r;r=t.markers=[];for(var n=["left","right"],i=["top","bottom"],a=0;a<4;a++){var s=document.createElement("div"),o=s.style,l=a%2,u=(a>>1)%2;o.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",n[l]+":0",i[u]+":0",n[1-l]+":auto",i[1-u]+":auto",""].join("!important;"),e.appendChild(s),r.push(s)}return r}function mwe(e,t,r){for(var n=r?"invTrans":"trans",i=t[n],a=t.srcCoords,s=[],o=[],l=!0,u=0;u<4;u++){var c=e[u].getBoundingClientRect(),h=2*u,f=c.left,d=c.top;s.push(f,d),l=l&&a&&f===a[h]&&d===a[h+1],o.push(e[u].offsetLeft,e[u].offsetTop)}return l&&i?i:(t.srcCoords=s,t[n]=r?AB(o,s):AB(s,o))}function yX(e){return e.nodeName.toUpperCase()==="CANVAS"}var ywe=/([&<>"'])/g,xwe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function gi(e){return e==null?"":(e+"").replace(ywe,function(t,r){return xwe[r]})}var bwe=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,x2=[],Swe=Xt.browser.firefox&&+Xt.browser.version.split(".")[0]<39;function kI(e,t,r,n){return r=r||{},n?IB(e,t,r):Swe&&t.layerX!=null&&t.layerX!==t.offsetX?(r.zrX=t.layerX,r.zrY=t.layerY):t.offsetX!=null?(r.zrX=t.offsetX,r.zrY=t.offsetY):IB(e,t,r),r}function IB(e,t,r){if(Xt.domSupported&&e.getBoundingClientRect){var n=t.clientX,i=t.clientY;if(yX(e)){var a=e.getBoundingClientRect();r.zrX=n-a.left,r.zrY=i-a.top;return}else if(AI(x2,e,n,i)){r.zrX=x2[0],r.zrY=x2[1];return}}r.zrX=r.zrY=0}function xN(e){return e||window.event}function Ha(e,t,r){if(t=xN(t),t.zrX!=null)return t;var n=t.type,i=n&&n.indexOf("touch")>=0;if(i){var s=n!=="touchend"?t.targetTouches[0]:t.changedTouches[0];s&&kI(e,s,t,r)}else{kI(e,t,t,r);var a=_we(t);t.zrDelta=a?a/120:-(t.detail||0)/3}var o=t.button;return t.which==null&&o!==void 0&&bwe.test(t.type)&&(t.which=o&1?1:o&2?3:o&4?2:0),t}function _we(e){var t=e.wheelDelta;if(t)return t;var r=e.deltaX,n=e.deltaY;if(r==null||n==null)return t;var i=Math.abs(n!==0?n:r),a=n>0?-1:n<0?1:r>0?-1:1;return 3*i*a}function II(e,t,r,n){e.addEventListener(t,r,n)}function wwe(e,t,r,n){e.removeEventListener(t,r,n)}var wl=function(e){e.preventDefault(),e.stopPropagation(),e.cancelBubble=!0};function DB(e){return e.which===2||e.which===3}var Twe=function(){function e(){this._track=[]}return e.prototype.recognize=function(t,r,n){return this._doTrack(t,r,n),this._recognize(t)},e.prototype.clear=function(){return this._track.length=0,this},e.prototype._doTrack=function(t,r,n){var i=t.touches;if(i){for(var a={points:[],touches:[],target:r,event:t},s=0,o=i.length;s<o;s++){var l=i[s],u=kI(n,l,{});a.points.push([u.zrX,u.zrY]),a.touches.push(l)}this._track.push(a)}},e.prototype._recognize=function(t){for(var r in b2)if(b2.hasOwnProperty(r)){var n=b2[r](this._track,t);if(n)return n}},e}();function MB(e){var t=e[1][0]-e[0][0],r=e[1][1]-e[0][1];return Math.sqrt(t*t+r*r)}function Cwe(e){return[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]}var b2={pinch:function(e,t){var r=e.length;if(r){var n=(e[r-1]||{}).points,i=(e[r-2]||{}).points||n;if(i&&i.length>1&&n&&n.length>1){var a=MB(n)/MB(i);!isFinite(a)&&(a=1),t.pinchScale=a;var s=Cwe(n);return t.pinchX=s[0],t.pinchY=s[1],{type:"pinch",target:e[0].target,event:t}}}}};function ua(){return[1,0,0,1,0,0]}function W0(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function uw(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function Do(e,t,r){var n=t[0]*r[0]+t[2]*r[1],i=t[1]*r[0]+t[3]*r[1],a=t[0]*r[2]+t[2]*r[3],s=t[1]*r[2]+t[3]*r[3],o=t[0]*r[4]+t[2]*r[5]+t[4],l=t[1]*r[4]+t[3]*r[5]+t[5];return e[0]=n,e[1]=i,e[2]=a,e[3]=s,e[4]=o,e[5]=l,e}function Vs(e,t,r){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4]+r[0],e[5]=t[5]+r[1],e}function cc(e,t,r,n){n===void 0&&(n=[0,0]);var i=t[0],a=t[2],s=t[4],o=t[1],l=t[3],u=t[5],c=Math.sin(r),h=Math.cos(r);return e[0]=i*h+o*c,e[1]=-i*c+o*h,e[2]=a*h+l*c,e[3]=-a*c+h*l,e[4]=h*(s-n[0])+c*(u-n[1])+n[0],e[5]=h*(u-n[1])-c*(s-n[0])+n[1],e}function cw(e,t,r){var n=r[0],i=r[1];return e[0]=t[0]*n,e[1]=t[1]*i,e[2]=t[2]*n,e[3]=t[3]*i,e[4]=t[4]*n,e[5]=t[5]*i,e}function uf(e,t){var r=t[0],n=t[2],i=t[4],a=t[1],s=t[3],o=t[5],l=r*s-a*n;return l?(l=1/l,e[0]=s*l,e[1]=-a*l,e[2]=-n*l,e[3]=r*l,e[4]=(n*o-s*i)*l,e[5]=(a*i-r*o)*l,e):null}function xX(e){var t=ua();return uw(t,e),t}const Ewe=Object.freeze(Object.defineProperty({__proto__:null,clone:xX,copy:uw,create:ua,identity:W0,invert:uf,mul:Do,rotate:cc,scale:cw,translate:Vs},Symbol.toStringTag,{value:"Module"}));var zt=function(){function e(t,r){this.x=t||0,this.y=r||0}return e.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this},e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.set=function(t,r){return this.x=t,this.y=r,this},e.prototype.equal=function(t){return t.x===this.x&&t.y===this.y},e.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},e.prototype.scale=function(t){this.x*=t,this.y*=t},e.prototype.scaleAndAdd=function(t,r){this.x+=t.x*r,this.y+=t.y*r},e.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this},e.prototype.dot=function(t){return this.x*t.x+this.y*t.y},e.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},e.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},e.prototype.normalize=function(){var t=this.len();return this.x/=t,this.y/=t,this},e.prototype.distance=function(t){var r=this.x-t.x,n=this.y-t.y;return Math.sqrt(r*r+n*n)},e.prototype.distanceSquare=function(t){var r=this.x-t.x,n=this.y-t.y;return r*r+n*n},e.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},e.prototype.transform=function(t){if(t){var r=this.x,n=this.y;return this.x=t[0]*r+t[2]*n+t[4],this.y=t[1]*r+t[3]*n+t[5],this}},e.prototype.toArray=function(t){return t[0]=this.x,t[1]=this.y,t},e.prototype.fromArray=function(t){this.x=t[0],this.y=t[1]},e.set=function(t,r,n){t.x=r,t.y=n},e.copy=function(t,r){t.x=r.x,t.y=r.y},e.len=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},e.lenSquare=function(t){return t.x*t.x+t.y*t.y},e.dot=function(t,r){return t.x*r.x+t.y*r.y},e.add=function(t,r,n){t.x=r.x+n.x,t.y=r.y+n.y},e.sub=function(t,r,n){t.x=r.x-n.x,t.y=r.y-n.y},e.scale=function(t,r,n){t.x=r.x*n,t.y=r.y*n},e.scaleAndAdd=function(t,r,n,i){t.x=r.x+n.x*i,t.y=r.y+n.y*i},e.lerp=function(t,r,n,i){var a=1-i;t.x=a*r.x+i*n.x,t.y=a*r.y+i*n.y},e}(),F1=Math.min,z1=Math.max,kc=new zt,Ic=new zt,Dc=new zt,Mc=new zt,zv=new zt,jv=new zt,jt=function(){function e(t,r,n,i){n<0&&(t=t+n,n=-n),i<0&&(r=r+i,i=-i),this.x=t,this.y=r,this.width=n,this.height=i}return e.prototype.union=function(t){var r=F1(t.x,this.x),n=F1(t.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=z1(t.x+t.width,this.x+this.width)-r:this.width=t.width,isFinite(this.y)&&isFinite(this.height)?this.height=z1(t.y+t.height,this.y+this.height)-n:this.height=t.height,this.x=r,this.y=n},e.prototype.applyTransform=function(t){e.applyTransform(this,this,t)},e.prototype.calculateTransform=function(t){var r=this,n=t.width/r.width,i=t.height/r.height,a=ua();return Vs(a,a,[-r.x,-r.y]),cw(a,a,[n,i]),Vs(a,a,[t.x,t.y]),a},e.prototype.intersect=function(t,r){if(!t)return!1;t instanceof e||(t=e.create(t));var n=this,i=n.x,a=n.x+n.width,s=n.y,o=n.y+n.height,l=t.x,u=t.x+t.width,c=t.y,h=t.y+t.height,f=!(a<l||u<i||o<c||h<s);if(r){var d=1/0,v=0,m=Math.abs(a-l),y=Math.abs(u-i),b=Math.abs(o-c),S=Math.abs(h-s),w=Math.min(m,y),k=Math.min(b,S);a<l||u<i?w>v&&(v=w,m<y?zt.set(jv,-m,0):zt.set(jv,y,0)):w<d&&(d=w,m<y?zt.set(zv,m,0):zt.set(zv,-y,0)),o<c||h<s?k>v&&(v=k,b<S?zt.set(jv,0,-b):zt.set(jv,0,S)):w<d&&(d=w,b<S?zt.set(zv,0,b):zt.set(zv,0,-S))}return r&&zt.copy(r,f?zv:jv),f},e.prototype.contain=function(t,r){var n=this;return t>=n.x&&t<=n.x+n.width&&r>=n.y&&r<=n.y+n.height},e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.copy=function(t){e.copy(this,t)},e.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},e.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},e.prototype.isZero=function(){return this.width===0||this.height===0},e.create=function(t){return new e(t.x,t.y,t.width,t.height)},e.copy=function(t,r){t.x=r.x,t.y=r.y,t.width=r.width,t.height=r.height},e.applyTransform=function(t,r,n){if(!n){t!==r&&e.copy(t,r);return}if(n[1]<1e-5&&n[1]>-1e-5&&n[2]<1e-5&&n[2]>-1e-5){var i=n[0],a=n[3],s=n[4],o=n[5];t.x=r.x*i+s,t.y=r.y*a+o,t.width=r.width*i,t.height=r.height*a,t.width<0&&(t.x+=t.width,t.width=-t.width),t.height<0&&(t.y+=t.height,t.height=-t.height);return}kc.x=Dc.x=r.x,kc.y=Mc.y=r.y,Ic.x=Mc.x=r.x+r.width,Ic.y=Dc.y=r.y+r.height,kc.transform(n),Mc.transform(n),Ic.transform(n),Dc.transform(n),t.x=F1(kc.x,Ic.x,Dc.x,Mc.x),t.y=F1(kc.y,Ic.y,Dc.y,Mc.y);var l=z1(kc.x,Ic.x,Dc.x,Mc.x),u=z1(kc.y,Ic.y,Dc.y,Mc.y);t.width=l-t.x,t.height=u-t.y},e}(),bX="silent";function Awe(e,t,r){return{type:e,event:r,target:t.target,topTarget:t.topTarget,cancelBubble:!1,offsetX:r.zrX,offsetY:r.zrY,gestureEvent:r.gestureEvent,pinchX:r.pinchX,pinchY:r.pinchY,pinchScale:r.pinchScale,wheelDelta:r.zrDelta,zrByTouch:r.zrByTouch,which:r.which,stop:kwe}}function kwe(){wl(this.event)}var Iwe=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.handler=null,r}return t.prototype.dispose=function(){},t.prototype.setCursor=function(){},t}(cs),Hv=function(){function e(t,r){this.x=t,this.y=r}return e}(),Dwe=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],S2=new jt(0,0,0,0),SX=function(e){_e(t,e);function t(r,n,i,a,s){var o=e.call(this)||this;return o._hovered=new Hv(0,0),o.storage=r,o.painter=n,o.painterRoot=a,o._pointerSize=s,i=i||new Iwe,o.proxy=null,o.setHandlerProxy(i),o._draggingMgr=new dwe(o),o}return t.prototype.setHandlerProxy=function(r){this.proxy&&this.proxy.dispose(),r&&(q(Dwe,function(n){r.on&&r.on(n,this[n],this)},this),r.handler=this),this.proxy=r},t.prototype.mousemove=function(r){var n=r.zrX,i=r.zrY,a=_X(this,n,i),s=this._hovered,o=s.target;o&&!o.__zr&&(s=this.findHover(s.x,s.y),o=s.target);var l=this._hovered=a?new Hv(n,i):this.findHover(n,i),u=l.target,c=this.proxy;c.setCursor&&c.setCursor(u?u.cursor:"default"),o&&u!==o&&this.dispatchToElement(s,"mouseout",r),this.dispatchToElement(l,"mousemove",r),u&&u!==o&&this.dispatchToElement(l,"mouseover",r)},t.prototype.mouseout=function(r){var n=r.zrEventControl;n!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",r),n!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:r})},t.prototype.resize=function(){this._hovered=new Hv(0,0)},t.prototype.dispatch=function(r,n){var i=this[r];i&&i.call(this,n)},t.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},t.prototype.setCursorStyle=function(r){var n=this.proxy;n.setCursor&&n.setCursor(r)},t.prototype.dispatchToElement=function(r,n,i){r=r||{};var a=r.target;if(!(a&&a.silent)){for(var s="on"+n,o=Awe(n,r,i);a&&(a[s]&&(o.cancelBubble=!!a[s].call(a,o)),a.trigger(n,o),a=a.__hostTarget?a.__hostTarget:a.parent,!o.cancelBubble););o.cancelBubble||(this.trigger(n,o),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(l){typeof l[s]=="function"&&l[s].call(l,o),l.trigger&&l.trigger(n,o)}))}},t.prototype.findHover=function(r,n,i){var a=this.storage.getDisplayList(),s=new Hv(r,n);if(LB(a,s,r,n,i),this._pointerSize&&!s.target){for(var o=[],l=this._pointerSize,u=l/2,c=new jt(r-u,n-u,l,l),h=a.length-1;h>=0;h--){var f=a[h];f!==i&&!f.ignore&&!f.ignoreCoarsePointer&&(!f.parent||!f.parent.ignoreCoarsePointer)&&(S2.copy(f.getBoundingRect()),f.transform&&S2.applyTransform(f.transform),S2.intersect(c)&&o.push(f))}if(o.length)for(var d=4,v=Math.PI/12,m=Math.PI*2,y=0;y<u;y+=d)for(var b=0;b<m;b+=v){var S=r+y*Math.cos(b),w=n+y*Math.sin(b);if(LB(o,s,S,w,i),s.target)return s}}return s},t.prototype.processGesture=function(r,n){this._gestureMgr||(this._gestureMgr=new Twe);var i=this._gestureMgr;n==="start"&&i.clear();var a=i.recognize(r,this.findHover(r.zrX,r.zrY,null).target,this.proxy.dom);if(n==="end"&&i.clear(),a){var s=a.type;r.gestureEvent=s;var o=new Hv;o.target=a.target,this.dispatchToElement(o,s,a.event)}},t}(cs);q(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(e){SX.prototype[e]=function(t){var r=t.zrX,n=t.zrY,i=_X(this,r,n),a,s;if((e!=="mouseup"||!i)&&(a=this.findHover(r,n),s=a.target),e==="mousedown")this._downEl=s,this._downPoint=[t.zrX,t.zrY],this._upEl=s;else if(e==="mouseup")this._upEl=s;else if(e==="click"){if(this._downEl!==this._upEl||!this._downPoint||ll(this._downPoint,[t.zrX,t.zrY])>4)return;this._downPoint=null}this.dispatchToElement(a,e,t)}});function Mwe(e,t,r){if(e[e.rectHover?"rectContain":"contain"](t,r)){for(var n=e,i=void 0,a=!1;n;){if(n.ignoreClip&&(a=!0),!a){var s=n.getClipPath();if(s&&!s.contain(t,r))return!1}n.silent&&(i=!0);var o=n.__hostTarget;n=o||n.parent}return i?bX:!0}return!1}function LB(e,t,r,n,i){for(var a=e.length-1;a>=0;a--){var s=e[a],o=void 0;if(s!==i&&!s.ignore&&(o=Mwe(s,r,n))&&(!t.topTarget&&(t.topTarget=s),o!==bX)){t.target=s;break}}}function _X(e,t,r){var n=e.painter;return t<0||t>n.getWidth()||r<0||r>n.getHeight()}var wX=32,Vv=7;function Lwe(e){for(var t=0;e>=wX;)t|=e&1,e>>=1;return e+t}function NB(e,t,r,n){var i=t+1;if(i===r)return 1;if(n(e[i++],e[t])<0){for(;i<r&&n(e[i],e[i-1])<0;)i++;Nwe(e,t,i)}else for(;i<r&&n(e[i],e[i-1])>=0;)i++;return i-t}function Nwe(e,t,r){for(r--;t<r;){var n=e[t];e[t++]=e[r],e[r--]=n}}function PB(e,t,r,n,i){for(n===t&&n++;n<r;n++){for(var a=e[n],s=t,o=n,l;s<o;)l=s+o>>>1,i(a,e[l])<0?o=l:s=l+1;var u=n-s;switch(u){case 3:e[s+3]=e[s+2];case 2:e[s+2]=e[s+1];case 1:e[s+1]=e[s];break;default:for(;u>0;)e[s+u]=e[s+u-1],u--}e[s]=a}}function _2(e,t,r,n,i,a){var s=0,o=0,l=1;if(a(e,t[r+i])>0){for(o=n-i;l<o&&a(e,t[r+i+l])>0;)s=l,l=(l<<1)+1,l<=0&&(l=o);l>o&&(l=o),s+=i,l+=i}else{for(o=i+1;l<o&&a(e,t[r+i-l])<=0;)s=l,l=(l<<1)+1,l<=0&&(l=o);l>o&&(l=o);var u=s;s=i-l,l=i-u}for(s++;s<l;){var c=s+(l-s>>>1);a(e,t[r+c])>0?s=c+1:l=c}return l}function w2(e,t,r,n,i,a){var s=0,o=0,l=1;if(a(e,t[r+i])<0){for(o=i+1;l<o&&a(e,t[r+i-l])<0;)s=l,l=(l<<1)+1,l<=0&&(l=o);l>o&&(l=o);var u=s;s=i-l,l=i-u}else{for(o=n-i;l<o&&a(e,t[r+i+l])>=0;)s=l,l=(l<<1)+1,l<=0&&(l=o);l>o&&(l=o),s+=i,l+=i}for(s++;s<l;){var c=s+(l-s>>>1);a(e,t[r+c])<0?l=c:s=c+1}return l}function Pwe(e,t){var r=Vv,n,i,a=0,s=[];n=[],i=[];function o(d,v){n[a]=d,i[a]=v,a+=1}function l(){for(;a>1;){var d=a-2;if(d>=1&&i[d-1]<=i[d]+i[d+1]||d>=2&&i[d-2]<=i[d]+i[d-1])i[d-1]<i[d+1]&&d--;else if(i[d]>i[d+1])break;c(d)}}function u(){for(;a>1;){var d=a-2;d>0&&i[d-1]<i[d+1]&&d--,c(d)}}function c(d){var v=n[d],m=i[d],y=n[d+1],b=i[d+1];i[d]=m+b,d===a-3&&(n[d+1]=n[d+2],i[d+1]=i[d+2]),a--;var S=w2(e[y],e,v,m,0,t);v+=S,m-=S,m!==0&&(b=_2(e[v+m-1],e,y,b,b-1,t),b!==0&&(m<=b?h(v,m,y,b):f(v,m,y,b)))}function h(d,v,m,y){var b=0;for(b=0;b<v;b++)s[b]=e[d+b];var S=0,w=m,k=d;if(e[k++]=e[w++],--y===0){for(b=0;b<v;b++)e[k+b]=s[S+b];return}if(v===1){for(b=0;b<y;b++)e[k+b]=e[w+b];e[k+y]=s[S];return}for(var M=r,I,L,N;;){I=0,L=0,N=!1;do if(t(e[w],s[S])<0){if(e[k++]=e[w++],L++,I=0,--y===0){N=!0;break}}else if(e[k++]=s[S++],I++,L=0,--v===1){N=!0;break}while((I|L)<M);if(N)break;do{if(I=w2(e[w],s,S,v,0,t),I!==0){for(b=0;b<I;b++)e[k+b]=s[S+b];if(k+=I,S+=I,v-=I,v<=1){N=!0;break}}if(e[k++]=e[w++],--y===0){N=!0;break}if(L=_2(s[S],e,w,y,0,t),L!==0){for(b=0;b<L;b++)e[k+b]=e[w+b];if(k+=L,w+=L,y-=L,y===0){N=!0;break}}if(e[k++]=s[S++],--v===1){N=!0;break}M--}while(I>=Vv||L>=Vv);if(N)break;M<0&&(M=0),M+=2}if(r=M,r<1&&(r=1),v===1){for(b=0;b<y;b++)e[k+b]=e[w+b];e[k+y]=s[S]}else{if(v===0)throw new Error;for(b=0;b<v;b++)e[k+b]=s[S+b]}}function f(d,v,m,y){var b=0;for(b=0;b<y;b++)s[b]=e[m+b];var S=d+v-1,w=y-1,k=m+y-1,M=0,I=0;if(e[k--]=e[S--],--v===0){for(M=k-(y-1),b=0;b<y;b++)e[M+b]=s[b];return}if(y===1){for(k-=v,S-=v,I=k+1,M=S+1,b=v-1;b>=0;b--)e[I+b]=e[M+b];e[k]=s[w];return}for(var L=r;;){var N=0,z=0,B=!1;do if(t(s[w],e[S])<0){if(e[k--]=e[S--],N++,z=0,--v===0){B=!0;break}}else if(e[k--]=s[w--],z++,N=0,--y===1){B=!0;break}while((N|z)<L);if(B)break;do{if(N=v-w2(s[w],e,d,v,v-1,t),N!==0){for(k-=N,S-=N,v-=N,I=k+1,M=S+1,b=N-1;b>=0;b--)e[I+b]=e[M+b];if(v===0){B=!0;break}}if(e[k--]=s[w--],--y===1){B=!0;break}if(z=y-_2(e[S],s,0,y,y-1,t),z!==0){for(k-=z,w-=z,y-=z,I=k+1,M=w+1,b=0;b<z;b++)e[I+b]=s[M+b];if(y<=1){B=!0;break}}if(e[k--]=e[S--],--v===0){B=!0;break}L--}while(N>=Vv||z>=Vv);if(B)break;L<0&&(L=0),L+=2}if(r=L,r<1&&(r=1),y===1){for(k-=v,S-=v,I=k+1,M=S+1,b=v-1;b>=0;b--)e[I+b]=e[M+b];e[k]=s[w]}else{if(y===0)throw new Error;for(M=k-(y-1),b=0;b<y;b++)e[M+b]=s[b]}}return{mergeRuns:l,forceMergeRuns:u,pushRun:o}}function ub(e,t,r,n){r||(r=0),n||(n=e.length);var i=n-r;if(!(i<2)){var a=0;if(i<wX){a=NB(e,r,n,t),PB(e,r,n,r+a,t);return}var s=Pwe(e,t),o=Lwe(i);do{if(a=NB(e,r,n,t),a<o){var l=i;l>o&&(l=o),PB(e,r,r+l,r+a,t),a=l}s.pushRun(r,a),s.mergeRuns(),i-=a,r+=a}while(i!==0);s.forceMergeRuns()}}var ya=1,Sg=2,id=4,RB=!1;function T2(){RB||(RB=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function OB(e,t){return e.zlevel===t.zlevel?e.z===t.z?e.z2-t.z2:e.z-t.z:e.zlevel-t.zlevel}var Rwe=function(){function e(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=OB}return e.prototype.traverse=function(t,r){for(var n=0;n<this._roots.length;n++)this._roots[n].traverse(t,r)},e.prototype.getDisplayList=function(t,r){r=r||!1;var n=this._displayList;return(t||!n.length)&&this.updateDisplayList(r),n},e.prototype.updateDisplayList=function(t){this._displayListLen=0;for(var r=this._roots,n=this._displayList,i=0,a=r.length;i<a;i++)this._updateAndAddDisplayable(r[i],null,t);n.length=this._displayListLen,ub(n,OB)},e.prototype._updateAndAddDisplayable=function(t,r,n){if(!(t.ignore&&!n)){t.beforeUpdate(),t.update(),t.afterUpdate();var i=t.getClipPath();if(t.ignoreClip)r=null;else if(i){r?r=r.slice():r=[];for(var a=i,s=t;a;)a.parent=s,a.updateTransform(),r.push(a),s=a,a=a.getClipPath()}if(t.childrenRef){for(var o=t.childrenRef(),l=0;l<o.length;l++){var u=o[l];t.__dirty&&(u.__dirty|=ya),this._updateAndAddDisplayable(u,r,n)}t.__dirty=0}else{var c=t;r&&r.length?c.__clipPaths=r:c.__clipPaths&&c.__clipPaths.length>0&&(c.__clipPaths=[]),isNaN(c.z)&&(T2(),c.z=0),isNaN(c.z2)&&(T2(),c.z2=0),isNaN(c.zlevel)&&(T2(),c.zlevel=0),this._displayList[this._displayListLen++]=c}var h=t.getDecalElement&&t.getDecalElement();h&&this._updateAndAddDisplayable(h,r,n);var f=t.getTextGuideLine();f&&this._updateAndAddDisplayable(f,r,n);var d=t.getTextContent();d&&this._updateAndAddDisplayable(d,r,n)}},e.prototype.addRoot=function(t){t.__zr&&t.__zr.storage===this||this._roots.push(t)},e.prototype.delRoot=function(t){if(t instanceof Array){for(var r=0,n=t.length;r<n;r++)this.delRoot(t[r]);return}var i=Ut(this._roots,t);i>=0&&this._roots.splice(i,1)},e.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},e.prototype.getRoots=function(){return this._roots},e.prototype.dispose=function(){this._displayList=null,this._roots=null},e}(),gS;gS=Xt.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(e){return setTimeout(e,16)};var im={linear:function(e){return e},quadraticIn:function(e){return e*e},quadraticOut:function(e){return e*(2-e)},quadraticInOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)},cubicIn:function(e){return e*e*e},cubicOut:function(e){return--e*e*e+1},cubicInOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},quarticIn:function(e){return e*e*e*e},quarticOut:function(e){return 1- --e*e*e*e},quarticInOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},quinticIn:function(e){return e*e*e*e*e},quinticOut:function(e){return--e*e*e*e*e+1},quinticInOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},sinusoidalIn:function(e){return 1-Math.cos(e*Math.PI/2)},sinusoidalOut:function(e){return Math.sin(e*Math.PI/2)},sinusoidalInOut:function(e){return .5*(1-Math.cos(Math.PI*e))},exponentialIn:function(e){return e===0?0:Math.pow(1024,e-1)},exponentialOut:function(e){return e===1?1:1-Math.pow(2,-10*e)},exponentialInOut:function(e){return e===0?0:e===1?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(-Math.pow(2,-10*(e-1))+2)},circularIn:function(e){return 1-Math.sqrt(1-e*e)},circularOut:function(e){return Math.sqrt(1- --e*e)},circularInOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},elasticIn:function(e){var t,r=.1,n=.4;return e===0?0:e===1?1:(!r||r<1?(r=1,t=n/4):t=n*Math.asin(1/r)/(2*Math.PI),-(r*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n)))},elasticOut:function(e){var t,r=.1,n=.4;return e===0?0:e===1?1:(!r||r<1?(r=1,t=n/4):t=n*Math.asin(1/r)/(2*Math.PI),r*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/n)+1)},elasticInOut:function(e){var t,r=.1,n=.4;return e===0?0:e===1?1:(!r||r<1?(r=1,t=n/4):t=n*Math.asin(1/r)/(2*Math.PI),(e*=2)<1?-.5*(r*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n)):r*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n)*.5+1)},backIn:function(e){var t=1.70158;return e*e*((t+1)*e-t)},backOut:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},backInOut:function(e){var t=2.5949095;return(e*=2)<1?.5*(e*e*((t+1)*e-t)):.5*((e-=2)*e*((t+1)*e+t)+2)},bounceIn:function(e){return 1-im.bounceOut(1-e)},bounceOut:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},bounceInOut:function(e){return e<.5?im.bounceIn(e*2)*.5:im.bounceOut(e*2-1)*.5+.5}},j1=Math.pow,ju=Math.sqrt,mS=1e-8,TX=1e-4,BB=ju(3),H1=1/3,bo=uc(),Ka=uc(),Rd=uc();function _u(e){return e>-mS&&e<mS}function CX(e){return e>mS||e<-mS}function Pn(e,t,r,n,i){var a=1-i;return a*a*(a*e+3*i*t)+i*i*(i*n+3*a*r)}function FB(e,t,r,n,i){var a=1-i;return 3*(((t-e)*a+2*(r-t)*i)*a+(n-r)*i*i)}function yS(e,t,r,n,i,a){var s=n+3*(t-r)-e,o=3*(r-t*2+e),l=3*(t-e),u=e-i,c=o*o-3*s*l,h=o*l-9*s*u,f=l*l-3*o*u,d=0;if(_u(c)&&_u(h))if(_u(o))a[0]=0;else{var v=-l/o;v>=0&&v<=1&&(a[d++]=v)}else{var m=h*h-4*c*f;if(_u(m)){var y=h/c,v=-o/s+y,b=-y/2;v>=0&&v<=1&&(a[d++]=v),b>=0&&b<=1&&(a[d++]=b)}else if(m>0){var S=ju(m),w=c*o+1.5*s*(-h+S),k=c*o+1.5*s*(-h-S);w<0?w=-j1(-w,H1):w=j1(w,H1),k<0?k=-j1(-k,H1):k=j1(k,H1);var v=(-o-(w+k))/(3*s);v>=0&&v<=1&&(a[d++]=v)}else{var M=(2*c*o-3*s*h)/(2*ju(c*c*c)),I=Math.acos(M)/3,L=ju(c),N=Math.cos(I),v=(-o-2*L*N)/(3*s),b=(-o+L*(N+BB*Math.sin(I)))/(3*s),z=(-o+L*(N-BB*Math.sin(I)))/(3*s);v>=0&&v<=1&&(a[d++]=v),b>=0&&b<=1&&(a[d++]=b),z>=0&&z<=1&&(a[d++]=z)}}return d}function EX(e,t,r,n,i){var a=6*r-12*t+6*e,s=9*t+3*n-3*e-9*r,o=3*t-3*e,l=0;if(_u(s)){if(CX(a)){var u=-o/a;u>=0&&u<=1&&(i[l++]=u)}}else{var c=a*a-4*s*o;if(_u(c))i[0]=-a/(2*s);else if(c>0){var h=ju(c),u=(-a+h)/(2*s),f=(-a-h)/(2*s);u>=0&&u<=1&&(i[l++]=u),f>=0&&f<=1&&(i[l++]=f)}}return l}function Zu(e,t,r,n,i,a){var s=(t-e)*i+e,o=(r-t)*i+t,l=(n-r)*i+r,u=(o-s)*i+s,c=(l-o)*i+o,h=(c-u)*i+u;a[0]=e,a[1]=s,a[2]=u,a[3]=h,a[4]=h,a[5]=c,a[6]=l,a[7]=n}function AX(e,t,r,n,i,a,s,o,l,u,c){var h,f=.005,d=1/0,v,m,y,b;bo[0]=l,bo[1]=u;for(var S=0;S<1;S+=.05)Ka[0]=Pn(e,r,i,s,S),Ka[1]=Pn(t,n,a,o,S),y=zu(bo,Ka),y<d&&(h=S,d=y);d=1/0;for(var w=0;w<32&&!(f<TX);w++)v=h-f,m=h+f,Ka[0]=Pn(e,r,i,s,v),Ka[1]=Pn(t,n,a,o,v),y=zu(Ka,bo),v>=0&&y<d?(h=v,d=y):(Rd[0]=Pn(e,r,i,s,m),Rd[1]=Pn(t,n,a,o,m),b=zu(Rd,bo),m<=1&&b<d?(h=m,d=b):f*=.5);return c&&(c[0]=Pn(e,r,i,s,h),c[1]=Pn(t,n,a,o,h)),ju(d)}function Owe(e,t,r,n,i,a,s,o,l){for(var u=e,c=t,h=0,f=1/l,d=1;d<=l;d++){var v=d*f,m=Pn(e,r,i,s,v),y=Pn(t,n,a,o,v),b=m-u,S=y-c;h+=Math.sqrt(b*b+S*S),u=m,c=y}return h}function $n(e,t,r,n){var i=1-n;return i*(i*e+2*n*t)+n*n*r}function DI(e,t,r,n){return 2*((1-n)*(t-e)+n*(r-t))}function Bwe(e,t,r,n,i){var a=e-2*t+r,s=2*(t-e),o=e-n,l=0;if(_u(a)){if(CX(s)){var u=-o/s;u>=0&&u<=1&&(i[l++]=u)}}else{var c=s*s-4*a*o;if(_u(c)){var u=-s/(2*a);u>=0&&u<=1&&(i[l++]=u)}else if(c>0){var h=ju(c),u=(-s+h)/(2*a),f=(-s-h)/(2*a);u>=0&&u<=1&&(i[l++]=u),f>=0&&f<=1&&(i[l++]=f)}}return l}function kX(e,t,r){var n=e+r-2*t;return n===0?.5:(e-t)/n}function qm(e,t,r,n,i){var a=(t-e)*n+e,s=(r-t)*n+t,o=(s-a)*n+a;i[0]=e,i[1]=a,i[2]=o,i[3]=o,i[4]=s,i[5]=r}function IX(e,t,r,n,i,a,s,o,l){var u,c=.005,h=1/0;bo[0]=s,bo[1]=o;for(var f=0;f<1;f+=.05){Ka[0]=$n(e,r,i,f),Ka[1]=$n(t,n,a,f);var d=zu(bo,Ka);d<h&&(u=f,h=d)}h=1/0;for(var v=0;v<32&&!(c<TX);v++){var m=u-c,y=u+c;Ka[0]=$n(e,r,i,m),Ka[1]=$n(t,n,a,m);var d=zu(Ka,bo);if(m>=0&&d<h)u=m,h=d;else{Rd[0]=$n(e,r,i,y),Rd[1]=$n(t,n,a,y);var b=zu(Rd,bo);y<=1&&b<h?(u=y,h=b):c*=.5}}return l&&(l[0]=$n(e,r,i,u),l[1]=$n(t,n,a,u)),ju(h)}function Fwe(e,t,r,n,i,a,s){for(var o=e,l=t,u=0,c=1/s,h=1;h<=s;h++){var f=h*c,d=$n(e,r,i,f),v=$n(t,n,a,f),m=d-o,y=v-l;u+=Math.sqrt(m*m+y*y),o=d,l=v}return u}var zwe=/cubic-bezier\(([0-9,\.e ]+)\)/;function bN(e){var t=e&&zwe.exec(e);if(t){var r=t[1].split(","),n=+ts(r[0]),i=+ts(r[1]),a=+ts(r[2]),s=+ts(r[3]);if(isNaN(n+i+a+s))return;var o=[];return function(l){return l<=0?0:l>=1?1:yS(0,n,a,1,l,o)&&Pn(0,i,s,1,o[0])}}}var jwe=function(){function e(t){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=t.life||1e3,this._delay=t.delay||0,this.loop=t.loop||!1,this.onframe=t.onframe||ln,this.ondestroy=t.ondestroy||ln,this.onrestart=t.onrestart||ln,t.easing&&this.setEasing(t.easing)}return e.prototype.step=function(t,r){if(this._inited||(this._startTime=t+this._delay,this._inited=!0),this._paused){this._pausedTime+=r;return}var n=this._life,i=t-this._startTime-this._pausedTime,a=i/n;a<0&&(a=0),a=Math.min(a,1);var s=this.easingFunc,o=s?s(a):a;if(this.onframe(o),a===1)if(this.loop){var l=i%n;this._startTime=t-l,this._pausedTime=0,this.onrestart()}else return!0;return!1},e.prototype.pause=function(){this._paused=!0},e.prototype.resume=function(){this._paused=!1},e.prototype.setEasing=function(t){this.easing=t,this.easingFunc=vt(t)?t:im[t]||bN(t)},e}(),DX=function(){function e(t){this.value=t}return e}(),Hwe=function(){function e(){this._len=0}return e.prototype.insert=function(t){var r=new DX(t);return this.insertEntry(r),r},e.prototype.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},e.prototype.remove=function(t){var r=t.prev,n=t.next;r?r.next=n:this.head=n,n?n.prev=r:this.tail=r,t.next=t.prev=null,this._len--},e.prototype.len=function(){return this._len},e.prototype.clear=function(){this.head=this.tail=null,this._len=0},e}(),$0=function(){function e(t){this._list=new Hwe,this._maxSize=10,this._map={},this._maxSize=t}return e.prototype.put=function(t,r){var n=this._list,i=this._map,a=null;if(i[t]==null){var s=n.len(),o=this._lastRemovedEntry;if(s>=this._maxSize&&s>0){var l=n.head;n.remove(l),delete i[l.key],a=l.value,this._lastRemovedEntry=l}o?o.value=r:o=new DX(r),o.key=t,n.insertEntry(o),i[t]=o}return a},e.prototype.get=function(t){var r=this._map[t],n=this._list;if(r!=null)return r!==n.tail&&(n.remove(r),n.insertEntry(r)),r.value},e.prototype.clear=function(){this._list.clear(),this._map={}},e.prototype.len=function(){return this._list.len()},e}(),zB={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Bs(e){return e=Math.round(e),e<0?0:e>255?255:e}function Vwe(e){return e=Math.round(e),e<0?0:e>360?360:e}function Km(e){return e<0?0:e>1?1:e}function C2(e){var t=e;return t.length&&t.charAt(t.length-1)==="%"?Bs(parseFloat(t)/100*255):Bs(parseInt(t,10))}function Mh(e){var t=e;return t.length&&t.charAt(t.length-1)==="%"?Km(parseFloat(t)/100):Km(parseFloat(t))}function E2(e,t,r){return r<0?r+=1:r>1&&(r-=1),r*6<1?e+(t-e)*r*6:r*2<1?t:r*3<2?e+(t-e)*(2/3-r)*6:e}function wu(e,t,r){return e+(t-e)*r}function ja(e,t,r,n,i){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e}function MI(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}var MX=new $0(20),V1=null;function Rf(e,t){V1&&MI(V1,t),V1=MX.put(e,V1||t.slice())}function zi(e,t){if(e){t=t||[];var r=MX.get(e);if(r)return MI(t,r);e=e+"";var n=e.replace(/ /g,"").toLowerCase();if(n in zB)return MI(t,zB[n]),Rf(e,t),t;var i=n.length;if(n.charAt(0)==="#"){if(i===4||i===5){var a=parseInt(n.slice(1,4),16);if(!(a>=0&&a<=4095)){ja(t,0,0,0,1);return}return ja(t,(a&3840)>>4|(a&3840)>>8,a&240|(a&240)>>4,a&15|(a&15)<<4,i===5?parseInt(n.slice(4),16)/15:1),Rf(e,t),t}else if(i===7||i===9){var a=parseInt(n.slice(1,7),16);if(!(a>=0&&a<=16777215)){ja(t,0,0,0,1);return}return ja(t,(a&16711680)>>16,(a&65280)>>8,a&255,i===9?parseInt(n.slice(7),16)/255:1),Rf(e,t),t}return}var s=n.indexOf("("),o=n.indexOf(")");if(s!==-1&&o+1===i){var l=n.substr(0,s),u=n.substr(s+1,o-(s+1)).split(","),c=1;switch(l){case"rgba":if(u.length!==4)return u.length===3?ja(t,+u[0],+u[1],+u[2],1):ja(t,0,0,0,1);c=Mh(u.pop());case"rgb":if(u.length>=3)return ja(t,C2(u[0]),C2(u[1]),C2(u[2]),u.length===3?c:Mh(u[3])),Rf(e,t),t;ja(t,0,0,0,1);return;case"hsla":if(u.length!==4){ja(t,0,0,0,1);return}return u[3]=Mh(u[3]),LI(u,t),Rf(e,t),t;case"hsl":if(u.length!==3){ja(t,0,0,0,1);return}return LI(u,t),Rf(e,t),t;default:return}}ja(t,0,0,0,1)}}function LI(e,t){var r=(parseFloat(e[0])%360+360)%360/360,n=Mh(e[1]),i=Mh(e[2]),a=i<=.5?i*(n+1):i+n-i*n,s=i*2-a;return t=t||[],ja(t,Bs(E2(s,a,r+1/3)*255),Bs(E2(s,a,r)*255),Bs(E2(s,a,r-1/3)*255),1),e.length===4&&(t[3]=e[3]),t}function Uwe(e){if(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.min(t,r,n),a=Math.max(t,r,n),s=a-i,o=(a+i)/2,l,u;if(s===0)l=0,u=0;else{o<.5?u=s/(a+i):u=s/(2-a-i);var c=((a-t)/6+s/2)/s,h=((a-r)/6+s/2)/s,f=((a-n)/6+s/2)/s;t===a?l=f-h:r===a?l=1/3+c-f:n===a&&(l=2/3+h-c),l<0&&(l+=1),l>1&&(l-=1)}var d=[l*360,u,o];return e[3]!=null&&d.push(e[3]),d}}function xS(e,t){var r=zi(e);if(r){for(var n=0;n<3;n++)t<0?r[n]=r[n]*(1-t)|0:r[n]=(255-r[n])*t+r[n]|0,r[n]>255?r[n]=255:r[n]<0&&(r[n]=0);return Fs(r,r.length===4?"rgba":"rgb")}}function Gwe(e){var t=zi(e);if(t)return((1<<24)+(t[0]<<16)+(t[1]<<8)+ +t[2]).toString(16).slice(1)}function am(e,t,r){if(!(!(t&&t.length)||!(e>=0&&e<=1))){r=r||[];var n=e*(t.length-1),i=Math.floor(n),a=Math.ceil(n),s=t[i],o=t[a],l=n-i;return r[0]=Bs(wu(s[0],o[0],l)),r[1]=Bs(wu(s[1],o[1],l)),r[2]=Bs(wu(s[2],o[2],l)),r[3]=Km(wu(s[3],o[3],l)),r}}var Wwe=am;function SN(e,t,r){if(!(!(t&&t.length)||!(e>=0&&e<=1))){var n=e*(t.length-1),i=Math.floor(n),a=Math.ceil(n),s=zi(t[i]),o=zi(t[a]),l=n-i,u=Fs([Bs(wu(s[0],o[0],l)),Bs(wu(s[1],o[1],l)),Bs(wu(s[2],o[2],l)),Km(wu(s[3],o[3],l))],"rgba");return r?{color:u,leftIndex:i,rightIndex:a,value:n}:u}}var $we=SN;function Od(e,t,r,n){var i=zi(e);if(e)return i=Uwe(i),t!=null&&(i[0]=Vwe(t)),r!=null&&(i[1]=Mh(r)),n!=null&&(i[2]=Mh(n)),Fs(LI(i),"rgba")}function Zm(e,t){var r=zi(e);if(r&&t!=null)return r[3]=Km(t),Fs(r,"rgba")}function Fs(e,t){if(!(!e||!e.length)){var r=e[0]+","+e[1]+","+e[2];return(t==="rgba"||t==="hsva"||t==="hsla")&&(r+=","+e[3]),t+"("+r+")"}}function Qm(e,t){var r=zi(e);return r?(.299*r[0]+.587*r[1]+.114*r[2])*r[3]/255+(1-r[3])*t:0}function Ywe(){return Fs([Math.round(Math.random()*255),Math.round(Math.random()*255),Math.round(Math.random()*255)],"rgb")}var jB=new $0(100);function bS(e){if(Je(e)){var t=jB.get(e);return t||(t=xS(e,-.1),jB.put(e,t)),t}else if(U0(e)){var r=Ne({},e);return r.colorStops=Fe(e.colorStops,function(n){return{offset:n.offset,color:xS(n.color,-.1)}}),r}return e}const Xwe=Object.freeze(Object.defineProperty({__proto__:null,fastLerp:am,fastMapToColor:Wwe,lerp:SN,lift:xS,liftColor:bS,lum:Qm,mapToColor:$we,modifyAlpha:Zm,modifyHSL:Od,parse:zi,random:Ywe,stringify:Fs,toHex:Gwe},Symbol.toStringTag,{value:"Module"}));var SS=Math.round;function Jm(e){var t;if(!e||e==="transparent")e="none";else if(typeof e=="string"&&e.indexOf("rgba")>-1){var r=zi(e);r&&(e="rgb("+r[0]+","+r[1]+","+r[2]+")",t=r[3])}return{color:e,opacity:t??1}}var HB=1e-4;function Tu(e){return e<HB&&e>-HB}function U1(e){return SS(e*1e3)/1e3}function NI(e){return SS(e*1e4)/1e4}function qwe(e){return"matrix("+U1(e[0])+","+U1(e[1])+","+U1(e[2])+","+U1(e[3])+","+NI(e[4])+","+NI(e[5])+")"}var Kwe={left:"start",right:"end",center:"middle",middle:"middle"};function Zwe(e,t,r){return r==="top"?e+=t/2:r==="bottom"&&(e-=t/2),e}function Qwe(e){return e&&(e.shadowBlur||e.shadowOffsetX||e.shadowOffsetY)}function Jwe(e){var t=e.style,r=e.getGlobalScale();return[t.shadowColor,(t.shadowBlur||0).toFixed(2),(t.shadowOffsetX||0).toFixed(2),(t.shadowOffsetY||0).toFixed(2),r[0],r[1]].join(",")}function LX(e){return e&&!!e.image}function eTe(e){return e&&!!e.svgElement}function _N(e){return LX(e)||eTe(e)}function NX(e){return e.type==="linear"}function PX(e){return e.type==="radial"}function RX(e){return e&&(e.type==="linear"||e.type==="radial")}function hw(e){return"url(#"+e+")"}function OX(e){var t=e.getGlobalScale(),r=Math.max(t[0],t[1]);return Math.max(Math.ceil(Math.log(r)/Math.log(10)),1)}function BX(e){var t=e.x||0,r=e.y||0,n=(e.rotation||0)*tm,i=Mt(e.scaleX,1),a=Mt(e.scaleY,1),s=e.skewX||0,o=e.skewY||0,l=[];return(t||r)&&l.push("translate("+t+"px,"+r+"px)"),n&&l.push("rotate("+n+")"),(i!==1||a!==1)&&l.push("scale("+i+","+a+")"),(s||o)&&l.push("skew("+SS(s*tm)+"deg, "+SS(o*tm)+"deg)"),l.join(" ")}var tTe=function(){return Xt.hasGlobalWindow&&vt(window.btoa)?function(e){return window.btoa(unescape(encodeURIComponent(e)))}:typeof Buffer<"u"?function(e){return Buffer.from(e).toString("base64")}:function(e){return null}}(),PI=Array.prototype.slice;function Qo(e,t,r){return(t-e)*r+e}function A2(e,t,r,n){for(var i=t.length,a=0;a<i;a++)e[a]=Qo(t[a],r[a],n);return e}function rTe(e,t,r,n){for(var i=t.length,a=i&&t[0].length,s=0;s<i;s++){e[s]||(e[s]=[]);for(var o=0;o<a;o++)e[s][o]=Qo(t[s][o],r[s][o],n)}return e}function G1(e,t,r,n){for(var i=t.length,a=0;a<i;a++)e[a]=t[a]+r[a]*n;return e}function VB(e,t,r,n){for(var i=t.length,a=i&&t[0].length,s=0;s<i;s++){e[s]||(e[s]=[]);for(var o=0;o<a;o++)e[s][o]=t[s][o]+r[s][o]*n}return e}function nTe(e,t){for(var r=e.length,n=t.length,i=r>n?t:e,a=Math.min(r,n),s=i[a-1]||{color:[0,0,0,0],offset:0},o=a;o<Math.max(r,n);o++)i.push({offset:s.offset,color:s.color.slice()})}function iTe(e,t,r){var n=e,i=t;if(!(!n.push||!i.push)){var a=n.length,s=i.length;if(a!==s){var o=a>s;if(o)n.length=s;else for(var l=a;l<s;l++)n.push(r===1?i[l]:PI.call(i[l]))}for(var u=n[0]&&n[0].length,l=0;l<n.length;l++)if(r===1)isNaN(n[l])&&(n[l]=i[l]);else for(var c=0;c<u;c++)isNaN(n[l][c])&&(n[l][c]=i[l][c])}}function sm(e){if(ai(e)){var t=e.length;if(ai(e[0])){for(var r=[],n=0;n<t;n++)r.push(PI.call(e[n]));return r}return PI.call(e)}return e}function cb(e){return e[0]=Math.floor(e[0])||0,e[1]=Math.floor(e[1])||0,e[2]=Math.floor(e[2])||0,e[3]=e[3]==null?1:e[3],"rgba("+e.join(",")+")"}function aTe(e){return ai(e&&e[0])?2:1}var W1=0,hb=1,FX=2,_g=3,RI=4,OI=5,UB=6;function GB(e){return e===RI||e===OI}function $1(e){return e===hb||e===FX}var Uv=[0,0,0,0],sTe=function(){function e(t){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=t}return e.prototype.isFinished=function(){return this._finished},e.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},e.prototype.needsAnimate=function(){return this.keyframes.length>=1},e.prototype.getAdditiveTrack=function(){return this._additiveTrack},e.prototype.addKeyframe=function(t,r,n){this._needsSort=!0;var i=this.keyframes,a=i.length,s=!1,o=UB,l=r;if(ai(r)){var u=aTe(r);o=u,(u===1&&!ar(r[0])||u===2&&!ar(r[0][0]))&&(s=!0)}else if(ar(r)&&!lp(r))o=W1;else if(Je(r))if(!isNaN(+r))o=W1;else{var c=zi(r);c&&(l=c,o=_g)}else if(U0(r)){var h=Ne({},l);h.colorStops=Fe(r.colorStops,function(d){return{offset:d.offset,color:zi(d.color)}}),NX(r)?o=RI:PX(r)&&(o=OI),l=h}a===0?this.valType=o:(o!==this.valType||o===UB)&&(s=!0),this.discrete=this.discrete||s;var f={time:t,value:l,rawValue:r,percent:0};return n&&(f.easing=n,f.easingFunc=vt(n)?n:im[n]||bN(n)),i.push(f),f},e.prototype.prepare=function(t,r){var n=this.keyframes;this._needsSort&&n.sort(function(m,y){return m.time-y.time});for(var i=this.valType,a=n.length,s=n[a-1],o=this.discrete,l=$1(i),u=GB(i),c=0;c<a;c++){var h=n[c],f=h.value,d=s.value;h.percent=h.time/t,o||(l&&c!==a-1?iTe(f,d,i):u&&nTe(f.colorStops,d.colorStops))}if(!o&&i!==OI&&r&&this.needsAnimate()&&r.needsAnimate()&&i===r.valType&&!r._finished){this._additiveTrack=r;for(var v=n[0].value,c=0;c<a;c++)i===W1?n[c].additiveValue=n[c].value-v:i===_g?n[c].additiveValue=G1([],n[c].value,v,-1):$1(i)&&(n[c].additiveValue=i===hb?G1([],n[c].value,v,-1):VB([],n[c].value,v,-1))}},e.prototype.step=function(t,r){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var n=this._additiveTrack!=null,i=n?"additiveValue":"value",a=this.valType,s=this.keyframes,o=s.length,l=this.propName,u=a===_g,c,h=this._lastFr,f=Math.min,d,v;if(o===1)d=v=s[0];else{if(r<0)c=0;else if(r<this._lastFrP){var m=f(h+1,o-1);for(c=m;c>=0&&!(s[c].percent<=r);c--);c=f(c,o-2)}else{for(c=h;c<o&&!(s[c].percent>r);c++);c=f(c-1,o-2)}v=s[c+1],d=s[c]}if(d&&v){this._lastFr=c,this._lastFrP=r;var y=v.percent-d.percent,b=y===0?1:f((r-d.percent)/y,1);v.easingFunc&&(b=v.easingFunc(b));var S=n?this._additiveValue:u?Uv:t[l];if(($1(a)||u)&&!S&&(S=this._additiveValue=[]),this.discrete)t[l]=b<1?d.rawValue:v.rawValue;else if($1(a))a===hb?A2(S,d[i],v[i],b):rTe(S,d[i],v[i],b);else if(GB(a)){var w=d[i],k=v[i],M=a===RI;t[l]={type:M?"linear":"radial",x:Qo(w.x,k.x,b),y:Qo(w.y,k.y,b),colorStops:Fe(w.colorStops,function(L,N){var z=k.colorStops[N];return{offset:Qo(L.offset,z.offset,b),color:cb(A2([],L.color,z.color,b))}}),global:k.global},M?(t[l].x2=Qo(w.x2,k.x2,b),t[l].y2=Qo(w.y2,k.y2,b)):t[l].r=Qo(w.r,k.r,b)}else if(u)A2(S,d[i],v[i],b),n||(t[l]=cb(S));else{var I=Qo(d[i],v[i],b);n?this._additiveValue=I:t[l]=I}n&&this._addToTarget(t)}}},e.prototype._addToTarget=function(t){var r=this.valType,n=this.propName,i=this._additiveValue;r===W1?t[n]=t[n]+i:r===_g?(zi(t[n],Uv),G1(Uv,Uv,i,1),t[n]=cb(Uv)):r===hb?G1(t[n],t[n],i,1):r===FX&&VB(t[n],t[n],i,1)},e}(),wN=function(){function e(t,r,n,i){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=t,this._loop=r,r&&i){aw("Can' use additive animation on looped animation.");return}this._additiveAnimators=i,this._allowDiscrete=n}return e.prototype.getMaxTime=function(){return this._maxTime},e.prototype.getDelay=function(){return this._delay},e.prototype.getLoop=function(){return this._loop},e.prototype.getTarget=function(){return this._target},e.prototype.changeTarget=function(t){this._target=t},e.prototype.when=function(t,r,n){return this.whenWithKeys(t,r,Kt(r),n)},e.prototype.whenWithKeys=function(t,r,n,i){for(var a=this._tracks,s=0;s<n.length;s++){var o=n[s],l=a[o];if(!l){l=a[o]=new sTe(o);var u=void 0,c=this._getAdditiveTrack(o);if(c){var h=c.keyframes,f=h[h.length-1];u=f&&f.value,c.valType===_g&&u&&(u=cb(u))}else u=this._target[o];if(u==null)continue;t>0&&l.addKeyframe(0,sm(u),i),this._trackKeys.push(o)}l.addKeyframe(t,sm(r[o]),i)}return this._maxTime=Math.max(this._maxTime,t),this},e.prototype.pause=function(){this._clip.pause(),this._paused=!0},e.prototype.resume=function(){this._clip.resume(),this._paused=!1},e.prototype.isPaused=function(){return!!this._paused},e.prototype.duration=function(t){return this._maxTime=t,this._force=!0,this},e.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var t=this._doneCbs;if(t)for(var r=t.length,n=0;n<r;n++)t[n].call(this)},e.prototype._abortedCallback=function(){this._setTracksFinished();var t=this.animation,r=this._abortedCbs;if(t&&t.removeClip(this._clip),this._clip=null,r)for(var n=0;n<r.length;n++)r[n].call(this)},e.prototype._setTracksFinished=function(){for(var t=this._tracks,r=this._trackKeys,n=0;n<r.length;n++)t[r[n]].setFinished()},e.prototype._getAdditiveTrack=function(t){var r,n=this._additiveAnimators;if(n)for(var i=0;i<n.length;i++){var a=n[i].getTrack(t);a&&(r=a)}return r},e.prototype.start=function(t){if(!(this._started>0)){this._started=1;for(var r=this,n=[],i=this._maxTime||0,a=0;a<this._trackKeys.length;a++){var s=this._trackKeys[a],o=this._tracks[s],l=this._getAdditiveTrack(s),u=o.keyframes,c=u.length;if(o.prepare(i,l),o.needsAnimate())if(!this._allowDiscrete&&o.discrete){var h=u[c-1];h&&(r._target[o.propName]=h.rawValue),o.setFinished()}else n.push(o)}if(n.length||this._force){var f=new jwe({life:i,loop:this._loop,delay:this._delay||0,onframe:function(d){r._started=2;var v=r._additiveAnimators;if(v){for(var m=!1,y=0;y<v.length;y++)if(v[y]._clip){m=!0;break}m||(r._additiveAnimators=null)}for(var y=0;y<n.length;y++)n[y].step(r._target,d);var b=r._onframeCbs;if(b)for(var y=0;y<b.length;y++)b[y](r._target,d)},ondestroy:function(){r._doneCallback()}});this._clip=f,this.animation&&this.animation.addClip(f),t&&f.setEasing(t)}else this._doneCallback();return this}},e.prototype.stop=function(t){if(this._clip){var r=this._clip;t&&r.onframe(1),this._abortedCallback()}},e.prototype.delay=function(t){return this._delay=t,this},e.prototype.during=function(t){return t&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(t)),this},e.prototype.done=function(t){return t&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(t)),this},e.prototype.aborted=function(t){return t&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(t)),this},e.prototype.getClip=function(){return this._clip},e.prototype.getTrack=function(t){return this._tracks[t]},e.prototype.getTracks=function(){var t=this;return Fe(this._trackKeys,function(r){return t._tracks[r]})},e.prototype.stopTracks=function(t,r){if(!t.length||!this._clip)return!0;for(var n=this._tracks,i=this._trackKeys,a=0;a<t.length;a++){var s=n[t[a]];s&&!s.isFinished()&&(r?s.step(this._target,1):this._started===1&&s.step(this._target,0),s.setFinished())}for(var o=!0,a=0;a<i.length;a++)if(!n[i[a]].isFinished()){o=!1;break}return o&&this._abortedCallback(),o},e.prototype.saveTo=function(t,r,n){if(t){r=r||this._trackKeys;for(var i=0;i<r.length;i++){var a=r[i],s=this._tracks[a];if(!(!s||s.isFinished())){var o=s.keyframes,l=o[n?0:o.length-1];l&&(t[a]=sm(l.rawValue))}}}},e.prototype.__changeFinalValue=function(t,r){r=r||Kt(t);for(var n=0;n<r.length;n++){var i=r[n],a=this._tracks[i];if(a){var s=a.keyframes;if(s.length>1){var o=s.pop();a.addKeyframe(o.time,t[i]),a.prepare(this._maxTime,a.getAdditiveTrack())}}}},e}();function wd(){return new Date().getTime()}var oTe=function(e){_e(t,e);function t(r){var n=e.call(this)||this;return n._running=!1,n._time=0,n._pausedTime=0,n._pauseStart=0,n._paused=!1,r=r||{},n.stage=r.stage||{},n}return t.prototype.addClip=function(r){r.animation&&this.removeClip(r),this._head?(this._tail.next=r,r.prev=this._tail,r.next=null,this._tail=r):this._head=this._tail=r,r.animation=this},t.prototype.addAnimator=function(r){r.animation=this;var n=r.getClip();n&&this.addClip(n)},t.prototype.removeClip=function(r){if(r.animation){var n=r.prev,i=r.next;n?n.next=i:this._head=i,i?i.prev=n:this._tail=n,r.next=r.prev=r.animation=null}},t.prototype.removeAnimator=function(r){var n=r.getClip();n&&this.removeClip(n),r.animation=null},t.prototype.update=function(r){for(var n=wd()-this._pausedTime,i=n-this._time,a=this._head;a;){var s=a.next,o=a.step(n,i);o&&(a.ondestroy(),this.removeClip(a)),a=s}this._time=n,r||(this.trigger("frame",i),this.stage.update&&this.stage.update())},t.prototype._startLoop=function(){var r=this;this._running=!0;function n(){r._running&&(gS(n),!r._paused&&r.update())}gS(n)},t.prototype.start=function(){this._running||(this._time=wd(),this._pausedTime=0,this._startLoop())},t.prototype.stop=function(){this._running=!1},t.prototype.pause=function(){this._paused||(this._pauseStart=wd(),this._paused=!0)},t.prototype.resume=function(){this._paused&&(this._pausedTime+=wd()-this._pauseStart,this._paused=!1)},t.prototype.clear=function(){for(var r=this._head;r;){var n=r.next;r.prev=r.next=r.animation=null,r=n}this._head=this._tail=null},t.prototype.isFinished=function(){return this._head==null},t.prototype.animate=function(r,n){n=n||{},this.start();var i=new wN(r,n.loop);return this.addAnimator(i),i},t}(cs),lTe=300,k2=Xt.domSupported,I2=function(){var e=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],t=["touchstart","touchend","touchmove"],r={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},n=Fe(e,function(i){var a=i.replace("mouse","pointer");return r.hasOwnProperty(a)?a:i});return{mouse:e,touch:t,pointer:n}}(),WB={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},$B=!1;function BI(e){var t=e.pointerType;return t==="pen"||t==="touch"}function uTe(e){e.touching=!0,e.touchTimer!=null&&(clearTimeout(e.touchTimer),e.touchTimer=null),e.touchTimer=setTimeout(function(){e.touching=!1,e.touchTimer=null},700)}function D2(e){e&&(e.zrByTouch=!0)}function cTe(e,t){return Ha(e.dom,new hTe(e,t),!0)}function zX(e,t){for(var r=t,n=!1;r&&r.nodeType!==9&&!(n=r.domBelongToZr||r!==t&&r===e.painterRoot);)r=r.parentNode;return n}var hTe=function(){function e(t,r){this.stopPropagation=ln,this.stopImmediatePropagation=ln,this.preventDefault=ln,this.type=r.type,this.target=this.currentTarget=t.dom,this.pointerType=r.pointerType,this.clientX=r.clientX,this.clientY=r.clientY}return e}(),Cs={mousedown:function(e){e=Ha(this.dom,e),this.__mayPointerCapture=[e.zrX,e.zrY],this.trigger("mousedown",e)},mousemove:function(e){e=Ha(this.dom,e);var t=this.__mayPointerCapture;t&&(e.zrX!==t[0]||e.zrY!==t[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",e)},mouseup:function(e){e=Ha(this.dom,e),this.__togglePointerCapture(!1),this.trigger("mouseup",e)},mouseout:function(e){e=Ha(this.dom,e);var t=e.toElement||e.relatedTarget;zX(this,t)||(this.__pointerCapturing&&(e.zrEventControl="no_globalout"),this.trigger("mouseout",e))},wheel:function(e){$B=!0,e=Ha(this.dom,e),this.trigger("mousewheel",e)},mousewheel:function(e){$B||(e=Ha(this.dom,e),this.trigger("mousewheel",e))},touchstart:function(e){e=Ha(this.dom,e),D2(e),this.__lastTouchMoment=new Date,this.handler.processGesture(e,"start"),Cs.mousemove.call(this,e),Cs.mousedown.call(this,e)},touchmove:function(e){e=Ha(this.dom,e),D2(e),this.handler.processGesture(e,"change"),Cs.mousemove.call(this,e)},touchend:function(e){e=Ha(this.dom,e),D2(e),this.handler.processGesture(e,"end"),Cs.mouseup.call(this,e),+new Date-+this.__lastTouchMoment<lTe&&Cs.click.call(this,e)},pointerdown:function(e){Cs.mousedown.call(this,e)},pointermove:function(e){BI(e)||Cs.mousemove.call(this,e)},pointerup:function(e){Cs.mouseup.call(this,e)},pointerout:function(e){BI(e)||Cs.mouseout.call(this,e)}};q(["click","dblclick","contextmenu"],function(e){Cs[e]=function(t){t=Ha(this.dom,t),this.trigger(e,t)}});var FI={pointermove:function(e){BI(e)||FI.mousemove.call(this,e)},pointerup:function(e){FI.mouseup.call(this,e)},mousemove:function(e){this.trigger("mousemove",e)},mouseup:function(e){var t=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",e),t&&(e.zrEventControl="only_globalout",this.trigger("mouseout",e))}};function fTe(e,t){var r=t.domHandlers;Xt.pointerEventsSupported?q(I2.pointer,function(n){fb(t,n,function(i){r[n].call(e,i)})}):(Xt.touchEventsSupported&&q(I2.touch,function(n){fb(t,n,function(i){r[n].call(e,i),uTe(t)})}),q(I2.mouse,function(n){fb(t,n,function(i){i=xN(i),t.touching||r[n].call(e,i)})}))}function dTe(e,t){Xt.pointerEventsSupported?q(WB.pointer,r):Xt.touchEventsSupported||q(WB.mouse,r);function r(n){function i(a){a=xN(a),zX(e,a.target)||(a=cTe(e,a),t.domHandlers[n].call(e,a))}fb(t,n,i,{capture:!0})}}function fb(e,t,r,n){e.mounted[t]=r,e.listenerOpts[t]=n,II(e.domTarget,t,r,n)}function M2(e){var t=e.mounted;for(var r in t)t.hasOwnProperty(r)&&wwe(e.domTarget,r,t[r],e.listenerOpts[r]);e.mounted={}}var YB=function(){function e(t,r){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=t,this.domHandlers=r}return e}(),pTe=function(e){_e(t,e);function t(r,n){var i=e.call(this)||this;return i.__pointerCapturing=!1,i.dom=r,i.painterRoot=n,i._localHandlerScope=new YB(r,Cs),k2&&(i._globalHandlerScope=new YB(document,FI)),fTe(i,i._localHandlerScope),i}return t.prototype.dispose=function(){M2(this._localHandlerScope),k2&&M2(this._globalHandlerScope)},t.prototype.setCursor=function(r){this.dom.style&&(this.dom.style.cursor=r||"default")},t.prototype.__togglePointerCapture=function(r){if(this.__mayPointerCapture=null,k2&&+this.__pointerCapturing^+r){this.__pointerCapturing=r;var n=this._globalHandlerScope;r?dTe(this,n):M2(n)}},t}(cs),jX=1;Xt.hasGlobalWindow&&(jX=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var _S=jX,zI=.4,jI="#333",HI="#ccc",vTe="#eee",XB=W0,qB=5e-5;function Lc(e){return e>qB||e<-qB}var Nc=[],Of=[],L2=ua(),N2=Math.abs,hl=function(){function e(){}return e.prototype.getLocalTransform=function(t){return e.getLocalTransform(this,t)},e.prototype.setPosition=function(t){this.x=t[0],this.y=t[1]},e.prototype.setScale=function(t){this.scaleX=t[0],this.scaleY=t[1]},e.prototype.setSkew=function(t){this.skewX=t[0],this.skewY=t[1]},e.prototype.setOrigin=function(t){this.originX=t[0],this.originY=t[1]},e.prototype.needLocalTransform=function(){return Lc(this.rotation)||Lc(this.x)||Lc(this.y)||Lc(this.scaleX-1)||Lc(this.scaleY-1)||Lc(this.skewX)||Lc(this.skewY)},e.prototype.updateTransform=function(){var t=this.parent&&this.parent.transform,r=this.needLocalTransform(),n=this.transform;if(!(r||t)){n&&(XB(n),this.invTransform=null);return}n=n||ua(),r?this.getLocalTransform(n):XB(n),t&&(r?Do(n,t,n):uw(n,t)),this.transform=n,this._resolveGlobalScaleRatio(n)},e.prototype._resolveGlobalScaleRatio=function(t){var r=this.globalScaleRatio;if(r!=null&&r!==1){this.getGlobalScale(Nc);var n=Nc[0]<0?-1:1,i=Nc[1]<0?-1:1,a=((Nc[0]-n)*r+n)/Nc[0]||0,s=((Nc[1]-i)*r+i)/Nc[1]||0;t[0]*=a,t[1]*=a,t[2]*=s,t[3]*=s}this.invTransform=this.invTransform||ua(),uf(this.invTransform,t)},e.prototype.getComputedTransform=function(){for(var t=this,r=[];t;)r.push(t),t=t.parent;for(;t=r.pop();)t.updateTransform();return this.transform},e.prototype.setLocalTransform=function(t){if(t){var r=t[0]*t[0]+t[1]*t[1],n=t[2]*t[2]+t[3]*t[3],i=Math.atan2(t[1],t[0]),a=Math.PI/2+i-Math.atan2(t[3],t[2]);n=Math.sqrt(n)*Math.cos(a),r=Math.sqrt(r),this.skewX=a,this.skewY=0,this.rotation=-i,this.x=+t[4],this.y=+t[5],this.scaleX=r,this.scaleY=n,this.originX=0,this.originY=0}},e.prototype.decomposeTransform=function(){if(this.transform){var t=this.parent,r=this.transform;t&&t.transform&&(t.invTransform=t.invTransform||ua(),Do(Of,t.invTransform,r),r=Of);var n=this.originX,i=this.originY;(n||i)&&(L2[4]=n,L2[5]=i,Do(Of,r,L2),Of[4]-=n,Of[5]-=i,r=Of),this.setLocalTransform(r)}},e.prototype.getGlobalScale=function(t){var r=this.transform;return t=t||[],r?(t[0]=Math.sqrt(r[0]*r[0]+r[1]*r[1]),t[1]=Math.sqrt(r[2]*r[2]+r[3]*r[3]),r[0]<0&&(t[0]=-t[0]),r[3]<0&&(t[1]=-t[1]),t):(t[0]=1,t[1]=1,t)},e.prototype.transformCoordToLocal=function(t,r){var n=[t,r],i=this.invTransform;return i&&qn(n,n,i),n},e.prototype.transformCoordToGlobal=function(t,r){var n=[t,r],i=this.transform;return i&&qn(n,n,i),n},e.prototype.getLineScale=function(){var t=this.transform;return t&&N2(t[0]-1)>1e-10&&N2(t[3]-1)>1e-10?Math.sqrt(N2(t[0]*t[3]-t[2]*t[1])):1},e.prototype.copyTransform=function(t){HX(this,t)},e.getLocalTransform=function(t,r){r=r||[];var n=t.originX||0,i=t.originY||0,a=t.scaleX,s=t.scaleY,o=t.anchorX,l=t.anchorY,u=t.rotation||0,c=t.x,h=t.y,f=t.skewX?Math.tan(t.skewX):0,d=t.skewY?Math.tan(-t.skewY):0;if(n||i||o||l){var v=n+o,m=i+l;r[4]=-v*a-f*m*s,r[5]=-m*s-d*v*a}else r[4]=r[5]=0;return r[0]=a,r[3]=s,r[1]=d*a,r[2]=f*s,u&&cc(r,r,u),r[4]+=n+c,r[5]+=i+h,r},e.initDefaultProps=function(){var t=e.prototype;t.scaleX=t.scaleY=t.globalScaleRatio=1,t.x=t.y=t.originX=t.originY=t.skewX=t.skewY=t.rotation=t.anchorX=t.anchorY=0}(),e}(),Po=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function HX(e,t){for(var r=0;r<Po.length;r++){var n=Po[r];e[n]=t[n]}}var KB={};function Ca(e,t){t=t||Ku;var r=KB[t];r||(r=KB[t]=new $0(500));var n=r.get(e);return n==null&&(n=Hs.measureText(e,t).width,r.put(e,n)),n}function ZB(e,t,r,n){var i=Ca(e,t),a=fw(t),s=wg(0,i,r),o=ad(0,a,n),l=new jt(s,o,i,a);return l}function Y0(e,t,r,n){var i=((e||"")+"").split(`
`),a=i.length;if(a===1)return ZB(i[0],t,r,n);for(var s=new jt(0,0,0,0),o=0;o<i.length;o++){var l=ZB(i[o],t,r,n);o===0?s.copy(l):s.union(l)}return s}function wg(e,t,r){return r==="right"?e-=t:r==="center"&&(e-=t/2),e}function ad(e,t,r){return r==="middle"?e-=t/2:r==="bottom"&&(e-=t),e}function fw(e){return Ca("",e)}function Us(e,t){return typeof e=="string"?e.lastIndexOf("%")>=0?parseFloat(e)/100*t:parseFloat(e):e}function wS(e,t,r){var n=t.position||"inside",i=t.distance!=null?t.distance:5,a=r.height,s=r.width,o=a/2,l=r.x,u=r.y,c="left",h="top";if(n instanceof Array)l+=Us(n[0],r.width),u+=Us(n[1],r.height),c=null,h=null;else switch(n){case"left":l-=i,u+=o,c="right",h="middle";break;case"right":l+=i+s,u+=o,h="middle";break;case"top":l+=s/2,u-=i,c="center",h="bottom";break;case"bottom":l+=s/2,u+=a+i,c="center";break;case"inside":l+=s/2,u+=o,c="center",h="middle";break;case"insideLeft":l+=i,u+=o,h="middle";break;case"insideRight":l+=s-i,u+=o,c="right",h="middle";break;case"insideTop":l+=s/2,u+=i,c="center";break;case"insideBottom":l+=s/2,u+=a-i,c="center",h="bottom";break;case"insideTopLeft":l+=i,u+=i;break;case"insideTopRight":l+=s-i,u+=i,c="right";break;case"insideBottomLeft":l+=i,u+=a-i,h="bottom";break;case"insideBottomRight":l+=s-i,u+=a-i,c="right",h="bottom";break}return e=e||{},e.x=l,e.y=u,e.align=c,e.verticalAlign=h,e}var P2="__zr_normal__",R2=Po.concat(["ignore"]),gTe=ls(Po,function(e,t){return e[t]=!0,e},{ignore:!1}),Bf={},mTe=new jt(0,0,0,0),dw=function(){function e(t){this.id=vN(),this.animators=[],this.currentStates=[],this.states={},this._init(t)}return e.prototype._init=function(t){this.attr(t)},e.prototype.drift=function(t,r,n){switch(this.draggable){case"horizontal":r=0;break;case"vertical":t=0;break}var i=this.transform;i||(i=this.transform=[1,0,0,1,0,0]),i[4]+=t,i[5]+=r,this.decomposeTransform(),this.markRedraw()},e.prototype.beforeUpdate=function(){},e.prototype.afterUpdate=function(){},e.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},e.prototype.updateInnerText=function(t){var r=this._textContent;if(r&&(!r.ignore||t)){this.textConfig||(this.textConfig={});var n=this.textConfig,i=n.local,a=r.innerTransformable,s=void 0,o=void 0,l=!1;a.parent=i?this:null;var u=!1;if(a.copyTransform(r),n.position!=null){var c=mTe;n.layoutRect?c.copy(n.layoutRect):c.copy(this.getBoundingRect()),i||c.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(Bf,n,c):wS(Bf,n,c),a.x=Bf.x,a.y=Bf.y,s=Bf.align,o=Bf.verticalAlign;var h=n.origin;if(h&&n.rotation!=null){var f=void 0,d=void 0;h==="center"?(f=c.width*.5,d=c.height*.5):(f=Us(h[0],c.width),d=Us(h[1],c.height)),u=!0,a.originX=-a.x+f+(i?0:c.x),a.originY=-a.y+d+(i?0:c.y)}}n.rotation!=null&&(a.rotation=n.rotation);var v=n.offset;v&&(a.x+=v[0],a.y+=v[1],u||(a.originX=-v[0],a.originY=-v[1]));var m=n.inside==null?typeof n.position=="string"&&n.position.indexOf("inside")>=0:n.inside,y=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),b=void 0,S=void 0,w=void 0;m&&this.canBeInsideText()?(b=n.insideFill,S=n.insideStroke,(b==null||b==="auto")&&(b=this.getInsideTextFill()),(S==null||S==="auto")&&(S=this.getInsideTextStroke(b),w=!0)):(b=n.outsideFill,S=n.outsideStroke,(b==null||b==="auto")&&(b=this.getOutsideFill()),(S==null||S==="auto")&&(S=this.getOutsideStroke(b),w=!0)),b=b||"#000",(b!==y.fill||S!==y.stroke||w!==y.autoStroke||s!==y.align||o!==y.verticalAlign)&&(l=!0,y.fill=b,y.stroke=S,y.autoStroke=w,y.align=s,y.verticalAlign=o,r.setDefaultTextStyle(y)),r.__dirty|=ya,l&&r.dirtyStyle(!0)}},e.prototype.canBeInsideText=function(){return!0},e.prototype.getInsideTextFill=function(){return"#fff"},e.prototype.getInsideTextStroke=function(t){return"#000"},e.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?HI:jI},e.prototype.getOutsideStroke=function(t){var r=this.__zr&&this.__zr.getBackgroundColor(),n=typeof r=="string"&&zi(r);n||(n=[255,255,255,1]);for(var i=n[3],a=this.__zr.isDarkMode(),s=0;s<3;s++)n[s]=n[s]*i+(a?0:255)*(1-i);return n[3]=1,Fs(n,"rgba")},e.prototype.traverse=function(t,r){},e.prototype.attrKV=function(t,r){t==="textConfig"?this.setTextConfig(r):t==="textContent"?this.setTextContent(r):t==="clipPath"?this.setClipPath(r):t==="extra"?(this.extra=this.extra||{},Ne(this.extra,r)):this[t]=r},e.prototype.hide=function(){this.ignore=!0,this.markRedraw()},e.prototype.show=function(){this.ignore=!1,this.markRedraw()},e.prototype.attr=function(t,r){if(typeof t=="string")this.attrKV(t,r);else if(St(t))for(var n=t,i=Kt(n),a=0;a<i.length;a++){var s=i[a];this.attrKV(s,t[s])}return this.markRedraw(),this},e.prototype.saveCurrentToNormalState=function(t){this._innerSaveToNormal(t);for(var r=this._normalState,n=0;n<this.animators.length;n++){var i=this.animators[n],a=i.__fromStateTransition;if(!(i.getLoop()||a&&a!==P2)){var s=i.targetName,o=s?r[s]:r;i.saveTo(o)}}},e.prototype._innerSaveToNormal=function(t){var r=this._normalState;r||(r=this._normalState={}),t.textConfig&&!r.textConfig&&(r.textConfig=this.textConfig),this._savePrimaryToNormal(t,r,R2)},e.prototype._savePrimaryToNormal=function(t,r,n){for(var i=0;i<n.length;i++){var a=n[i];t[a]!=null&&!(a in r)&&(r[a]=this[a])}},e.prototype.hasState=function(){return this.currentStates.length>0},e.prototype.getState=function(t){return this.states[t]},e.prototype.ensureState=function(t){var r=this.states;return r[t]||(r[t]={}),r[t]},e.prototype.clearStates=function(t){this.useState(P2,!1,t)},e.prototype.useState=function(t,r,n,i){var a=t===P2,s=this.hasState();if(!(!s&&a)){var o=this.currentStates,l=this.stateTransition;if(!(Ut(o,t)>=0&&(r||o.length===1))){var u;if(this.stateProxy&&!a&&(u=this.stateProxy(t)),u||(u=this.states&&this.states[t]),!u&&!a){aw("State "+t+" not exists.");return}a||this.saveCurrentToNormalState(u);var c=!!(u&&u.hoverLayer||i);c&&this._toggleHoverLayerFlag(!0),this._applyStateObj(t,u,this._normalState,r,!n&&!this.__inHover&&l&&l.duration>0,l);var h=this._textContent,f=this._textGuide;return h&&h.useState(t,r,n,c),f&&f.useState(t,r,n,c),a?(this.currentStates=[],this._normalState={}):r?this.currentStates.push(t):this.currentStates=[t],this._updateAnimationTargets(),this.markRedraw(),!c&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~ya),u}}},e.prototype.useStates=function(t,r,n){if(!t.length)this.clearStates();else{var i=[],a=this.currentStates,s=t.length,o=s===a.length;if(o){for(var l=0;l<s;l++)if(t[l]!==a[l]){o=!1;break}}if(o)return;for(var l=0;l<s;l++){var u=t[l],c=void 0;this.stateProxy&&(c=this.stateProxy(u,t)),c||(c=this.states[u]),c&&i.push(c)}var h=i[s-1],f=!!(h&&h.hoverLayer||n);f&&this._toggleHoverLayerFlag(!0);var d=this._mergeStates(i),v=this.stateTransition;this.saveCurrentToNormalState(d),this._applyStateObj(t.join(","),d,this._normalState,!1,!r&&!this.__inHover&&v&&v.duration>0,v);var m=this._textContent,y=this._textGuide;m&&m.useStates(t,r,f),y&&y.useStates(t,r,f),this._updateAnimationTargets(),this.currentStates=t.slice(),this.markRedraw(),!f&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~ya)}},e.prototype.isSilent=function(){for(var t=this.silent,r=this.parent;!t&&r;){if(r.silent){t=!0;break}r=r.parent}return t},e.prototype._updateAnimationTargets=function(){for(var t=0;t<this.animators.length;t++){var r=this.animators[t];r.targetName&&r.changeTarget(this[r.targetName])}},e.prototype.removeState=function(t){var r=Ut(this.currentStates,t);if(r>=0){var n=this.currentStates.slice();n.splice(r,1),this.useStates(n)}},e.prototype.replaceState=function(t,r,n){var i=this.currentStates.slice(),a=Ut(i,t),s=Ut(i,r)>=0;a>=0?s?i.splice(a,1):i[a]=r:n&&!s&&i.push(r),this.useStates(i)},e.prototype.toggleState=function(t,r){r?this.useState(t,!0):this.removeState(t)},e.prototype._mergeStates=function(t){for(var r={},n,i=0;i<t.length;i++){var a=t[i];Ne(r,a),a.textConfig&&(n=n||{},Ne(n,a.textConfig))}return n&&(r.textConfig=n),r},e.prototype._applyStateObj=function(t,r,n,i,a,s){var o=!(r&&i);r&&r.textConfig?(this.textConfig=Ne({},i?this.textConfig:n.textConfig),Ne(this.textConfig,r.textConfig)):o&&n.textConfig&&(this.textConfig=n.textConfig);for(var l={},u=!1,c=0;c<R2.length;c++){var h=R2[c],f=a&&gTe[h];r&&r[h]!=null?f?(u=!0,l[h]=r[h]):this[h]=r[h]:o&&n[h]!=null&&(f?(u=!0,l[h]=n[h]):this[h]=n[h])}if(!a)for(var c=0;c<this.animators.length;c++){var d=this.animators[c],v=d.targetName;d.getLoop()||d.__changeFinalValue(v?(r||n)[v]:r||n)}u&&this._transitionState(t,l,s)},e.prototype._attachComponent=function(t){if(!(t.__zr&&!t.__hostTarget)&&t!==this){var r=this.__zr;r&&t.addSelfToZr(r),t.__zr=r,t.__hostTarget=this}},e.prototype._detachComponent=function(t){t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__hostTarget=null},e.prototype.getClipPath=function(){return this._clipPath},e.prototype.setClipPath=function(t){this._clipPath&&this._clipPath!==t&&this.removeClipPath(),this._attachComponent(t),this._clipPath=t,this.markRedraw()},e.prototype.removeClipPath=function(){var t=this._clipPath;t&&(this._detachComponent(t),this._clipPath=null,this.markRedraw())},e.prototype.getTextContent=function(){return this._textContent},e.prototype.setTextContent=function(t){var r=this._textContent;r!==t&&(r&&r!==t&&this.removeTextContent(),t.innerTransformable=new hl,this._attachComponent(t),this._textContent=t,this.markRedraw())},e.prototype.setTextConfig=function(t){this.textConfig||(this.textConfig={}),Ne(this.textConfig,t),this.markRedraw()},e.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},e.prototype.removeTextContent=function(){var t=this._textContent;t&&(t.innerTransformable=null,this._detachComponent(t),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},e.prototype.getTextGuideLine=function(){return this._textGuide},e.prototype.setTextGuideLine=function(t){this._textGuide&&this._textGuide!==t&&this.removeTextGuideLine(),this._attachComponent(t),this._textGuide=t,this.markRedraw()},e.prototype.removeTextGuideLine=function(){var t=this._textGuide;t&&(this._detachComponent(t),this._textGuide=null,this.markRedraw())},e.prototype.markRedraw=function(){this.__dirty|=ya;var t=this.__zr;t&&(this.__inHover?t.refreshHover():t.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},e.prototype.dirty=function(){this.markRedraw()},e.prototype._toggleHoverLayerFlag=function(t){this.__inHover=t;var r=this._textContent,n=this._textGuide;r&&(r.__inHover=t),n&&(n.__inHover=t)},e.prototype.addSelfToZr=function(t){if(this.__zr!==t){this.__zr=t;var r=this.animators;if(r)for(var n=0;n<r.length;n++)t.animation.addAnimator(r[n]);this._clipPath&&this._clipPath.addSelfToZr(t),this._textContent&&this._textContent.addSelfToZr(t),this._textGuide&&this._textGuide.addSelfToZr(t)}},e.prototype.removeSelfFromZr=function(t){if(this.__zr){this.__zr=null;var r=this.animators;if(r)for(var n=0;n<r.length;n++)t.animation.removeAnimator(r[n]);this._clipPath&&this._clipPath.removeSelfFromZr(t),this._textContent&&this._textContent.removeSelfFromZr(t),this._textGuide&&this._textGuide.removeSelfFromZr(t)}},e.prototype.animate=function(t,r,n){var i=t?this[t]:this,a=new wN(i,r,n);return t&&(a.targetName=t),this.addAnimator(a,t),a},e.prototype.addAnimator=function(t,r){var n=this.__zr,i=this;t.during(function(){i.updateDuringAnimation(r)}).done(function(){var a=i.animators,s=Ut(a,t);s>=0&&a.splice(s,1)}),this.animators.push(t),n&&n.animation.addAnimator(t),n&&n.wakeUp()},e.prototype.updateDuringAnimation=function(t){this.markRedraw()},e.prototype.stopAnimation=function(t,r){for(var n=this.animators,i=n.length,a=[],s=0;s<i;s++){var o=n[s];!t||t===o.scope?o.stop(r):a.push(o)}return this.animators=a,this},e.prototype.animateTo=function(t,r,n){O2(this,t,r,n)},e.prototype.animateFrom=function(t,r,n){O2(this,t,r,n,!0)},e.prototype._transitionState=function(t,r,n,i){for(var a=O2(this,r,n,i),s=0;s<a.length;s++)a[s].__fromStateTransition=t},e.prototype.getBoundingRect=function(){return null},e.prototype.getPaintRect=function(){return null},e.initDefaultProps=function(){var t=e.prototype;t.type="element",t.name="",t.ignore=t.silent=t.isGroup=t.draggable=t.dragging=t.ignoreClip=t.__inHover=!1,t.__dirty=ya;function r(n,i,a,s){Object.defineProperty(t,n,{get:function(){if(!this[i]){var l=this[i]=[];o(this,l)}return this[i]},set:function(l){this[a]=l[0],this[s]=l[1],this[i]=l,o(this,l)}});function o(l,u){Object.defineProperty(u,0,{get:function(){return l[a]},set:function(c){l[a]=c}}),Object.defineProperty(u,1,{get:function(){return l[s]},set:function(c){l[s]=c}})}}Object.defineProperty&&(r("position","_legacyPos","x","y"),r("scale","_legacyScale","scaleX","scaleY"),r("origin","_legacyOrigin","originX","originY"))}(),e}();cn(dw,cs);cn(dw,hl);function O2(e,t,r,n,i){r=r||{};var a=[];VX(e,"",e,t,r,n,a,i);var s=a.length,o=!1,l=r.done,u=r.aborted,c=function(){o=!0,s--,s<=0&&(o?l&&l():u&&u())},h=function(){s--,s<=0&&(o?l&&l():u&&u())};s||l&&l(),a.length>0&&r.during&&a[0].during(function(v,m){r.during(m)});for(var f=0;f<a.length;f++){var d=a[f];c&&d.done(c),h&&d.aborted(h),r.force&&d.duration(r.duration),d.start(r.easing)}return a}function B2(e,t,r){for(var n=0;n<r;n++)e[n]=t[n]}function yTe(e){return ai(e[0])}function xTe(e,t,r){if(ai(t[r]))if(ai(e[r])||(e[r]=[]),Hi(t[r])){var n=t[r].length;e[r].length!==n&&(e[r]=new t[r].constructor(n),B2(e[r],t[r],n))}else{var i=t[r],a=e[r],s=i.length;if(yTe(i))for(var o=i[0].length,l=0;l<s;l++)a[l]?B2(a[l],i[l],o):a[l]=Array.prototype.slice.call(i[l]);else B2(a,i,s);a.length=i.length}else e[r]=t[r]}function bTe(e,t){return e===t||ai(e)&&ai(t)&&STe(e,t)}function STe(e,t){var r=e.length;if(r!==t.length)return!1;for(var n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}function VX(e,t,r,n,i,a,s,o){for(var l=Kt(n),u=i.duration,c=i.delay,h=i.additive,f=i.setToFinal,d=!St(a),v=e.animators,m=[],y=0;y<l.length;y++){var b=l[y],S=n[b];if(S!=null&&r[b]!=null&&(d||a[b]))if(St(S)&&!ai(S)&&!U0(S)){if(t){o||(r[b]=S,e.updateDuringAnimation(t));continue}VX(e,b,r[b],S,i,a&&a[b],s,o)}else m.push(b);else o||(r[b]=S,e.updateDuringAnimation(t),m.push(b))}var w=m.length;if(!h&&w)for(var k=0;k<v.length;k++){var M=v[k];if(M.targetName===t){var I=M.stopTracks(m);if(I){var L=Ut(v,M);v.splice(L,1)}}}if(i.force||(m=lr(m,function(H){return!bTe(n[H],r[H])}),w=m.length),w>0||i.force&&!s.length){var N=void 0,z=void 0,B=void 0;if(o){z={},f&&(N={});for(var k=0;k<w;k++){var b=m[k];z[b]=r[b],f?N[b]=n[b]:r[b]=n[b]}}else if(f){B={};for(var k=0;k<w;k++){var b=m[k];B[b]=sm(r[b]),xTe(r,n,b)}}var M=new wN(r,!1,!1,h?lr(v,function(G){return G.targetName===t}):null);M.targetName=t,i.scope&&(M.scope=i.scope),f&&N&&M.whenWithKeys(0,N,m),B&&M.whenWithKeys(0,B,m),M.whenWithKeys(u??500,o?z:n,m).delay(c||0),e.addAnimator(M,t),s.push(M)}}var Ct=function(e){_e(t,e);function t(r){var n=e.call(this)||this;return n.isGroup=!0,n._children=[],n.attr(r),n}return t.prototype.childrenRef=function(){return this._children},t.prototype.children=function(){return this._children.slice()},t.prototype.childAt=function(r){return this._children[r]},t.prototype.childOfName=function(r){for(var n=this._children,i=0;i<n.length;i++)if(n[i].name===r)return n[i]},t.prototype.childCount=function(){return this._children.length},t.prototype.add=function(r){return r&&r!==this&&r.parent!==this&&(this._children.push(r),this._doAdd(r)),this},t.prototype.addBefore=function(r,n){if(r&&r!==this&&r.parent!==this&&n&&n.parent===this){var i=this._children,a=i.indexOf(n);a>=0&&(i.splice(a,0,r),this._doAdd(r))}return this},t.prototype.replace=function(r,n){var i=Ut(this._children,r);return i>=0&&this.replaceAt(n,i),this},t.prototype.replaceAt=function(r,n){var i=this._children,a=i[n];if(r&&r!==this&&r.parent!==this&&r!==a){i[n]=r,a.parent=null;var s=this.__zr;s&&a.removeSelfFromZr(s),this._doAdd(r)}return this},t.prototype._doAdd=function(r){r.parent&&r.parent.remove(r),r.parent=this;var n=this.__zr;n&&n!==r.__zr&&r.addSelfToZr(n),n&&n.refresh()},t.prototype.remove=function(r){var n=this.__zr,i=this._children,a=Ut(i,r);return a<0?this:(i.splice(a,1),r.parent=null,n&&r.removeSelfFromZr(n),n&&n.refresh(),this)},t.prototype.removeAll=function(){for(var r=this._children,n=this.__zr,i=0;i<r.length;i++){var a=r[i];n&&a.removeSelfFromZr(n),a.parent=null}return r.length=0,this},t.prototype.eachChild=function(r,n){for(var i=this._children,a=0;a<i.length;a++){var s=i[a];r.call(n,s,a)}return this},t.prototype.traverse=function(r,n){for(var i=0;i<this._children.length;i++){var a=this._children[i],s=r.call(n,a);a.isGroup&&!s&&a.traverse(r,n)}return this},t.prototype.addSelfToZr=function(r){e.prototype.addSelfToZr.call(this,r);for(var n=0;n<this._children.length;n++){var i=this._children[n];i.addSelfToZr(r)}},t.prototype.removeSelfFromZr=function(r){e.prototype.removeSelfFromZr.call(this,r);for(var n=0;n<this._children.length;n++){var i=this._children[n];i.removeSelfFromZr(r)}},t.prototype.getBoundingRect=function(r){for(var n=new jt(0,0,0,0),i=r||this._children,a=[],s=null,o=0;o<i.length;o++){var l=i[o];if(!(l.ignore||l.invisible)){var u=l.getBoundingRect(),c=l.getLocalTransform(a);c?(jt.applyTransform(n,u,c),s=s||n.clone(),s.union(n)):(s=s||u.clone(),s.union(u))}}return s||n},t}(dw);Ct.prototype.type="group";/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/var db={},mh={};function _Te(e){delete mh[e]}function wTe(e){if(!e)return!1;if(typeof e=="string")return Qm(e,1)<zI;if(e.colorStops){for(var t=e.colorStops,r=0,n=t.length,i=0;i<n;i++)r+=Qm(t[i].color,1);return r/=n,r<zI}return!1}var TTe=function(){function e(t,r,n){var i=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,n=n||{},this.dom=r,this.id=t;var a=new Rwe,s=n.renderer||"canvas";db[s]||(s=Kt(db)[0]),n.useDirtyRect=n.useDirtyRect==null?!1:n.useDirtyRect;var o=new db[s](r,a,n,t),l=n.ssr||o.ssrOnly;this.storage=a,this.painter=o;var u=!Xt.node&&!Xt.worker&&!l?new pTe(o.getViewportRoot(),o.root):null,c=n.useCoarsePointer,h=c==null||c==="auto"?Xt.touchEventsSupported:!!c,f=44,d;h&&(d=Mt(n.pointerSize,f)),this.handler=new SX(a,o,u,o.root,d),this.animation=new oTe({stage:{update:l?null:function(){return i._flush(!0)}}}),l||this.animation.start()}return e.prototype.add=function(t){this._disposed||!t||(this.storage.addRoot(t),t.addSelfToZr(this),this.refresh())},e.prototype.remove=function(t){this._disposed||!t||(this.storage.delRoot(t),t.removeSelfFromZr(this),this.refresh())},e.prototype.configLayer=function(t,r){this._disposed||(this.painter.configLayer&&this.painter.configLayer(t,r),this.refresh())},e.prototype.setBackgroundColor=function(t){this._disposed||(this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this.refresh(),this._backgroundColor=t,this._darkMode=wTe(t))},e.prototype.getBackgroundColor=function(){return this._backgroundColor},e.prototype.setDarkMode=function(t){this._darkMode=t},e.prototype.isDarkMode=function(){return this._darkMode},e.prototype.refreshImmediately=function(t){this._disposed||(t||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1)},e.prototype.refresh=function(){this._disposed||(this._needsRefresh=!0,this.animation.start())},e.prototype.flush=function(){this._disposed||this._flush(!1)},e.prototype._flush=function(t){var r,n=wd();this._needsRefresh&&(r=!0,this.refreshImmediately(t)),this._needsRefreshHover&&(r=!0,this.refreshHoverImmediately());var i=wd();r?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:i-n})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},e.prototype.setSleepAfterStill=function(t){this._sleepAfterStill=t},e.prototype.wakeUp=function(){this._disposed||(this.animation.start(),this._stillFrameAccum=0)},e.prototype.refreshHover=function(){this._needsRefreshHover=!0},e.prototype.refreshHoverImmediately=function(){this._disposed||(this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover())},e.prototype.resize=function(t){this._disposed||(t=t||{},this.painter.resize(t.width,t.height),this.handler.resize())},e.prototype.clearAnimation=function(){this._disposed||this.animation.clear()},e.prototype.getWidth=function(){if(!this._disposed)return this.painter.getWidth()},e.prototype.getHeight=function(){if(!this._disposed)return this.painter.getHeight()},e.prototype.setCursorStyle=function(t){this._disposed||this.handler.setCursorStyle(t)},e.prototype.findHover=function(t,r){if(!this._disposed)return this.handler.findHover(t,r)},e.prototype.on=function(t,r,n){return this._disposed||this.handler.on(t,r,n),this},e.prototype.off=function(t,r){this._disposed||this.handler.off(t,r)},e.prototype.trigger=function(t,r){this._disposed||this.handler.trigger(t,r)},e.prototype.clear=function(){if(!this._disposed){for(var t=this.storage.getRoots(),r=0;r<t.length;r++)t[r]instanceof Ct&&t[r].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()}},e.prototype.dispose=function(){this._disposed||(this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,this._disposed=!0,_Te(this.id))},e}();function VI(e,t){var r=new TTe(vN(),e,t);return mh[r.id]=r,r}function CTe(e){e.dispose()}function ETe(){for(var e in mh)mh.hasOwnProperty(e)&&mh[e].dispose();mh={}}function ATe(e){return mh[e]}function UX(e,t){db[e]=t}var UI;function GX(e){if(typeof UI=="function")return UI(e)}function WX(e){UI=e}var kTe="5.6.1";const ITe=Object.freeze(Object.defineProperty({__proto__:null,dispose:CTe,disposeAll:ETe,getElementSSRData:GX,getInstance:ATe,init:VI,registerPainter:UX,registerSSRDataGetter:WX,version:kTe},Symbol.toStringTag,{value:"Module"}));var QB=1e-4,$X=20;function DTe(e){return e.replace(/^\s+|\s+$/g,"")}function pr(e,t,r,n){var i=t[0],a=t[1],s=r[0],o=r[1],l=a-i,u=o-s;if(l===0)return u===0?s:(s+o)/2;if(n)if(l>0){if(e<=i)return s;if(e>=a)return o}else{if(e>=i)return s;if(e<=a)return o}else{if(e===i)return s;if(e===a)return o}return(e-i)/l*u+s}function Ze(e,t){switch(e){case"center":case"middle":e="50%";break;case"left":case"top":e="0%";break;case"right":case"bottom":e="100%";break}return Je(e)?DTe(e).match(/%$/)?parseFloat(e)/100*t:parseFloat(e):e==null?NaN:+e}function rn(e,t,r){return t==null&&(t=10),t=Math.min(Math.max(0,t),$X),e=(+e).toFixed(t),r?e:+e}function Sa(e){return e.sort(function(t,r){return t-r}),e}function Ms(e){if(e=+e,isNaN(e))return 0;if(e>1e-14){for(var t=1,r=0;r<15;r++,t*=10)if(Math.round(e*t)/t===e)return r}return YX(e)}function YX(e){var t=e.toString().toLowerCase(),r=t.indexOf("e"),n=r>0?+t.slice(r+1):0,i=r>0?r:t.length,a=t.indexOf("."),s=a<0?0:i-1-a;return Math.max(0,s-n)}function TN(e,t){var r=Math.log,n=Math.LN10,i=Math.floor(r(e[1]-e[0])/n),a=Math.round(r(Math.abs(t[1]-t[0]))/n),s=Math.min(Math.max(-i+a,0),20);return isFinite(s)?s:20}function MTe(e,t,r){if(!e[t])return 0;var n=XX(e,r);return n[t]||0}function XX(e,t){var r=ls(e,function(d,v){return d+(isNaN(v)?0:v)},0);if(r===0)return[];for(var n=Math.pow(10,t),i=Fe(e,function(d){return(isNaN(d)?0:d)/r*n*100}),a=n*100,s=Fe(i,function(d){return Math.floor(d)}),o=ls(s,function(d,v){return d+v},0),l=Fe(i,function(d,v){return d-s[v]});o<a;){for(var u=Number.NEGATIVE_INFINITY,c=null,h=0,f=l.length;h<f;++h)l[h]>u&&(u=l[h],c=h);++s[c],l[c]=0,++o}return Fe(s,function(d){return d/n})}function LTe(e,t){var r=Math.max(Ms(e),Ms(t)),n=e+t;return r>$X?n:rn(n,r)}var GI=9007199254740991;function CN(e){var t=Math.PI*2;return(e%t+t)%t}function cp(e){return e>-QB&&e<QB}var NTe=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function ka(e){if(e instanceof Date)return e;if(Je(e)){var t=NTe.exec(e);if(!t)return new Date(NaN);if(t[8]){var r=+t[4]||0;return t[8].toUpperCase()!=="Z"&&(r-=+t[8].slice(0,3)),new Date(Date.UTC(+t[1],+(t[2]||1)-1,+t[3]||1,r,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0))}else return new Date(+t[1],+(t[2]||1)-1,+t[3]||1,+t[4]||0,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0)}else if(e==null)return new Date(NaN);return new Date(Math.round(e))}function qX(e){return Math.pow(10,pw(e))}function pw(e){if(e===0)return 0;var t=Math.floor(Math.log(e)/Math.LN10);return e/Math.pow(10,t)>=10&&t++,t}function EN(e,t){var r=pw(e),n=Math.pow(10,r),i=e/n,a;return t?i<1.5?a=1:i<2.5?a=2:i<4?a=3:i<7?a=5:a=10:i<1?a=1:i<2?a=2:i<3?a=3:i<5?a=5:a=10,e=a*n,r>=-20?+e.toFixed(r<0?-r:0):e}function pb(e,t){var r=(e.length-1)*t+1,n=Math.floor(r),i=+e[n-1],a=r-n;return a?i+a*(e[n]-i):i}function WI(e){e.sort(function(l,u){return o(l,u,0)?-1:1});for(var t=-1/0,r=1,n=0;n<e.length;){for(var i=e[n].interval,a=e[n].close,s=0;s<2;s++)i[s]<=t&&(i[s]=t,a[s]=s?1:1-r),t=i[s],r=a[s];i[0]===i[1]&&a[0]*a[1]!==1?e.splice(n,1):n++}return e;function o(l,u,c){return l.interval[c]<u.interval[c]||l.interval[c]===u.interval[c]&&(l.close[c]-u.close[c]===(c?-1:1)||!c&&o(l,u,1))}}function Ro(e){var t=parseFloat(e);return t==e&&(t!==0||!Je(e)||e.indexOf("x")<=0)?t:NaN}function AN(e){return!isNaN(Ro(e))}function KX(){return Math.round(Math.random()*9)}function ZX(e,t){return t===0?e:ZX(t,e%t)}function JB(e,t){return e==null?t:t==null?e:e*t/ZX(e,t)}function vr(e){throw new Error(e)}function eF(e,t,r){return(t-e)*r+e}var QX="series\0",JX="\0_ec_\0";function Tr(e){return e instanceof Array?e:e==null?[]:[e]}function qh(e,t,r){if(e){e[t]=e[t]||{},e.emphasis=e.emphasis||{},e.emphasis[t]=e.emphasis[t]||{};for(var n=0,i=r.length;n<i;n++){var a=r[n];!e.emphasis[t].hasOwnProperty(a)&&e[t].hasOwnProperty(a)&&(e.emphasis[t][a]=e[t][a])}}}var tF=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function Pp(e){return St(e)&&!Oe(e)&&!(e instanceof Date)?e.value:e}function PTe(e){return St(e)&&!(e instanceof Array)}function eq(e,t,r){var n=r==="normalMerge",i=r==="replaceMerge",a=r==="replaceAll";e=e||[],t=(t||[]).slice();var s=ct();q(t,function(l,u){if(!St(l)){t[u]=null;return}});var o=RTe(e,s,r);return(n||i)&&OTe(o,e,s,t),n&&BTe(o,t),n||i?FTe(o,t,i):a&&zTe(o,t),jTe(o),o}function RTe(e,t,r){var n=[];if(r==="replaceAll")return n;for(var i=0;i<e.length;i++){var a=e[i];a&&a.id!=null&&t.set(a.id,i),n.push({existing:r==="replaceMerge"||e0(a)?null:a,newOption:null,keyInfo:null,brandNew:null})}return n}function OTe(e,t,r,n){q(n,function(i,a){if(!(!i||i.id==null)){var s=om(i.id),o=r.get(s);if(o!=null){var l=e[o];Si(!l.newOption,'Duplicated option on id "'+s+'".'),l.newOption=i,l.existing=t[o],n[a]=null}}})}function BTe(e,t){q(t,function(r,n){if(!(!r||r.name==null))for(var i=0;i<e.length;i++){var a=e[i].existing;if(!e[i].newOption&&a&&(a.id==null||r.id==null)&&!e0(r)&&!e0(a)&&tq("name",a,r)){e[i].newOption=r,t[n]=null;return}}})}function FTe(e,t,r){q(t,function(n){if(n){for(var i,a=0;(i=e[a])&&(i.newOption||e0(i.existing)||i.existing&&n.id!=null&&!tq("id",n,i.existing));)a++;i?(i.newOption=n,i.brandNew=r):e.push({newOption:n,brandNew:r,existing:null,keyInfo:null}),a++}})}function zTe(e,t){q(t,function(r){e.push({newOption:r,brandNew:!0,existing:null,keyInfo:null})})}function jTe(e){var t=ct();q(e,function(r){var n=r.existing;n&&t.set(n.id,r)}),q(e,function(r){var n=r.newOption;Si(!n||n.id==null||!t.get(n.id)||t.get(n.id)===r,"id duplicates: "+(n&&n.id)),n&&n.id!=null&&t.set(n.id,r),!r.keyInfo&&(r.keyInfo={})}),q(e,function(r,n){var i=r.existing,a=r.newOption,s=r.keyInfo;if(St(a)){if(s.name=a.name!=null?om(a.name):i?i.name:QX+n,i)s.id=om(i.id);else if(a.id!=null)s.id=om(a.id);else{var o=0;do s.id="\0"+s.name+"\0"+o++;while(t.get(s.id))}t.set(s.id,r)}})}function tq(e,t,r){var n=En(t[e],null),i=En(r[e],null);return n!=null&&i!=null&&n===i}function om(e){return En(e,"")}function En(e,t){return e==null?t:Je(e)?e:ar(e)||dS(e)?e+"":t}function kN(e){var t=e.name;return!!(t&&t.indexOf(QX))}function e0(e){return e&&e.id!=null&&om(e.id).indexOf(JX)===0}function HTe(e){return JX+e}function VTe(e,t,r){q(e,function(n){var i=n.newOption;St(i)&&(n.keyInfo.mainType=t,n.keyInfo.subType=UTe(t,i,n.existing,r))})}function UTe(e,t,r,n){var i=t.type?t.type:r?r.subType:n.determineSubType(e,t);return i}function GTe(e,t){var r={},n={};return i(e||[],r),i(t||[],n,r),[a(r),a(n)];function i(s,o,l){for(var u=0,c=s.length;u<c;u++){var h=En(s[u].seriesId,null);if(h==null)return;for(var f=Tr(s[u].dataIndex),d=l&&l[h],v=0,m=f.length;v<m;v++){var y=f[v];d&&d[y]?d[y]=null:(o[h]||(o[h]={}))[y]=1}}}function a(s,o){var l=[];for(var u in s)if(s.hasOwnProperty(u)&&s[u]!=null)if(o)l.push(+u);else{var c=a(s[u],!0);c.length&&l.push({seriesId:u,dataIndex:c})}return l}}function Kh(e,t){if(t.dataIndexInside!=null)return t.dataIndexInside;if(t.dataIndex!=null)return Oe(t.dataIndex)?Fe(t.dataIndex,function(r){return e.indexOfRawIndex(r)}):e.indexOfRawIndex(t.dataIndex);if(t.name!=null)return Oe(t.name)?Fe(t.name,function(r){return e.indexOfName(r)}):e.indexOfName(t.name)}function tr(){var e="__ec_inner_"+WTe++;return function(t){return t[e]||(t[e]={})}}var WTe=KX();function lm(e,t,r){var n=IN(t,r),i=n.mainTypeSpecified,a=n.queryOptionMap,s=n.others,o=s,l=r?r.defaultMainType:null;return!i&&l&&a.set(l,{}),a.each(function(u,c){var h=X0(e,c,u,{useDefault:l===c,enableAll:r&&r.enableAll!=null?r.enableAll:!0,enableNone:r&&r.enableNone!=null?r.enableNone:!0});o[c+"Models"]=h.models,o[c+"Model"]=h.models[0]}),o}function IN(e,t){var r;if(Je(e)){var n={};n[e+"Index"]=0,r=n}else r=e;var i=ct(),a={},s=!1;return q(r,function(o,l){if(l==="dataIndex"||l==="dataIndexInside"){a[l]=o;return}var u=l.match(/^(\w+)(Index|Id|Name)$/)||[],c=u[1],h=(u[2]||"").toLowerCase();if(!(!c||!h||t&&t.includeMainTypes&&Ut(t.includeMainTypes,c)<0)){s=s||!!c;var f=i.get(c)||i.set(c,{});f[h]=o}}),{mainTypeSpecified:s,queryOptionMap:i,others:a}}var bn={useDefault:!0,enableAll:!1,enableNone:!1},$Te={useDefault:!1,enableAll:!0,enableNone:!0};function X0(e,t,r,n){n=n||bn;var i=r.index,a=r.id,s=r.name,o={models:null,specified:i!=null||a!=null||s!=null};if(!o.specified){var l=void 0;return o.models=n.useDefault&&(l=e.getComponent(t))?[l]:[],o}return i==="none"||i===!1?(Si(n.enableNone,'`"none"` or `false` is not a valid value on index option.'),o.models=[],o):(i==="all"&&(Si(n.enableAll,'`"all"` is not a valid value on index option.'),i=a=s=null),o.models=e.queryComponents({mainType:t,index:i,id:a,name:s}),o)}function rq(e,t,r){e.setAttribute?e.setAttribute(t,r):e[t]=r}function YTe(e,t){return e.getAttribute?e.getAttribute(t):e[t]}function XTe(e){return e==="auto"?Xt.domSupported?"html":"richText":e||"html"}function $I(e,t){var r=ct(),n=[];return q(e,function(i){var a=t(i);(r.get(a)||(n.push(a),r.set(a,[]))).push(i)}),{keys:n,buckets:r}}function nq(e,t,r,n,i){var a=t==null||t==="auto";if(n==null)return n;if(ar(n)){var s=eF(r||0,n,i);return rn(s,a?Math.max(Ms(r||0),Ms(n)):t)}else{if(Je(n))return i<1?r:n;for(var o=[],l=r,u=n,c=Math.max(l?l.length:0,u.length),h=0;h<c;++h){var f=e.getDimensionInfo(h);if(f&&f.type==="ordinal")o[h]=(i<1&&l?l:u)[h];else{var d=l&&l[h]?l[h]:0,v=u[h],s=eF(d,v,i);o[h]=rn(s,a?Math.max(Ms(d),Ms(v)):t)}}return o}}var qTe=".",Pc="___EC__COMPONENT__CONTAINER___",iq="___EC__EXTENDED_CLASS___";function _o(e){var t={main:"",sub:""};if(e){var r=e.split(qTe);t.main=r[0]||"",t.sub=r[1]||""}return t}function KTe(e){Si(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(e),'componentType "'+e+'" illegal')}function ZTe(e){return!!(e&&e[iq])}function DN(e,t){e.$constructor=e,e.extend=function(r){var n=this,i;return QTe(n)?i=function(a){_e(s,a);function s(){return a.apply(this,arguments)||this}return s}(n):(i=function(){(r.$constructor||n).apply(this,arguments)},gN(i,this)),Ne(i.prototype,r),i[iq]=!0,i.extend=this.extend,i.superCall=tCe,i.superApply=rCe,i.superClass=n,i}}function QTe(e){return vt(e)&&/^class\s/.test(Function.prototype.toString.call(e))}function aq(e,t){e.extend=t.extend}var JTe=Math.round(Math.random()*10);function eCe(e){var t=["__\0is_clz",JTe++].join("_");e.prototype[t]=!0,e.isInstance=function(r){return!!(r&&r[t])}}function tCe(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return this.superClass.prototype[t].apply(e,r)}function rCe(e,t,r){return this.superClass.prototype[t].apply(e,r)}function vw(e){var t={};e.registerClass=function(n){var i=n.type||n.prototype.type;if(i){KTe(i),n.prototype.type=i;var a=_o(i);if(!a.sub)t[a.main]=n;else if(a.sub!==Pc){var s=r(a);s[a.sub]=n}}return n},e.getClass=function(n,i,a){var s=t[n];if(s&&s[Pc]&&(s=i?s[i]:null),a&&!s)throw new Error(i?"Component "+n+"."+(i||"")+" is used but not imported.":n+".type should be specified.");return s},e.getClassesByMainType=function(n){var i=_o(n),a=[],s=t[i.main];return s&&s[Pc]?q(s,function(o,l){l!==Pc&&a.push(o)}):a.push(s),a},e.hasClass=function(n){var i=_o(n);return!!t[i.main]},e.getAllClassMainTypes=function(){var n=[];return q(t,function(i,a){n.push(a)}),n},e.hasSubTypes=function(n){var i=_o(n),a=t[i.main];return a&&a[Pc]};function r(n){var i=t[n.main];return(!i||!i[Pc])&&(i=t[n.main]={},i[Pc]=!0),i}}function Zh(e,t){for(var r=0;r<e.length;r++)e[r][1]||(e[r][1]=e[r][0]);return t=t||!1,function(n,i,a){for(var s={},o=0;o<e.length;o++){var l=e[o][1];if(!(i&&Ut(i,l)>=0||a&&Ut(a,l)<0)){var u=n.getShallow(l,t);u!=null&&(s[e[o][0]]=u)}}return s}}var nCe=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],iCe=Zh(nCe),aCe=function(){function e(){}return e.prototype.getAreaStyle=function(t,r){return iCe(this,t,r)},e}(),YI=new $0(50);function sCe(e){if(typeof e=="string"){var t=YI.get(e);return t&&t.image}else return e}function MN(e,t,r,n,i){if(e)if(typeof e=="string"){if(t&&t.__zrImageSrc===e||!r)return t;var a=YI.get(e),s={hostEl:r,cb:n,cbPayload:i};return a?(t=a.image,!gw(t)&&a.pending.push(s)):(t=Hs.loadImage(e,rF,rF),t.__zrImageSrc=e,YI.put(e,t.__cachedImgObj={image:t,pending:[s]})),t}else return e;else return t}function rF(){var e=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var t=0;t<e.pending.length;t++){var r=e.pending[t],n=r.cb;n&&n(this,r.cbPayload),r.hostEl.dirty()}e.pending.length=0}function gw(e){return e&&e.width&&e.height}var F2=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function oCe(e,t,r,n,i){var a={};return sq(a,e,t,r,n,i),a.text}function sq(e,t,r,n,i,a){if(!r){e.text="",e.isTruncated=!1;return}var s=(t+"").split(`
`);a=oq(r,n,i,a);for(var o=!1,l={},u=0,c=s.length;u<c;u++)lq(l,s[u],a),s[u]=l.textLine,o=o||l.isTruncated;e.text=s.join(`
`),e.isTruncated=o}function oq(e,t,r,n){n=n||{};var i=Ne({},n);i.font=t,r=Mt(r,"..."),i.maxIterations=Mt(n.maxIterations,2);var a=i.minChar=Mt(n.minChar,0);i.cnCharWidth=Ca("",t);var s=i.ascCharWidth=Ca("a",t);i.placeholder=Mt(n.placeholder,"");for(var o=e=Math.max(0,e-1),l=0;l<a&&o>=s;l++)o-=s;var u=Ca(r,t);return u>o&&(r="",u=0),o=e-u,i.ellipsis=r,i.ellipsisWidth=u,i.contentWidth=o,i.containerWidth=e,i}function lq(e,t,r){var n=r.containerWidth,i=r.font,a=r.contentWidth;if(!n){e.textLine="",e.isTruncated=!1;return}var s=Ca(t,i);if(s<=n){e.textLine=t,e.isTruncated=!1;return}for(var o=0;;o++){if(s<=a||o>=r.maxIterations){t+=r.ellipsis;break}var l=o===0?lCe(t,a,r.ascCharWidth,r.cnCharWidth):s>0?Math.floor(t.length*a/s):0;t=t.substr(0,l),s=Ca(t,i)}t===""&&(t=r.placeholder),e.textLine=t,e.isTruncated=!0}function lCe(e,t,r,n){for(var i=0,a=0,s=e.length;a<s&&i<t;a++){var o=e.charCodeAt(a);i+=0<=o&&o<=127?r:n}return a}function uCe(e,t){e!=null&&(e+="");var r=t.overflow,n=t.padding,i=t.font,a=r==="truncate",s=fw(i),o=Mt(t.lineHeight,s),l=!!t.backgroundColor,u=t.lineOverflow==="truncate",c=!1,h=t.width,f;h!=null&&(r==="break"||r==="breakAll")?f=e?uq(e,t.font,h,r==="breakAll",0).lines:[]:f=e?e.split(`
`):[];var d=f.length*o,v=Mt(t.height,d);if(d>v&&u){var m=Math.floor(v/o);c=c||f.length>m,f=f.slice(0,m)}if(e&&a&&h!=null)for(var y=oq(h,i,t.ellipsis,{minChar:t.truncateMinChar,placeholder:t.placeholder}),b={},S=0;S<f.length;S++)lq(b,f[S],y),f[S]=b.textLine,c=c||b.isTruncated;for(var w=v,k=0,S=0;S<f.length;S++)k=Math.max(Ca(f[S],i),k);h==null&&(h=k);var M=k;return n&&(w+=n[0]+n[2],M+=n[1]+n[3],h+=n[1]+n[3]),l&&(M=h),{lines:f,height:v,outerWidth:M,outerHeight:w,lineHeight:o,calculatedLineHeight:s,contentWidth:k,contentHeight:d,width:h,isTruncated:c}}var cCe=function(){function e(){}return e}(),nF=function(){function e(t){this.tokens=[],t&&(this.tokens=t)}return e}(),hCe=function(){function e(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[],this.isTruncated=!1}return e}();function fCe(e,t){var r=new hCe;if(e!=null&&(e+=""),!e)return r;for(var n=t.width,i=t.height,a=t.overflow,s=(a==="break"||a==="breakAll")&&n!=null?{width:n,accumWidth:0,breakAll:a==="breakAll"}:null,o=F2.lastIndex=0,l;(l=F2.exec(e))!=null;){var u=l.index;u>o&&z2(r,e.substring(o,u),t,s),z2(r,l[2],t,s,l[1]),o=F2.lastIndex}o<e.length&&z2(r,e.substring(o,e.length),t,s);var c=[],h=0,f=0,d=t.padding,v=a==="truncate",m=t.lineOverflow==="truncate",y={};function b(re,me,J){re.width=me,re.lineHeight=J,h+=J,f=Math.max(f,me)}e:for(var S=0;S<r.lines.length;S++){for(var w=r.lines[S],k=0,M=0,I=0;I<w.tokens.length;I++){var L=w.tokens[I],N=L.styleName&&t.rich[L.styleName]||{},z=L.textPadding=N.padding,B=z?z[1]+z[3]:0,H=L.font=N.font||t.font;L.contentHeight=fw(H);var G=Mt(N.height,L.contentHeight);if(L.innerHeight=G,z&&(G+=z[0]+z[2]),L.height=G,L.lineHeight=Os(N.lineHeight,t.lineHeight,G),L.align=N&&N.align||t.align,L.verticalAlign=N&&N.verticalAlign||"middle",m&&i!=null&&h+L.lineHeight>i){var $=r.lines.length;I>0?(w.tokens=w.tokens.slice(0,I),b(w,M,k),r.lines=r.lines.slice(0,S+1)):r.lines=r.lines.slice(0,S),r.isTruncated=r.isTruncated||r.lines.length<$;break e}var W=N.width,X=W==null||W==="auto";if(typeof W=="string"&&W.charAt(W.length-1)==="%")L.percentWidth=W,c.push(L),L.contentWidth=Ca(L.text,H);else{if(X){var ee=N.backgroundColor,le=ee&&ee.image;le&&(le=sCe(le),gw(le)&&(L.width=Math.max(L.width,le.width*G/le.height)))}var ie=v&&n!=null?n-M:null;ie!=null&&ie<L.width?!X||ie<B?(L.text="",L.width=L.contentWidth=0):(sq(y,L.text,ie-B,H,t.ellipsis,{minChar:t.truncateMinChar}),L.text=y.text,r.isTruncated=r.isTruncated||y.isTruncated,L.width=L.contentWidth=Ca(L.text,H)):L.contentWidth=Ca(L.text,H)}L.width+=B,M+=L.width,N&&(k=Math.max(k,L.lineHeight))}b(w,M,k)}r.outerWidth=r.width=Mt(n,f),r.outerHeight=r.height=Mt(i,h),r.contentHeight=h,r.contentWidth=f,d&&(r.outerWidth+=d[1]+d[3],r.outerHeight+=d[0]+d[2]);for(var S=0;S<c.length;S++){var L=c[S],fe=L.percentWidth;L.width=parseInt(fe,10)/100*r.width}return r}function z2(e,t,r,n,i){var a=t==="",s=i&&r.rich[i]||{},o=e.lines,l=s.font||r.font,u=!1,c,h;if(n){var f=s.padding,d=f?f[1]+f[3]:0;if(s.width!=null&&s.width!=="auto"){var v=Us(s.width,n.width)+d;o.length>0&&v+n.accumWidth>n.width&&(c=t.split(`
`),u=!0),n.accumWidth=v}else{var m=uq(t,l,n.width,n.breakAll,n.accumWidth);n.accumWidth=m.accumWidth+d,h=m.linesWidths,c=m.lines}}else c=t.split(`
`);for(var y=0;y<c.length;y++){var b=c[y],S=new cCe;if(S.styleName=i,S.text=b,S.isLineHolder=!b&&!a,typeof s.width=="number"?S.width=s.width:S.width=h?h[y]:Ca(b,l),!y&&!u){var w=(o[o.length-1]||(o[0]=new nF)).tokens,k=w.length;k===1&&w[0].isLineHolder?w[0]=S:(b||!k||a)&&w.push(S)}else o.push(new nF([S]))}}function dCe(e){var t=e.charCodeAt(0);return t>=32&&t<=591||t>=880&&t<=4351||t>=4608&&t<=5119||t>=7680&&t<=8303}var pCe=ls(",&?/;] ".split(""),function(e,t){return e[t]=!0,e},{});function vCe(e){return dCe(e)?!!pCe[e]:!0}function uq(e,t,r,n,i){for(var a=[],s=[],o="",l="",u=0,c=0,h=0;h<e.length;h++){var f=e.charAt(h);if(f===`
`){l&&(o+=l,c+=u),a.push(o),s.push(c),o="",l="",u=0,c=0;continue}var d=Ca(f,t),v=n?!1:!vCe(f);if(a.length?c+d>r:i+c+d>r){c?(o||l)&&(v?(o||(o=l,l="",u=0,c=u),a.push(o),s.push(c-u),l+=f,u+=d,o="",c=u):(l&&(o+=l,l="",u=0),a.push(o),s.push(c),o=f,c=d)):v?(a.push(l),s.push(u),l=f,u=d):(a.push(f),s.push(d));continue}c+=d,v?(l+=f,u+=d):(l&&(o+=l,l="",u=0),o+=f)}return!a.length&&!o&&(o=e,l="",u=0),l&&(o+=l),o&&(a.push(o),s.push(c)),a.length===1&&(c+=i),{accumWidth:c,lines:a,linesWidths:s}}var XI="__zr_style_"+Math.round(Math.random()*10),Lh={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},mw={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};Lh[XI]=!0;var iF=["z","z2","invisible"],gCe=["invisible"],us=function(e){_e(t,e);function t(r){return e.call(this,r)||this}return t.prototype._init=function(r){for(var n=Kt(r),i=0;i<n.length;i++){var a=n[i];a==="style"?this.useStyle(r[a]):e.prototype.attrKV.call(this,a,r[a])}this.style||this.useStyle({})},t.prototype.beforeBrush=function(){},t.prototype.afterBrush=function(){},t.prototype.innerBeforeBrush=function(){},t.prototype.innerAfterBrush=function(){},t.prototype.shouldBePainted=function(r,n,i,a){var s=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&mCe(this,r,n)||s&&!s[0]&&!s[3])return!1;if(i&&this.__clipPaths){for(var o=0;o<this.__clipPaths.length;++o)if(this.__clipPaths[o].isZeroArea())return!1}if(a&&this.parent)for(var l=this.parent;l;){if(l.ignore)return!1;l=l.parent}return!0},t.prototype.contain=function(r,n){return this.rectContain(r,n)},t.prototype.traverse=function(r,n){r.call(n,this)},t.prototype.rectContain=function(r,n){var i=this.transformCoordToLocal(r,n),a=this.getBoundingRect();return a.contain(i[0],i[1])},t.prototype.getPaintRect=function(){var r=this._paintRect;if(!this._paintRect||this.__dirty){var n=this.transform,i=this.getBoundingRect(),a=this.style,s=a.shadowBlur||0,o=a.shadowOffsetX||0,l=a.shadowOffsetY||0;r=this._paintRect||(this._paintRect=new jt(0,0,0,0)),n?jt.applyTransform(r,i,n):r.copy(i),(s||o||l)&&(r.width+=s*2+Math.abs(o),r.height+=s*2+Math.abs(l),r.x=Math.min(r.x,r.x+o-s),r.y=Math.min(r.y,r.y+l-s));var u=this.dirtyRectTolerance;r.isZero()||(r.x=Math.floor(r.x-u),r.y=Math.floor(r.y-u),r.width=Math.ceil(r.width+1+u*2),r.height=Math.ceil(r.height+1+u*2))}return r},t.prototype.setPrevPaintRect=function(r){r?(this._prevPaintRect=this._prevPaintRect||new jt(0,0,0,0),this._prevPaintRect.copy(r)):this._prevPaintRect=null},t.prototype.getPrevPaintRect=function(){return this._prevPaintRect},t.prototype.animateStyle=function(r){return this.animate("style",r)},t.prototype.updateDuringAnimation=function(r){r==="style"?this.dirtyStyle():this.markRedraw()},t.prototype.attrKV=function(r,n){r!=="style"?e.prototype.attrKV.call(this,r,n):this.style?this.setStyle(n):this.useStyle(n)},t.prototype.setStyle=function(r,n){return typeof r=="string"?this.style[r]=n:Ne(this.style,r),this.dirtyStyle(),this},t.prototype.dirtyStyle=function(r){r||this.markRedraw(),this.__dirty|=Sg,this._rect&&(this._rect=null)},t.prototype.dirty=function(){this.dirtyStyle()},t.prototype.styleChanged=function(){return!!(this.__dirty&Sg)},t.prototype.styleUpdated=function(){this.__dirty&=~Sg},t.prototype.createStyle=function(r){return G0(Lh,r)},t.prototype.useStyle=function(r){r[XI]||(r=this.createStyle(r)),this.__inHover?this.__hoverStyle=r:this.style=r,this.dirtyStyle()},t.prototype.isStyleObject=function(r){return r[XI]},t.prototype._innerSaveToNormal=function(r){e.prototype._innerSaveToNormal.call(this,r);var n=this._normalState;r.style&&!n.style&&(n.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(r,n,iF)},t.prototype._applyStateObj=function(r,n,i,a,s,o){e.prototype._applyStateObj.call(this,r,n,i,a,s,o);var l=!(n&&a),u;if(n&&n.style?s?a?u=n.style:(u=this._mergeStyle(this.createStyle(),i.style),this._mergeStyle(u,n.style)):(u=this._mergeStyle(this.createStyle(),a?this.style:i.style),this._mergeStyle(u,n.style)):l&&(u=i.style),u)if(s){var c=this.style;if(this.style=this.createStyle(l?{}:c),l)for(var h=Kt(c),f=0;f<h.length;f++){var d=h[f];d in u&&(u[d]=u[d],this.style[d]=c[d])}for(var v=Kt(u),f=0;f<v.length;f++){var d=v[f];this.style[d]=this.style[d]}this._transitionState(r,{style:u},o,this.getAnimationStyleProps())}else this.useStyle(u);for(var m=this.__inHover?gCe:iF,f=0;f<m.length;f++){var d=m[f];n&&n[d]!=null?this[d]=n[d]:l&&i[d]!=null&&(this[d]=i[d])}},t.prototype._mergeStates=function(r){for(var n=e.prototype._mergeStates.call(this,r),i,a=0;a<r.length;a++){var s=r[a];s.style&&(i=i||{},this._mergeStyle(i,s.style))}return i&&(n.style=i),n},t.prototype._mergeStyle=function(r,n){return Ne(r,n),r},t.prototype.getAnimationStyleProps=function(){return mw},t.initDefaultProps=function(){var r=t.prototype;r.type="displayable",r.invisible=!1,r.z=0,r.z2=0,r.zlevel=0,r.culling=!1,r.cursor="pointer",r.rectHover=!1,r.incremental=!1,r._rect=null,r.dirtyRectTolerance=0,r.__dirty=ya|Sg}(),t}(dw),j2=new jt(0,0,0,0),H2=new jt(0,0,0,0);function mCe(e,t,r){return j2.copy(e.getBoundingRect()),e.transform&&j2.applyTransform(e.transform),H2.width=t,H2.height=r,!j2.intersect(H2)}var ea=Math.min,ta=Math.max,V2=Math.sin,U2=Math.cos,Rc=Math.PI*2,Y1=uc(),X1=uc(),q1=uc();function yw(e,t,r){if(e.length!==0){for(var n=e[0],i=n[0],a=n[0],s=n[1],o=n[1],l=1;l<e.length;l++)n=e[l],i=ea(i,n[0]),a=ta(a,n[0]),s=ea(s,n[1]),o=ta(o,n[1]);t[0]=i,t[1]=s,r[0]=a,r[1]=o}}function aF(e,t,r,n,i,a){i[0]=ea(e,r),i[1]=ea(t,n),a[0]=ta(e,r),a[1]=ta(t,n)}var sF=[],oF=[];function yCe(e,t,r,n,i,a,s,o,l,u){var c=EX,h=Pn,f=c(e,r,i,s,sF);l[0]=1/0,l[1]=1/0,u[0]=-1/0,u[1]=-1/0;for(var d=0;d<f;d++){var v=h(e,r,i,s,sF[d]);l[0]=ea(v,l[0]),u[0]=ta(v,u[0])}f=c(t,n,a,o,oF);for(var d=0;d<f;d++){var m=h(t,n,a,o,oF[d]);l[1]=ea(m,l[1]),u[1]=ta(m,u[1])}l[0]=ea(e,l[0]),u[0]=ta(e,u[0]),l[0]=ea(s,l[0]),u[0]=ta(s,u[0]),l[1]=ea(t,l[1]),u[1]=ta(t,u[1]),l[1]=ea(o,l[1]),u[1]=ta(o,u[1])}function xCe(e,t,r,n,i,a,s,o){var l=kX,u=$n,c=ta(ea(l(e,r,i),1),0),h=ta(ea(l(t,n,a),1),0),f=u(e,r,i,c),d=u(t,n,a,h);s[0]=ea(e,i,f),s[1]=ea(t,a,d),o[0]=ta(e,i,f),o[1]=ta(t,a,d)}function bCe(e,t,r,n,i,a,s,o,l){var u=ul,c=cl,h=Math.abs(i-a);if(h%Rc<1e-4&&h>1e-4){o[0]=e-r,o[1]=t-n,l[0]=e+r,l[1]=t+n;return}if(Y1[0]=U2(i)*r+e,Y1[1]=V2(i)*n+t,X1[0]=U2(a)*r+e,X1[1]=V2(a)*n+t,u(o,Y1,X1),c(l,Y1,X1),i=i%Rc,i<0&&(i=i+Rc),a=a%Rc,a<0&&(a=a+Rc),i>a&&!s?a+=Rc:i<a&&s&&(i+=Rc),s){var f=a;a=i,i=f}for(var d=0;d<a;d+=Math.PI/2)d>i&&(q1[0]=U2(d)*r+e,q1[1]=V2(d)*n+t,u(o,q1,o),c(l,q1,l))}var kr={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},Oc=[],Bc=[],so=[],Zl=[],oo=[],lo=[],G2=Math.min,W2=Math.max,Fc=Math.cos,zc=Math.sin,Xo=Math.abs,qI=Math.PI,ou=qI*2,$2=typeof Float32Array<"u",Gv=[];function Y2(e){var t=Math.round(e/qI*1e8)/1e8;return t%2*qI}function LN(e,t){var r=Y2(e[0]);r<0&&(r+=ou);var n=r-e[0],i=e[1];i+=n,!t&&i-r>=ou?i=r+ou:t&&r-i>=ou?i=r-ou:!t&&r>i?i=r+(ou-Y2(r-i)):t&&r<i&&(i=r-(ou-Y2(i-r))),e[0]=r,e[1]=i}var Oo=function(){function e(t){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,t&&(this._saveData=!1),this._saveData&&(this.data=[])}return e.prototype.increaseVersion=function(){this._version++},e.prototype.getVersion=function(){return this._version},e.prototype.setScale=function(t,r,n){n=n||0,n>0&&(this._ux=Xo(n/_S/t)||0,this._uy=Xo(n/_S/r)||0)},e.prototype.setDPR=function(t){this.dpr=t},e.prototype.setContext=function(t){this._ctx=t},e.prototype.getContext=function(){return this._ctx},e.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},e.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},e.prototype.moveTo=function(t,r){return this._drawPendingPt(),this.addData(kr.M,t,r),this._ctx&&this._ctx.moveTo(t,r),this._x0=t,this._y0=r,this._xi=t,this._yi=r,this},e.prototype.lineTo=function(t,r){var n=Xo(t-this._xi),i=Xo(r-this._yi),a=n>this._ux||i>this._uy;if(this.addData(kr.L,t,r),this._ctx&&a&&this._ctx.lineTo(t,r),a)this._xi=t,this._yi=r,this._pendingPtDist=0;else{var s=n*n+i*i;s>this._pendingPtDist&&(this._pendingPtX=t,this._pendingPtY=r,this._pendingPtDist=s)}return this},e.prototype.bezierCurveTo=function(t,r,n,i,a,s){return this._drawPendingPt(),this.addData(kr.C,t,r,n,i,a,s),this._ctx&&this._ctx.bezierCurveTo(t,r,n,i,a,s),this._xi=a,this._yi=s,this},e.prototype.quadraticCurveTo=function(t,r,n,i){return this._drawPendingPt(),this.addData(kr.Q,t,r,n,i),this._ctx&&this._ctx.quadraticCurveTo(t,r,n,i),this._xi=n,this._yi=i,this},e.prototype.arc=function(t,r,n,i,a,s){this._drawPendingPt(),Gv[0]=i,Gv[1]=a,LN(Gv,s),i=Gv[0],a=Gv[1];var o=a-i;return this.addData(kr.A,t,r,n,n,i,o,0,s?0:1),this._ctx&&this._ctx.arc(t,r,n,i,a,s),this._xi=Fc(a)*n+t,this._yi=zc(a)*n+r,this},e.prototype.arcTo=function(t,r,n,i,a){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(t,r,n,i,a),this},e.prototype.rect=function(t,r,n,i){return this._drawPendingPt(),this._ctx&&this._ctx.rect(t,r,n,i),this.addData(kr.R,t,r,n,i),this},e.prototype.closePath=function(){this._drawPendingPt(),this.addData(kr.Z);var t=this._ctx,r=this._x0,n=this._y0;return t&&t.closePath(),this._xi=r,this._yi=n,this},e.prototype.fill=function(t){t&&t.fill(),this.toStatic()},e.prototype.stroke=function(t){t&&t.stroke(),this.toStatic()},e.prototype.len=function(){return this._len},e.prototype.setData=function(t){var r=t.length;!(this.data&&this.data.length===r)&&$2&&(this.data=new Float32Array(r));for(var n=0;n<r;n++)this.data[n]=t[n];this._len=r},e.prototype.appendPath=function(t){t instanceof Array||(t=[t]);for(var r=t.length,n=0,i=this._len,a=0;a<r;a++)n+=t[a].len();$2&&this.data instanceof Float32Array&&(this.data=new Float32Array(i+n));for(var a=0;a<r;a++)for(var s=t[a].data,o=0;o<s.length;o++)this.data[i++]=s[o];this._len=i},e.prototype.addData=function(t,r,n,i,a,s,o,l,u){if(this._saveData){var c=this.data;this._len+arguments.length>c.length&&(this._expandData(),c=this.data);for(var h=0;h<arguments.length;h++)c[this._len++]=arguments[h]}},e.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},e.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var t=[],r=0;r<this._len;r++)t[r]=this.data[r];this.data=t}},e.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var t=this.data;t instanceof Array&&(t.length=this._len,$2&&this._len>11&&(this.data=new Float32Array(t)))}},e.prototype.getBoundingRect=function(){so[0]=so[1]=oo[0]=oo[1]=Number.MAX_VALUE,Zl[0]=Zl[1]=lo[0]=lo[1]=-Number.MAX_VALUE;var t=this.data,r=0,n=0,i=0,a=0,s;for(s=0;s<this._len;){var o=t[s++],l=s===1;switch(l&&(r=t[s],n=t[s+1],i=r,a=n),o){case kr.M:r=i=t[s++],n=a=t[s++],oo[0]=i,oo[1]=a,lo[0]=i,lo[1]=a;break;case kr.L:aF(r,n,t[s],t[s+1],oo,lo),r=t[s++],n=t[s++];break;case kr.C:yCe(r,n,t[s++],t[s++],t[s++],t[s++],t[s],t[s+1],oo,lo),r=t[s++],n=t[s++];break;case kr.Q:xCe(r,n,t[s++],t[s++],t[s],t[s+1],oo,lo),r=t[s++],n=t[s++];break;case kr.A:var u=t[s++],c=t[s++],h=t[s++],f=t[s++],d=t[s++],v=t[s++]+d;s+=1;var m=!t[s++];l&&(i=Fc(d)*h+u,a=zc(d)*f+c),bCe(u,c,h,f,d,v,m,oo,lo),r=Fc(v)*h+u,n=zc(v)*f+c;break;case kr.R:i=r=t[s++],a=n=t[s++];var y=t[s++],b=t[s++];aF(i,a,i+y,a+b,oo,lo);break;case kr.Z:r=i,n=a;break}ul(so,so,oo),cl(Zl,Zl,lo)}return s===0&&(so[0]=so[1]=Zl[0]=Zl[1]=0),new jt(so[0],so[1],Zl[0]-so[0],Zl[1]-so[1])},e.prototype._calculateLength=function(){var t=this.data,r=this._len,n=this._ux,i=this._uy,a=0,s=0,o=0,l=0;this._pathSegLen||(this._pathSegLen=[]);for(var u=this._pathSegLen,c=0,h=0,f=0;f<r;){var d=t[f++],v=f===1;v&&(a=t[f],s=t[f+1],o=a,l=s);var m=-1;switch(d){case kr.M:a=o=t[f++],s=l=t[f++];break;case kr.L:{var y=t[f++],b=t[f++],S=y-a,w=b-s;(Xo(S)>n||Xo(w)>i||f===r-1)&&(m=Math.sqrt(S*S+w*w),a=y,s=b);break}case kr.C:{var k=t[f++],M=t[f++],y=t[f++],b=t[f++],I=t[f++],L=t[f++];m=Owe(a,s,k,M,y,b,I,L,10),a=I,s=L;break}case kr.Q:{var k=t[f++],M=t[f++],y=t[f++],b=t[f++];m=Fwe(a,s,k,M,y,b,10),a=y,s=b;break}case kr.A:var N=t[f++],z=t[f++],B=t[f++],H=t[f++],G=t[f++],$=t[f++],W=$+G;f+=1,v&&(o=Fc(G)*B+N,l=zc(G)*H+z),m=W2(B,H)*G2(ou,Math.abs($)),a=Fc(W)*B+N,s=zc(W)*H+z;break;case kr.R:{o=a=t[f++],l=s=t[f++];var X=t[f++],ee=t[f++];m=X*2+ee*2;break}case kr.Z:{var S=o-a,w=l-s;m=Math.sqrt(S*S+w*w),a=o,s=l;break}}m>=0&&(u[h++]=m,c+=m)}return this._pathLen=c,c},e.prototype.rebuildPath=function(t,r){var n=this.data,i=this._ux,a=this._uy,s=this._len,o,l,u,c,h,f,d=r<1,v,m,y=0,b=0,S,w=0,k,M;if(!(d&&(this._pathSegLen||this._calculateLength(),v=this._pathSegLen,m=this._pathLen,S=r*m,!S)))e:for(var I=0;I<s;){var L=n[I++],N=I===1;switch(N&&(u=n[I],c=n[I+1],o=u,l=c),L!==kr.L&&w>0&&(t.lineTo(k,M),w=0),L){case kr.M:o=u=n[I++],l=c=n[I++],t.moveTo(u,c);break;case kr.L:{h=n[I++],f=n[I++];var z=Xo(h-u),B=Xo(f-c);if(z>i||B>a){if(d){var H=v[b++];if(y+H>S){var G=(S-y)/H;t.lineTo(u*(1-G)+h*G,c*(1-G)+f*G);break e}y+=H}t.lineTo(h,f),u=h,c=f,w=0}else{var $=z*z+B*B;$>w&&(k=h,M=f,w=$)}break}case kr.C:{var W=n[I++],X=n[I++],ee=n[I++],le=n[I++],ie=n[I++],fe=n[I++];if(d){var H=v[b++];if(y+H>S){var G=(S-y)/H;Zu(u,W,ee,ie,G,Oc),Zu(c,X,le,fe,G,Bc),t.bezierCurveTo(Oc[1],Bc[1],Oc[2],Bc[2],Oc[3],Bc[3]);break e}y+=H}t.bezierCurveTo(W,X,ee,le,ie,fe),u=ie,c=fe;break}case kr.Q:{var W=n[I++],X=n[I++],ee=n[I++],le=n[I++];if(d){var H=v[b++];if(y+H>S){var G=(S-y)/H;qm(u,W,ee,G,Oc),qm(c,X,le,G,Bc),t.quadraticCurveTo(Oc[1],Bc[1],Oc[2],Bc[2]);break e}y+=H}t.quadraticCurveTo(W,X,ee,le),u=ee,c=le;break}case kr.A:var re=n[I++],me=n[I++],J=n[I++],te=n[I++],ue=n[I++],pe=n[I++],Se=n[I++],je=!n[I++],Pe=J>te?J:te,Te=Xo(J-te)>.001,Ve=ue+pe,ze=!1;if(d){var H=v[b++];y+H>S&&(Ve=ue+pe*(S-y)/H,ze=!0),y+=H}if(Te&&t.ellipse?t.ellipse(re,me,J,te,Se,ue,Ve,je):t.arc(re,me,Pe,ue,Ve,je),ze)break e;N&&(o=Fc(ue)*J+re,l=zc(ue)*te+me),u=Fc(Ve)*J+re,c=zc(Ve)*te+me;break;case kr.R:o=u=n[I],l=c=n[I+1],h=n[I++],f=n[I++];var $e=n[I++],ce=n[I++];if(d){var H=v[b++];if(y+H>S){var ve=S-y;t.moveTo(h,f),t.lineTo(h+G2(ve,$e),f),ve-=$e,ve>0&&t.lineTo(h+$e,f+G2(ve,ce)),ve-=ce,ve>0&&t.lineTo(h+W2($e-ve,0),f+ce),ve-=$e,ve>0&&t.lineTo(h,f+W2(ce-ve,0));break e}y+=H}t.rect(h,f,$e,ce);break;case kr.Z:if(d){var H=v[b++];if(y+H>S){var G=(S-y)/H;t.lineTo(u*(1-G)+o*G,c*(1-G)+l*G);break e}y+=H}t.closePath(),u=o,c=l}}},e.prototype.clone=function(){var t=new e,r=this.data;return t.data=r.slice?r.slice():Array.prototype.slice.call(r),t._len=this._len,t},e.CMD=kr,e.initDefaultProps=function(){var t=e.prototype;t._saveData=!0,t._ux=0,t._uy=0,t._pendingPtDist=0,t._version=0}(),e}();function fu(e,t,r,n,i,a,s){if(i===0)return!1;var o=i,l=0,u=e;if(s>t+o&&s>n+o||s<t-o&&s<n-o||a>e+o&&a>r+o||a<e-o&&a<r-o)return!1;if(e!==r)l=(t-n)/(e-r),u=(e*n-r*t)/(e-r);else return Math.abs(a-e)<=o/2;var c=l*a-s+u,h=c*c/(l*l+1);return h<=o/2*o/2}function SCe(e,t,r,n,i,a,s,o,l,u,c){if(l===0)return!1;var h=l;if(c>t+h&&c>n+h&&c>a+h&&c>o+h||c<t-h&&c<n-h&&c<a-h&&c<o-h||u>e+h&&u>r+h&&u>i+h&&u>s+h||u<e-h&&u<r-h&&u<i-h&&u<s-h)return!1;var f=AX(e,t,r,n,i,a,s,o,u,c,null);return f<=h/2}function cq(e,t,r,n,i,a,s,o,l){if(s===0)return!1;var u=s;if(l>t+u&&l>n+u&&l>a+u||l<t-u&&l<n-u&&l<a-u||o>e+u&&o>r+u&&o>i+u||o<e-u&&o<r-u&&o<i-u)return!1;var c=IX(e,t,r,n,i,a,o,l,null);return c<=u/2}var lF=Math.PI*2;function _a(e){return e%=lF,e<0&&(e+=lF),e}var Wv=Math.PI*2;function _Ce(e,t,r,n,i,a,s,o,l){if(s===0)return!1;var u=s;o-=e,l-=t;var c=Math.sqrt(o*o+l*l);if(c-u>r||c+u<r)return!1;if(Math.abs(n-i)%Wv<1e-4)return!0;if(a){var h=n;n=_a(i),i=_a(h)}else n=_a(n),i=_a(i);n>i&&(i+=Wv);var f=Math.atan2(l,o);return f<0&&(f+=Wv),f>=n&&f<=i||f+Wv>=n&&f+Wv<=i}function Jo(e,t,r,n,i,a){if(a>t&&a>n||a<t&&a<n||n===t)return 0;var s=(a-t)/(n-t),o=n<t?1:-1;(s===1||s===0)&&(o=n<t?.5:-.5);var l=s*(r-e)+e;return l===i?1/0:l>i?o:0}var Ql=Oo.CMD,jc=Math.PI*2,wCe=1e-4;function TCe(e,t){return Math.abs(e-t)<wCe}var Li=[-1,-1,-1],Ua=[-1,-1];function CCe(){var e=Ua[0];Ua[0]=Ua[1],Ua[1]=e}function ECe(e,t,r,n,i,a,s,o,l,u){if(u>t&&u>n&&u>a&&u>o||u<t&&u<n&&u<a&&u<o)return 0;var c=yS(t,n,a,o,u,Li);if(c===0)return 0;for(var h=0,f=-1,d=void 0,v=void 0,m=0;m<c;m++){var y=Li[m],b=y===0||y===1?.5:1,S=Pn(e,r,i,s,y);S<l||(f<0&&(f=EX(t,n,a,o,Ua),Ua[1]<Ua[0]&&f>1&&CCe(),d=Pn(t,n,a,o,Ua[0]),f>1&&(v=Pn(t,n,a,o,Ua[1]))),f===2?y<Ua[0]?h+=d<t?b:-b:y<Ua[1]?h+=v<d?b:-b:h+=o<v?b:-b:y<Ua[0]?h+=d<t?b:-b:h+=o<d?b:-b)}return h}function ACe(e,t,r,n,i,a,s,o){if(o>t&&o>n&&o>a||o<t&&o<n&&o<a)return 0;var l=Bwe(t,n,a,o,Li);if(l===0)return 0;var u=kX(t,n,a);if(u>=0&&u<=1){for(var c=0,h=$n(t,n,a,u),f=0;f<l;f++){var d=Li[f]===0||Li[f]===1?.5:1,v=$n(e,r,i,Li[f]);v<s||(Li[f]<u?c+=h<t?d:-d:c+=a<h?d:-d)}return c}else{var d=Li[0]===0||Li[0]===1?.5:1,v=$n(e,r,i,Li[0]);return v<s?0:a<t?d:-d}}function kCe(e,t,r,n,i,a,s,o){if(o-=t,o>r||o<-r)return 0;var l=Math.sqrt(r*r-o*o);Li[0]=-l,Li[1]=l;var u=Math.abs(n-i);if(u<1e-4)return 0;if(u>=jc-1e-4){n=0,i=jc;var c=a?1:-1;return s>=Li[0]+e&&s<=Li[1]+e?c:0}if(n>i){var h=n;n=i,i=h}n<0&&(n+=jc,i+=jc);for(var f=0,d=0;d<2;d++){var v=Li[d];if(v+e>s){var m=Math.atan2(o,v),c=a?1:-1;m<0&&(m=jc+m),(m>=n&&m<=i||m+jc>=n&&m+jc<=i)&&(m>Math.PI/2&&m<Math.PI*1.5&&(c=-c),f+=c)}}return f}function hq(e,t,r,n,i){for(var a=e.data,s=e.len(),o=0,l=0,u=0,c=0,h=0,f,d,v=0;v<s;){var m=a[v++],y=v===1;switch(m===Ql.M&&v>1&&(r||(o+=Jo(l,u,c,h,n,i))),y&&(l=a[v],u=a[v+1],c=l,h=u),m){case Ql.M:c=a[v++],h=a[v++],l=c,u=h;break;case Ql.L:if(r){if(fu(l,u,a[v],a[v+1],t,n,i))return!0}else o+=Jo(l,u,a[v],a[v+1],n,i)||0;l=a[v++],u=a[v++];break;case Ql.C:if(r){if(SCe(l,u,a[v++],a[v++],a[v++],a[v++],a[v],a[v+1],t,n,i))return!0}else o+=ECe(l,u,a[v++],a[v++],a[v++],a[v++],a[v],a[v+1],n,i)||0;l=a[v++],u=a[v++];break;case Ql.Q:if(r){if(cq(l,u,a[v++],a[v++],a[v],a[v+1],t,n,i))return!0}else o+=ACe(l,u,a[v++],a[v++],a[v],a[v+1],n,i)||0;l=a[v++],u=a[v++];break;case Ql.A:var b=a[v++],S=a[v++],w=a[v++],k=a[v++],M=a[v++],I=a[v++];v+=1;var L=!!(1-a[v++]);f=Math.cos(M)*w+b,d=Math.sin(M)*k+S,y?(c=f,h=d):o+=Jo(l,u,f,d,n,i);var N=(n-b)*k/w+b;if(r){if(_Ce(b,S,k,M,M+I,L,t,N,i))return!0}else o+=kCe(b,S,k,M,M+I,L,N,i);l=Math.cos(M+I)*w+b,u=Math.sin(M+I)*k+S;break;case Ql.R:c=l=a[v++],h=u=a[v++];var z=a[v++],B=a[v++];if(f=c+z,d=h+B,r){if(fu(c,h,f,h,t,n,i)||fu(f,h,f,d,t,n,i)||fu(f,d,c,d,t,n,i)||fu(c,d,c,h,t,n,i))return!0}else o+=Jo(f,h,f,d,n,i),o+=Jo(c,d,c,h,n,i);break;case Ql.Z:if(r){if(fu(l,u,c,h,t,n,i))return!0}else o+=Jo(l,u,c,h,n,i);l=c,u=h;break}}return!r&&!TCe(u,h)&&(o+=Jo(l,u,c,h,n,i)||0),o!==0}function ICe(e,t,r){return hq(e,0,!1,t,r)}function DCe(e,t,r,n){return hq(e,t,!0,r,n)}var TS=yt({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},Lh),MCe={style:yt({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},mw.style)},X2=Po.concat(["invisible","culling","z","z2","zlevel","parent"]),qt=function(e){_e(t,e);function t(r){return e.call(this,r)||this}return t.prototype.update=function(){var r=this;e.prototype.update.call(this);var n=this.style;if(n.decal){var i=this._decalEl=this._decalEl||new t;i.buildPath===t.prototype.buildPath&&(i.buildPath=function(l){r.buildPath(l,r.shape)}),i.silent=!0;var a=i.style;for(var s in n)a[s]!==n[s]&&(a[s]=n[s]);a.fill=n.fill?n.decal:null,a.decal=null,a.shadowColor=null,n.strokeFirst&&(a.stroke=null);for(var o=0;o<X2.length;++o)i[X2[o]]=this[X2[o]];i.__dirty|=ya}else this._decalEl&&(this._decalEl=null)},t.prototype.getDecalElement=function(){return this._decalEl},t.prototype._init=function(r){var n=Kt(r);this.shape=this.getDefaultShape();var i=this.getDefaultStyle();i&&this.useStyle(i);for(var a=0;a<n.length;a++){var s=n[a],o=r[s];s==="style"?this.style?Ne(this.style,o):this.useStyle(o):s==="shape"?Ne(this.shape,o):e.prototype.attrKV.call(this,s,o)}this.style||this.useStyle({})},t.prototype.getDefaultStyle=function(){return null},t.prototype.getDefaultShape=function(){return{}},t.prototype.canBeInsideText=function(){return this.hasFill()},t.prototype.getInsideTextFill=function(){var r=this.style.fill;if(r!=="none"){if(Je(r)){var n=Qm(r,0);return n>.5?jI:n>.2?vTe:HI}else if(r)return HI}return jI},t.prototype.getInsideTextStroke=function(r){var n=this.style.fill;if(Je(n)){var i=this.__zr,a=!!(i&&i.isDarkMode()),s=Qm(r,0)<zI;if(a===s)return n}},t.prototype.buildPath=function(r,n,i){},t.prototype.pathUpdated=function(){this.__dirty&=~id},t.prototype.getUpdatedPathProxy=function(r){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,r),this.path},t.prototype.createPathProxy=function(){this.path=new Oo(!1)},t.prototype.hasStroke=function(){var r=this.style,n=r.stroke;return!(n==null||n==="none"||!(r.lineWidth>0))},t.prototype.hasFill=function(){var r=this.style,n=r.fill;return n!=null&&n!=="none"},t.prototype.getBoundingRect=function(){var r=this._rect,n=this.style,i=!r;if(i){var a=!1;this.path||(a=!0,this.createPathProxy());var s=this.path;(a||this.__dirty&id)&&(s.beginPath(),this.buildPath(s,this.shape,!1),this.pathUpdated()),r=s.getBoundingRect()}if(this._rect=r,this.hasStroke()&&this.path&&this.path.len()>0){var o=this._rectStroke||(this._rectStroke=r.clone());if(this.__dirty||i){o.copy(r);var l=n.strokeNoScale?this.getLineScale():1,u=n.lineWidth;if(!this.hasFill()){var c=this.strokeContainThreshold;u=Math.max(u,c??4)}l>1e-10&&(o.width+=u/l,o.height+=u/l,o.x-=u/l/2,o.y-=u/l/2)}return o}return r},t.prototype.contain=function(r,n){var i=this.transformCoordToLocal(r,n),a=this.getBoundingRect(),s=this.style;if(r=i[0],n=i[1],a.contain(r,n)){var o=this.path;if(this.hasStroke()){var l=s.lineWidth,u=s.strokeNoScale?this.getLineScale():1;if(u>1e-10&&(this.hasFill()||(l=Math.max(l,this.strokeContainThreshold)),DCe(o,l/u,r,n)))return!0}if(this.hasFill())return ICe(o,r,n)}return!1},t.prototype.dirtyShape=function(){this.__dirty|=id,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},t.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},t.prototype.animateShape=function(r){return this.animate("shape",r)},t.prototype.updateDuringAnimation=function(r){r==="style"?this.dirtyStyle():r==="shape"?this.dirtyShape():this.markRedraw()},t.prototype.attrKV=function(r,n){r==="shape"?this.setShape(n):e.prototype.attrKV.call(this,r,n)},t.prototype.setShape=function(r,n){var i=this.shape;return i||(i=this.shape={}),typeof r=="string"?i[r]=n:Ne(i,r),this.dirtyShape(),this},t.prototype.shapeChanged=function(){return!!(this.__dirty&id)},t.prototype.createStyle=function(r){return G0(TS,r)},t.prototype._innerSaveToNormal=function(r){e.prototype._innerSaveToNormal.call(this,r);var n=this._normalState;r.shape&&!n.shape&&(n.shape=Ne({},this.shape))},t.prototype._applyStateObj=function(r,n,i,a,s,o){e.prototype._applyStateObj.call(this,r,n,i,a,s,o);var l=!(n&&a),u;if(n&&n.shape?s?a?u=n.shape:(u=Ne({},i.shape),Ne(u,n.shape)):(u=Ne({},a?this.shape:i.shape),Ne(u,n.shape)):l&&(u=i.shape),u)if(s){this.shape=Ne({},this.shape);for(var c={},h=Kt(u),f=0;f<h.length;f++){var d=h[f];typeof u[d]=="object"?this.shape[d]=u[d]:c[d]=u[d]}this._transitionState(r,{shape:c},o)}else this.shape=u,this.dirtyShape()},t.prototype._mergeStates=function(r){for(var n=e.prototype._mergeStates.call(this,r),i,a=0;a<r.length;a++){var s=r[a];s.shape&&(i=i||{},this._mergeStyle(i,s.shape))}return i&&(n.shape=i),n},t.prototype.getAnimationStyleProps=function(){return MCe},t.prototype.isZeroArea=function(){return!1},t.extend=function(r){var n=function(a){_e(s,a);function s(o){var l=a.call(this,o)||this;return r.init&&r.init.call(l,o),l}return s.prototype.getDefaultStyle=function(){return _t(r.style)},s.prototype.getDefaultShape=function(){return _t(r.shape)},s}(t);for(var i in r)typeof r[i]=="function"&&(n.prototype[i]=r[i]);return n},t.initDefaultProps=function(){var r=t.prototype;r.type="path",r.strokeContainThreshold=5,r.segmentIgnoreThreshold=0,r.subPixelOptimize=!1,r.autoBatch=!1,r.__dirty=ya|Sg|id}(),t}(us),LCe=yt({strokeFirst:!0,font:Ku,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},TS),hp=function(e){_e(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.hasStroke=function(){var r=this.style,n=r.stroke;return n!=null&&n!=="none"&&r.lineWidth>0},t.prototype.hasFill=function(){var r=this.style,n=r.fill;return n!=null&&n!=="none"},t.prototype.createStyle=function(r){return G0(LCe,r)},t.prototype.setBoundingRect=function(r){this._rect=r},t.prototype.getBoundingRect=function(){var r=this.style;if(!this._rect){var n=r.text;n!=null?n+="":n="";var i=Y0(n,r.font,r.textAlign,r.textBaseline);if(i.x+=r.x||0,i.y+=r.y||0,this.hasStroke()){var a=r.lineWidth;i.x-=a/2,i.y-=a/2,i.width+=a,i.height+=a}this._rect=i}return this._rect},t.initDefaultProps=function(){var r=t.prototype;r.dirtyRectTolerance=10}(),t}(us);hp.prototype.type="tspan";var NCe=yt({x:0,y:0},Lh),PCe={style:yt({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},mw.style)};function RCe(e){return!!(e&&typeof e!="string"&&e.width&&e.height)}var Vn=function(e){_e(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.createStyle=function(r){return G0(NCe,r)},t.prototype._getSize=function(r){var n=this.style,i=n[r];if(i!=null)return i;var a=RCe(n.image)?n.image:this.__image;if(!a)return 0;var s=r==="width"?"height":"width",o=n[s];return o==null?a[r]:a[r]/a[s]*o},t.prototype.getWidth=function(){return this._getSize("width")},t.prototype.getHeight=function(){return this._getSize("height")},t.prototype.getAnimationStyleProps=function(){return PCe},t.prototype.getBoundingRect=function(){var r=this.style;return this._rect||(this._rect=new jt(r.x||0,r.y||0,this.getWidth(),this.getHeight())),this._rect},t}(us);Vn.prototype.type="image";function OCe(e,t){var r=t.x,n=t.y,i=t.width,a=t.height,s=t.r,o,l,u,c;i<0&&(r=r+i,i=-i),a<0&&(n=n+a,a=-a),typeof s=="number"?o=l=u=c=s:s instanceof Array?s.length===1?o=l=u=c=s[0]:s.length===2?(o=u=s[0],l=c=s[1]):s.length===3?(o=s[0],l=c=s[1],u=s[2]):(o=s[0],l=s[1],u=s[2],c=s[3]):o=l=u=c=0;var h;o+l>i&&(h=o+l,o*=i/h,l*=i/h),u+c>i&&(h=u+c,u*=i/h,c*=i/h),l+u>a&&(h=l+u,l*=a/h,u*=a/h),o+c>a&&(h=o+c,o*=a/h,c*=a/h),e.moveTo(r+o,n),e.lineTo(r+i-l,n),l!==0&&e.arc(r+i-l,n+l,l,-Math.PI/2,0),e.lineTo(r+i,n+a-u),u!==0&&e.arc(r+i-u,n+a-u,u,0,Math.PI/2),e.lineTo(r+c,n+a),c!==0&&e.arc(r+c,n+a-c,c,Math.PI/2,Math.PI),e.lineTo(r,n+o),o!==0&&e.arc(r+o,n+o,o,Math.PI,Math.PI*1.5)}var Td=Math.round;function fq(e,t,r){if(t){var n=t.x1,i=t.x2,a=t.y1,s=t.y2;e.x1=n,e.x2=i,e.y1=a,e.y2=s;var o=r&&r.lineWidth;return o&&(Td(n*2)===Td(i*2)&&(e.x1=e.x2=yh(n,o,!0)),Td(a*2)===Td(s*2)&&(e.y1=e.y2=yh(a,o,!0))),e}}function dq(e,t,r){if(t){var n=t.x,i=t.y,a=t.width,s=t.height;e.x=n,e.y=i,e.width=a,e.height=s;var o=r&&r.lineWidth;return o&&(e.x=yh(n,o,!0),e.y=yh(i,o,!0),e.width=Math.max(yh(n+a,o,!1)-e.x,a===0?0:1),e.height=Math.max(yh(i+s,o,!1)-e.y,s===0?0:1)),e}}function yh(e,t,r){if(!t)return e;var n=Td(e*2);return(n+Td(t))%2===0?n/2:(n+(r?1:-1))/2}var BCe=function(){function e(){this.x=0,this.y=0,this.width=0,this.height=0}return e}(),FCe={},Jt=function(e){_e(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultShape=function(){return new BCe},t.prototype.buildPath=function(r,n){var i,a,s,o;if(this.subPixelOptimize){var l=dq(FCe,n,this.style);i=l.x,a=l.y,s=l.width,o=l.height,l.r=n.r,n=l}else i=n.x,a=n.y,s=n.width,o=n.height;n.r?OCe(r,n):r.rect(i,a,s,o)},t.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},t}(qt);Jt.prototype.type="rect";var uF={fill:"#000"},cF=2,zCe={style:yt({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},mw.style)},Qt=function(e){_e(t,e);function t(r){var n=e.call(this)||this;return n.type="text",n._children=[],n._defaultStyle=uF,n.attr(r),n}return t.prototype.childrenRef=function(){return this._children},t.prototype.update=function(){e.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var r=0;r<this._children.length;r++){var n=this._children[r];n.zlevel=this.zlevel,n.z=this.z,n.z2=this.z2,n.culling=this.culling,n.cursor=this.cursor,n.invisible=this.invisible}},t.prototype.updateTransform=function(){var r=this.innerTransformable;r?(r.updateTransform(),r.transform&&(this.transform=r.transform)):e.prototype.updateTransform.call(this)},t.prototype.getLocalTransform=function(r){var n=this.innerTransformable;return n?n.getLocalTransform(r):e.prototype.getLocalTransform.call(this,r)},t.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),e.prototype.getComputedTransform.call(this)},t.prototype._updateSubTexts=function(){this._childCursor=0,VCe(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},t.prototype.addSelfToZr=function(r){e.prototype.addSelfToZr.call(this,r);for(var n=0;n<this._children.length;n++)this._children[n].__zr=r},t.prototype.removeSelfFromZr=function(r){e.prototype.removeSelfFromZr.call(this,r);for(var n=0;n<this._children.length;n++)this._children[n].__zr=null},t.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var r=new jt(0,0,0,0),n=this._children,i=[],a=null,s=0;s<n.length;s++){var o=n[s],l=o.getBoundingRect(),u=o.getLocalTransform(i);u?(r.copy(l),r.applyTransform(u),a=a||r.clone(),a.union(r)):(a=a||l.clone(),a.union(l))}this._rect=a||r}return this._rect},t.prototype.setDefaultTextStyle=function(r){this._defaultStyle=r||uF},t.prototype.setTextContent=function(r){},t.prototype._mergeStyle=function(r,n){if(!n)return r;var i=n.rich,a=r.rich||i&&{};return Ne(r,n),i&&a?(this._mergeRich(a,i),r.rich=a):a&&(r.rich=a),r},t.prototype._mergeRich=function(r,n){for(var i=Kt(n),a=0;a<i.length;a++){var s=i[a];r[s]=r[s]||{},Ne(r[s],n[s])}},t.prototype.getAnimationStyleProps=function(){return zCe},t.prototype._getOrCreateChild=function(r){var n=this._children[this._childCursor];return(!n||!(n instanceof r))&&(n=new r),this._children[this._childCursor++]=n,n.__zr=this.__zr,n.parent=this,n},t.prototype._updatePlainTexts=function(){var r=this.style,n=r.font||Ku,i=r.padding,a=mF(r),s=uCe(a,r),o=q2(r),l=!!r.backgroundColor,u=s.outerHeight,c=s.outerWidth,h=s.contentWidth,f=s.lines,d=s.lineHeight,v=this._defaultStyle;this.isTruncated=!!s.isTruncated;var m=r.x||0,y=r.y||0,b=r.align||v.align||"left",S=r.verticalAlign||v.verticalAlign||"top",w=m,k=ad(y,s.contentHeight,S);if(o||i){var M=wg(m,c,b),I=ad(y,u,S);o&&this._renderBackground(r,r,M,I,c,u)}k+=d/2,i&&(w=gF(m,b,i),S==="top"?k+=i[0]:S==="bottom"&&(k-=i[2]));for(var L=0,N=!1,z=vF("fill"in r?r.fill:(N=!0,v.fill)),B=pF("stroke"in r?r.stroke:!l&&(!v.autoStroke||N)?(L=cF,v.stroke):null),H=r.textShadowBlur>0,G=r.width!=null&&(r.overflow==="truncate"||r.overflow==="break"||r.overflow==="breakAll"),$=s.calculatedLineHeight,W=0;W<f.length;W++){var X=this._getOrCreateChild(hp),ee=X.createStyle();X.useStyle(ee),ee.text=f[W],ee.x=w,ee.y=k,ee.textAlign=b,ee.textBaseline="middle",ee.opacity=r.opacity,ee.strokeFirst=!0,H&&(ee.shadowBlur=r.textShadowBlur||0,ee.shadowColor=r.textShadowColor||"transparent",ee.shadowOffsetX=r.textShadowOffsetX||0,ee.shadowOffsetY=r.textShadowOffsetY||0),ee.stroke=B,ee.fill=z,B&&(ee.lineWidth=r.lineWidth||L,ee.lineDash=r.lineDash,ee.lineDashOffset=r.lineDashOffset||0),ee.font=n,fF(ee,r),k+=d,G&&X.setBoundingRect(new jt(wg(ee.x,h,ee.textAlign),ad(ee.y,$,ee.textBaseline),h,$))}},t.prototype._updateRichTexts=function(){var r=this.style,n=mF(r),i=fCe(n,r),a=i.width,s=i.outerWidth,o=i.outerHeight,l=r.padding,u=r.x||0,c=r.y||0,h=this._defaultStyle,f=r.align||h.align,d=r.verticalAlign||h.verticalAlign;this.isTruncated=!!i.isTruncated;var v=wg(u,s,f),m=ad(c,o,d),y=v,b=m;l&&(y+=l[3],b+=l[0]);var S=y+a;q2(r)&&this._renderBackground(r,r,v,m,s,o);for(var w=!!r.backgroundColor,k=0;k<i.lines.length;k++){for(var M=i.lines[k],I=M.tokens,L=I.length,N=M.lineHeight,z=M.width,B=0,H=y,G=S,$=L-1,W=void 0;B<L&&(W=I[B],!W.align||W.align==="left");)this._placeToken(W,r,N,b,H,"left",w),z-=W.width,H+=W.width,B++;for(;$>=0&&(W=I[$],W.align==="right");)this._placeToken(W,r,N,b,G,"right",w),z-=W.width,G-=W.width,$--;for(H+=(a-(H-y)-(S-G)-z)/2;B<=$;)W=I[B],this._placeToken(W,r,N,b,H+W.width/2,"center",w),H+=W.width,B++;b+=N}},t.prototype._placeToken=function(r,n,i,a,s,o,l){var u=n.rich[r.styleName]||{};u.text=r.text;var c=r.verticalAlign,h=a+i/2;c==="top"?h=a+r.height/2:c==="bottom"&&(h=a+i-r.height/2);var f=!r.isLineHolder&&q2(u);f&&this._renderBackground(u,n,o==="right"?s-r.width:o==="center"?s-r.width/2:s,h-r.height/2,r.width,r.height);var d=!!u.backgroundColor,v=r.textPadding;v&&(s=gF(s,o,v),h-=r.height/2-v[0]-r.innerHeight/2);var m=this._getOrCreateChild(hp),y=m.createStyle();m.useStyle(y);var b=this._defaultStyle,S=!1,w=0,k=vF("fill"in u?u.fill:"fill"in n?n.fill:(S=!0,b.fill)),M=pF("stroke"in u?u.stroke:"stroke"in n?n.stroke:!d&&!l&&(!b.autoStroke||S)?(w=cF,b.stroke):null),I=u.textShadowBlur>0||n.textShadowBlur>0;y.text=r.text,y.x=s,y.y=h,I&&(y.shadowBlur=u.textShadowBlur||n.textShadowBlur||0,y.shadowColor=u.textShadowColor||n.textShadowColor||"transparent",y.shadowOffsetX=u.textShadowOffsetX||n.textShadowOffsetX||0,y.shadowOffsetY=u.textShadowOffsetY||n.textShadowOffsetY||0),y.textAlign=o,y.textBaseline="middle",y.font=r.font||Ku,y.opacity=Os(u.opacity,n.opacity,1),fF(y,u),M&&(y.lineWidth=Os(u.lineWidth,n.lineWidth,w),y.lineDash=Mt(u.lineDash,n.lineDash),y.lineDashOffset=n.lineDashOffset||0,y.stroke=M),k&&(y.fill=k);var L=r.contentWidth,N=r.contentHeight;m.setBoundingRect(new jt(wg(y.x,L,y.textAlign),ad(y.y,N,y.textBaseline),L,N))},t.prototype._renderBackground=function(r,n,i,a,s,o){var l=r.backgroundColor,u=r.borderWidth,c=r.borderColor,h=l&&l.image,f=l&&!h,d=r.borderRadius,v=this,m,y;if(f||r.lineHeight||u&&c){m=this._getOrCreateChild(Jt),m.useStyle(m.createStyle()),m.style.fill=null;var b=m.shape;b.x=i,b.y=a,b.width=s,b.height=o,b.r=d,m.dirtyShape()}if(f){var S=m.style;S.fill=l||null,S.fillOpacity=Mt(r.fillOpacity,1)}else if(h){y=this._getOrCreateChild(Vn),y.onload=function(){v.dirtyStyle()};var w=y.style;w.image=l.image,w.x=i,w.y=a,w.width=s,w.height=o}if(u&&c){var S=m.style;S.lineWidth=u,S.stroke=c,S.strokeOpacity=Mt(r.strokeOpacity,1),S.lineDash=r.borderDash,S.lineDashOffset=r.borderDashOffset||0,m.strokeContainThreshold=0,m.hasFill()&&m.hasStroke()&&(S.strokeFirst=!0,S.lineWidth*=2)}var k=(m||y).style;k.shadowBlur=r.shadowBlur||0,k.shadowColor=r.shadowColor||"transparent",k.shadowOffsetX=r.shadowOffsetX||0,k.shadowOffsetY=r.shadowOffsetY||0,k.opacity=Os(r.opacity,n.opacity,1)},t.makeFont=function(r){var n="";return vq(r)&&(n=[r.fontStyle,r.fontWeight,pq(r.fontSize),r.fontFamily||"sans-serif"].join(" ")),n&&ts(n)||r.textFont||r.font},t}(us),jCe={left:!0,right:1,center:1},HCe={top:1,bottom:1,middle:1},hF=["fontStyle","fontWeight","fontSize","fontFamily"];function pq(e){return typeof e=="string"&&(e.indexOf("px")!==-1||e.indexOf("rem")!==-1||e.indexOf("em")!==-1)?e:isNaN(+e)?fN+"px":e+"px"}function fF(e,t){for(var r=0;r<hF.length;r++){var n=hF[r],i=t[n];i!=null&&(e[n]=i)}}function vq(e){return e.fontSize!=null||e.fontFamily||e.fontWeight}function VCe(e){return dF(e),q(e.rich,dF),e}function dF(e){if(e){e.font=Qt.makeFont(e);var t=e.align;t==="middle"&&(t="center"),e.align=t==null||jCe[t]?t:"left";var r=e.verticalAlign;r==="center"&&(r="middle"),e.verticalAlign=r==null||HCe[r]?r:"top";var n=e.padding;n&&(e.padding=lw(e.padding))}}function pF(e,t){return e==null||t<=0||e==="transparent"||e==="none"?null:e.image||e.colorStops?"#000":e}function vF(e){return e==null||e==="none"?null:e.image||e.colorStops?"#000":e}function gF(e,t,r){return t==="right"?e-r[1]:t==="center"?e+r[3]/2-r[1]/2:e+r[3]}function mF(e){var t=e.text;return t!=null&&(t+=""),t}function q2(e){return!!(e.backgroundColor||e.lineHeight||e.borderWidth&&e.borderColor)}var It=tr(),KI=function(e,t,r,n){if(n){var i=It(n);i.dataIndex=r,i.dataType=t,i.seriesIndex=e,i.ssrType="chart",n.type==="group"&&n.traverse(function(a){var s=It(a);s.seriesIndex=e,s.dataIndex=r,s.dataType=t,s.ssrType="chart"})}},yF=1,xF={},gq=tr(),NN=tr(),PN=0,q0=1,xw=2,Vi=["emphasis","blur","select"],t0=["normal","emphasis","blur","select"],Rp=10,UCe=9,Nh="highlight",vb="downplay",um="select",gb="unselect",cm="toggleSelect";function Ff(e){return e!=null&&e!=="none"}function bw(e,t,r){e.onHoverStateChange&&(e.hoverState||0)!==r&&e.onHoverStateChange(t),e.hoverState=r}function mq(e){bw(e,"emphasis",xw)}function yq(e){e.hoverState===xw&&bw(e,"normal",PN)}function RN(e){bw(e,"blur",q0)}function xq(e){e.hoverState===q0&&bw(e,"normal",PN)}function GCe(e){e.selected=!0}function WCe(e){e.selected=!1}function bF(e,t,r){t(e,r)}function Ol(e,t,r){bF(e,t,r),e.isGroup&&e.traverse(function(n){bF(n,t,r)})}function CS(e,t){switch(t){case"emphasis":e.hoverState=xw;break;case"normal":e.hoverState=PN;break;case"blur":e.hoverState=q0;break;case"select":e.selected=!0}}function $Ce(e,t,r,n){for(var i=e.style,a={},s=0;s<t.length;s++){var o=t[s],l=i[o];a[o]=l??(n&&n[o])}for(var s=0;s<e.animators.length;s++){var u=e.animators[s];u.__fromStateTransition&&u.__fromStateTransition.indexOf(r)<0&&u.targetName==="style"&&u.saveTo(a,t)}return a}function YCe(e,t,r,n){var i=r&&Ut(r,"select")>=0,a=!1;if(e instanceof qt){var s=gq(e),o=i&&s.selectFill||s.normalFill,l=i&&s.selectStroke||s.normalStroke;if(Ff(o)||Ff(l)){n=n||{};var u=n.style||{};u.fill==="inherit"?(a=!0,n=Ne({},n),u=Ne({},u),u.fill=o):!Ff(u.fill)&&Ff(o)?(a=!0,n=Ne({},n),u=Ne({},u),u.fill=bS(o)):!Ff(u.stroke)&&Ff(l)&&(a||(n=Ne({},n),u=Ne({},u)),u.stroke=bS(l)),n.style=u}}if(n&&n.z2==null){a||(n=Ne({},n));var c=e.z2EmphasisLift;n.z2=e.z2+(c??Rp)}return n}function XCe(e,t,r){if(r&&r.z2==null){r=Ne({},r);var n=e.z2SelectLift;r.z2=e.z2+(n??UCe)}return r}function qCe(e,t,r){var n=Ut(e.currentStates,t)>=0,i=e.style.opacity,a=n?null:$Ce(e,["opacity"],t,{opacity:1});r=r||{};var s=r.style||{};return s.opacity==null&&(r=Ne({},r),s=Ne({opacity:n?i:a.opacity*.1},s),r.style=s),r}function K2(e,t){var r=this.states[e];if(this.style){if(e==="emphasis")return YCe(this,e,t,r);if(e==="blur")return qCe(this,e,r);if(e==="select")return XCe(this,e,r)}return r}function Qh(e){e.stateProxy=K2;var t=e.getTextContent(),r=e.getTextGuideLine();t&&(t.stateProxy=K2),r&&(r.stateProxy=K2)}function SF(e,t){!wq(e,t)&&!e.__highByOuter&&Ol(e,mq)}function _F(e,t){!wq(e,t)&&!e.__highByOuter&&Ol(e,yq)}function Tl(e,t){e.__highByOuter|=1<<(t||0),Ol(e,mq)}function Cl(e,t){!(e.__highByOuter&=~(1<<(t||0)))&&Ol(e,yq)}function bq(e){Ol(e,RN)}function ON(e){Ol(e,xq)}function Sq(e){Ol(e,GCe)}function _q(e){Ol(e,WCe)}function wq(e,t){return e.__highDownSilentOnTouch&&t.zrByTouch}function Tq(e){var t=e.getModel(),r=[],n=[];t.eachComponent(function(i,a){var s=NN(a),o=i==="series",l=o?e.getViewOfSeriesModel(a):e.getViewOfComponentModel(a);!o&&n.push(l),s.isBlured&&(l.group.traverse(function(u){xq(u)}),o&&r.push(a)),s.isBlured=!1}),q(n,function(i){i&&i.toggleBlurSeries&&i.toggleBlurSeries(r,!1,t)})}function ZI(e,t,r,n){var i=n.getModel();r=r||"coordinateSystem";function a(u,c){for(var h=0;h<c.length;h++){var f=u.getItemGraphicEl(c[h]);f&&ON(f)}}if(e!=null&&!(!t||t==="none")){var s=i.getSeriesByIndex(e),o=s.coordinateSystem;o&&o.master&&(o=o.master);var l=[];i.eachSeries(function(u){var c=s===u,h=u.coordinateSystem;h&&h.master&&(h=h.master);var f=h&&o?h===o:c;if(!(r==="series"&&!c||r==="coordinateSystem"&&!f||t==="series"&&c)){var d=n.getViewOfSeriesModel(u);if(d.group.traverse(function(y){y.__highByOuter&&c&&t==="self"||RN(y)}),ai(t))a(u.getData(),t);else if(St(t))for(var v=Kt(t),m=0;m<v.length;m++)a(u.getData(v[m]),t[v[m]]);l.push(u),NN(u).isBlured=!0}}),i.eachComponent(function(u,c){if(u!=="series"){var h=n.getViewOfComponentModel(c);h&&h.toggleBlurSeries&&h.toggleBlurSeries(l,!0,i)}})}}function QI(e,t,r){if(!(e==null||t==null)){var n=r.getModel().getComponent(e,t);if(n){NN(n).isBlured=!0;var i=r.getViewOfComponentModel(n);!i||!i.focusBlurEnabled||i.group.traverse(function(a){RN(a)})}}}function KCe(e,t,r){var n=e.seriesIndex,i=e.getData(t.dataType);if(i){var a=Kh(i,t);a=(Oe(a)?a[0]:a)||0;var s=i.getItemGraphicEl(a);if(!s)for(var o=i.count(),l=0;!s&&l<o;)s=i.getItemGraphicEl(l++);if(s){var u=It(s);ZI(n,u.focus,u.blurScope,r)}else{var c=e.get(["emphasis","focus"]),h=e.get(["emphasis","blurScope"]);c!=null&&ZI(n,c,h,r)}}}function BN(e,t,r,n){var i={focusSelf:!1,dispatchers:null};if(e==null||e==="series"||t==null||r==null)return i;var a=n.getModel().getComponent(e,t);if(!a)return i;var s=n.getViewOfComponentModel(a);if(!s||!s.findHighDownDispatchers)return i;for(var o=s.findHighDownDispatchers(r),l,u=0;u<o.length;u++)if(It(o[u]).focus==="self"){l=!0;break}return{focusSelf:l,dispatchers:o}}function ZCe(e,t,r){var n=It(e),i=BN(n.componentMainType,n.componentIndex,n.componentHighDownName,r),a=i.dispatchers,s=i.focusSelf;a?(s&&QI(n.componentMainType,n.componentIndex,r),q(a,function(o){return SF(o,t)})):(ZI(n.seriesIndex,n.focus,n.blurScope,r),n.focus==="self"&&QI(n.componentMainType,n.componentIndex,r),SF(e,t))}function QCe(e,t,r){Tq(r);var n=It(e),i=BN(n.componentMainType,n.componentIndex,n.componentHighDownName,r).dispatchers;i?q(i,function(a){return _F(a,t)}):_F(e,t)}function JCe(e,t,r){if(eD(t)){var n=t.dataType,i=e.getData(n),a=Kh(i,t);Oe(a)||(a=[a]),e[t.type===cm?"toggleSelect":t.type===um?"select":"unselect"](a,n)}}function wF(e){var t=e.getAllData();q(t,function(r){var n=r.data,i=r.type;n.eachItemGraphicEl(function(a,s){e.isSelected(s,i)?Sq(a):_q(a)})})}function e2e(e){var t=[];return e.eachSeries(function(r){var n=r.getAllData();q(n,function(i){i.data;var a=i.type,s=r.getSelectedDataIndices();if(s.length>0){var o={dataIndex:s,seriesIndex:r.seriesIndex};a!=null&&(o.dataType=a),t.push(o)}})}),t}function Hu(e,t,r){xh(e,!0),Ol(e,Qh),JI(e,t,r)}function t2e(e){xh(e,!1)}function qr(e,t,r,n){n?t2e(e):Hu(e,t,r)}function JI(e,t,r){var n=It(e);t!=null?(n.focus=t,n.blurScope=r):n.focus&&(n.focus=null)}var TF=["emphasis","blur","select"],r2e={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function si(e,t,r,n){r=r||"itemStyle";for(var i=0;i<TF.length;i++){var a=TF[i],s=t.getModel([a,r]),o=e.ensureState(a);o.style=n?n(s):s[r2e[r]]()}}function xh(e,t){var r=t===!1,n=e;e.highDownSilentOnTouch&&(n.__highDownSilentOnTouch=e.highDownSilentOnTouch),(!r||n.__highDownDispatcher)&&(n.__highByOuter=n.__highByOuter||0,n.__highDownDispatcher=!r)}function r0(e){return!!(e&&e.__highDownDispatcher)}function n2e(e,t,r){var n=It(e);n.componentMainType=t.mainType,n.componentIndex=t.componentIndex,n.componentHighDownName=r}function i2e(e){var t=xF[e];return t==null&&yF<=32&&(t=xF[e]=yF++),t}function eD(e){var t=e.type;return t===um||t===gb||t===cm}function CF(e){var t=e.type;return t===Nh||t===vb}function a2e(e){var t=gq(e);t.normalFill=e.style.fill,t.normalStroke=e.style.stroke;var r=e.states.select||{};t.selectFill=r.style&&r.style.fill||null,t.selectStroke=r.style&&r.style.stroke||null}var zf=Oo.CMD,s2e=[[],[],[]],EF=Math.sqrt,o2e=Math.atan2;function Cq(e,t){if(t){var r=e.data,n=e.len(),i,a,s,o,l,u,c=zf.M,h=zf.C,f=zf.L,d=zf.R,v=zf.A,m=zf.Q;for(s=0,o=0;s<n;){switch(i=r[s++],o=s,a=0,i){case c:a=1;break;case f:a=1;break;case h:a=3;break;case m:a=2;break;case v:var y=t[4],b=t[5],S=EF(t[0]*t[0]+t[1]*t[1]),w=EF(t[2]*t[2]+t[3]*t[3]),k=o2e(-t[1]/w,t[0]/S);r[s]*=S,r[s++]+=y,r[s]*=w,r[s++]+=b,r[s++]*=S,r[s++]*=w,r[s++]+=k,r[s++]+=k,s+=2,o=s;break;case d:u[0]=r[s++],u[1]=r[s++],qn(u,u,t),r[o++]=u[0],r[o++]=u[1],u[0]+=r[s++],u[1]+=r[s++],qn(u,u,t),r[o++]=u[0],r[o++]=u[1]}for(l=0;l<a;l++){var M=s2e[l];M[0]=r[s++],M[1]=r[s++],qn(M,M,t),r[o++]=M[0],r[o++]=M[1]}}e.increaseVersion()}}var Z2=Math.sqrt,K1=Math.sin,Z1=Math.cos,$v=Math.PI;function AF(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function tD(e,t){return(e[0]*t[0]+e[1]*t[1])/(AF(e)*AF(t))}function kF(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(tD(e,t))}function IF(e,t,r,n,i,a,s,o,l,u,c){var h=l*($v/180),f=Z1(h)*(e-r)/2+K1(h)*(t-n)/2,d=-1*K1(h)*(e-r)/2+Z1(h)*(t-n)/2,v=f*f/(s*s)+d*d/(o*o);v>1&&(s*=Z2(v),o*=Z2(v));var m=(i===a?-1:1)*Z2((s*s*(o*o)-s*s*(d*d)-o*o*(f*f))/(s*s*(d*d)+o*o*(f*f)))||0,y=m*s*d/o,b=m*-o*f/s,S=(e+r)/2+Z1(h)*y-K1(h)*b,w=(t+n)/2+K1(h)*y+Z1(h)*b,k=kF([1,0],[(f-y)/s,(d-b)/o]),M=[(f-y)/s,(d-b)/o],I=[(-1*f-y)/s,(-1*d-b)/o],L=kF(M,I);if(tD(M,I)<=-1&&(L=$v),tD(M,I)>=1&&(L=0),L<0){var N=Math.round(L/$v*1e6)/1e6;L=$v*2+N%2*$v}c.addData(u,S,w,s,o,k,L,h,a)}var l2e=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,u2e=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function c2e(e){var t=new Oo;if(!e)return t;var r=0,n=0,i=r,a=n,s,o=Oo.CMD,l=e.match(l2e);if(!l)return t;for(var u=0;u<l.length;u++){for(var c=l[u],h=c.charAt(0),f=void 0,d=c.match(u2e)||[],v=d.length,m=0;m<v;m++)d[m]=parseFloat(d[m]);for(var y=0;y<v;){var b=void 0,S=void 0,w=void 0,k=void 0,M=void 0,I=void 0,L=void 0,N=r,z=n,B=void 0,H=void 0;switch(h){case"l":r+=d[y++],n+=d[y++],f=o.L,t.addData(f,r,n);break;case"L":r=d[y++],n=d[y++],f=o.L,t.addData(f,r,n);break;case"m":r+=d[y++],n+=d[y++],f=o.M,t.addData(f,r,n),i=r,a=n,h="l";break;case"M":r=d[y++],n=d[y++],f=o.M,t.addData(f,r,n),i=r,a=n,h="L";break;case"h":r+=d[y++],f=o.L,t.addData(f,r,n);break;case"H":r=d[y++],f=o.L,t.addData(f,r,n);break;case"v":n+=d[y++],f=o.L,t.addData(f,r,n);break;case"V":n=d[y++],f=o.L,t.addData(f,r,n);break;case"C":f=o.C,t.addData(f,d[y++],d[y++],d[y++],d[y++],d[y++],d[y++]),r=d[y-2],n=d[y-1];break;case"c":f=o.C,t.addData(f,d[y++]+r,d[y++]+n,d[y++]+r,d[y++]+n,d[y++]+r,d[y++]+n),r+=d[y-2],n+=d[y-1];break;case"S":b=r,S=n,B=t.len(),H=t.data,s===o.C&&(b+=r-H[B-4],S+=n-H[B-3]),f=o.C,N=d[y++],z=d[y++],r=d[y++],n=d[y++],t.addData(f,b,S,N,z,r,n);break;case"s":b=r,S=n,B=t.len(),H=t.data,s===o.C&&(b+=r-H[B-4],S+=n-H[B-3]),f=o.C,N=r+d[y++],z=n+d[y++],r+=d[y++],n+=d[y++],t.addData(f,b,S,N,z,r,n);break;case"Q":N=d[y++],z=d[y++],r=d[y++],n=d[y++],f=o.Q,t.addData(f,N,z,r,n);break;case"q":N=d[y++]+r,z=d[y++]+n,r+=d[y++],n+=d[y++],f=o.Q,t.addData(f,N,z,r,n);break;case"T":b=r,S=n,B=t.len(),H=t.data,s===o.Q&&(b+=r-H[B-4],S+=n-H[B-3]),r=d[y++],n=d[y++],f=o.Q,t.addData(f,b,S,r,n);break;case"t":b=r,S=n,B=t.len(),H=t.data,s===o.Q&&(b+=r-H[B-4],S+=n-H[B-3]),r+=d[y++],n+=d[y++],f=o.Q,t.addData(f,b,S,r,n);break;case"A":w=d[y++],k=d[y++],M=d[y++],I=d[y++],L=d[y++],N=r,z=n,r=d[y++],n=d[y++],f=o.A,IF(N,z,r,n,I,L,w,k,M,f,t);break;case"a":w=d[y++],k=d[y++],M=d[y++],I=d[y++],L=d[y++],N=r,z=n,r+=d[y++],n+=d[y++],f=o.A,IF(N,z,r,n,I,L,w,k,M,f,t);break}}(h==="z"||h==="Z")&&(f=o.Z,t.addData(f),r=i,n=a),s=f}return t.toStatic(),t}var Eq=function(e){_e(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.applyTransform=function(r){},t}(qt);function Aq(e){return e.setData!=null}function kq(e,t){var r=c2e(e),n=Ne({},t);return n.buildPath=function(i){if(Aq(i)){i.setData(r.data);var a=i.getContext();a&&i.rebuildPath(a,1)}else{var a=i;r.rebuildPath(a,1)}},n.applyTransform=function(i){Cq(r,i),this.dirtyShape()},n}function Iq(e,t){return new Eq(kq(e,t))}function h2e(e,t){var r=kq(e,t),n=function(i){_e(a,i);function a(s){var o=i.call(this,s)||this;return o.applyTransform=r.applyTransform,o.buildPath=r.buildPath,o}return a}(Eq);return n}function f2e(e,t){for(var r=[],n=e.length,i=0;i<n;i++){var a=e[i];r.push(a.getUpdatedPathProxy(!0))}var s=new qt(t);return s.createPathProxy(),s.buildPath=function(o){if(Aq(o)){o.appendPath(r);var l=o.getContext();l&&o.rebuildPath(l,1)}},s}function FN(e,t){t=t||{};var r=new qt;return e.shape&&r.setShape(e.shape),r.setStyle(e.style),t.bakeTransform?Cq(r.path,e.getComputedTransform()):t.toLocal?r.setLocalTransform(e.getComputedTransform()):r.copyTransform(e),r.buildPath=e.buildPath,r.applyTransform=r.applyTransform,r.z=e.z,r.z2=e.z2,r.zlevel=e.zlevel,r}var d2e=function(){function e(){this.cx=0,this.cy=0,this.r=0}return e}(),jo=function(e){_e(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultShape=function(){return new d2e},t.prototype.buildPath=function(r,n){r.moveTo(n.cx+n.r,n.cy),r.arc(n.cx,n.cy,n.r,0,Math.PI*2)},t}(qt);jo.prototype.type="circle";var p2e=function(){function e(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return e}(),K0=function(e){_e(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultShape=function(){return new p2e},t.prototype.buildPath=function(r,n){var i=.5522848,a=n.cx,s=n.cy,o=n.rx,l=n.ry,u=o*i,c=l*i;r.moveTo(a-o,s),r.bezierCurveTo(a-o,s-c,a-u,s-l,a,s-l),r.bezierCurveTo(a+u,s-l,a+o,s-c,a+o,s),r.bezierCurveTo(a+o,s+c,a+u,s+l,a,s+l),r.bezierCurveTo(a-u,s+l,a-o,s+c,a-o,s),r.closePath()},t}(qt);K0.prototype.type="ellipse";var Dq=Math.PI,Q2=Dq*2,Hc=Math.sin,jf=Math.cos,v2e=Math.acos,ci=Math.atan2,DF=Math.abs,hm=Math.sqrt,Tg=Math.max,uo=Math.min,ws=1e-4;function g2e(e,t,r,n,i,a,s,o){var l=r-e,u=n-t,c=s-i,h=o-a,f=h*l-c*u;if(!(f*f<ws))return f=(c*(t-a)-h*(e-i))/f,[e+f*l,t+f*u]}function Q1(e,t,r,n,i,a,s){var o=e-r,l=t-n,u=(s?a:-a)/hm(o*o+l*l),c=u*l,h=-u*o,f=e+c,d=t+h,v=r+c,m=n+h,y=(f+v)/2,b=(d+m)/2,S=v-f,w=m-d,k=S*S+w*w,M=i-a,I=f*m-v*d,L=(w<0?-1:1)*hm(Tg(0,M*M*k-I*I)),N=(I*w-S*L)/k,z=(-I*S-w*L)/k,B=(I*w+S*L)/k,H=(-I*S+w*L)/k,G=N-y,$=z-b,W=B-y,X=H-b;return G*G+$*$>W*W+X*X&&(N=B,z=H),{cx:N,cy:z,x0:-c,y0:-h,x1:N*(i/M-1),y1:z*(i/M-1)}}function m2e(e){var t;if(Oe(e)){var r=e.length;if(!r)return e;r===1?t=[e[0],e[0],0,0]:r===2?t=[e[0],e[0],e[1],e[1]]:r===3?t=e.concat(e[2]):t=e}else t=[e,e,e,e];return t}function y2e(e,t){var r,n=Tg(t.r,0),i=Tg(t.r0||0,0),a=n>0,s=i>0;if(!(!a&&!s)){if(a||(n=i,i=0),i>n){var o=n;n=i,i=o}var l=t.startAngle,u=t.endAngle;if(!(isNaN(l)||isNaN(u))){var c=t.cx,h=t.cy,f=!!t.clockwise,d=DF(u-l),v=d>Q2&&d%Q2;if(v>ws&&(d=v),!(n>ws))e.moveTo(c,h);else if(d>Q2-ws)e.moveTo(c+n*jf(l),h+n*Hc(l)),e.arc(c,h,n,l,u,!f),i>ws&&(e.moveTo(c+i*jf(u),h+i*Hc(u)),e.arc(c,h,i,u,l,f));else{var m=void 0,y=void 0,b=void 0,S=void 0,w=void 0,k=void 0,M=void 0,I=void 0,L=void 0,N=void 0,z=void 0,B=void 0,H=void 0,G=void 0,$=void 0,W=void 0,X=n*jf(l),ee=n*Hc(l),le=i*jf(u),ie=i*Hc(u),fe=d>ws;if(fe){var re=t.cornerRadius;re&&(r=m2e(re),m=r[0],y=r[1],b=r[2],S=r[3]);var me=DF(n-i)/2;if(w=uo(me,b),k=uo(me,S),M=uo(me,m),I=uo(me,y),z=L=Tg(w,k),B=N=Tg(M,I),(L>ws||N>ws)&&(H=n*jf(u),G=n*Hc(u),$=i*jf(l),W=i*Hc(l),d<Dq)){var J=g2e(X,ee,$,W,H,G,le,ie);if(J){var te=X-J[0],ue=ee-J[1],pe=H-J[0],Se=G-J[1],je=1/Hc(v2e((te*pe+ue*Se)/(hm(te*te+ue*ue)*hm(pe*pe+Se*Se)))/2),Pe=hm(J[0]*J[0]+J[1]*J[1]);z=uo(L,(n-Pe)/(je+1)),B=uo(N,(i-Pe)/(je-1))}}}if(!fe)e.moveTo(c+X,h+ee);else if(z>ws){var Te=uo(b,z),Ve=uo(S,z),ze=Q1($,W,X,ee,n,Te,f),$e=Q1(H,G,le,ie,n,Ve,f);e.moveTo(c+ze.cx+ze.x0,h+ze.cy+ze.y0),z<L&&Te===Ve?e.arc(c+ze.cx,h+ze.cy,z,ci(ze.y0,ze.x0),ci($e.y0,$e.x0),!f):(Te>0&&e.arc(c+ze.cx,h+ze.cy,Te,ci(ze.y0,ze.x0),ci(ze.y1,ze.x1),!f),e.arc(c,h,n,ci(ze.cy+ze.y1,ze.cx+ze.x1),ci($e.cy+$e.y1,$e.cx+$e.x1),!f),Ve>0&&e.arc(c+$e.cx,h+$e.cy,Ve,ci($e.y1,$e.x1),ci($e.y0,$e.x0),!f))}else e.moveTo(c+X,h+ee),e.arc(c,h,n,l,u,!f);if(!(i>ws)||!fe)e.lineTo(c+le,h+ie);else if(B>ws){var Te=uo(m,B),Ve=uo(y,B),ze=Q1(le,ie,H,G,i,-Ve,f),$e=Q1(X,ee,$,W,i,-Te,f);e.lineTo(c+ze.cx+ze.x0,h+ze.cy+ze.y0),B<N&&Te===Ve?e.arc(c+ze.cx,h+ze.cy,B,ci(ze.y0,ze.x0),ci($e.y0,$e.x0),!f):(Ve>0&&e.arc(c+ze.cx,h+ze.cy,Ve,ci(ze.y0,ze.x0),ci(ze.y1,ze.x1),!f),e.arc(c,h,i,ci(ze.cy+ze.y1,ze.cx+ze.x1),ci($e.cy+$e.y1,$e.cx+$e.x1),f),Te>0&&e.arc(c+$e.cx,h+$e.cy,Te,ci($e.y1,$e.x1),ci($e.y0,$e.x0),!f))}else e.lineTo(c+le,h+ie),e.arc(c,h,i,u,l,f)}e.closePath()}}}var x2e=function(){function e(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return e}(),_i=function(e){_e(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultShape=function(){return new x2e},t.prototype.buildPath=function(r,n){y2e(r,n)},t.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},t}(qt);_i.prototype.type="sector";var b2e=function(){function e(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return e}(),Op=function(e){_e(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultShape=function(){return new b2e},t.prototype.buildPath=function(r,n){var i=n.cx,a=n.cy,s=Math.PI*2;r.moveTo(i+n.r,a),r.arc(i,a,n.r,0,s,!1),r.moveTo(i+n.r0,a),r.arc(i,a,n.r0,0,s,!0)},t}(qt);Op.prototype.type="ring";function S2e(e,t,r,n){var i=[],a=[],s=[],o=[],l,u,c,h;if(n){c=[1/0,1/0],h=[-1/0,-1/0];for(var f=0,d=e.length;f<d;f++)ul(c,c,e[f]),cl(h,h,e[f]);ul(c,c,n[0]),cl(h,h,n[1])}for(var f=0,d=e.length;f<d;f++){var v=e[f];if(r)l=e[f?f-1:d-1],u=e[(f+1)%d];else if(f===0||f===d-1){i.push(Io(e[f]));continue}else l=e[f-1],u=e[f+1];Su(a,u,l),rm(a,a,t);var m=vS(v,l),y=vS(v,u),b=m+y;b!==0&&(m/=b,y/=b),rm(s,a,-m),rm(o,a,y);var S=CI([],v,s),w=CI([],v,o);n&&(cl(S,S,c),ul(S,S,h),cl(w,w,c),ul(w,w,h)),i.push(S),i.push(w)}return r&&i.push(i.shift()),i}function Mq(e,t,r){var n=t.smooth,i=t.points;if(i&&i.length>=2){if(n){var a=S2e(i,n,r,t.smoothConstraint);e.moveTo(i[0][0],i[0][1]);for(var s=i.length,o=0;o<(r?s:s-1);o++){var l=a[o*2],u=a[o*2+1],c=i[(o+1)%s];e.bezierCurveTo(l[0],l[1],u[0],u[1],c[0],c[1])}}else{e.moveTo(i[0][0],i[0][1]);for(var o=1,h=i.length;o<h;o++)e.lineTo(i[o][0],i[o][1])}r&&e.closePath()}}var _2e=function(){function e(){this.points=null,this.smooth=0,this.smoothConstraint=null}return e}(),wi=function(e){_e(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultShape=function(){return new _2e},t.prototype.buildPath=function(r,n){Mq(r,n,!0)},t}(qt);wi.prototype.type="polygon";var w2e=function(){function e(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return e}(),Ai=function(e){_e(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new w2e},t.prototype.buildPath=function(r,n){Mq(r,n,!1)},t}(qt);Ai.prototype.type="polyline";var T2e={},C2e=function(){function e(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return e}(),An=function(e){_e(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new C2e},t.prototype.buildPath=function(r,n){var i,a,s,o;if(this.subPixelOptimize){var l=fq(T2e,n,this.style);i=l.x1,a=l.y1,s=l.x2,o=l.y2}else i=n.x1,a=n.y1,s=n.x2,o=n.y2;var u=n.percent;u!==0&&(r.moveTo(i,a),u<1&&(s=i*(1-u)+s*u,o=a*(1-u)+o*u),r.lineTo(s,o))},t.prototype.pointAt=function(r){var n=this.shape;return[n.x1*(1-r)+n.x2*r,n.y1*(1-r)+n.y2*r]},t}(qt);An.prototype.type="line";var Xi=[],E2e=function(){function e(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return e}();function MF(e,t,r){var n=e.cpx2,i=e.cpy2;return n!=null||i!=null?[(r?FB:Pn)(e.x1,e.cpx1,e.cpx2,e.x2,t),(r?FB:Pn)(e.y1,e.cpy1,e.cpy2,e.y2,t)]:[(r?DI:$n)(e.x1,e.cpx1,e.x2,t),(r?DI:$n)(e.y1,e.cpy1,e.y2,t)]}var Bp=function(e){_e(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new E2e},t.prototype.buildPath=function(r,n){var i=n.x1,a=n.y1,s=n.x2,o=n.y2,l=n.cpx1,u=n.cpy1,c=n.cpx2,h=n.cpy2,f=n.percent;f!==0&&(r.moveTo(i,a),c==null||h==null?(f<1&&(qm(i,l,s,f,Xi),l=Xi[1],s=Xi[2],qm(a,u,o,f,Xi),u=Xi[1],o=Xi[2]),r.quadraticCurveTo(l,u,s,o)):(f<1&&(Zu(i,l,c,s,f,Xi),l=Xi[1],c=Xi[2],s=Xi[3],Zu(a,u,h,o,f,Xi),u=Xi[1],h=Xi[2],o=Xi[3]),r.bezierCurveTo(l,u,c,h,s,o)))},t.prototype.pointAt=function(r){return MF(this.shape,r,!1)},t.prototype.tangentAt=function(r){var n=MF(this.shape,r,!0);return lf(n,n)},t}(qt);Bp.prototype.type="bezier-curve";var A2e=function(){function e(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return e}(),Z0=function(e){_e(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new A2e},t.prototype.buildPath=function(r,n){var i=n.cx,a=n.cy,s=Math.max(n.r,0),o=n.startAngle,l=n.endAngle,u=n.clockwise,c=Math.cos(o),h=Math.sin(o);r.moveTo(c*s+i,h*s+a),r.arc(i,a,s,o,l,!u)},t}(qt);Z0.prototype.type="arc";var Sw=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type="compound",r}return t.prototype._updatePathDirty=function(){for(var r=this.shape.paths,n=this.shapeChanged(),i=0;i<r.length;i++)n=n||r[i].shapeChanged();n&&this.dirtyShape()},t.prototype.beforeBrush=function(){this._updatePathDirty();for(var r=this.shape.paths||[],n=this.getGlobalScale(),i=0;i<r.length;i++)r[i].path||r[i].createPathProxy(),r[i].path.setScale(n[0],n[1],r[i].segmentIgnoreThreshold)},t.prototype.buildPath=function(r,n){for(var i=n.paths||[],a=0;a<i.length;a++)i[a].buildPath(r,i[a].shape,!0)},t.prototype.afterBrush=function(){for(var r=this.shape.paths||[],n=0;n<r.length;n++)r[n].pathUpdated()},t.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),qt.prototype.getBoundingRect.call(this)},t}(qt),Lq=function(){function e(t){this.colorStops=t||[]}return e.prototype.addColorStop=function(t,r){this.colorStops.push({offset:t,color:r})},e}(),Fp=function(e){_e(t,e);function t(r,n,i,a,s,o){var l=e.call(this,s)||this;return l.x=r??0,l.y=n??0,l.x2=i??1,l.y2=a??0,l.type="linear",l.global=o||!1,l}return t}(Lq),zN=function(e){_e(t,e);function t(r,n,i,a,s){var o=e.call(this,a)||this;return o.x=r??.5,o.y=n??.5,o.r=i??.5,o.type="radial",o.global=s||!1,o}return t}(Lq),Vc=[0,0],Uc=[0,0],J1=new zt,ex=new zt,ES=function(){function e(t,r){this._corners=[],this._axes=[],this._origin=[0,0];for(var n=0;n<4;n++)this._corners[n]=new zt;for(var n=0;n<2;n++)this._axes[n]=new zt;t&&this.fromBoundingRect(t,r)}return e.prototype.fromBoundingRect=function(t,r){var n=this._corners,i=this._axes,a=t.x,s=t.y,o=a+t.width,l=s+t.height;if(n[0].set(a,s),n[1].set(o,s),n[2].set(o,l),n[3].set(a,l),r)for(var u=0;u<4;u++)n[u].transform(r);zt.sub(i[0],n[1],n[0]),zt.sub(i[1],n[3],n[0]),i[0].normalize(),i[1].normalize();for(var u=0;u<2;u++)this._origin[u]=i[u].dot(n[0])},e.prototype.intersect=function(t,r){var n=!0,i=!r;return J1.set(1/0,1/0),ex.set(0,0),!this._intersectCheckOneSide(this,t,J1,ex,i,1)&&(n=!1,i)||!this._intersectCheckOneSide(t,this,J1,ex,i,-1)&&(n=!1,i)||i||zt.copy(r,n?J1:ex),n},e.prototype._intersectCheckOneSide=function(t,r,n,i,a,s){for(var o=!0,l=0;l<2;l++){var u=this._axes[l];if(this._getProjMinMaxOnAxis(l,t._corners,Vc),this._getProjMinMaxOnAxis(l,r._corners,Uc),Vc[1]<Uc[0]||Vc[0]>Uc[1]){if(o=!1,a)return o;var c=Math.abs(Uc[0]-Vc[1]),h=Math.abs(Vc[0]-Uc[1]);Math.min(c,h)>i.len()&&(c<h?zt.scale(i,u,-c*s):zt.scale(i,u,h*s))}else if(n){var c=Math.abs(Uc[0]-Vc[1]),h=Math.abs(Vc[0]-Uc[1]);Math.min(c,h)<n.len()&&(c<h?zt.scale(n,u,c*s):zt.scale(n,u,-h*s))}}return o},e.prototype._getProjMinMaxOnAxis=function(t,r,n){for(var i=this._axes[t],a=this._origin,s=r[0].dot(i)+a[t],o=s,l=s,u=1;u<r.length;u++){var c=r[u].dot(i)+a[t];o=Math.min(c,o),l=Math.max(c,l)}n[0]=o,n[1]=l},e}(),k2e=[],Nq=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.notClear=!0,r.incremental=!0,r._displayables=[],r._temporaryDisplayables=[],r._cursor=0,r}return t.prototype.traverse=function(r,n){r.call(n,this)},t.prototype.useStyle=function(){this.style={}},t.prototype.getCursor=function(){return this._cursor},t.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},t.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},t.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},t.prototype.addDisplayable=function(r,n){n?this._temporaryDisplayables.push(r):this._displayables.push(r),this.markRedraw()},t.prototype.addDisplayables=function(r,n){n=n||!1;for(var i=0;i<r.length;i++)this.addDisplayable(r[i],n)},t.prototype.getDisplayables=function(){return this._displayables},t.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},t.prototype.eachPendingDisplayable=function(r){for(var n=this._cursor;n<this._displayables.length;n++)r&&r(this._displayables[n]);for(var n=0;n<this._temporaryDisplayables.length;n++)r&&r(this._temporaryDisplayables[n])},t.prototype.update=function(){this.updateTransform();for(var r=this._cursor;r<this._displayables.length;r++){var n=this._displayables[r];n.parent=this,n.update(),n.parent=null}for(var r=0;r<this._temporaryDisplayables.length;r++){var n=this._temporaryDisplayables[r];n.parent=this,n.update(),n.parent=null}},t.prototype.getBoundingRect=function(){if(!this._rect){for(var r=new jt(1/0,1/0,-1/0,-1/0),n=0;n<this._displayables.length;n++){var i=this._displayables[n],a=i.getBoundingRect().clone();i.needLocalTransform()&&a.applyTransform(i.getLocalTransform(k2e)),r.union(a)}this._rect=r}return this._rect},t.prototype.contain=function(r,n){var i=this.transformCoordToLocal(r,n),a=this.getBoundingRect();if(a.contain(i[0],i[1]))for(var s=0;s<this._displayables.length;s++){var o=this._displayables[s];if(o.contain(r,n))return!0}return!1},t}(us),Pq=tr();function zp(e,t,r,n,i){var a;if(t&&t.ecModel){var s=t.ecModel.getUpdatePayload();a=s&&s.animation}var o=t&&t.isAnimationEnabled(),l=e==="update";if(o){var u=void 0,c=void 0,h=void 0;n?(u=Mt(n.duration,200),c=Mt(n.easing,"cubicOut"),h=0):(u=t.getShallow(l?"animationDurationUpdate":"animationDuration"),c=t.getShallow(l?"animationEasingUpdate":"animationEasing"),h=t.getShallow(l?"animationDelayUpdate":"animationDelay")),a&&(a.duration!=null&&(u=a.duration),a.easing!=null&&(c=a.easing),a.delay!=null&&(h=a.delay)),vt(h)&&(h=h(r,i)),vt(u)&&(u=u(r));var f={duration:u||0,delay:h,easing:c};return f}else return null}function jN(e,t,r,n,i,a,s){var o=!1,l;vt(i)?(s=a,a=i,i=null):St(i)&&(a=i.cb,s=i.during,o=i.isFrom,l=i.removeOpt,i=i.dataIndex);var u=e==="leave";u||t.stopAnimation("leave");var c=zp(e,n,i,u?l||{}:null,n&&n.getAnimationDelayParams?n.getAnimationDelayParams(t,i):null);if(c&&c.duration>0){var h=c.duration,f=c.delay,d=c.easing,v={duration:h,delay:f||0,easing:d,done:a,force:!!a||!!s,setToFinal:!u,scope:e,during:s};o?t.animateFrom(r,v):t.animateTo(r,v)}else t.stopAnimation(),!o&&t.attr(r),s&&s(1),a&&a()}function sr(e,t,r,n,i,a){jN("update",e,t,r,n,i,a)}function Br(e,t,r,n,i,a){jN("enter",e,t,r,n,i,a)}function Bd(e){if(!e.__zr)return!0;for(var t=0;t<e.animators.length;t++){var r=e.animators[t];if(r.scope==="leave")return!0}return!1}function Qu(e,t,r,n,i,a){Bd(e)||jN("leave",e,t,r,n,i,a)}function LF(e,t,r,n){e.removeTextContent(),e.removeTextGuideLine(),Qu(e,{style:{opacity:0}},t,r,n)}function n0(e,t,r){function n(){e.parent&&e.parent.remove(e)}e.isGroup?e.traverse(function(i){i.isGroup||LF(i,t,r,n)}):LF(e,t,r,n)}function Gs(e){Pq(e).oldStyle=e.style}function I2e(e){return Pq(e).oldStyle}var AS=Math.max,kS=Math.min,rD={};function Rq(e){return qt.extend(e)}var D2e=h2e;function Oq(e,t){return D2e(e,t)}function hs(e,t){rD[e]=t}function _w(e){if(rD.hasOwnProperty(e))return rD[e]}function Q0(e,t,r,n){var i=Iq(e,t);return r&&(n==="center"&&(r=Bq(r,i.getBoundingRect())),VN(i,r)),i}function HN(e,t,r){var n=new Vn({style:{image:e,x:t.x,y:t.y,width:t.width,height:t.height},onload:function(i){if(r==="center"){var a={width:i.width,height:i.height};n.setStyle(Bq(t,a))}}});return n}function Bq(e,t){var r=t.width/t.height,n=e.height*r,i;n<=e.width?i=e.height:(n=e.width,i=n/r);var a=e.x+e.width/2,s=e.y+e.height/2;return{x:a-n/2,y:s-i/2,width:n,height:i}}var xa=f2e;function VN(e,t){if(e.applyTransform){var r=e.getBoundingRect(),n=r.calculateTransform(t);e.applyTransform(n)}}function fp(e,t){return fq(e,e,{lineWidth:t}),e}function M2e(e){return dq(e.shape,e.shape,e.style),e}var mb=yh;function Vu(e,t){for(var r=W0([]);e&&e!==t;)Do(r,e.getLocalTransform(),r),e=e.parent;return r}function zs(e,t,r){return t&&!ai(t)&&(t=hl.getLocalTransform(t)),r&&(t=uf([],t)),qn([],e,t)}function ww(e,t,r){var n=t[4]===0||t[5]===0||t[0]===0?1:Math.abs(2*t[4]/t[0]),i=t[4]===0||t[5]===0||t[2]===0?1:Math.abs(2*t[4]/t[2]),a=[e==="left"?-n:e==="right"?n:0,e==="top"?-i:e==="bottom"?i:0];return a=zs(a,t,r),Math.abs(a[0])>Math.abs(a[1])?a[0]>0?"right":"left":a[1]>0?"bottom":"top"}function NF(e){return!e.isGroup}function L2e(e){return e.shape!=null}function J0(e,t,r){if(!e||!t)return;function n(s){var o={};return s.traverse(function(l){NF(l)&&l.anid&&(o[l.anid]=l)}),o}function i(s){var o={x:s.x,y:s.y,rotation:s.rotation};return L2e(s)&&(o.shape=Ne({},s.shape)),o}var a=n(e);t.traverse(function(s){if(NF(s)&&s.anid){var o=a[s.anid];if(o){var l=i(s);s.attr(i(o)),sr(s,l,r,It(s).dataIndex)}}})}function UN(e,t){return Fe(e,function(r){var n=r[0];n=AS(n,t.x),n=kS(n,t.x+t.width);var i=r[1];return i=AS(i,t.y),i=kS(i,t.y+t.height),[n,i]})}function Fq(e,t){var r=AS(e.x,t.x),n=kS(e.x+e.width,t.x+t.width),i=AS(e.y,t.y),a=kS(e.y+e.height,t.y+t.height);if(n>=r&&a>=i)return{x:r,y:i,width:n-r,height:a-i}}function jp(e,t,r){var n=Ne({rectHover:!0},t),i=n.style={strokeNoScale:!0};if(r=r||{x:-1,y:-1,width:2,height:2},e)return e.indexOf("image://")===0?(i.image=e.slice(8),yt(i,r),new Vn(n)):Q0(e.replace("path://",""),n,r,"center")}function Cg(e,t,r,n,i){for(var a=0,s=i[i.length-1];a<i.length;a++){var o=i[a];if(zq(e,t,r,n,o[0],o[1],s[0],s[1]))return!0;s=o}}function zq(e,t,r,n,i,a,s,o){var l=r-e,u=n-t,c=s-i,h=o-a,f=J2(c,h,l,u);if(N2e(f))return!1;var d=e-i,v=t-a,m=J2(d,v,l,u)/f;if(m<0||m>1)return!1;var y=J2(d,v,c,h)/f;return!(y<0||y>1)}function J2(e,t,r,n){return e*n-r*t}function N2e(e){return e<=1e-6&&e>=-1e-6}function cf(e){var t=e.itemTooltipOption,r=e.componentModel,n=e.itemName,i=Je(t)?{formatter:t}:t,a=r.mainType,s=r.componentIndex,o={componentType:a,name:n,$vars:["name"]};o[a+"Index"]=s;var l=e.formatterParamsExtra;l&&q(Kt(l),function(c){ot(o,c)||(o[c]=l[c],o.$vars.push(c))});var u=It(e.el);u.componentMainType=a,u.componentIndex=s,u.tooltipConfig={name:n,option:yt({content:n,encodeHTMLContent:!0,formatterParams:o},i)}}function PF(e,t){var r;e.isGroup&&(r=t(e)),r||e.traverse(t)}function hc(e,t){if(e)if(Oe(e))for(var r=0;r<e.length;r++)PF(e[r],t);else PF(e,t)}hs("circle",jo);hs("ellipse",K0);hs("sector",_i);hs("ring",Op);hs("polygon",wi);hs("polyline",Ai);hs("rect",Jt);hs("line",An);hs("bezierCurve",Bp);hs("arc",Z0);const hf=Object.freeze(Object.defineProperty({__proto__:null,Arc:Z0,BezierCurve:Bp,BoundingRect:jt,Circle:jo,CompoundPath:Sw,Ellipse:K0,Group:Ct,Image:Vn,IncrementalDisplayable:Nq,Line:An,LinearGradient:Fp,OrientedBoundingRect:ES,Path:qt,Point:zt,Polygon:wi,Polyline:Ai,RadialGradient:zN,Rect:Jt,Ring:Op,Sector:_i,Text:Qt,applyTransform:zs,clipPointsByRect:UN,clipRectByRect:Fq,createIcon:jp,extendPath:Oq,extendShape:Rq,getShapeClass:_w,getTransform:Vu,groupTransition:J0,initProps:Br,isElementRemoved:Bd,lineLineIntersect:zq,linePolygonIntersect:Cg,makeImage:HN,makePath:Q0,mergePath:xa,registerShape:hs,removeElement:Qu,removeElementWithFadeOut:n0,resizePath:VN,setTooltipConfig:cf,subPixelOptimize:mb,subPixelOptimizeLine:fp,subPixelOptimizeRect:M2e,transformDirection:ww,traverseElements:hc,updateProps:sr},Symbol.toStringTag,{value:"Module"}));var Tw={};function jq(e,t){for(var r=0;r<Vi.length;r++){var n=Vi[r],i=t[n],a=e.ensureState(n);a.style=a.style||{},a.style.text=i}var s=e.currentStates.slice();e.clearStates(!0),e.setStyle({text:t.normal}),e.useStates(s,!0)}function nD(e,t,r){var n=e.labelFetcher,i=e.labelDataIndex,a=e.labelDimIndex,s=t.normal,o;n&&(o=n.getFormattedLabel(i,"normal",null,a,s&&s.get("formatter"),r!=null?{interpolatedValue:r}:null)),o==null&&(o=vt(e.defaultText)?e.defaultText(i,e,r):e.defaultText);for(var l={normal:o},u=0;u<Vi.length;u++){var c=Vi[u],h=t[c];l[c]=Mt(n?n.getFormattedLabel(i,c,null,a,h&&h.get("formatter")):null,o)}return l}function oi(e,t,r,n){r=r||Tw;for(var i=e instanceof Qt,a=!1,s=0;s<t0.length;s++){var o=t[t0[s]];if(o&&o.getShallow("show")){a=!0;break}}var l=i?e:e.getTextContent();if(a){i||(l||(l=new Qt,e.setTextContent(l)),e.stateProxy&&(l.stateProxy=e.stateProxy));var u=nD(r,t),c=t.normal,h=!!c.getShallow("show"),f=Ir(c,n&&n.normal,r,!1,!i);f.text=u.normal,i||e.setTextConfig(IS(c,r,!1));for(var s=0;s<Vi.length;s++){var d=Vi[s],o=t[d];if(o){var v=l.ensureState(d),m=!!Mt(o.getShallow("show"),h);if(m!==h&&(v.ignore=!m),v.style=Ir(o,n&&n[d],r,!0,!i),v.style.text=u[d],!i){var y=e.ensureState(d);y.textConfig=IS(o,r,!0)}}}l.silent=!!c.getShallow("silent"),l.style.x!=null&&(f.x=l.style.x),l.style.y!=null&&(f.y=l.style.y),l.ignore=!h,l.useStyle(f),l.dirty(),r.enableTextSetter&&(Hp(l).setLabelText=function(b){var S=nD(r,t,b);jq(l,S)})}else l&&(l.ignore=!0);e.dirty()}function zn(e,t){t=t||"label";for(var r={normal:e.getModel(t)},n=0;n<Vi.length;n++){var i=Vi[n];r[i]=e.getModel([i,t])}return r}function Ir(e,t,r,n,i){var a={};return P2e(a,e,r,n,i),t&&Ne(a,t),a}function IS(e,t,r){t=t||{};var n={},i,a=e.getShallow("rotate"),s=Mt(e.getShallow("distance"),r?null:5),o=e.getShallow("offset");return i=e.getShallow("position")||(r?null:"inside"),i==="outside"&&(i=t.defaultOutsidePosition||"top"),i!=null&&(n.position=i),o!=null&&(n.offset=o),a!=null&&(a*=Math.PI/180,n.rotation=a),s!=null&&(n.distance=s),n.outsideFill=e.get("color")==="inherit"?t.inheritColor||null:"auto",n}function P2e(e,t,r,n,i){r=r||Tw;var a=t.ecModel,s=a&&a.option.textStyle,o=R2e(t),l;if(o){l={};for(var u in o)if(o.hasOwnProperty(u)){var c=t.getModel(["rich",u]);FF(l[u]={},c,s,r,n,i,!1,!0)}}l&&(e.rich=l);var h=t.get("overflow");h&&(e.overflow=h);var f=t.get("minMargin");f!=null&&(e.margin=f),FF(e,t,s,r,n,i,!0,!1)}function R2e(e){for(var t;e&&e!==e.ecModel;){var r=(e.option||Tw).rich;if(r){t=t||{};for(var n=Kt(r),i=0;i<n.length;i++){var a=n[i];t[a]=1}}e=e.parentModel}return t}var RF=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],OF=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],BF=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function FF(e,t,r,n,i,a,s,o){r=!i&&r||Tw;var l=n&&n.inheritColor,u=t.getShallow("color"),c=t.getShallow("textBorderColor"),h=Mt(t.getShallow("opacity"),r.opacity);(u==="inherit"||u==="auto")&&(l?u=l:u=null),(c==="inherit"||c==="auto")&&(l?c=l:c=null),a||(u=u||r.color,c=c||r.textBorderColor),u!=null&&(e.fill=u),c!=null&&(e.stroke=c);var f=Mt(t.getShallow("textBorderWidth"),r.textBorderWidth);f!=null&&(e.lineWidth=f);var d=Mt(t.getShallow("textBorderType"),r.textBorderType);d!=null&&(e.lineDash=d);var v=Mt(t.getShallow("textBorderDashOffset"),r.textBorderDashOffset);v!=null&&(e.lineDashOffset=v),!i&&h==null&&!o&&(h=n&&n.defaultOpacity),h!=null&&(e.opacity=h),!i&&!a&&e.fill==null&&n.inheritColor&&(e.fill=n.inheritColor);for(var m=0;m<RF.length;m++){var y=RF[m],b=Mt(t.getShallow(y),r[y]);b!=null&&(e[y]=b)}for(var m=0;m<OF.length;m++){var y=OF[m],b=t.getShallow(y);b!=null&&(e[y]=b)}if(e.verticalAlign==null){var S=t.getShallow("baseline");S!=null&&(e.verticalAlign=S)}if(!s||!n.disableBox){for(var m=0;m<BF.length;m++){var y=BF[m],b=t.getShallow(y);b!=null&&(e[y]=b)}var w=t.getShallow("borderType");w!=null&&(e.borderDash=w),(e.backgroundColor==="auto"||e.backgroundColor==="inherit")&&l&&(e.backgroundColor=l),(e.borderColor==="auto"||e.borderColor==="inherit")&&l&&(e.borderColor=l)}}function GN(e,t){var r=t&&t.getModel("textStyle");return ts([e.fontStyle||r&&r.getShallow("fontStyle")||"",e.fontWeight||r&&r.getShallow("fontWeight")||"",(e.fontSize||r&&r.getShallow("fontSize")||12)+"px",e.fontFamily||r&&r.getShallow("fontFamily")||"sans-serif"].join(" "))}var Hp=tr();function Hq(e,t,r,n){if(e){var i=Hp(e);i.prevValue=i.value,i.value=r;var a=t.normal;i.valueAnimation=a.get("valueAnimation"),i.valueAnimation&&(i.precision=a.get("precision"),i.defaultInterpolatedText=n,i.statesModels=t)}}function Vq(e,t,r,n,i){var a=Hp(e);if(!a.valueAnimation||a.prevValue===a.value)return;var s=a.defaultInterpolatedText,o=Mt(a.interpolatedValue,a.prevValue),l=a.value;function u(c){var h=nq(r,a.precision,o,l,c);a.interpolatedValue=c===1?null:h;var f=nD({labelDataIndex:t,labelFetcher:i,defaultText:s?s(h):h+""},a.statesModels,h);jq(e,f)}e.percent=0,(a.prevValue==null?Br:sr)(e,{percent:1},n,t,null,u)}var O2e=["textStyle","color"],eE=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],tE=new Qt,B2e=function(){function e(){}return e.prototype.getTextColor=function(t){var r=this.ecModel;return this.getShallow("color")||(!t&&r?r.get(O2e):null)},e.prototype.getFont=function(){return GN({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},e.prototype.getTextRect=function(t){for(var r={text:t,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},n=0;n<eE.length;n++)r[eE[n]]=this.getShallow(eE[n]);return tE.useStyle(r),tE.update(),tE.getBoundingRect()},e}(),Uq=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],F2e=Zh(Uq),z2e=function(){function e(){}return e.prototype.getLineStyle=function(t){return F2e(this,t)},e}(),Gq=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],j2e=Zh(Gq),H2e=function(){function e(){}return e.prototype.getItemStyle=function(t,r){return j2e(this,t,r)},e}(),ur=function(){function e(t,r,n){this.parentModel=r,this.ecModel=n,this.option=t}return e.prototype.init=function(t,r,n){},e.prototype.mergeOption=function(t,r){Ot(this.option,t,!0)},e.prototype.get=function(t,r){return t==null?this.option:this._doGet(this.parsePath(t),!r&&this.parentModel)},e.prototype.getShallow=function(t,r){var n=this.option,i=n==null?n:n[t];if(i==null&&!r){var a=this.parentModel;a&&(i=a.getShallow(t))}return i},e.prototype.getModel=function(t,r){var n=t!=null,i=n?this.parsePath(t):null,a=n?this._doGet(i):this.option;return r=r||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(i)),new e(a,r,this.ecModel)},e.prototype.isEmpty=function(){return this.option==null},e.prototype.restoreData=function(){},e.prototype.clone=function(){var t=this.constructor;return new t(_t(this.option))},e.prototype.parsePath=function(t){return typeof t=="string"?t.split("."):t},e.prototype.resolveParentPath=function(t){return t},e.prototype.isAnimationEnabled=function(){if(!Xt.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},e.prototype._doGet=function(t,r){var n=this.option;if(!t)return n;for(var i=0;i<t.length&&!(t[i]&&(n=n&&typeof n=="object"?n[t[i]]:null,n==null));i++);return n==null&&r&&(n=r._doGet(this.resolveParentPath(t),r.parentModel)),n},e}();DN(ur);eCe(ur);cn(ur,z2e);cn(ur,H2e);cn(ur,aCe);cn(ur,B2e);var V2e=Math.round(Math.random()*10);function Vp(e){return[e||"",V2e++].join("_")}function U2e(e){var t={};e.registerSubTypeDefaulter=function(r,n){var i=_o(r);t[i.main]=n},e.determineSubType=function(r,n){var i=n.type;if(!i){var a=_o(r).main;e.hasSubTypes(r)&&t[a]&&(i=t[a](n))}return i}}function G2e(e,t){e.topologicalTravel=function(a,s,o,l){if(!a.length)return;var u=r(s),c=u.graph,h=u.noEntryList,f={};for(q(a,function(S){f[S]=!0});h.length;){var d=h.pop(),v=c[d],m=!!f[d];m&&(o.call(l,d,v.originalDeps.slice()),delete f[d]),q(v.successor,m?b:y)}q(f,function(){var S="";throw new Error(S)});function y(S){c[S].entryCount--,c[S].entryCount===0&&h.push(S)}function b(S){f[S]=!0,y(S)}};function r(a){var s={},o=[];return q(a,function(l){var u=n(s,l),c=u.originalDeps=t(l),h=i(c,a);u.entryCount=h.length,u.entryCount===0&&o.push(l),q(h,function(f){Ut(u.predecessor,f)<0&&u.predecessor.push(f);var d=n(s,f);Ut(d.successor,f)<0&&d.successor.push(l)})}),{graph:s,noEntryList:o}}function n(a,s){return a[s]||(a[s]={predecessor:[],successor:[]}),a[s]}function i(a,s){var o=[];return q(a,function(l){Ut(s,l)>=0&&o.push(l)}),o}}function fc(e,t){return Ot(Ot({},e,!0),t,!0)}const W2e={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst",custom:"Custom chart",chart:"Chart"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},$2e={time:{month:["","","","","","","","","","","",""],monthAbbr:["1","2","3","4","5","6","7","8","9","10","11","12"],dayOfWeek:["","","","","","",""],dayOfWeekAbbr:["","","","","","",""]},legend:{selector:{all:"",inverse:""}},toolbox:{brush:{title:{rect:"",polygon:"",lineX:"",lineY:"",keep:"",clear:""}},dataView:{title:"",lang:["","",""]},dataZoom:{title:{zoom:"",back:""}},magicType:{title:{line:"",bar:"",stack:"",tiled:""}},restore:{title:""},saveAsImage:{title:"",lang:[""]}},series:{typeNames:{pie:"",bar:"",line:"",scatter:"",effectScatter:"",radar:"",tree:"",treemap:"",boxplot:"",candlestick:"K",k:"K",heatmap:"",map:"",parallel:"",lines:"",graph:"",sankey:"",funnel:"",gauge:"",pictorialBar:"",themeRiver:"",sunburst:"",custom:"",chart:""}},aria:{general:{withTitle:"{title}",withoutTitle:""},series:{single:{prefix:"",withName:"{seriesType}{seriesName}",withoutName:"{seriesType}"},multiple:{prefix:"{seriesCount}",withName:"{seriesId}{seriesName}{seriesType}",withoutName:"{seriesId}{seriesType}",separator:{middle:"",end:""}}},data:{allData:"",partialData:"{displayCnt}",withName:"{name}{value}",withoutName:"{value}",separator:{middle:"",end:""}}}};var DS="ZH",WN="EN",Fd=WN,yb={},$N={},Wq=Xt.domSupported?function(){var e=(document.documentElement.lang||navigator.language||navigator.browserLanguage||Fd).toUpperCase();return e.indexOf(DS)>-1?DS:Fd}():Fd;function YN(e,t){e=e.toUpperCase(),$N[e]=new ur(t),yb[e]=t}function Y2e(e){if(Je(e)){var t=yb[e.toUpperCase()]||{};return e===DS||e===WN?_t(t):Ot(_t(t),_t(yb[Fd]),!1)}else return Ot(_t(e),_t(yb[Fd]),!1)}function iD(e){return $N[e]}function X2e(){return $N[Fd]}YN(WN,W2e);YN(DS,$2e);var XN=1e3,qN=XN*60,fm=qN*60,Qa=fm*24,zF=Qa*365,Eg={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},tx="{yyyy}-{MM}-{dd}",jF={year:"{yyyy}",month:"{yyyy}-{MM}",day:tx,hour:tx+" "+Eg.hour,minute:tx+" "+Eg.minute,second:tx+" "+Eg.second,millisecond:Eg.none},rE=["year","month","day","hour","minute","second","millisecond"],$q=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function Ni(e,t){return e+="","0000".substr(0,t-e.length)+e}function zd(e){switch(e){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return e}}function q2e(e){return e===zd(e)}function K2e(e){switch(e){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function ey(e,t,r,n){var i=ka(e),a=i[KN(r)](),s=i[jd(r)]()+1,o=Math.floor((s-1)/3)+1,l=i[Cw(r)](),u=i["get"+(r?"UTC":"")+"Day"](),c=i[i0(r)](),h=(c-1)%12+1,f=i[Ew(r)](),d=i[Aw(r)](),v=i[kw(r)](),m=c>=12?"pm":"am",y=m.toUpperCase(),b=n instanceof ur?n:iD(n||Wq)||X2e(),S=b.getModel("time"),w=S.get("month"),k=S.get("monthAbbr"),M=S.get("dayOfWeek"),I=S.get("dayOfWeekAbbr");return(t||"").replace(/{a}/g,m+"").replace(/{A}/g,y+"").replace(/{yyyy}/g,a+"").replace(/{yy}/g,Ni(a%100+"",2)).replace(/{Q}/g,o+"").replace(/{MMMM}/g,w[s-1]).replace(/{MMM}/g,k[s-1]).replace(/{MM}/g,Ni(s,2)).replace(/{M}/g,s+"").replace(/{dd}/g,Ni(l,2)).replace(/{d}/g,l+"").replace(/{eeee}/g,M[u]).replace(/{ee}/g,I[u]).replace(/{e}/g,u+"").replace(/{HH}/g,Ni(c,2)).replace(/{H}/g,c+"").replace(/{hh}/g,Ni(h+"",2)).replace(/{h}/g,h+"").replace(/{mm}/g,Ni(f,2)).replace(/{m}/g,f+"").replace(/{ss}/g,Ni(d,2)).replace(/{s}/g,d+"").replace(/{SSS}/g,Ni(v,3)).replace(/{S}/g,v+"")}function Z2e(e,t,r,n,i){var a=null;if(Je(r))a=r;else if(vt(r))a=r(e.value,t,{level:e.level});else{var s=Ne({},Eg);if(e.level>0)for(var o=0;o<rE.length;++o)s[rE[o]]="{primary|"+s[rE[o]]+"}";var l=r?r.inherit===!1?r:yt(r,s):s,u=Yq(e.value,i);if(l[u])a=l[u];else if(l.inherit){for(var c=$q.indexOf(u),o=c-1;o>=0;--o)if(l[u]){a=l[u];break}a=a||s.none}if(Oe(a)){var h=e.level==null?0:e.level>=0?e.level:a.length+e.level;h=Math.min(h,a.length-1),a=a[h]}}return ey(new Date(e.value),a,i,n)}function Yq(e,t){var r=ka(e),n=r[jd(t)]()+1,i=r[Cw(t)](),a=r[i0(t)](),s=r[Ew(t)](),o=r[Aw(t)](),l=r[kw(t)](),u=l===0,c=u&&o===0,h=c&&s===0,f=h&&a===0,d=f&&i===1,v=d&&n===1;return v?"year":d?"month":f?"day":h?"hour":c?"minute":u?"second":"millisecond"}function HF(e,t,r){var n=ar(e)?ka(e):e;switch(t=t||Yq(e,r),t){case"year":return n[KN(r)]();case"half-year":return n[jd(r)]()>=6?1:0;case"quarter":return Math.floor((n[jd(r)]()+1)/4);case"month":return n[jd(r)]();case"day":return n[Cw(r)]();case"half-day":return n[i0(r)]()/24;case"hour":return n[i0(r)]();case"minute":return n[Ew(r)]();case"second":return n[Aw(r)]();case"millisecond":return n[kw(r)]()}}function KN(e){return e?"getUTCFullYear":"getFullYear"}function jd(e){return e?"getUTCMonth":"getMonth"}function Cw(e){return e?"getUTCDate":"getDate"}function i0(e){return e?"getUTCHours":"getHours"}function Ew(e){return e?"getUTCMinutes":"getMinutes"}function Aw(e){return e?"getUTCSeconds":"getSeconds"}function kw(e){return e?"getUTCMilliseconds":"getMilliseconds"}function Q2e(e){return e?"setUTCFullYear":"setFullYear"}function Xq(e){return e?"setUTCMonth":"setMonth"}function qq(e){return e?"setUTCDate":"setDate"}function Kq(e){return e?"setUTCHours":"setHours"}function Zq(e){return e?"setUTCMinutes":"setMinutes"}function Qq(e){return e?"setUTCSeconds":"setSeconds"}function Jq(e){return e?"setUTCMilliseconds":"setMilliseconds"}function J2e(e,t,r,n,i,a,s,o){var l=new Qt({style:{text:e,font:t,align:r,verticalAlign:n,padding:i,rich:a,overflow:s?"truncate":null,lineHeight:o}});return l.getBoundingRect()}function ZN(e){if(!AN(e))return Je(e)?e:"-";var t=(e+"").split(".");return t[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(t.length>1?"."+t[1]:"")}function QN(e,t){return e=(e||"").toLowerCase().replace(/-(.)/g,function(r,n){return n.toUpperCase()}),t&&e&&(e=e.charAt(0).toUpperCase()+e.slice(1)),e}var ff=lw;function aD(e,t,r){var n="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function i(c){return c&&ts(c)?c:"-"}function a(c){return!!(c!=null&&!isNaN(c)&&isFinite(c))}var s=t==="time",o=e instanceof Date;if(s||o){var l=s?ka(e):e;if(isNaN(+l)){if(o)return"-"}else return ey(l,n,r)}if(t==="ordinal")return dS(e)?i(e):ar(e)&&a(e)?e+"":"-";var u=Ro(e);return a(u)?ZN(u):dS(e)?i(e):typeof e=="boolean"?e+"":"-"}var VF=["a","b","c","d","e","f","g"],nE=function(e,t){return"{"+e+(t??"")+"}"};function JN(e,t,r){Oe(t)||(t=[t]);var n=t.length;if(!n)return"";for(var i=t[0].$vars||[],a=0;a<i.length;a++){var s=VF[a];e=e.replace(nE(s),nE(s,0))}for(var o=0;o<n;o++)for(var l=0;l<i.length;l++){var u=t[o][i[l]];e=e.replace(nE(VF[l],o),r?gi(u):u)}return e}function eEe(e,t,r){return q(t,function(n,i){e=e.replace("{"+i+"}",n)}),e}function eK(e,t){var r=Je(e)?{color:e,extraCssText:t}:e||{},n=r.color,i=r.type;t=r.extraCssText;var a=r.renderMode||"html";if(!n)return"";if(a==="html")return i==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+gi(n)+";"+(t||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+gi(n)+";"+(t||"")+'"></span>';var s=r.markerId||"markerX";return{renderMode:a,content:"{"+s+"|}  ",style:i==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:n}:{width:10,height:10,borderRadius:5,backgroundColor:n}}}function tEe(e,t,r){(e==="week"||e==="month"||e==="quarter"||e==="half-year"||e==="year")&&(e=`MM-dd
yyyy`);var n=ka(t),i=r?"getUTC":"get",a=n[i+"FullYear"](),s=n[i+"Month"]()+1,o=n[i+"Date"](),l=n[i+"Hours"](),u=n[i+"Minutes"](),c=n[i+"Seconds"](),h=n[i+"Milliseconds"]();return e=e.replace("MM",Ni(s,2)).replace("M",s).replace("yyyy",a).replace("yy",Ni(a%100+"",2)).replace("dd",Ni(o,2)).replace("d",o).replace("hh",Ni(l,2)).replace("h",l).replace("mm",Ni(u,2)).replace("m",u).replace("ss",Ni(c,2)).replace("s",c).replace("SSS",Ni(h,3)),e}function rEe(e){return e&&e.charAt(0).toUpperCase()+e.substr(1)}function Jh(e,t){return t=t||"transparent",Je(e)?e:St(e)&&e.colorStops&&(e.colorStops[0]||{}).color||t}function MS(e,t){if(t==="_blank"||t==="blank"){var r=window.open();r.opener=null,r.location.href=e}else window.open(e,t)}var xb=q,tK=["left","right","top","bottom","width","height"],bh=[["width","left","right"],["height","top","bottom"]];function eP(e,t,r,n,i){var a=0,s=0;n==null&&(n=1/0),i==null&&(i=1/0);var o=0;t.eachChild(function(l,u){var c=l.getBoundingRect(),h=t.childAt(u+1),f=h&&h.getBoundingRect(),d,v;if(e==="horizontal"){var m=c.width+(f?-f.x+c.x:0);d=a+m,d>n||l.newline?(a=0,d=m,s+=o+r,o=c.height):o=Math.max(o,c.height)}else{var y=c.height+(f?-f.y+c.y:0);v=s+y,v>i||l.newline?(a+=o+r,s=0,v=y,o=c.width):o=Math.max(o,c.width)}l.newline||(l.x=a,l.y=s,l.markRedraw(),e==="horizontal"?a=d+r:s=v+r)})}var Ph=eP;Lt(eP,"vertical");Lt(eP,"horizontal");function nEe(e,t,r){var n=t.width,i=t.height,a=Ze(e.left,n),s=Ze(e.top,i),o=Ze(e.right,n),l=Ze(e.bottom,i);return(isNaN(a)||isNaN(parseFloat(e.left)))&&(a=0),(isNaN(o)||isNaN(parseFloat(e.right)))&&(o=n),(isNaN(s)||isNaN(parseFloat(e.top)))&&(s=0),(isNaN(l)||isNaN(parseFloat(e.bottom)))&&(l=i),r=ff(r||0),{width:Math.max(o-a-r[1]-r[3],0),height:Math.max(l-s-r[0]-r[2],0)}}function Sn(e,t,r){r=ff(r||0);var n=t.width,i=t.height,a=Ze(e.left,n),s=Ze(e.top,i),o=Ze(e.right,n),l=Ze(e.bottom,i),u=Ze(e.width,n),c=Ze(e.height,i),h=r[2]+r[0],f=r[1]+r[3],d=e.aspect;switch(isNaN(u)&&(u=n-o-f-a),isNaN(c)&&(c=i-l-h-s),d!=null&&(isNaN(u)&&isNaN(c)&&(d>n/i?u=n*.8:c=i*.8),isNaN(u)&&(u=d*c),isNaN(c)&&(c=u/d)),isNaN(a)&&(a=n-o-u-f),isNaN(s)&&(s=i-l-c-h),e.left||e.right){case"center":a=n/2-u/2-r[3];break;case"right":a=n-u-f;break}switch(e.top||e.bottom){case"middle":case"center":s=i/2-c/2-r[0];break;case"bottom":s=i-c-h;break}a=a||0,s=s||0,isNaN(u)&&(u=n-f-a-(o||0)),isNaN(c)&&(c=i-h-s-(l||0));var v=new jt(a+r[3],s+r[0],u,c);return v.margin=r,v}function Iw(e,t,r,n,i,a){var s=!i||!i.hv||i.hv[0],o=!i||!i.hv||i.hv[1],l=i&&i.boundingMode||"all";if(a=a||e,a.x=e.x,a.y=e.y,!s&&!o)return!1;var u;if(l==="raw")u=e.type==="group"?new jt(0,0,+t.width||0,+t.height||0):e.getBoundingRect();else if(u=e.getBoundingRect(),e.needLocalTransform()){var c=e.getLocalTransform();u=u.clone(),u.applyTransform(c)}var h=Sn(yt({width:u.width,height:u.height},t),r,n),f=s?h.x-u.x:0,d=o?h.y-u.y:0;return l==="raw"?(a.x=f,a.y=d):(a.x+=f,a.y+=d),a===e&&e.markRedraw(),!0}function iEe(e,t){return e[bh[t][0]]!=null||e[bh[t][1]]!=null&&e[bh[t][2]]!=null}function a0(e){var t=e.layoutMode||e.constructor.layoutMode;return St(t)?t:t?{type:t}:null}function Ju(e,t,r){var n=r&&r.ignoreSize;!Oe(n)&&(n=[n,n]);var i=s(bh[0],0),a=s(bh[1],1);u(bh[0],e,i),u(bh[1],e,a);function s(c,h){var f={},d=0,v={},m=0,y=2;if(xb(c,function(w){v[w]=e[w]}),xb(c,function(w){o(t,w)&&(f[w]=v[w]=t[w]),l(f,w)&&d++,l(v,w)&&m++}),n[h])return l(t,c[1])?v[c[2]]=null:l(t,c[2])&&(v[c[1]]=null),v;if(m===y||!d)return v;if(d>=y)return f;for(var b=0;b<c.length;b++){var S=c[b];if(!o(f,S)&&o(e,S)){f[S]=e[S];break}}return f}function o(c,h){return c.hasOwnProperty(h)}function l(c,h){return c[h]!=null&&c[h]!=="auto"}function u(c,h,f){xb(c,function(d){h[d]=f[d]})}}function Up(e){return rK({},e)}function rK(e,t){return t&&e&&xb(tK,function(r){t.hasOwnProperty(r)&&(e[r]=t[r])}),e}var aEe=tr(),Yt=function(e){_e(t,e);function t(r,n,i){var a=e.call(this,r,n,i)||this;return a.uid=Vp("ec_cpt_model"),a}return t.prototype.init=function(r,n,i){this.mergeDefaultAndTheme(r,i)},t.prototype.mergeDefaultAndTheme=function(r,n){var i=a0(this),a=i?Up(r):{},s=n.getTheme();Ot(r,s.get(this.mainType)),Ot(r,this.getDefaultOption()),i&&Ju(r,a,i)},t.prototype.mergeOption=function(r,n){Ot(this.option,r,!0);var i=a0(this);i&&Ju(this.option,r,i)},t.prototype.optionUpdated=function(r,n){},t.prototype.getDefaultOption=function(){var r=this.constructor;if(!ZTe(r))return r.defaultOption;var n=aEe(this);if(!n.defaultOption){for(var i=[],a=r;a;){var s=a.prototype.defaultOption;s&&i.push(s),a=a.superClass}for(var o={},l=i.length-1;l>=0;l--)o=Ot(o,i[l],!0);n.defaultOption=o}return n.defaultOption},t.prototype.getReferringComponents=function(r,n){var i=r+"Index",a=r+"Id";return X0(this.ecModel,r,{index:this.get(i,!0),id:this.get(a,!0)},n)},t.prototype.getBoxLayoutParams=function(){var r=this;return{left:r.get("left"),top:r.get("top"),right:r.get("right"),bottom:r.get("bottom"),width:r.get("width"),height:r.get("height")}},t.prototype.getZLevelKey=function(){return""},t.prototype.setZLevel=function(r){this.option.zlevel=r},t.protoInitialize=function(){var r=t.prototype;r.type="component",r.id="",r.name="",r.mainType="",r.subType="",r.componentIndex=0}(),t}(ur);aq(Yt,ur);vw(Yt);U2e(Yt);G2e(Yt,sEe);function sEe(e){var t=[];return q(Yt.getClassesByMainType(e),function(r){t=t.concat(r.dependencies||r.prototype.dependencies||[])}),t=Fe(t,function(r){return _o(r).main}),e!=="dataset"&&Ut(t,"dataset")<=0&&t.unshift("dataset"),t}var nK="";typeof navigator<"u"&&(nK=navigator.platform||"");var Hf="rgba(0, 0, 0, 0.2)";const oEe={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:Hf,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:Hf,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:Hf,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:Hf,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:Hf,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:Hf,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:nK.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var iK=ct(["tooltip","label","itemName","itemId","itemGroupId","itemChildGroupId","seriesName"]),fs="original",Ti="arrayRows",ds="objectRows",Ho="keyedColumns",Uu="typedArray",aK="unknown",Mo="column",Gp="row",ei={Must:1,Might:2,Not:3},sK=tr();function lEe(e){sK(e).datasetMap=ct()}function oK(e,t,r){var n={},i=rP(t);if(!i||!e)return n;var a=[],s=[],o=t.ecModel,l=sK(o).datasetMap,u=i.uid+"_"+r.seriesLayoutBy,c,h;e=e.slice(),q(e,function(m,y){var b=St(m)?m:e[y]={name:m};b.type==="ordinal"&&c==null&&(c=y,h=v(b)),n[b.name]=[]});var f=l.get(u)||l.set(u,{categoryWayDim:h,valueWayDim:0});q(e,function(m,y){var b=m.name,S=v(m);if(c==null){var w=f.valueWayDim;d(n[b],w,S),d(s,w,S),f.valueWayDim+=S}else if(c===y)d(n[b],0,S),d(a,0,S);else{var w=f.categoryWayDim;d(n[b],w,S),d(s,w,S),f.categoryWayDim+=S}});function d(m,y,b){for(var S=0;S<b;S++)m.push(y+S)}function v(m){var y=m.dimsDef;return y?y.length:1}return a.length&&(n.itemName=a),s.length&&(n.seriesName=s),n}function tP(e,t,r){var n={},i=rP(e);if(!i)return n;var a=t.sourceFormat,s=t.dimensionsDefine,o;(a===ds||a===Ho)&&q(s,function(c,h){(St(c)?c.name:c)==="name"&&(o=h)});var l=function(){for(var c={},h={},f=[],d=0,v=Math.min(5,r);d<v;d++){var m=uK(t.data,a,t.seriesLayoutBy,s,t.startIndex,d);f.push(m);var y=m===ei.Not;if(y&&c.v==null&&d!==o&&(c.v=d),(c.n==null||c.n===c.v||!y&&f[c.n]===ei.Not)&&(c.n=d),b(c)&&f[c.n]!==ei.Not)return c;y||(m===ei.Might&&h.v==null&&d!==o&&(h.v=d),(h.n==null||h.n===h.v)&&(h.n=d))}function b(S){return S.v!=null&&S.n!=null}return b(c)?c:b(h)?h:null}();if(l){n.value=[l.v];var u=o??l.n;n.itemName=[u],n.seriesName=[u]}return n}function rP(e){var t=e.get("data",!0);if(!t)return X0(e.ecModel,"dataset",{index:e.get("datasetIndex",!0),id:e.get("datasetId",!0)},bn).models[0]}function uEe(e){return!e.get("transform",!0)&&!e.get("fromTransformResult",!0)?[]:X0(e.ecModel,"dataset",{index:e.get("fromDatasetIndex",!0),id:e.get("fromDatasetId",!0)},bn).models}function lK(e,t){return uK(e.data,e.sourceFormat,e.seriesLayoutBy,e.dimensionsDefine,e.startIndex,t)}function uK(e,t,r,n,i,a){var s,o=5;if(Hi(e))return ei.Not;var l,u;if(n){var c=n[a];St(c)?(l=c.name,u=c.type):Je(c)&&(l=c)}if(u!=null)return u==="ordinal"?ei.Must:ei.Not;if(t===Ti){var h=e;if(r===Gp){for(var f=h[a],d=0;d<(f||[]).length&&d<o;d++)if((s=k(f[i+d]))!=null)return s}else for(var d=0;d<h.length&&d<o;d++){var v=h[i+d];if(v&&(s=k(v[a]))!=null)return s}}else if(t===ds){var m=e;if(!l)return ei.Not;for(var d=0;d<m.length&&d<o;d++){var y=m[d];if(y&&(s=k(y[l]))!=null)return s}}else if(t===Ho){var b=e;if(!l)return ei.Not;var f=b[l];if(!f||Hi(f))return ei.Not;for(var d=0;d<f.length&&d<o;d++)if((s=k(f[d]))!=null)return s}else if(t===fs)for(var S=e,d=0;d<S.length&&d<o;d++){var y=S[d],w=Pp(y);if(!Oe(w))return ei.Not;if((s=k(w[a]))!=null)return s}function k(M){var I=Je(M);if(M!=null&&Number.isFinite(Number(M))&&M!=="")return I?ei.Might:ei.Not;if(I&&M!=="-")return ei.Must}return ei.Not}var sD=ct();function cEe(e,t){Si(sD.get(e)==null&&t),sD.set(e,t)}function hEe(e,t,r){var n=sD.get(t);if(!n)return r;var i=n(e);return i?r.concat(i):r}var UF=tr(),fEe=tr(),nP=function(){function e(){}return e.prototype.getColorFromPalette=function(t,r,n){var i=Tr(this.get("color",!0)),a=this.get("colorLayer",!0);return cK(this,UF,i,a,t,r,n)},e.prototype.clearColorPalette=function(){pEe(this,UF)},e}();function oD(e,t,r,n){var i=Tr(e.get(["aria","decal","decals"]));return cK(e,fEe,i,null,t,r,n)}function dEe(e,t){for(var r=e.length,n=0;n<r;n++)if(e[n].length>t)return e[n];return e[r-1]}function cK(e,t,r,n,i,a,s){a=a||e;var o=t(a),l=o.paletteIdx||0,u=o.paletteNameMap=o.paletteNameMap||{};if(u.hasOwnProperty(i))return u[i];var c=s==null||!n?r:dEe(n,s);if(c=c||r,!(!c||!c.length)){var h=c[l];return i&&(u[i]=h),o.paletteIdx=(l+1)%c.length,h}}function pEe(e,t){t(e).paletteIdx=0,t(e).paletteNameMap={}}var rx,Yv,GF,WF="\0_ec_inner",vEe=1,iP=function(e){_e(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.init=function(r,n,i,a,s,o){a=a||{},this.option=null,this._theme=new ur(a),this._locale=new ur(s),this._optionManager=o},t.prototype.setOption=function(r,n,i){var a=XF(n);this._optionManager.setOption(r,i,a),this._resetOption(null,a)},t.prototype.resetOption=function(r,n){return this._resetOption(r,XF(n))},t.prototype._resetOption=function(r,n){var i=!1,a=this._optionManager;if(!r||r==="recreate"){var s=a.mountOption(r==="recreate");!this.option||r==="recreate"?GF(this,s):(this.restoreData(),this._mergeOption(s,n)),i=!0}if((r==="timeline"||r==="media")&&this.restoreData(),!r||r==="recreate"||r==="timeline"){var o=a.getTimelineOption(this);o&&(i=!0,this._mergeOption(o,n))}if(!r||r==="recreate"||r==="media"){var l=a.getMediaOption(this);l.length&&q(l,function(u){i=!0,this._mergeOption(u,n)},this)}return i},t.prototype.mergeOption=function(r){this._mergeOption(r,null)},t.prototype._mergeOption=function(r,n){var i=this.option,a=this._componentsMap,s=this._componentsCount,o=[],l=ct(),u=n&&n.replaceMergeMainTypeMap;lEe(this),q(r,function(h,f){h!=null&&(Yt.hasClass(f)?f&&(o.push(f),l.set(f,!0)):i[f]=i[f]==null?_t(h):Ot(i[f],h,!0))}),u&&u.each(function(h,f){Yt.hasClass(f)&&!l.get(f)&&(o.push(f),l.set(f,!0))}),Yt.topologicalTravel(o,Yt.getAllClassMainTypes(),c,this);function c(h){var f=hEe(this,h,Tr(r[h])),d=a.get(h),v=d?u&&u.get(h)?"replaceMerge":"normalMerge":"replaceAll",m=eq(d,f,v);VTe(m,h,Yt),i[h]=null,a.set(h,null),s.set(h,0);var y=[],b=[],S=0,w;q(m,function(k,M){var I=k.existing,L=k.newOption;if(!L)I&&(I.mergeOption({},this),I.optionUpdated({},!1));else{var N=h==="series",z=Yt.getClass(h,k.keyInfo.subType,!N);if(!z)return;if(h==="tooltip"){if(w)return;w=!0}if(I&&I.constructor===z)I.name=k.keyInfo.name,I.mergeOption(L,this),I.optionUpdated(L,!1);else{var B=Ne({componentIndex:M},k.keyInfo);I=new z(L,this,this,B),Ne(I,B),k.brandNew&&(I.__requireNewView=!0),I.init(L,this,this),I.optionUpdated(null,!0)}}I?(y.push(I.option),b.push(I),S++):(y.push(void 0),b.push(void 0))},this),i[h]=y,a.set(h,b),s.set(h,S),h==="series"&&rx(this)}this._seriesIndices||rx(this)},t.prototype.getOption=function(){var r=_t(this.option);return q(r,function(n,i){if(Yt.hasClass(i)){for(var a=Tr(n),s=a.length,o=!1,l=s-1;l>=0;l--)a[l]&&!e0(a[l])?o=!0:(a[l]=null,!o&&s--);a.length=s,r[i]=a}}),delete r[WF],r},t.prototype.getTheme=function(){return this._theme},t.prototype.getLocaleModel=function(){return this._locale},t.prototype.setUpdatePayload=function(r){this._payload=r},t.prototype.getUpdatePayload=function(){return this._payload},t.prototype.getComponent=function(r,n){var i=this._componentsMap.get(r);if(i){var a=i[n||0];if(a)return a;if(n==null){for(var s=0;s<i.length;s++)if(i[s])return i[s]}}},t.prototype.queryComponents=function(r){var n=r.mainType;if(!n)return[];var i=r.index,a=r.id,s=r.name,o=this._componentsMap.get(n);if(!o||!o.length)return[];var l;return i!=null?(l=[],q(Tr(i),function(u){o[u]&&l.push(o[u])})):a!=null?l=$F("id",a,o):s!=null?l=$F("name",s,o):l=lr(o,function(u){return!!u}),YF(l,r)},t.prototype.findComponents=function(r){var n=r.query,i=r.mainType,a=o(n),s=a?this.queryComponents(a):lr(this._componentsMap.get(i),function(u){return!!u});return l(YF(s,r));function o(u){var c=i+"Index",h=i+"Id",f=i+"Name";return u&&(u[c]!=null||u[h]!=null||u[f]!=null)?{mainType:i,index:u[c],id:u[h],name:u[f]}:null}function l(u){return r.filter?lr(u,r.filter):u}},t.prototype.eachComponent=function(r,n,i){var a=this._componentsMap;if(vt(r)){var s=n,o=r;a.each(function(h,f){for(var d=0;h&&d<h.length;d++){var v=h[d];v&&o.call(s,f,v,v.componentIndex)}})}else for(var l=Je(r)?a.get(r):St(r)?this.findComponents(r):null,u=0;l&&u<l.length;u++){var c=l[u];c&&n.call(i,c,c.componentIndex)}},t.prototype.getSeriesByName=function(r){var n=En(r,null);return lr(this._componentsMap.get("series"),function(i){return!!i&&n!=null&&i.name===n})},t.prototype.getSeriesByIndex=function(r){return this._componentsMap.get("series")[r]},t.prototype.getSeriesByType=function(r){return lr(this._componentsMap.get("series"),function(n){return!!n&&n.subType===r})},t.prototype.getSeries=function(){return lr(this._componentsMap.get("series"),function(r){return!!r})},t.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},t.prototype.eachSeries=function(r,n){Yv(this),q(this._seriesIndices,function(i){var a=this._componentsMap.get("series")[i];r.call(n,a,i)},this)},t.prototype.eachRawSeries=function(r,n){q(this._componentsMap.get("series"),function(i){i&&r.call(n,i,i.componentIndex)})},t.prototype.eachSeriesByType=function(r,n,i){Yv(this),q(this._seriesIndices,function(a){var s=this._componentsMap.get("series")[a];s.subType===r&&n.call(i,s,a)},this)},t.prototype.eachRawSeriesByType=function(r,n,i){return q(this.getSeriesByType(r),n,i)},t.prototype.isSeriesFiltered=function(r){return Yv(this),this._seriesIndicesMap.get(r.componentIndex)==null},t.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},t.prototype.filterSeries=function(r,n){Yv(this);var i=[];q(this._seriesIndices,function(a){var s=this._componentsMap.get("series")[a];r.call(n,s,a)&&i.push(a)},this),this._seriesIndices=i,this._seriesIndicesMap=ct(i)},t.prototype.restoreData=function(r){rx(this);var n=this._componentsMap,i=[];n.each(function(a,s){Yt.hasClass(s)&&i.push(s)}),Yt.topologicalTravel(i,Yt.getAllClassMainTypes(),function(a){q(n.get(a),function(s){s&&(a!=="series"||!gEe(s,r))&&s.restoreData()})})},t.internalField=function(){rx=function(r){var n=r._seriesIndices=[];q(r._componentsMap.get("series"),function(i){i&&n.push(i.componentIndex)}),r._seriesIndicesMap=ct(n)},Yv=function(r){},GF=function(r,n){r.option={},r.option[WF]=vEe,r._componentsMap=ct({series:[]}),r._componentsCount=ct();var i=n.aria;St(i)&&i.enabled==null&&(i.enabled=!0),mEe(n,r._theme.option),Ot(n,oEe,!1),r._mergeOption(n,null)}}(),t}(ur);function gEe(e,t){if(t){var r=t.seriesIndex,n=t.seriesId,i=t.seriesName;return r!=null&&e.componentIndex!==r||n!=null&&e.id!==n||i!=null&&e.name!==i}}function mEe(e,t){var r=e.color&&!e.colorLayer;q(t,function(n,i){i==="colorLayer"&&r||Yt.hasClass(i)||(typeof n=="object"?e[i]=e[i]?Ot(e[i],n,!1):_t(n):e[i]==null&&(e[i]=n))})}function $F(e,t,r){if(Oe(t)){var n=ct();return q(t,function(a){if(a!=null){var s=En(a,null);s!=null&&n.set(a,!0)}}),lr(r,function(a){return a&&n.get(a[e])})}else{var i=En(t,null);return lr(r,function(a){return a&&i!=null&&a[e]===i})}}function YF(e,t){return t.hasOwnProperty("subType")?lr(e,function(r){return r&&r.subType===t.subType}):e}function XF(e){var t=ct();return e&&q(Tr(e.replaceMerge),function(r){t.set(r,!0)}),{replaceMergeMainTypeMap:t}}cn(iP,nP);var yEe=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],hK=function(){function e(t){q(yEe,function(r){this[r]=rt(t[r],t)},this)}return e}(),iE={},Wp=function(){function e(){this._coordinateSystems=[]}return e.prototype.create=function(t,r){var n=[];q(iE,function(i,a){var s=i.create(t,r);n=n.concat(s||[])}),this._coordinateSystems=n},e.prototype.update=function(t,r){q(this._coordinateSystems,function(n){n.update&&n.update(t,r)})},e.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},e.register=function(t,r){iE[t]=r},e.get=function(t){return iE[t]},e}(),xEe=/^(min|max)?(.+)$/,bEe=function(){function e(t){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=t}return e.prototype.setOption=function(t,r,n){t&&(q(Tr(t.series),function(s){s&&s.data&&Hi(s.data)&&Ym(s.data)}),q(Tr(t.dataset),function(s){s&&s.source&&Hi(s.source)&&Ym(s.source)})),t=_t(t);var i=this._optionBackup,a=SEe(t,r,!i);this._newBaseOption=a.baseOption,i?(a.timelineOptions.length&&(i.timelineOptions=a.timelineOptions),a.mediaList.length&&(i.mediaList=a.mediaList),a.mediaDefault&&(i.mediaDefault=a.mediaDefault)):this._optionBackup=a},e.prototype.mountOption=function(t){var r=this._optionBackup;return this._timelineOptions=r.timelineOptions,this._mediaList=r.mediaList,this._mediaDefault=r.mediaDefault,this._currentMediaIndices=[],_t(t?r.baseOption:this._newBaseOption)},e.prototype.getTimelineOption=function(t){var r,n=this._timelineOptions;if(n.length){var i=t.getComponent("timeline");i&&(r=_t(n[i.getCurrentIndex()]))}return r},e.prototype.getMediaOption=function(t){var r=this._api.getWidth(),n=this._api.getHeight(),i=this._mediaList,a=this._mediaDefault,s=[],o=[];if(!i.length&&!a)return o;for(var l=0,u=i.length;l<u;l++)_Ee(i[l].query,r,n)&&s.push(l);return!s.length&&a&&(s=[-1]),s.length&&!TEe(s,this._currentMediaIndices)&&(o=Fe(s,function(c){return _t(c===-1?a.option:i[c].option)})),this._currentMediaIndices=s,o},e}();function SEe(e,t,r){var n=[],i,a,s=e.baseOption,o=e.timeline,l=e.options,u=e.media,c=!!e.media,h=!!(l||o||s&&s.timeline);s?(a=s,a.timeline||(a.timeline=o)):((h||c)&&(e.options=e.media=null),a=e),c&&Oe(u)&&q(u,function(d){d&&d.option&&(d.query?n.push(d):i||(i=d))}),f(a),q(l,function(d){return f(d)}),q(n,function(d){return f(d.option)});function f(d){q(t,function(v){v(d,r)})}return{baseOption:a,timelineOptions:l||[],mediaDefault:i,mediaList:n}}function _Ee(e,t,r){var n={width:t,height:r,aspectratio:t/r},i=!0;return q(e,function(a,s){var o=s.match(xEe);if(!(!o||!o[1]||!o[2])){var l=o[1],u=o[2].toLowerCase();wEe(n[u],a,l)||(i=!1)}}),i}function wEe(e,t,r){return r==="min"?e>=t:r==="max"?e<=t:e===t}function TEe(e,t){return e.join(",")===t.join(",")}var Ss=q,s0=St,qF=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function aE(e){var t=e&&e.itemStyle;if(t)for(var r=0,n=qF.length;r<n;r++){var i=qF[r],a=t.normal,s=t.emphasis;a&&a[i]&&(e[i]=e[i]||{},e[i].normal?Ot(e[i].normal,a[i]):e[i].normal=a[i],a[i]=null),s&&s[i]&&(e[i]=e[i]||{},e[i].emphasis?Ot(e[i].emphasis,s[i]):e[i].emphasis=s[i],s[i]=null)}}function pi(e,t,r){if(e&&e[t]&&(e[t].normal||e[t].emphasis)){var n=e[t].normal,i=e[t].emphasis;n&&(r?(e[t].normal=e[t].emphasis=null,yt(e[t],n)):e[t]=n),i&&(e.emphasis=e.emphasis||{},e.emphasis[t]=i,i.focus&&(e.emphasis.focus=i.focus),i.blurScope&&(e.emphasis.blurScope=i.blurScope))}}function Ag(e){pi(e,"itemStyle"),pi(e,"lineStyle"),pi(e,"areaStyle"),pi(e,"label"),pi(e,"labelLine"),pi(e,"upperLabel"),pi(e,"edgeLabel")}function mn(e,t){var r=s0(e)&&e[t],n=s0(r)&&r.textStyle;if(n)for(var i=0,a=tF.length;i<a;i++){var s=tF[i];n.hasOwnProperty(s)&&(r[s]=n[s])}}function Va(e){e&&(Ag(e),mn(e,"label"),e.emphasis&&mn(e.emphasis,"label"))}function CEe(e){if(s0(e)){aE(e),Ag(e),mn(e,"label"),mn(e,"upperLabel"),mn(e,"edgeLabel"),e.emphasis&&(mn(e.emphasis,"label"),mn(e.emphasis,"upperLabel"),mn(e.emphasis,"edgeLabel"));var t=e.markPoint;t&&(aE(t),Va(t));var r=e.markLine;r&&(aE(r),Va(r));var n=e.markArea;n&&Va(n);var i=e.data;if(e.type==="graph"){i=i||e.nodes;var a=e.links||e.edges;if(a&&!Hi(a))for(var s=0;s<a.length;s++)Va(a[s]);q(e.categories,function(u){Ag(u)})}if(i&&!Hi(i))for(var s=0;s<i.length;s++)Va(i[s]);if(t=e.markPoint,t&&t.data)for(var o=t.data,s=0;s<o.length;s++)Va(o[s]);if(r=e.markLine,r&&r.data)for(var l=r.data,s=0;s<l.length;s++)Oe(l[s])?(Va(l[s][0]),Va(l[s][1])):Va(l[s]);e.type==="gauge"?(mn(e,"axisLabel"),mn(e,"title"),mn(e,"detail")):e.type==="treemap"?(pi(e.breadcrumb,"itemStyle"),q(e.levels,function(u){Ag(u)})):e.type==="tree"&&Ag(e.leaves)}}function qo(e){return Oe(e)?e:e?[e]:[]}function KF(e){return(Oe(e)?e[0]:e)||{}}function EEe(e,t){Ss(qo(e.series),function(n){s0(n)&&CEe(n)});var r=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];t&&r.push("valueAxis","categoryAxis","logAxis","timeAxis"),Ss(r,function(n){Ss(qo(e[n]),function(i){i&&(mn(i,"axisLabel"),mn(i.axisPointer,"label"))})}),Ss(qo(e.parallel),function(n){var i=n&&n.parallelAxisDefault;mn(i,"axisLabel"),mn(i&&i.axisPointer,"label")}),Ss(qo(e.calendar),function(n){pi(n,"itemStyle"),mn(n,"dayLabel"),mn(n,"monthLabel"),mn(n,"yearLabel")}),Ss(qo(e.radar),function(n){mn(n,"name"),n.name&&n.axisName==null&&(n.axisName=n.name,delete n.name),n.nameGap!=null&&n.axisNameGap==null&&(n.axisNameGap=n.nameGap,delete n.nameGap)}),Ss(qo(e.geo),function(n){s0(n)&&(Va(n),Ss(qo(n.regions),function(i){Va(i)}))}),Ss(qo(e.timeline),function(n){Va(n),pi(n,"label"),pi(n,"itemStyle"),pi(n,"controlStyle",!0);var i=n.data;Oe(i)&&q(i,function(a){St(a)&&(pi(a,"label"),pi(a,"itemStyle"))})}),Ss(qo(e.toolbox),function(n){pi(n,"iconStyle"),Ss(n.feature,function(i){pi(i,"iconStyle")})}),mn(KF(e.axisPointer),"label"),mn(KF(e.tooltip).axisPointer,"label")}function AEe(e,t){for(var r=t.split(","),n=e,i=0;i<r.length&&(n=n&&n[r[i]],n!=null);i++);return n}function kEe(e,t,r,n){for(var i=t.split(","),a=e,s,o=0;o<i.length-1;o++)s=i[o],a[s]==null&&(a[s]={}),a=a[s];a[i[o]]==null&&(a[i[o]]=r)}function ZF(e){e&&q(IEe,function(t){t[0]in e&&!(t[1]in e)&&(e[t[1]]=e[t[0]])})}var IEe=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],DEe=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],sE=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function Xv(e){var t=e&&e.itemStyle;if(t)for(var r=0;r<sE.length;r++){var n=sE[r][1],i=sE[r][0];t[n]!=null&&(t[i]=t[n])}}function QF(e){e&&e.alignTo==="edge"&&e.margin!=null&&e.edgeDistance==null&&(e.edgeDistance=e.margin)}function JF(e){e&&e.downplay&&!e.blur&&(e.blur=e.downplay)}function MEe(e){e&&e.focusNodeAdjacency!=null&&(e.emphasis=e.emphasis||{},e.emphasis.focus==null&&(e.emphasis.focus="adjacency"))}function fK(e,t){if(e)for(var r=0;r<e.length;r++)t(e[r]),e[r]&&fK(e[r].children,t)}function dK(e,t){EEe(e,t),e.series=Tr(e.series),q(e.series,function(r){if(St(r)){var n=r.type;if(n==="line")r.clipOverflow!=null&&(r.clip=r.clipOverflow);else if(n==="pie"||n==="gauge"){r.clockWise!=null&&(r.clockwise=r.clockWise),QF(r.label);var i=r.data;if(i&&!Hi(i))for(var a=0;a<i.length;a++)QF(i[a]);r.hoverOffset!=null&&(r.emphasis=r.emphasis||{},(r.emphasis.scaleSize=null)&&(r.emphasis.scaleSize=r.hoverOffset))}else if(n==="gauge"){var s=AEe(r,"pointer.color");s!=null&&kEe(r,"itemStyle.color",s)}else if(n==="bar"){Xv(r),Xv(r.backgroundStyle),Xv(r.emphasis);var i=r.data;if(i&&!Hi(i))for(var a=0;a<i.length;a++)typeof i[a]=="object"&&(Xv(i[a]),Xv(i[a]&&i[a].emphasis))}else if(n==="sunburst"){var o=r.highlightPolicy;o&&(r.emphasis=r.emphasis||{},r.emphasis.focus||(r.emphasis.focus=o)),JF(r),fK(r.data,JF)}else n==="graph"||n==="sankey"?MEe(r):n==="map"&&(r.mapType&&!r.map&&(r.map=r.mapType),r.mapLocation&&yt(r,r.mapLocation));r.hoverAnimation!=null&&(r.emphasis=r.emphasis||{},r.emphasis&&r.emphasis.scale==null&&(r.emphasis.scale=r.hoverAnimation)),ZF(r)}}),e.dataRange&&(e.visualMap=e.dataRange),q(DEe,function(r){var n=e[r];n&&(Oe(n)||(n=[n]),q(n,function(i){ZF(i)}))})}function LEe(e){var t=ct();e.eachSeries(function(r){var n=r.get("stack");if(n){var i=t.get(n)||t.set(n,[]),a=r.getData(),s={stackResultDimension:a.getCalculationInfo("stackResultDimension"),stackedOverDimension:a.getCalculationInfo("stackedOverDimension"),stackedDimension:a.getCalculationInfo("stackedDimension"),stackedByDimension:a.getCalculationInfo("stackedByDimension"),isStackedByIndex:a.getCalculationInfo("isStackedByIndex"),data:a,seriesModel:r};if(!s.stackedDimension||!(s.isStackedByIndex||s.stackedByDimension))return;i.length&&a.setCalculationInfo("stackedOnSeries",i[i.length-1].seriesModel),i.push(s)}}),t.each(NEe)}function NEe(e){q(e,function(t,r){var n=[],i=[NaN,NaN],a=[t.stackResultDimension,t.stackedOverDimension],s=t.data,o=t.isStackedByIndex,l=t.seriesModel.get("stackStrategy")||"samesign";s.modify(a,function(u,c,h){var f=s.get(t.stackedDimension,h);if(isNaN(f))return i;var d,v;o?v=s.getRawIndex(h):d=s.get(t.stackedByDimension,h);for(var m=NaN,y=r-1;y>=0;y--){var b=e[y];if(o||(v=b.data.rawIndexOf(b.stackedByDimension,d)),v>=0){var S=b.data.getByRawIndex(b.stackResultDimension,v);if(l==="all"||l==="positive"&&S>0||l==="negative"&&S<0||l==="samesign"&&f>=0&&S>0||l==="samesign"&&f<=0&&S<0){f=LTe(f,S),m=S;break}}}return n[0]=f,n[1]=m,n})})}var Dw=function(){function e(t){this.data=t.data||(t.sourceFormat===Ho?{}:[]),this.sourceFormat=t.sourceFormat||aK,this.seriesLayoutBy=t.seriesLayoutBy||Mo,this.startIndex=t.startIndex||0,this.dimensionsDetectedCount=t.dimensionsDetectedCount,this.metaRawOption=t.metaRawOption;var r=this.dimensionsDefine=t.dimensionsDefine;if(r)for(var n=0;n<r.length;n++){var i=r[n];i.type==null&&lK(this,n)===ei.Must&&(i.type="ordinal")}}return e}();function aP(e){return e instanceof Dw}function lD(e,t,r){r=r||pK(e);var n=t.seriesLayoutBy,i=REe(e,r,n,t.sourceHeader,t.dimensions),a=new Dw({data:e,sourceFormat:r,seriesLayoutBy:n,dimensionsDefine:i.dimensionsDefine,startIndex:i.startIndex,dimensionsDetectedCount:i.dimensionsDetectedCount,metaRawOption:_t(t)});return a}function sP(e){return new Dw({data:e,sourceFormat:Hi(e)?Uu:fs})}function PEe(e){return new Dw({data:e.data,sourceFormat:e.sourceFormat,seriesLayoutBy:e.seriesLayoutBy,dimensionsDefine:_t(e.dimensionsDefine),startIndex:e.startIndex,dimensionsDetectedCount:e.dimensionsDetectedCount})}function pK(e){var t=aK;if(Hi(e))t=Uu;else if(Oe(e)){e.length===0&&(t=Ti);for(var r=0,n=e.length;r<n;r++){var i=e[r];if(i!=null){if(Oe(i)||Hi(i)){t=Ti;break}else if(St(i)){t=ds;break}}}}else if(St(e)){for(var a in e)if(ot(e,a)&&ai(e[a])){t=Ho;break}}return t}function REe(e,t,r,n,i){var a,s;if(!e)return{dimensionsDefine:e8(i),startIndex:s,dimensionsDetectedCount:a};if(t===Ti){var o=e;n==="auto"||n==null?t8(function(u){u!=null&&u!=="-"&&(Je(u)?s==null&&(s=1):s=0)},r,o,10):s=ar(n)?n:n?1:0,!i&&s===1&&(i=[],t8(function(u,c){i[c]=u!=null?u+"":""},r,o,1/0)),a=i?i.length:r===Gp?o.length:o[0]?o[0].length:null}else if(t===ds)i||(i=OEe(e));else if(t===Ho)i||(i=[],q(e,function(u,c){i.push(c)}));else if(t===fs){var l=Pp(e[0]);a=Oe(l)&&l.length||1}return{startIndex:s,dimensionsDefine:e8(i),dimensionsDetectedCount:a}}function OEe(e){for(var t=0,r;t<e.length&&!(r=e[t++]););if(r)return Kt(r)}function e8(e){if(e){var t=ct();return Fe(e,function(r,n){r=St(r)?r:{name:r};var i={name:r.name,displayName:r.displayName,type:r.type};if(i.name==null)return i;i.name+="",i.displayName==null&&(i.displayName=i.name);var a=t.get(i.name);return a?i.name+="-"+a.count++:t.set(i.name,{count:1}),i})}}function t8(e,t,r,n){if(t===Gp)for(var i=0;i<r.length&&i<n;i++)e(r[i]?r[i][0]:null,i);else for(var a=r[0]||[],i=0;i<a.length&&i<n;i++)e(a[i],i)}function vK(e){var t=e.sourceFormat;return t===ds||t===Ho}var Gc,Wc,$c,r8,n8,gK=function(){function e(t,r){var n=aP(t)?t:sP(t);this._source=n;var i=this._data=n.data;n.sourceFormat===Uu&&(this._offset=0,this._dimSize=r,this._data=i),n8(this,i,n)}return e.prototype.getSource=function(){return this._source},e.prototype.count=function(){return 0},e.prototype.getItem=function(t,r){},e.prototype.appendData=function(t){},e.prototype.clean=function(){},e.protoInitialize=function(){var t=e.prototype;t.pure=!1,t.persistent=!0}(),e.internalField=function(){var t;n8=function(s,o,l){var u=l.sourceFormat,c=l.seriesLayoutBy,h=l.startIndex,f=l.dimensionsDefine,d=r8[oP(u,c)];if(Ne(s,d),u===Uu)s.getItem=r,s.count=i,s.fillStorage=n;else{var v=mK(u,c);s.getItem=rt(v,null,o,h,f);var m=yK(u,c);s.count=rt(m,null,o,h,f)}};var r=function(s,o){s=s-this._offset,o=o||[];for(var l=this._data,u=this._dimSize,c=u*s,h=0;h<u;h++)o[h]=l[c+h];return o},n=function(s,o,l,u){for(var c=this._data,h=this._dimSize,f=0;f<h;f++){for(var d=u[f],v=d[0]==null?1/0:d[0],m=d[1]==null?-1/0:d[1],y=o-s,b=l[f],S=0;S<y;S++){var w=c[S*h+f];b[s+S]=w,w<v&&(v=w),w>m&&(m=w)}d[0]=v,d[1]=m}},i=function(){return this._data?this._data.length/this._dimSize:0};r8=(t={},t[Ti+"_"+Mo]={pure:!0,appendData:a},t[Ti+"_"+Gp]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},t[ds]={pure:!0,appendData:a},t[Ho]={pure:!0,appendData:function(s){var o=this._data;q(s,function(l,u){for(var c=o[u]||(o[u]=[]),h=0;h<(l||[]).length;h++)c.push(l[h])})}},t[fs]={appendData:a},t[Uu]={persistent:!1,pure:!0,appendData:function(s){this._data=s},clean:function(){this._offset+=this.count(),this._data=null}},t);function a(s){for(var o=0;o<s.length;o++)this._data.push(s[o])}}(),e}(),i8=function(e,t,r,n){return e[n]},BEe=(Gc={},Gc[Ti+"_"+Mo]=function(e,t,r,n){return e[n+t]},Gc[Ti+"_"+Gp]=function(e,t,r,n,i){n+=t;for(var a=i||[],s=e,o=0;o<s.length;o++){var l=s[o];a[o]=l?l[n]:null}return a},Gc[ds]=i8,Gc[Ho]=function(e,t,r,n,i){for(var a=i||[],s=0;s<r.length;s++){var o=r[s].name,l=e[o];a[s]=l?l[n]:null}return a},Gc[fs]=i8,Gc);function mK(e,t){var r=BEe[oP(e,t)];return r}var a8=function(e,t,r){return e.length},FEe=(Wc={},Wc[Ti+"_"+Mo]=function(e,t,r){return Math.max(0,e.length-t)},Wc[Ti+"_"+Gp]=function(e,t,r){var n=e[0];return n?Math.max(0,n.length-t):0},Wc[ds]=a8,Wc[Ho]=function(e,t,r){var n=r[0].name,i=e[n];return i?i.length:0},Wc[fs]=a8,Wc);function yK(e,t){var r=FEe[oP(e,t)];return r}var oE=function(e,t,r){return e[t]},zEe=($c={},$c[Ti]=oE,$c[ds]=function(e,t,r){return e[r]},$c[Ho]=oE,$c[fs]=function(e,t,r){var n=Pp(e);return n instanceof Array?n[t]:n},$c[Uu]=oE,$c);function xK(e){var t=zEe[e];return t}function oP(e,t){return e===Ti?e+"_"+t:e}function dp(e,t,r){if(e){var n=e.getRawDataItem(t);if(n!=null){var i=e.getStore(),a=i.getSource().sourceFormat;if(r!=null){var s=e.getDimensionIndex(r),o=i.getDimensionProperty(s);return xK(a)(n,s,o)}else{var l=n;return a===fs&&(l=Pp(n)),l}}}}var jEe=/\{@(.+?)\}/g,Mw=function(){function e(){}return e.prototype.getDataParams=function(t,r){var n=this.getData(r),i=this.getRawValue(t,r),a=n.getRawIndex(t),s=n.getName(t),o=n.getRawDataItem(t),l=n.getItemVisual(t,"style"),u=l&&l[n.getItemVisual(t,"drawType")||"fill"],c=l&&l.stroke,h=this.mainType,f=h==="series",d=n.userOutput&&n.userOutput.get();return{componentType:h,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:f?this.subType:null,seriesIndex:this.seriesIndex,seriesId:f?this.id:null,seriesName:f?this.name:null,name:s,dataIndex:a,data:o,dataType:r,value:i,color:u,borderColor:c,dimensionNames:d?d.fullDimensions:null,encode:d?d.encode:null,$vars:["seriesName","name","value"]}},e.prototype.getFormattedLabel=function(t,r,n,i,a,s){r=r||"normal";var o=this.getData(n),l=this.getDataParams(t,n);if(s&&(l.value=s.interpolatedValue),i!=null&&Oe(l.value)&&(l.value=l.value[i]),!a){var u=o.getItemModel(t);a=u.get(r==="normal"?["label","formatter"]:[r,"label","formatter"])}if(vt(a))return l.status=r,l.dimensionIndex=i,a(l);if(Je(a)){var c=JN(a,l);return c.replace(jEe,function(h,f){var d=f.length,v=f;v.charAt(0)==="["&&v.charAt(d-1)==="]"&&(v=+v.slice(1,d-1));var m=dp(o,t,v);if(s&&Oe(s.interpolatedValue)){var y=o.getDimensionIndex(v);y>=0&&(m=s.interpolatedValue[y])}return m!=null?m+"":""})}},e.prototype.getRawValue=function(t,r){return dp(this.getData(r),t)},e.prototype.formatTooltip=function(t,r,n){},e}();function s8(e){var t,r;return St(e)?e.type&&(r=e):t=e,{text:t,frag:r}}function dm(e){return new HEe(e)}var HEe=function(){function e(t){t=t||{},this._reset=t.reset,this._plan=t.plan,this._count=t.count,this._onDirty=t.onDirty,this._dirty=!0}return e.prototype.perform=function(t){var r=this._upstream,n=t&&t.skip;if(this._dirty&&r){var i=this.context;i.data=i.outputData=r.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var a;this._plan&&!n&&(a=this._plan(this.context));var s=c(this._modBy),o=this._modDataCount||0,l=c(t&&t.modBy),u=t&&t.modDataCount||0;(s!==l||o!==u)&&(a="reset");function c(S){return!(S>=1)&&(S=1),S}var h;(this._dirty||a==="reset")&&(this._dirty=!1,h=this._doReset(n)),this._modBy=l,this._modDataCount=u;var f=t&&t.step;if(r?this._dueEnd=r._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var d=this._dueIndex,v=Math.min(f!=null?this._dueIndex+f:1/0,this._dueEnd);if(!n&&(h||d<v)){var m=this._progress;if(Oe(m))for(var y=0;y<m.length;y++)this._doProgress(m[y],d,v,l,u);else this._doProgress(m,d,v,l,u)}this._dueIndex=v;var b=this._settedOutputEnd!=null?this._settedOutputEnd:v;this._outputDueEnd=b}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},e.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},e.prototype._doProgress=function(t,r,n,i,a){o8.reset(r,n,i,a),this._callingProgress=t,this._callingProgress({start:r,end:n,count:n-r,next:o8.next},this.context)},e.prototype._doReset=function(t){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var r,n;!t&&this._reset&&(r=this._reset(this.context),r&&r.progress&&(n=r.forceFirstProgress,r=r.progress),Oe(r)&&!r.length&&(r=null)),this._progress=r,this._modBy=this._modDataCount=null;var i=this._downstream;return i&&i.dirty(),n},e.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},e.prototype.pipe=function(t){(this._downstream!==t||this._dirty)&&(this._downstream=t,t._upstream=this,t.dirty())},e.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},e.prototype.getUpstream=function(){return this._upstream},e.prototype.getDownstream=function(){return this._downstream},e.prototype.setOutputEnd=function(t){this._outputDueEnd=this._settedOutputEnd=t},e}(),o8=function(){var e,t,r,n,i,a={reset:function(l,u,c,h){t=l,e=u,r=c,n=h,i=Math.ceil(n/r),a.next=r>1&&n>0?o:s}};return a;function s(){return t<e?t++:null}function o(){var l=t%i*r+Math.ceil(t/i),u=t>=e?null:l<n?l:t;return t++,u}}();function Gu(e,t){var r=t&&t.type;return r==="ordinal"?e:(r==="time"&&!ar(e)&&e!=null&&e!=="-"&&(e=+ka(e)),e==null||e===""?NaN:Number(e))}var VEe=ct({number:function(e){return parseFloat(e)},time:function(e){return+ka(e)},trim:function(e){return Je(e)?ts(e):e}});function bK(e){return VEe.get(e)}var SK={lt:function(e,t){return e<t},lte:function(e,t){return e<=t},gt:function(e,t){return e>t},gte:function(e,t){return e>=t}},UEe=function(){function e(t,r){if(!ar(r)){var n="";vr(n)}this._opFn=SK[t],this._rvalFloat=Ro(r)}return e.prototype.evaluate=function(t){return ar(t)?this._opFn(t,this._rvalFloat):this._opFn(Ro(t),this._rvalFloat)},e}(),_K=function(){function e(t,r){var n=t==="desc";this._resultLT=n?1:-1,r==null&&(r=n?"min":"max"),this._incomparable=r==="min"?-1/0:1/0}return e.prototype.evaluate=function(t,r){var n=ar(t)?t:Ro(t),i=ar(r)?r:Ro(r),a=isNaN(n),s=isNaN(i);if(a&&(n=this._incomparable),s&&(i=this._incomparable),a&&s){var o=Je(t),l=Je(r);o&&(n=l?t:0),l&&(i=o?r:0)}return n<i?this._resultLT:n>i?-this._resultLT:0},e}(),GEe=function(){function e(t,r){this._rval=r,this._isEQ=t,this._rvalTypeof=typeof r,this._rvalFloat=Ro(r)}return e.prototype.evaluate=function(t){var r=t===this._rval;if(!r){var n=typeof t;n!==this._rvalTypeof&&(n==="number"||this._rvalTypeof==="number")&&(r=Ro(t)===this._rvalFloat)}return this._isEQ?r:!r},e}();function WEe(e,t){return e==="eq"||e==="ne"?new GEe(e==="eq",t):ot(SK,e)?new UEe(e,t):null}var $Ee=function(){function e(){}return e.prototype.getRawData=function(){throw new Error("not supported")},e.prototype.getRawDataItem=function(t){throw new Error("not supported")},e.prototype.cloneRawData=function(){},e.prototype.getDimensionInfo=function(t){},e.prototype.cloneAllDimensionInfo=function(){},e.prototype.count=function(){},e.prototype.retrieveValue=function(t,r){},e.prototype.retrieveValueFromItem=function(t,r){},e.prototype.convertValue=function(t,r){return Gu(t,r)},e}();function YEe(e,t){var r=new $Ee,n=e.data,i=r.sourceFormat=e.sourceFormat,a=e.startIndex,s="";e.seriesLayoutBy!==Mo&&vr(s);var o=[],l={},u=e.dimensionsDefine;if(u)q(u,function(m,y){var b=m.name,S={index:y,name:b,displayName:m.displayName};if(o.push(S),b!=null){var w="";ot(l,b)&&vr(w),l[b]=S}});else for(var c=0;c<e.dimensionsDetectedCount;c++)o.push({index:c});var h=mK(i,Mo);t.__isBuiltIn&&(r.getRawDataItem=function(m){return h(n,a,o,m)},r.getRawData=rt(XEe,null,e)),r.cloneRawData=rt(qEe,null,e);var f=yK(i,Mo);r.count=rt(f,null,n,a,o);var d=xK(i);r.retrieveValue=function(m,y){var b=h(n,a,o,m);return v(b,y)};var v=r.retrieveValueFromItem=function(m,y){if(m!=null){var b=o[y];if(b)return d(m,y,b.name)}};return r.getDimensionInfo=rt(KEe,null,o,l),r.cloneAllDimensionInfo=rt(ZEe,null,o),r}function XEe(e){var t=e.sourceFormat;if(!lP(t)){var r="";vr(r)}return e.data}function qEe(e){var t=e.sourceFormat,r=e.data;if(!lP(t)){var n="";vr(n)}if(t===Ti){for(var i=[],a=0,s=r.length;a<s;a++)i.push(r[a].slice());return i}else if(t===ds){for(var i=[],a=0,s=r.length;a<s;a++)i.push(Ne({},r[a]));return i}}function KEe(e,t,r){if(r!=null){if(ar(r)||!isNaN(r)&&!ot(t,r))return e[r];if(ot(t,r))return t[r]}}function ZEe(e){return _t(e)}var wK=ct();function QEe(e){e=_t(e);var t=e.type,r="";t||vr(r);var n=t.split(":");n.length!==2&&vr(r);var i=!1;n[0]==="echarts"&&(t=n[1],i=!0),e.__isBuiltIn=i,wK.set(t,e)}function JEe(e,t,r){var n=Tr(e),i=n.length,a="";i||vr(a);for(var s=0,o=i;s<o;s++){var l=n[s];t=eAe(l,t),s!==o-1&&(t.length=Math.max(t.length,1))}return t}function eAe(e,t,r,n){var i="";t.length||vr(i),St(e)||vr(i);var a=e.type,s=wK.get(a);s||vr(i);var o=Fe(t,function(u){return YEe(u,s)}),l=Tr(s.transform({upstream:o[0],upstreamList:o,config:_t(e.config)}));return Fe(l,function(u,c){var h="";St(u)||vr(h),u.data||vr(h);var f=pK(u.data);lP(f)||vr(h);var d,v=t[0];if(v&&c===0&&!u.dimensions){var m=v.startIndex;m&&(u.data=v.data.slice(0,m).concat(u.data)),d={seriesLayoutBy:Mo,sourceHeader:m,dimensions:v.metaRawOption.dimensions}}else d={seriesLayoutBy:Mo,sourceHeader:0,dimensions:u.dimensions};return lD(u.data,d,null)})}function lP(e){return e===Ti||e===ds}var Lw="undefined",tAe=typeof Uint32Array===Lw?Array:Uint32Array,rAe=typeof Uint16Array===Lw?Array:Uint16Array,TK=typeof Int32Array===Lw?Array:Int32Array,l8=typeof Float64Array===Lw?Array:Float64Array,CK={float:l8,int:TK,ordinal:Array,number:Array,time:l8},lE;function Vf(e){return e>65535?tAe:rAe}function Uf(){return[1/0,-1/0]}function nAe(e){var t=e.constructor;return t===Array?e.slice():new t(e)}function u8(e,t,r,n,i){var a=CK[r||"float"];if(i){var s=e[t],o=s&&s.length;if(o!==n){for(var l=new a(n),u=0;u<o;u++)l[u]=s[u];e[t]=l}}else e[t]=new a(n)}var uD=function(){function e(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=ct()}return e.prototype.initData=function(t,r,n){this._provider=t,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var i=t.getSource(),a=this.defaultDimValueGetter=lE[i.sourceFormat];this._dimValueGetter=n||a,this._rawExtent=[],vK(i),this._dimensions=Fe(r,function(s){return{type:s.type,property:s.property}}),this._initDataFromProvider(0,t.count())},e.prototype.getProvider=function(){return this._provider},e.prototype.getSource=function(){return this._provider.getSource()},e.prototype.ensureCalculationDimension=function(t,r){var n=this._calcDimNameToIdx,i=this._dimensions,a=n.get(t);if(a!=null){if(i[a].type===r)return a}else a=i.length;return i[a]={type:r},n.set(t,a),this._chunks[a]=new CK[r||"float"](this._rawCount),this._rawExtent[a]=Uf(),a},e.prototype.collectOrdinalMeta=function(t,r){var n=this._chunks[t],i=this._dimensions[t],a=this._rawExtent,s=i.ordinalOffset||0,o=n.length;s===0&&(a[t]=Uf());for(var l=a[t],u=s;u<o;u++){var c=n[u]=r.parseAndCollect(n[u]);isNaN(c)||(l[0]=Math.min(c,l[0]),l[1]=Math.max(c,l[1]))}i.ordinalMeta=r,i.ordinalOffset=o,i.type="ordinal"},e.prototype.getOrdinalMeta=function(t){var r=this._dimensions[t],n=r.ordinalMeta;return n},e.prototype.getDimensionProperty=function(t){var r=this._dimensions[t];return r&&r.property},e.prototype.appendData=function(t){var r=this._provider,n=this.count();r.appendData(t);var i=r.count();return r.persistent||(i+=n),n<i&&this._initDataFromProvider(n,i,!0),[n,i]},e.prototype.appendValues=function(t,r){for(var n=this._chunks,i=this._dimensions,a=i.length,s=this._rawExtent,o=this.count(),l=o+Math.max(t.length,r||0),u=0;u<a;u++){var c=i[u];u8(n,u,c.type,l,!0)}for(var h=[],f=o;f<l;f++)for(var d=f-o,v=0;v<a;v++){var c=i[v],m=lE.arrayRows.call(this,t[d]||h,c.property,d,v);n[v][f]=m;var y=s[v];m<y[0]&&(y[0]=m),m>y[1]&&(y[1]=m)}return this._rawCount=this._count=l,{start:o,end:l}},e.prototype._initDataFromProvider=function(t,r,n){for(var i=this._provider,a=this._chunks,s=this._dimensions,o=s.length,l=this._rawExtent,u=Fe(s,function(S){return S.property}),c=0;c<o;c++){var h=s[c];l[c]||(l[c]=Uf()),u8(a,c,h.type,r,n)}if(i.fillStorage)i.fillStorage(t,r,a,l);else for(var f=[],d=t;d<r;d++){f=i.getItem(d,f);for(var v=0;v<o;v++){var m=a[v],y=this._dimValueGetter(f,u[v],d,v);m[d]=y;var b=l[v];y<b[0]&&(b[0]=y),y>b[1]&&(b[1]=y)}}!i.persistent&&i.clean&&i.clean(),this._rawCount=this._count=r,this._extent=[]},e.prototype.count=function(){return this._count},e.prototype.get=function(t,r){if(!(r>=0&&r<this._count))return NaN;var n=this._chunks[t];return n?n[this.getRawIndex(r)]:NaN},e.prototype.getValues=function(t,r){var n=[],i=[];if(r==null){r=t,t=[];for(var a=0;a<this._dimensions.length;a++)i.push(a)}else i=t;for(var a=0,s=i.length;a<s;a++)n.push(this.get(i[a],r));return n},e.prototype.getByRawIndex=function(t,r){if(!(r>=0&&r<this._rawCount))return NaN;var n=this._chunks[t];return n?n[r]:NaN},e.prototype.getSum=function(t){var r=this._chunks[t],n=0;if(r)for(var i=0,a=this.count();i<a;i++){var s=this.get(t,i);isNaN(s)||(n+=s)}return n},e.prototype.getMedian=function(t){var r=[];this.each([t],function(a){isNaN(a)||r.push(a)});var n=r.sort(function(a,s){return a-s}),i=this.count();return i===0?0:i%2===1?n[(i-1)/2]:(n[i/2]+n[i/2-1])/2},e.prototype.indexOfRawIndex=function(t){if(t>=this._rawCount||t<0)return-1;if(!this._indices)return t;var r=this._indices,n=r[t];if(n!=null&&n<this._count&&n===t)return t;for(var i=0,a=this._count-1;i<=a;){var s=(i+a)/2|0;if(r[s]<t)i=s+1;else if(r[s]>t)a=s-1;else return s}return-1},e.prototype.indicesOfNearest=function(t,r,n){var i=this._chunks,a=i[t],s=[];if(!a)return s;n==null&&(n=1/0);for(var o=1/0,l=-1,u=0,c=0,h=this.count();c<h;c++){var f=this.getRawIndex(c),d=r-a[f],v=Math.abs(d);v<=n&&((v<o||v===o&&d>=0&&l<0)&&(o=v,l=d,u=0),d===l&&(s[u++]=c))}return s.length=u,s},e.prototype.getIndices=function(){var t,r=this._indices;if(r){var n=r.constructor,i=this._count;if(n===Array){t=new n(i);for(var a=0;a<i;a++)t[a]=r[a]}else t=new n(r.buffer,0,i)}else{var n=Vf(this._rawCount);t=new n(this.count());for(var a=0;a<t.length;a++)t[a]=a}return t},e.prototype.filter=function(t,r){if(!this._count)return this;for(var n=this.clone(),i=n.count(),a=Vf(n._rawCount),s=new a(i),o=[],l=t.length,u=0,c=t[0],h=n._chunks,f=0;f<i;f++){var d=void 0,v=n.getRawIndex(f);if(l===0)d=r(f);else if(l===1){var m=h[c][v];d=r(m,f)}else{for(var y=0;y<l;y++)o[y]=h[t[y]][v];o[y]=f,d=r.apply(null,o)}d&&(s[u++]=v)}return u<i&&(n._indices=s),n._count=u,n._extent=[],n._updateGetRawIdx(),n},e.prototype.selectRange=function(t){var r=this.clone(),n=r._count;if(!n)return this;var i=Kt(t),a=i.length;if(!a)return this;var s=r.count(),o=Vf(r._rawCount),l=new o(s),u=0,c=i[0],h=t[c][0],f=t[c][1],d=r._chunks,v=!1;if(!r._indices){var m=0;if(a===1){for(var y=d[i[0]],b=0;b<n;b++){var S=y[b];(S>=h&&S<=f||isNaN(S))&&(l[u++]=m),m++}v=!0}else if(a===2){for(var y=d[i[0]],w=d[i[1]],k=t[i[1]][0],M=t[i[1]][1],b=0;b<n;b++){var S=y[b],I=w[b];(S>=h&&S<=f||isNaN(S))&&(I>=k&&I<=M||isNaN(I))&&(l[u++]=m),m++}v=!0}}if(!v)if(a===1)for(var b=0;b<s;b++){var L=r.getRawIndex(b),S=d[i[0]][L];(S>=h&&S<=f||isNaN(S))&&(l[u++]=L)}else for(var b=0;b<s;b++){for(var N=!0,L=r.getRawIndex(b),z=0;z<a;z++){var B=i[z],S=d[B][L];(S<t[B][0]||S>t[B][1])&&(N=!1)}N&&(l[u++]=r.getRawIndex(b))}return u<s&&(r._indices=l),r._count=u,r._extent=[],r._updateGetRawIdx(),r},e.prototype.map=function(t,r){var n=this.clone(t);return this._updateDims(n,t,r),n},e.prototype.modify=function(t,r){this._updateDims(this,t,r)},e.prototype._updateDims=function(t,r,n){for(var i=t._chunks,a=[],s=r.length,o=t.count(),l=[],u=t._rawExtent,c=0;c<r.length;c++)u[r[c]]=Uf();for(var h=0;h<o;h++){for(var f=t.getRawIndex(h),d=0;d<s;d++)l[d]=i[r[d]][f];l[s]=h;var v=n&&n.apply(null,l);if(v!=null){typeof v!="object"&&(a[0]=v,v=a);for(var c=0;c<v.length;c++){var m=r[c],y=v[c],b=u[m],S=i[m];S&&(S[f]=y),y<b[0]&&(b[0]=y),y>b[1]&&(b[1]=y)}}}},e.prototype.lttbDownSample=function(t,r){var n=this.clone([t],!0),i=n._chunks,a=i[t],s=this.count(),o=0,l=Math.floor(1/r),u=this.getRawIndex(0),c,h,f,d=new(Vf(this._rawCount))(Math.min((Math.ceil(s/l)+2)*2,s));d[o++]=u;for(var v=1;v<s-1;v+=l){for(var m=Math.min(v+l,s-1),y=Math.min(v+l*2,s),b=(y+m)/2,S=0,w=m;w<y;w++){var k=this.getRawIndex(w),M=a[k];isNaN(M)||(S+=M)}S/=y-m;var I=v,L=Math.min(v+l,s),N=v-1,z=a[u];c=-1,f=I;for(var B=-1,H=0,w=I;w<L;w++){var k=this.getRawIndex(w),M=a[k];if(isNaN(M)){H++,B<0&&(B=k);continue}h=Math.abs((N-b)*(M-z)-(N-w)*(S-z)),h>c&&(c=h,f=k)}H>0&&H<L-I&&(d[o++]=Math.min(B,f),f=Math.max(B,f)),d[o++]=f,u=f}return d[o++]=this.getRawIndex(s-1),n._count=o,n._indices=d,n.getRawIndex=this._getRawIdx,n},e.prototype.minmaxDownSample=function(t,r){for(var n=this.clone([t],!0),i=n._chunks,a=Math.floor(1/r),s=i[t],o=this.count(),l=new(Vf(this._rawCount))(Math.ceil(o/a)*2),u=0,c=0;c<o;c+=a){var h=c,f=s[this.getRawIndex(h)],d=c,v=s[this.getRawIndex(d)],m=a;c+a>o&&(m=o-c);for(var y=0;y<m;y++){var b=this.getRawIndex(c+y),S=s[b];S<f&&(f=S,h=c+y),S>v&&(v=S,d=c+y)}var w=this.getRawIndex(h),k=this.getRawIndex(d);h<d?(l[u++]=w,l[u++]=k):(l[u++]=k,l[u++]=w)}return n._count=u,n._indices=l,n._updateGetRawIdx(),n},e.prototype.downSample=function(t,r,n,i){for(var a=this.clone([t],!0),s=a._chunks,o=[],l=Math.floor(1/r),u=s[t],c=this.count(),h=a._rawExtent[t]=Uf(),f=new(Vf(this._rawCount))(Math.ceil(c/l)),d=0,v=0;v<c;v+=l){l>c-v&&(l=c-v,o.length=l);for(var m=0;m<l;m++){var y=this.getRawIndex(v+m);o[m]=u[y]}var b=n(o),S=this.getRawIndex(Math.min(v+i(o,b)||0,c-1));u[S]=b,b<h[0]&&(h[0]=b),b>h[1]&&(h[1]=b),f[d++]=S}return a._count=d,a._indices=f,a._updateGetRawIdx(),a},e.prototype.each=function(t,r){if(this._count)for(var n=t.length,i=this._chunks,a=0,s=this.count();a<s;a++){var o=this.getRawIndex(a);switch(n){case 0:r(a);break;case 1:r(i[t[0]][o],a);break;case 2:r(i[t[0]][o],i[t[1]][o],a);break;default:for(var l=0,u=[];l<n;l++)u[l]=i[t[l]][o];u[l]=a,r.apply(null,u)}}},e.prototype.getDataExtent=function(t){var r=this._chunks[t],n=Uf();if(!r)return n;var i=this.count(),a=!this._indices,s;if(a)return this._rawExtent[t].slice();if(s=this._extent[t],s)return s.slice();s=n;for(var o=s[0],l=s[1],u=0;u<i;u++){var c=this.getRawIndex(u),h=r[c];h<o&&(o=h),h>l&&(l=h)}return s=[o,l],this._extent[t]=s,s},e.prototype.getRawDataItem=function(t){var r=this.getRawIndex(t);if(this._provider.persistent)return this._provider.getItem(r);for(var n=[],i=this._chunks,a=0;a<i.length;a++)n.push(i[a][r]);return n},e.prototype.clone=function(t,r){var n=new e,i=this._chunks,a=t&&ls(t,function(o,l){return o[l]=!0,o},{});if(a)for(var s=0;s<i.length;s++)n._chunks[s]=a[s]?nAe(i[s]):i[s];else n._chunks=i;return this._copyCommonProps(n),r||(n._indices=this._cloneIndices()),n._updateGetRawIdx(),n},e.prototype._copyCommonProps=function(t){t._count=this._count,t._rawCount=this._rawCount,t._provider=this._provider,t._dimensions=this._dimensions,t._extent=_t(this._extent),t._rawExtent=_t(this._rawExtent)},e.prototype._cloneIndices=function(){if(this._indices){var t=this._indices.constructor,r=void 0;if(t===Array){var n=this._indices.length;r=new t(n);for(var i=0;i<n;i++)r[i]=this._indices[i]}else r=new t(this._indices);return r}return null},e.prototype._getRawIdxIdentity=function(t){return t},e.prototype._getRawIdx=function(t){return t<this._count&&t>=0?this._indices[t]:-1},e.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},e.internalField=function(){function t(r,n,i,a){return Gu(r[a],this._dimensions[a])}lE={arrayRows:t,objectRows:function(r,n,i,a){return Gu(r[n],this._dimensions[a])},keyedColumns:t,original:function(r,n,i,a){var s=r&&(r.value==null?r:r.value);return Gu(s instanceof Array?s[a]:s,this._dimensions[a])},typedArray:function(r,n,i,a){return r[a]}}}(),e}(),EK=function(){function e(t){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=t}return e.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},e.prototype._setLocalSource=function(t,r){this._sourceList=t,this._upstreamSignList=r,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},e.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},e.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},e.prototype._createSource=function(){this._setLocalSource([],[]);var t=this._sourceHost,r=this._getUpstreamSourceManagers(),n=!!r.length,i,a;if(nx(t)){var s=t,o=void 0,l=void 0,u=void 0;if(n){var c=r[0];c.prepareSource(),u=c.getSource(),o=u.data,l=u.sourceFormat,a=[c._getVersionSign()]}else o=s.get("data",!0),l=Hi(o)?Uu:fs,a=[];var h=this._getSourceMetaRawOption()||{},f=u&&u.metaRawOption||{},d=Mt(h.seriesLayoutBy,f.seriesLayoutBy)||null,v=Mt(h.sourceHeader,f.sourceHeader),m=Mt(h.dimensions,f.dimensions),y=d!==f.seriesLayoutBy||!!v!=!!f.sourceHeader||m;i=y?[lD(o,{seriesLayoutBy:d,sourceHeader:v,dimensions:m},l)]:[]}else{var b=t;if(n){var S=this._applyTransform(r);i=S.sourceList,a=S.upstreamSignList}else{var w=b.get("source",!0);i=[lD(w,this._getSourceMetaRawOption(),null)],a=[]}}this._setLocalSource(i,a)},e.prototype._applyTransform=function(t){var r=this._sourceHost,n=r.get("transform",!0),i=r.get("fromTransformResult",!0);if(i!=null){var a="";t.length!==1&&h8(a)}var s,o=[],l=[];return q(t,function(u){u.prepareSource();var c=u.getSource(i||0),h="";i!=null&&!c&&h8(h),o.push(c),l.push(u._getVersionSign())}),n?s=JEe(n,o,{datasetIndex:r.componentIndex}):i!=null&&(s=[PEe(o[0])]),{sourceList:s,upstreamSignList:l}},e.prototype._isDirty=function(){if(this._dirty)return!0;for(var t=this._getUpstreamSourceManagers(),r=0;r<t.length;r++){var n=t[r];if(n._isDirty()||this._upstreamSignList[r]!==n._getVersionSign())return!0}},e.prototype.getSource=function(t){t=t||0;var r=this._sourceList[t];if(!r){var n=this._getUpstreamSourceManagers();return n[0]&&n[0].getSource(t)}return r},e.prototype.getSharedDataStore=function(t){var r=t.makeStoreSchema();return this._innerGetDataStore(r.dimensions,t.source,r.hash)},e.prototype._innerGetDataStore=function(t,r,n){var i=0,a=this._storeList,s=a[i];s||(s=a[i]={});var o=s[n];if(!o){var l=this._getUpstreamSourceManagers()[0];nx(this._sourceHost)&&l?o=l._innerGetDataStore(t,r,n):(o=new uD,o.initData(new gK(r,t.length),t)),s[n]=o}return o},e.prototype._getUpstreamSourceManagers=function(){var t=this._sourceHost;if(nx(t)){var r=rP(t);return r?[r.getSourceManager()]:[]}else return Fe(uEe(t),function(n){return n.getSourceManager()})},e.prototype._getSourceMetaRawOption=function(){var t=this._sourceHost,r,n,i;if(nx(t))r=t.get("seriesLayoutBy",!0),n=t.get("sourceHeader",!0),i=t.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var a=t;r=a.get("seriesLayoutBy",!0),n=a.get("sourceHeader",!0),i=a.get("dimensions",!0)}return{seriesLayoutBy:r,sourceHeader:n,dimensions:i}},e}();function c8(e){var t=e.option.transform;t&&Ym(e.option.transform)}function nx(e){return e.mainType==="series"}function h8(e){throw new Error(e)}var iAe="line-height:1";function AK(e){var t=e.lineHeight;return t==null?iAe:"line-height:"+gi(t+"")+"px"}function kK(e,t){var r=e.color||"#6e7079",n=e.fontSize||12,i=e.fontWeight||"400",a=e.color||"#464646",s=e.fontSize||14,o=e.fontWeight||"900";return t==="html"?{nameStyle:"font-size:"+gi(n+"")+"px;color:"+gi(r)+";font-weight:"+gi(i+""),valueStyle:"font-size:"+gi(s+"")+"px;color:"+gi(a)+";font-weight:"+gi(o+"")}:{nameStyle:{fontSize:n,fill:r,fontWeight:i},valueStyle:{fontSize:s,fill:a,fontWeight:o}}}var aAe=[0,10,20,30],sAe=["",`
`,`

`,`


`];function jn(e,t){return t.type=e,t}function cD(e){return e.type==="section"}function IK(e){return cD(e)?oAe:lAe}function DK(e){if(cD(e)){var t=0,r=e.blocks.length,n=r>1||r>0&&!e.noHeader;return q(e.blocks,function(i){var a=DK(i);a>=t&&(t=a+ +(n&&(!a||cD(i)&&!i.noHeader)))}),t}return 0}function oAe(e,t,r,n){var i=t.noHeader,a=uAe(DK(t)),s=[],o=t.blocks||[];Si(!o||Oe(o)),o=o||[];var l=e.orderMode;if(t.sortBlocks&&l){o=o.slice();var u={valueAsc:"asc",valueDesc:"desc"};if(ot(u,l)){var c=new _K(u[l],null);o.sort(function(m,y){return c.evaluate(m.sortParam,y.sortParam)})}else l==="seriesDesc"&&o.reverse()}q(o,function(m,y){var b=t.valueFormatter,S=IK(m)(b?Ne(Ne({},e),{valueFormatter:b}):e,m,y>0?a.html:0,n);S!=null&&s.push(S)});var h=e.renderMode==="richText"?s.join(a.richText):hD(n,s.join(""),i?r:a.html);if(i)return h;var f=aD(t.header,"ordinal",e.useUTC),d=kK(n,e.renderMode).nameStyle,v=AK(n);return e.renderMode==="richText"?MK(e,f,d)+a.richText+h:hD(n,'<div style="'+d+";"+v+';">'+gi(f)+"</div>"+h,r)}function lAe(e,t,r,n){var i=e.renderMode,a=t.noName,s=t.noValue,o=!t.markerType,l=t.name,u=e.useUTC,c=t.valueFormatter||e.valueFormatter||function(k){return k=Oe(k)?k:[k],Fe(k,function(M,I){return aD(M,Oe(d)?d[I]:d,u)})};if(!(a&&s)){var h=o?"":e.markupStyleCreator.makeTooltipMarker(t.markerType,t.markerColor||"#333",i),f=a?"":aD(l,"ordinal",u),d=t.valueType,v=s?[]:c(t.value,t.dataIndex),m=!o||!a,y=!o&&a,b=kK(n,i),S=b.nameStyle,w=b.valueStyle;return i==="richText"?(o?"":h)+(a?"":MK(e,f,S))+(s?"":fAe(e,v,m,y,w)):hD(n,(o?"":h)+(a?"":cAe(f,!o,S))+(s?"":hAe(v,m,y,w)),r)}}function f8(e,t,r,n,i,a){if(e){var s=IK(e),o={useUTC:i,renderMode:r,orderMode:n,markupStyleCreator:t,valueFormatter:e.valueFormatter};return s(o,e,0,a)}}function uAe(e){return{html:aAe[e],richText:sAe[e]}}function hD(e,t,r){var n='<div style="clear:both"></div>',i="margin: "+r+"px 0 0",a=AK(e);return'<div style="'+i+";"+a+';">'+t+n+"</div>"}function cAe(e,t,r){var n=t?"margin-left:2px":"";return'<span style="'+r+";"+n+'">'+gi(e)+"</span>"}function hAe(e,t,r,n){var i=r?"10px":"20px",a=t?"float:right;margin-left:"+i:"";return e=Oe(e)?e:[e],'<span style="'+a+";"+n+'">'+Fe(e,function(s){return gi(s)}).join("&nbsp;&nbsp;")+"</span>"}function MK(e,t,r){return e.markupStyleCreator.wrapRichTextStyle(t,r)}function fAe(e,t,r,n,i){var a=[i],s=n?10:20;return r&&a.push({padding:[0,0,0,s],align:"right"}),e.markupStyleCreator.wrapRichTextStyle(Oe(t)?t.join("  "):t,a)}function LK(e,t){var r=e.getData().getItemVisual(t,"style"),n=r[e.visualDrawType];return Jh(n)}function NK(e,t){var r=e.get("padding");return r??(t==="richText"?[8,10]:10)}var uE=function(){function e(){this.richTextStyles={},this._nextStyleNameId=KX()}return e.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},e.prototype.makeTooltipMarker=function(t,r,n){var i=n==="richText"?this._generateStyleName():null,a=eK({color:r,type:t,renderMode:n,markerId:i});return Je(a)?a:(this.richTextStyles[i]=a.style,a.content)},e.prototype.wrapRichTextStyle=function(t,r){var n={};Oe(r)?q(r,function(a){return Ne(n,a)}):Ne(n,r);var i=this._generateStyleName();return this.richTextStyles[i]=n,"{"+i+"|"+t+"}"},e}();function PK(e){var t=e.series,r=e.dataIndex,n=e.multipleSeries,i=t.getData(),a=i.mapDimensionsAll("defaultedTooltip"),s=a.length,o=t.getRawValue(r),l=Oe(o),u=LK(t,r),c,h,f,d;if(s>1||l&&!s){var v=dAe(o,t,r,a,u);c=v.inlineValues,h=v.inlineValueTypes,f=v.blocks,d=v.inlineValues[0]}else if(s){var m=i.getDimensionInfo(a[0]);d=c=dp(i,r,a[0]),h=m.type}else d=c=l?o[0]:o;var y=kN(t),b=y&&t.name||"",S=i.getName(r),w=n?b:S;return jn("section",{header:b,noHeader:n||!y,sortParam:d,blocks:[jn("nameValue",{markerType:"item",markerColor:u,name:w,noName:!ts(w),value:c,valueType:h,dataIndex:r})].concat(f||[])})}function dAe(e,t,r,n,i){var a=t.getData(),s=ls(e,function(h,f,d){var v=a.getDimensionInfo(d);return h=h||v&&v.tooltip!==!1&&v.displayName!=null},!1),o=[],l=[],u=[];n.length?q(n,function(h){c(dp(a,r,h),h)}):q(e,c);function c(h,f){var d=a.getDimensionInfo(f);!d||d.otherDims.tooltip===!1||(s?u.push(jn("nameValue",{markerType:"subItem",markerColor:i,name:d.displayName,value:h,valueType:d.type})):(o.push(h),l.push(d.type)))}return{inlineValues:o,inlineValueTypes:l,blocks:u}}var Jl=tr();function ix(e,t){return e.getName(t)||e.getId(t)}var bb="__universalTransitionEnabled",Cr=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r._selectedDataIndicesMap={},r}return t.prototype.init=function(r,n,i){this.seriesIndex=this.componentIndex,this.dataTask=dm({count:vAe,reset:gAe}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(r,i);var a=Jl(this).sourceManager=new EK(this);a.prepareSource();var s=this.getInitialData(r,i);p8(s,this),this.dataTask.context.data=s,Jl(this).dataBeforeProcessed=s,d8(this),this._initSelectedMapFromData(s)},t.prototype.mergeDefaultAndTheme=function(r,n){var i=a0(this),a=i?Up(r):{},s=this.subType;Yt.hasClass(s)&&(s+="Series"),Ot(r,n.getTheme().get(this.subType)),Ot(r,this.getDefaultOption()),qh(r,"label",["show"]),this.fillDataTextStyle(r.data),i&&Ju(r,a,i)},t.prototype.mergeOption=function(r,n){r=Ot(this.option,r,!0),this.fillDataTextStyle(r.data);var i=a0(this);i&&Ju(this.option,r,i);var a=Jl(this).sourceManager;a.dirty(),a.prepareSource();var s=this.getInitialData(r,n);p8(s,this),this.dataTask.dirty(),this.dataTask.context.data=s,Jl(this).dataBeforeProcessed=s,d8(this),this._initSelectedMapFromData(s)},t.prototype.fillDataTextStyle=function(r){if(r&&!Hi(r))for(var n=["show"],i=0;i<r.length;i++)r[i]&&r[i].label&&qh(r[i],"label",n)},t.prototype.getInitialData=function(r,n){},t.prototype.appendData=function(r){var n=this.getRawData();n.appendData(r.data)},t.prototype.getData=function(r){var n=fD(this);if(n){var i=n.context.data;return r==null||!i.getLinkedData?i:i.getLinkedData(r)}else return Jl(this).data},t.prototype.getAllData=function(){var r=this.getData();return r&&r.getLinkedDataAll?r.getLinkedDataAll():[{data:r}]},t.prototype.setData=function(r){var n=fD(this);if(n){var i=n.context;i.outputData=r,n!==this.dataTask&&(i.data=r)}Jl(this).data=r},t.prototype.getEncode=function(){var r=this.get("encode",!0);if(r)return ct(r)},t.prototype.getSourceManager=function(){return Jl(this).sourceManager},t.prototype.getSource=function(){return this.getSourceManager().getSource()},t.prototype.getRawData=function(){return Jl(this).dataBeforeProcessed},t.prototype.getColorBy=function(){var r=this.get("colorBy");return r||"series"},t.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},t.prototype.getBaseAxis=function(){var r=this.coordinateSystem;return r&&r.getBaseAxis&&r.getBaseAxis()},t.prototype.formatTooltip=function(r,n,i){return PK({series:this,dataIndex:r,multipleSeries:n})},t.prototype.isAnimationEnabled=function(){var r=this.ecModel;if(Xt.node&&!(r&&r.ssr))return!1;var n=this.getShallow("animation");return n&&this.getData().count()>this.getShallow("animationThreshold")&&(n=!1),!!n},t.prototype.restoreData=function(){this.dataTask.dirty()},t.prototype.getColorFromPalette=function(r,n,i){var a=this.ecModel,s=nP.prototype.getColorFromPalette.call(this,r,n,i);return s||(s=a.getColorFromPalette(r,n,i)),s},t.prototype.coordDimToDataDim=function(r){return this.getRawData().mapDimensionsAll(r)},t.prototype.getProgressive=function(){return this.get("progressive")},t.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},t.prototype.select=function(r,n){this._innerSelect(this.getData(n),r)},t.prototype.unselect=function(r,n){var i=this.option.selectedMap;if(i){var a=this.option.selectedMode,s=this.getData(n);if(a==="series"||i==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var o=0;o<r.length;o++){var l=r[o],u=ix(s,l);i[u]=!1,this._selectedDataIndicesMap[u]=-1}}},t.prototype.toggleSelect=function(r,n){for(var i=[],a=0;a<r.length;a++)i[0]=r[a],this.isSelected(r[a],n)?this.unselect(i,n):this.select(i,n)},t.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var r=this._selectedDataIndicesMap,n=Kt(r),i=[],a=0;a<n.length;a++){var s=r[n[a]];s>=0&&i.push(s)}return i},t.prototype.isSelected=function(r,n){var i=this.option.selectedMap;if(!i)return!1;var a=this.getData(n);return(i==="all"||i[ix(a,r)])&&!a.getItemModel(r).get(["select","disabled"])},t.prototype.isUniversalTransitionEnabled=function(){if(this[bb])return!0;var r=this.option.universalTransition;return r?r===!0?!0:r&&r.enabled:!1},t.prototype._innerSelect=function(r,n){var i,a,s=this.option,o=s.selectedMode,l=n.length;if(!(!o||!l)){if(o==="series")s.selectedMap="all";else if(o==="multiple"){St(s.selectedMap)||(s.selectedMap={});for(var u=s.selectedMap,c=0;c<l;c++){var h=n[c],f=ix(r,h);u[f]=!0,this._selectedDataIndicesMap[f]=r.getRawIndex(h)}}else if(o==="single"||o===!0){var d=n[l-1],f=ix(r,d);s.selectedMap=(i={},i[f]=!0,i),this._selectedDataIndicesMap=(a={},a[f]=r.getRawIndex(d),a)}}},t.prototype._initSelectedMapFromData=function(r){if(!this.option.selectedMap){var n=[];r.hasItemOption&&r.each(function(i){var a=r.getRawDataItem(i);a&&a.selected&&n.push(i)}),n.length>0&&this._innerSelect(r,n)}},t.registerClass=function(r){return Yt.registerClass(r)},t.protoInitialize=function(){var r=t.prototype;r.type="series.__base__",r.seriesIndex=0,r.ignoreStyleOnData=!1,r.hasSymbolVisual=!1,r.defaultSymbol="circle",r.visualStyleAccessPath="itemStyle",r.visualDrawType="fill"}(),t}(Yt);cn(Cr,Mw);cn(Cr,nP);aq(Cr,Yt);function d8(e){var t=e.name;kN(e)||(e.name=pAe(e)||t)}function pAe(e){var t=e.getRawData(),r=t.mapDimensionsAll("seriesName"),n=[];return q(r,function(i){var a=t.getDimensionInfo(i);a.displayName&&n.push(a.displayName)}),n.join(" ")}function vAe(e){return e.model.getRawData().count()}function gAe(e){var t=e.model;return t.setData(t.getRawData().cloneShallow()),mAe}function mAe(e,t){t.outputData&&e.end>t.outputData.count()&&t.model.getRawData().cloneShallow(t.outputData)}function p8(e,t){q(up(e.CHANGABLE_METHODS,e.DOWNSAMPLE_METHODS),function(r){e.wrapMethod(r,Lt(yAe,t))})}function yAe(e,t){var r=fD(e);return r&&r.setOutputEnd((t||this).count()),t}function fD(e){var t=(e.ecModel||{}).scheduler,r=t&&t.getPipeline(e.uid);if(r){var n=r.currentTask;if(n){var i=n.agentStubMap;i&&(n=i.get(e.uid))}return n}}var Nr=function(){function e(){this.group=new Ct,this.uid=Vp("viewComponent")}return e.prototype.init=function(t,r){},e.prototype.render=function(t,r,n,i){},e.prototype.dispose=function(t,r){},e.prototype.updateView=function(t,r,n,i){},e.prototype.updateLayout=function(t,r,n,i){},e.prototype.updateVisual=function(t,r,n,i){},e.prototype.toggleBlurSeries=function(t,r,n){},e.prototype.eachRendered=function(t){var r=this.group;r&&r.traverse(t)},e}();DN(Nr);vw(Nr);function $p(){var e=tr();return function(t){var r=e(t),n=t.pipelineContext,i=!!r.large,a=!!r.progressiveRender,s=r.large=!!(n&&n.large),o=r.progressiveRender=!!(n&&n.progressiveRender);return(i!==s||a!==o)&&"reset"}}var RK=tr(),xAe=$p(),xr=function(){function e(){this.group=new Ct,this.uid=Vp("viewChart"),this.renderTask=dm({plan:bAe,reset:SAe}),this.renderTask.context={view:this}}return e.prototype.init=function(t,r){},e.prototype.render=function(t,r,n,i){},e.prototype.highlight=function(t,r,n,i){var a=t.getData(i&&i.dataType);a&&g8(a,i,"emphasis")},e.prototype.downplay=function(t,r,n,i){var a=t.getData(i&&i.dataType);a&&g8(a,i,"normal")},e.prototype.remove=function(t,r){this.group.removeAll()},e.prototype.dispose=function(t,r){},e.prototype.updateView=function(t,r,n,i){this.render(t,r,n,i)},e.prototype.updateLayout=function(t,r,n,i){this.render(t,r,n,i)},e.prototype.updateVisual=function(t,r,n,i){this.render(t,r,n,i)},e.prototype.eachRendered=function(t){hc(this.group,t)},e.markUpdateMethod=function(t,r){RK(t).updateMethod=r},e.protoInitialize=function(){var t=e.prototype;t.type="chart"}(),e}();function v8(e,t,r){e&&r0(e)&&(t==="emphasis"?Tl:Cl)(e,r)}function g8(e,t,r){var n=Kh(e,t),i=t&&t.highlightKey!=null?i2e(t.highlightKey):null;n!=null?q(Tr(n),function(a){v8(e.getItemGraphicEl(a),r,i)}):e.eachItemGraphicEl(function(a){v8(a,r,i)})}DN(xr);vw(xr);function bAe(e){return xAe(e.model)}function SAe(e){var t=e.model,r=e.ecModel,n=e.api,i=e.payload,a=t.pipelineContext.progressiveRender,s=e.view,o=i&&RK(i).updateMethod,l=a?"incrementalPrepareRender":o&&s[o]?o:"render";return l!=="render"&&s[l](t,r,n,i),_Ae[l]}var _Ae={incrementalPrepareRender:{progress:function(e,t){t.view.incrementalRender(e,t.model,t.ecModel,t.api,t.payload)}},render:{forceFirstProgress:!0,progress:function(e,t){t.view.render(t.model,t.ecModel,t.api,t.payload)}}},LS="\0__throttleOriginMethod",m8="\0__throttleRate",y8="\0__throttleType";function Nw(e,t,r){var n,i=0,a=0,s=null,o,l,u,c;t=t||0;function h(){a=new Date().getTime(),s=null,e.apply(l,u||[])}var f=function(){for(var d=[],v=0;v<arguments.length;v++)d[v]=arguments[v];n=new Date().getTime(),l=this,u=d;var m=c||t,y=c||r;c=null,o=n-(y?i:a)-m,clearTimeout(s),y?s=setTimeout(h,m):o>=0?h():s=setTimeout(h,-o),i=n};return f.clear=function(){s&&(clearTimeout(s),s=null)},f.debounceNextCall=function(d){c=d},f}function Yp(e,t,r,n){var i=e[t];if(i){var a=i[LS]||i,s=i[y8],o=i[m8];if(o!==r||s!==n){if(r==null||!n)return e[t]=a;i=e[t]=Nw(a,r,n==="debounce"),i[LS]=a,i[y8]=n,i[m8]=r}return i}}function o0(e,t){var r=e[t];r&&r[LS]&&(r.clear&&r.clear(),e[t]=r[LS])}var x8=tr(),b8={itemStyle:Zh(Gq,!0),lineStyle:Zh(Uq,!0)},wAe={lineStyle:"stroke",itemStyle:"fill"};function OK(e,t){var r=e.visualStyleMapper||b8[t];return r||(console.warn("Unknown style type '"+t+"'."),b8.itemStyle)}function BK(e,t){var r=e.visualDrawType||wAe[t];return r||(console.warn("Unknown style type '"+t+"'."),"fill")}var TAe={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){var r=e.getData(),n=e.visualStyleAccessPath||"itemStyle",i=e.getModel(n),a=OK(e,n),s=a(i),o=i.getShallow("decal");o&&(r.setVisual("decal",o),o.dirty=!0);var l=BK(e,n),u=s[l],c=vt(u)?u:null,h=s.fill==="auto"||s.stroke==="auto";if(!s[l]||c||h){var f=e.getColorFromPalette(e.name,null,t.getSeriesCount());s[l]||(s[l]=f,r.setVisual("colorFromPalette",!0)),s.fill=s.fill==="auto"||vt(s.fill)?f:s.fill,s.stroke=s.stroke==="auto"||vt(s.stroke)?f:s.stroke}if(r.setVisual("style",s),r.setVisual("drawType",l),!t.isSeriesFiltered(e)&&c)return r.setVisual("colorFromPalette",!1),{dataEach:function(d,v){var m=e.getDataParams(v),y=Ne({},s);y[l]=c(m),d.setItemVisual(v,"style",y)}}}},qv=new ur,CAe={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){if(!(e.ignoreStyleOnData||t.isSeriesFiltered(e))){var r=e.getData(),n=e.visualStyleAccessPath||"itemStyle",i=OK(e,n),a=r.getVisual("drawType");return{dataEach:r.hasItemOption?function(s,o){var l=s.getRawDataItem(o);if(l&&l[n]){qv.option=l[n];var u=i(qv),c=s.ensureUniqueItemVisual(o,"style");Ne(c,u),qv.option.decal&&(s.setItemVisual(o,"decal",qv.option.decal),qv.option.decal.dirty=!0),a in u&&s.setItemVisual(o,"colorFromPalette",!1)}}:null}}}},EAe={performRawSeries:!0,overallReset:function(e){var t=ct();e.eachSeries(function(r){var n=r.getColorBy();if(!r.isColorBySeries()){var i=r.type+"-"+n,a=t.get(i);a||(a={},t.set(i,a)),x8(r).scope=a}}),e.eachSeries(function(r){if(!(r.isColorBySeries()||e.isSeriesFiltered(r))){var n=r.getRawData(),i={},a=r.getData(),s=x8(r).scope,o=r.visualStyleAccessPath||"itemStyle",l=BK(r,o);a.each(function(u){var c=a.getRawIndex(u);i[c]=u}),n.each(function(u){var c=i[u],h=a.getItemVisual(c,"colorFromPalette");if(h){var f=a.ensureUniqueItemVisual(c,"style"),d=n.getName(u)||u+"",v=n.count();f[l]=r.getColorFromPalette(d,s,v)}})}})}},ax=Math.PI;function AAe(e,t){t=t||{},yt(t,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var r=new Ct,n=new Jt({style:{fill:t.maskColor},zlevel:t.zlevel,z:1e4});r.add(n);var i=new Qt({style:{text:t.text,fill:t.textColor,fontSize:t.fontSize,fontWeight:t.fontWeight,fontStyle:t.fontStyle,fontFamily:t.fontFamily},zlevel:t.zlevel,z:10001}),a=new Jt({style:{fill:"none"},textContent:i,textConfig:{position:"right",distance:10},zlevel:t.zlevel,z:10001});r.add(a);var s;return t.showSpinner&&(s=new Z0({shape:{startAngle:-ax/2,endAngle:-ax/2+.1,r:t.spinnerRadius},style:{stroke:t.color,lineCap:"round",lineWidth:t.lineWidth},zlevel:t.zlevel,z:10001}),s.animateShape(!0).when(1e3,{endAngle:ax*3/2}).start("circularInOut"),s.animateShape(!0).when(1e3,{startAngle:ax*3/2}).delay(300).start("circularInOut"),r.add(s)),r.resize=function(){var o=i.getBoundingRect().width,l=t.showSpinner?t.spinnerRadius:0,u=(e.getWidth()-l*2-(t.showSpinner&&o?10:0)-o)/2-(t.showSpinner&&o?0:5+o/2)+(t.showSpinner?0:o/2)+(o?0:l),c=e.getHeight()/2;t.showSpinner&&s.setShape({cx:u,cy:c}),a.setShape({x:u-l,y:c-l,width:l*2,height:l*2}),n.setShape({x:0,y:0,width:e.getWidth(),height:e.getHeight()})},r.resize(),r}var FK=function(){function e(t,r,n,i){this._stageTaskMap=ct(),this.ecInstance=t,this.api=r,n=this._dataProcessorHandlers=n.slice(),i=this._visualHandlers=i.slice(),this._allHandlers=n.concat(i)}return e.prototype.restoreData=function(t,r){t.restoreData(r),this._stageTaskMap.each(function(n){var i=n.overallTask;i&&i.dirty()})},e.prototype.getPerformArgs=function(t,r){if(t.__pipeline){var n=this._pipelineMap.get(t.__pipeline.id),i=n.context,a=!r&&n.progressiveEnabled&&(!i||i.progressiveRender)&&t.__idxInPipeline>n.blockIndex,s=a?n.step:null,o=i&&i.modDataCount,l=o!=null?Math.ceil(o/s):null;return{step:s,modBy:l,modDataCount:o}}},e.prototype.getPipeline=function(t){return this._pipelineMap.get(t)},e.prototype.updateStreamModes=function(t,r){var n=this._pipelineMap.get(t.uid),i=t.getData(),a=i.count(),s=n.progressiveEnabled&&r.incrementalPrepareRender&&a>=n.threshold,o=t.get("large")&&a>=t.get("largeThreshold"),l=t.get("progressiveChunkMode")==="mod"?a:null;t.pipelineContext=n.context={progressiveRender:s,modDataCount:l,large:o}},e.prototype.restorePipelines=function(t){var r=this,n=r._pipelineMap=ct();t.eachSeries(function(i){var a=i.getProgressive(),s=i.uid;n.set(s,{id:s,head:null,tail:null,threshold:i.getProgressiveThreshold(),progressiveEnabled:a&&!(i.preventIncremental&&i.preventIncremental()),blockIndex:-1,step:Math.round(a||700),count:0}),r._pipe(i,i.dataTask)})},e.prototype.prepareStageTasks=function(){var t=this._stageTaskMap,r=this.api.getModel(),n=this.api;q(this._allHandlers,function(i){var a=t.get(i.uid)||t.set(i.uid,{}),s="";Si(!(i.reset&&i.overallReset),s),i.reset&&this._createSeriesStageTask(i,a,r,n),i.overallReset&&this._createOverallStageTask(i,a,r,n)},this)},e.prototype.prepareView=function(t,r,n,i){var a=t.renderTask,s=a.context;s.model=r,s.ecModel=n,s.api=i,a.__block=!t.incrementalPrepareRender,this._pipe(r,a)},e.prototype.performDataProcessorTasks=function(t,r){this._performStageTasks(this._dataProcessorHandlers,t,r,{block:!0})},e.prototype.performVisualTasks=function(t,r,n){this._performStageTasks(this._visualHandlers,t,r,n)},e.prototype._performStageTasks=function(t,r,n,i){i=i||{};var a=!1,s=this;q(t,function(l,u){if(!(i.visualType&&i.visualType!==l.visualType)){var c=s._stageTaskMap.get(l.uid),h=c.seriesTaskMap,f=c.overallTask;if(f){var d,v=f.agentStubMap;v.each(function(y){o(i,y)&&(y.dirty(),d=!0)}),d&&f.dirty(),s.updatePayload(f,n);var m=s.getPerformArgs(f,i.block);v.each(function(y){y.perform(m)}),f.perform(m)&&(a=!0)}else h&&h.each(function(y,b){o(i,y)&&y.dirty();var S=s.getPerformArgs(y,i.block);S.skip=!l.performRawSeries&&r.isSeriesFiltered(y.context.model),s.updatePayload(y,n),y.perform(S)&&(a=!0)})}});function o(l,u){return l.setDirty&&(!l.dirtyMap||l.dirtyMap.get(u.__pipeline.id))}this.unfinished=a||this.unfinished},e.prototype.performSeriesTasks=function(t){var r;t.eachSeries(function(n){r=n.dataTask.perform()||r}),this.unfinished=r||this.unfinished},e.prototype.plan=function(){this._pipelineMap.each(function(t){var r=t.tail;do{if(r.__block){t.blockIndex=r.__idxInPipeline;break}r=r.getUpstream()}while(r)})},e.prototype.updatePayload=function(t,r){r!=="remain"&&(t.context.payload=r)},e.prototype._createSeriesStageTask=function(t,r,n,i){var a=this,s=r.seriesTaskMap,o=r.seriesTaskMap=ct(),l=t.seriesType,u=t.getTargetSeries;t.createOnAllSeries?n.eachRawSeries(c):l?n.eachRawSeriesByType(l,c):u&&u(n,i).each(c);function c(h){var f=h.uid,d=o.set(f,s&&s.get(f)||dm({plan:LAe,reset:NAe,count:RAe}));d.context={model:h,ecModel:n,api:i,useClearVisual:t.isVisual&&!t.isLayout,plan:t.plan,reset:t.reset,scheduler:a},a._pipe(h,d)}},e.prototype._createOverallStageTask=function(t,r,n,i){var a=this,s=r.overallTask=r.overallTask||dm({reset:kAe});s.context={ecModel:n,api:i,overallReset:t.overallReset,scheduler:a};var o=s.agentStubMap,l=s.agentStubMap=ct(),u=t.seriesType,c=t.getTargetSeries,h=!0,f=!1,d="";Si(!t.createOnAllSeries,d),u?n.eachRawSeriesByType(u,v):c?c(n,i).each(v):(h=!1,q(n.getSeries(),v));function v(m){var y=m.uid,b=l.set(y,o&&o.get(y)||(f=!0,dm({reset:IAe,onDirty:MAe})));b.context={model:m,overallProgress:h},b.agent=s,b.__block=h,a._pipe(m,b)}f&&s.dirty()},e.prototype._pipe=function(t,r){var n=t.uid,i=this._pipelineMap.get(n);!i.head&&(i.head=r),i.tail&&i.tail.pipe(r),i.tail=r,r.__idxInPipeline=i.count++,r.__pipeline=i},e.wrapStageHandler=function(t,r){return vt(t)&&(t={overallReset:t,seriesType:OAe(t)}),t.uid=Vp("stageHandler"),r&&(t.visualType=r),t},e}();function kAe(e){e.overallReset(e.ecModel,e.api,e.payload)}function IAe(e){return e.overallProgress&&DAe}function DAe(){this.agent.dirty(),this.getDownstream().dirty()}function MAe(){this.agent&&this.agent.dirty()}function LAe(e){return e.plan?e.plan(e.model,e.ecModel,e.api,e.payload):null}function NAe(e){e.useClearVisual&&e.data.clearAllVisual();var t=e.resetDefines=Tr(e.reset(e.model,e.ecModel,e.api,e.payload));return t.length>1?Fe(t,function(r,n){return zK(n)}):PAe}var PAe=zK(0);function zK(e){return function(t,r){var n=r.data,i=r.resetDefines[e];if(i&&i.dataEach)for(var a=t.start;a<t.end;a++)i.dataEach(n,a);else i&&i.progress&&i.progress(t,n)}}function RAe(e){return e.data.count()}function OAe(e){NS=null;try{e(l0,jK)}catch{}return NS}var l0={},jK={},NS;HK(l0,iP);HK(jK,hK);l0.eachSeriesByType=l0.eachRawSeriesByType=function(e){NS=e};l0.eachComponent=function(e){e.mainType==="series"&&e.subType&&(NS=e.subType)};function HK(e,t){for(var r in t.prototype)e[r]=ln}var S8=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];const BAe={color:S8,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],S8]};var fi="#B9B8CE",_8="#100C2A",sx=function(){return{axisLine:{lineStyle:{color:fi}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},w8=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],VK={darkMode:!0,color:w8,backgroundColor:_8,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:fi},pageTextStyle:{color:fi}},textStyle:{color:fi},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:fi}},dataZoom:{borderColor:"#71708A",textStyle:{color:fi},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:fi}},timeline:{lineStyle:{color:fi},label:{color:fi},controlStyle:{color:fi,borderColor:fi}},calendar:{itemStyle:{color:_8},dayLabel:{color:fi},monthLabel:{color:fi},yearLabel:{color:fi}},timeAxis:sx(),logAxis:sx(),valueAxis:sx(),categoryAxis:sx(),line:{symbol:"circle"},graph:{color:w8},gauge:{title:{color:fi},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:fi},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};VK.categoryAxis.splitLine.show=!1;var FAe=function(){function e(){}return e.prototype.normalizeQuery=function(t){var r={},n={},i={};if(Je(t)){var a=_o(t);r.mainType=a.main||null,r.subType=a.sub||null}else{var s=["Index","Name","Id"],o={name:1,dataIndex:1,dataType:1};q(t,function(l,u){for(var c=!1,h=0;h<s.length;h++){var f=s[h],d=u.lastIndexOf(f);if(d>0&&d===u.length-f.length){var v=u.slice(0,d);v!=="data"&&(r.mainType=v,r[f.toLowerCase()]=l,c=!0)}}o.hasOwnProperty(u)&&(n[u]=l,c=!0),c||(i[u]=l)})}return{cptQuery:r,dataQuery:n,otherQuery:i}},e.prototype.filter=function(t,r){var n=this.eventInfo;if(!n)return!0;var i=n.targetEl,a=n.packedEvent,s=n.model,o=n.view;if(!s||!o)return!0;var l=r.cptQuery,u=r.dataQuery;return c(l,s,"mainType")&&c(l,s,"subType")&&c(l,s,"index","componentIndex")&&c(l,s,"name")&&c(l,s,"id")&&c(u,a,"name")&&c(u,a,"dataIndex")&&c(u,a,"dataType")&&(!o.filterForExposedEvent||o.filterForExposedEvent(t,r.otherQuery,i,a));function c(h,f,d,v){return h[d]==null||f[v||d]===h[d]}},e.prototype.afterTrigger=function(){this.eventInfo=null},e}(),dD=["symbol","symbolSize","symbolRotate","symbolOffset"],T8=dD.concat(["symbolKeepAspect"]),zAe={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){var r=e.getData();if(e.legendIcon&&r.setVisual("legendIcon",e.legendIcon),!e.hasSymbolVisual)return;for(var n={},i={},a=!1,s=0;s<dD.length;s++){var o=dD[s],l=e.get(o);vt(l)?(a=!0,i[o]=l):n[o]=l}if(n.symbol=n.symbol||e.defaultSymbol,r.setVisual(Ne({legendIcon:e.legendIcon||n.symbol,symbolKeepAspect:e.get("symbolKeepAspect")},n)),t.isSeriesFiltered(e))return;var u=Kt(i);function c(h,f){for(var d=e.getRawValue(f),v=e.getDataParams(f),m=0;m<u.length;m++){var y=u[m];h.setItemVisual(f,y,i[y](d,v))}}return{dataEach:a?c:null}}},jAe={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){if(!e.hasSymbolVisual||t.isSeriesFiltered(e))return;var r=e.getData();function n(i,a){for(var s=i.getItemModel(a),o=0;o<T8.length;o++){var l=T8[o],u=s.getShallow(l,!0);u!=null&&i.setItemVisual(a,l,u)}}return{dataEach:r.hasItemOption?n:null}}};function uP(e,t,r){switch(r){case"color":var n=e.getItemVisual(t,"style");return n[e.getVisual("drawType")];case"opacity":return e.getItemVisual(t,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return e.getItemVisual(t,r)}}function ty(e,t){switch(t){case"color":var r=e.getVisual("style");return r[e.getVisual("drawType")];case"opacity":return e.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return e.getVisual(t)}}function UK(e,t,r,n){switch(r){case"color":var i=e.ensureUniqueItemVisual(t,"style");i[e.getVisual("drawType")]=n,e.setItemVisual(t,"colorFromPalette",!1);break;case"opacity":e.ensureUniqueItemVisual(t,"style").opacity=n;break;case"symbol":case"symbolSize":case"liftZ":e.setItemVisual(t,r,n);break}}function GK(e,t){function r(n,i){var a=[];return n.eachComponent({mainType:"series",subType:e,query:i},function(s){a.push(s.seriesIndex)}),a}q([[e+"ToggleSelect","toggleSelect"],[e+"Select","select"],[e+"UnSelect","unselect"]],function(n){t(n[0],function(i,a,s){i=Ne({},i),s.dispatchAction(Ne(i,{type:n[1],seriesIndex:r(a,i)}))})})}function Gf(e,t,r,n,i){var a=e+t;r.isSilent(a)||n.eachComponent({mainType:"series",subType:"pie"},function(s){for(var o=s.seriesIndex,l=s.option.selectedMap,u=i.selected,c=0;c<u.length;c++)if(u[c].seriesIndex===o){var h=s.getData(),f=Kh(h,i.fromActionPayload);r.trigger(a,{type:a,seriesId:s.id,name:Oe(f)?h.getName(f[0]):h.getName(f),selected:Je(l)?l:Ne({},l)})}})}function HAe(e,t,r){e.on("selectchanged",function(n){var i=r.getModel();n.isFromClick?(Gf("map","selectchanged",t,i,n),Gf("pie","selectchanged",t,i,n)):n.fromAction==="select"?(Gf("map","selected",t,i,n),Gf("pie","selected",t,i,n)):n.fromAction==="unselect"&&(Gf("map","unselected",t,i,n),Gf("pie","unselected",t,i,n))})}function Sh(e,t,r){for(var n;e&&!(t(e)&&(n=e,r));)e=e.__hostTarget||e.parent;return n}var VAe=Math.round(Math.random()*9),UAe=typeof Object.defineProperty=="function",GAe=function(){function e(){this._id="__ec_inner_"+VAe++}return e.prototype.get=function(t){return this._guard(t)[this._id]},e.prototype.set=function(t,r){var n=this._guard(t);return UAe?Object.defineProperty(n,this._id,{value:r,enumerable:!1,configurable:!0}):n[this._id]=r,this},e.prototype.delete=function(t){return this.has(t)?(delete this._guard(t)[this._id],!0):!1},e.prototype.has=function(t){return!!this._guard(t)[this._id]},e.prototype._guard=function(t){if(t!==Object(t))throw TypeError("Value of WeakMap is not a non-null object.");return t},e}(),WAe=qt.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var r=t.cx,n=t.cy,i=t.width/2,a=t.height/2;e.moveTo(r,n-a),e.lineTo(r+i,n+a),e.lineTo(r-i,n+a),e.closePath()}}),$Ae=qt.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var r=t.cx,n=t.cy,i=t.width/2,a=t.height/2;e.moveTo(r,n-a),e.lineTo(r+i,n),e.lineTo(r,n+a),e.lineTo(r-i,n),e.closePath()}}),YAe=qt.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var r=t.x,n=t.y,i=t.width/5*3,a=Math.max(i,t.height),s=i/2,o=s*s/(a-s),l=n-a+s+o,u=Math.asin(o/s),c=Math.cos(u)*s,h=Math.sin(u),f=Math.cos(u),d=s*.6,v=s*.7;e.moveTo(r-c,l+o),e.arc(r,l,s,Math.PI-u,Math.PI*2+u),e.bezierCurveTo(r+c-h*d,l+o+f*d,r,n-v,r,n),e.bezierCurveTo(r,n-v,r-c+h*d,l+o+f*d,r-c,l+o),e.closePath()}}),XAe=qt.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var r=t.height,n=t.width,i=t.x,a=t.y,s=n/3*2;e.moveTo(i,a),e.lineTo(i+s,a+r),e.lineTo(i,a+r/4*3),e.lineTo(i-s,a+r),e.lineTo(i,a),e.closePath()}}),qAe={line:An,rect:Jt,roundRect:Jt,square:Jt,circle:jo,diamond:$Ae,pin:YAe,arrow:XAe,triangle:WAe},KAe={line:function(e,t,r,n,i){i.x1=e,i.y1=t+n/2,i.x2=e+r,i.y2=t+n/2},rect:function(e,t,r,n,i){i.x=e,i.y=t,i.width=r,i.height=n},roundRect:function(e,t,r,n,i){i.x=e,i.y=t,i.width=r,i.height=n,i.r=Math.min(r,n)/4},square:function(e,t,r,n,i){var a=Math.min(r,n);i.x=e,i.y=t,i.width=a,i.height=a},circle:function(e,t,r,n,i){i.cx=e+r/2,i.cy=t+n/2,i.r=Math.min(r,n)/2},diamond:function(e,t,r,n,i){i.cx=e+r/2,i.cy=t+n/2,i.width=r,i.height=n},pin:function(e,t,r,n,i){i.x=e+r/2,i.y=t+n/2,i.width=r,i.height=n},arrow:function(e,t,r,n,i){i.x=e+r/2,i.y=t+n/2,i.width=r,i.height=n},triangle:function(e,t,r,n,i){i.cx=e+r/2,i.cy=t+n/2,i.width=r,i.height=n}},PS={};q(qAe,function(e,t){PS[t]=new e});var ZAe=qt.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(e,t,r){var n=wS(e,t,r),i=this.shape;return i&&i.symbolType==="pin"&&t.position==="inside"&&(n.y=r.y+r.height*.4),n},buildPath:function(e,t,r){var n=t.symbolType;if(n!=="none"){var i=PS[n];i||(n="rect",i=PS[n]),KAe[n](t.x,t.y,t.width,t.height,i.shape),i.buildPath(e,i.shape,r)}}});function QAe(e,t){if(this.type!=="image"){var r=this.style;this.__isEmptyBrush?(r.stroke=e,r.fill=t||"#fff",r.lineWidth=2):this.shape.symbolType==="line"?r.stroke=e:r.fill=e,this.markRedraw()}}function dn(e,t,r,n,i,a,s){var o=e.indexOf("empty")===0;o&&(e=e.substr(5,1).toLowerCase()+e.substr(6));var l;return e.indexOf("image://")===0?l=HN(e.slice(8),new jt(t,r,n,i),s?"center":"cover"):e.indexOf("path://")===0?l=Q0(e.slice(7),{},new jt(t,r,n,i),s?"center":"cover"):l=new ZAe({shape:{symbolType:e,x:t,y:r,width:n,height:i}}),l.__isEmptyBrush=o,l.setColor=QAe,a&&l.setColor(a),l}function Xp(e){return Oe(e)||(e=[+e,+e]),[e[0]||0,e[1]||0]}function df(e,t){if(e!=null)return Oe(e)||(e=[e,e]),[Ze(e[0],t[0])||0,Ze(Mt(e[1],e[0]),t[1])||0]}function _h(e){return isFinite(e)}function JAe(e,t,r){var n=t.x==null?0:t.x,i=t.x2==null?1:t.x2,a=t.y==null?0:t.y,s=t.y2==null?0:t.y2;t.global||(n=n*r.width+r.x,i=i*r.width+r.x,a=a*r.height+r.y,s=s*r.height+r.y),n=_h(n)?n:0,i=_h(i)?i:1,a=_h(a)?a:0,s=_h(s)?s:0;var o=e.createLinearGradient(n,a,i,s);return o}function eke(e,t,r){var n=r.width,i=r.height,a=Math.min(n,i),s=t.x==null?.5:t.x,o=t.y==null?.5:t.y,l=t.r==null?.5:t.r;t.global||(s=s*n+r.x,o=o*i+r.y,l=l*a),s=_h(s)?s:.5,o=_h(o)?o:.5,l=l>=0&&_h(l)?l:.5;var u=e.createRadialGradient(s,o,0,s,o,l);return u}function pD(e,t,r){for(var n=t.type==="radial"?eke(e,t,r):JAe(e,t,r),i=t.colorStops,a=0;a<i.length;a++)n.addColorStop(i[a].offset,i[a].color);return n}function tke(e,t){if(e===t||!e&&!t)return!1;if(!e||!t||e.length!==t.length)return!0;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!0;return!1}function ox(e){return parseInt(e,10)}function Cd(e,t,r){var n=["width","height"][t],i=["clientWidth","clientHeight"][t],a=["paddingLeft","paddingTop"][t],s=["paddingRight","paddingBottom"][t];if(r[n]!=null&&r[n]!=="auto")return parseFloat(r[n]);var o=document.defaultView.getComputedStyle(e);return(e[i]||ox(o[n])||ox(e.style[n]))-(ox(o[a])||0)-(ox(o[s])||0)|0}function rke(e,t){return!e||e==="solid"||!(t>0)?null:e==="dashed"?[4*t,2*t]:e==="dotted"?[t]:ar(e)?[e]:Oe(e)?e:null}function cP(e){var t=e.style,r=t.lineDash&&t.lineWidth>0&&rke(t.lineDash,t.lineWidth),n=t.lineDashOffset;if(r){var i=t.strokeNoScale&&e.getLineScale?e.getLineScale():1;i&&i!==1&&(r=Fe(r,function(a){return a/i}),n/=i)}return[r,n]}var nke=new Oo(!0);function RS(e){var t=e.stroke;return!(t==null||t==="none"||!(e.lineWidth>0))}function C8(e){return typeof e=="string"&&e!=="none"}function OS(e){var t=e.fill;return t!=null&&t!=="none"}function E8(e,t){if(t.fillOpacity!=null&&t.fillOpacity!==1){var r=e.globalAlpha;e.globalAlpha=t.fillOpacity*t.opacity,e.fill(),e.globalAlpha=r}else e.fill()}function A8(e,t){if(t.strokeOpacity!=null&&t.strokeOpacity!==1){var r=e.globalAlpha;e.globalAlpha=t.strokeOpacity*t.opacity,e.stroke(),e.globalAlpha=r}else e.stroke()}function vD(e,t,r){var n=MN(t.image,t.__image,r);if(gw(n)){var i=e.createPattern(n,t.repeat||"repeat");if(typeof DOMMatrix=="function"&&i&&i.setTransform){var a=new DOMMatrix;a.translateSelf(t.x||0,t.y||0),a.rotateSelf(0,0,(t.rotation||0)*tm),a.scaleSelf(t.scaleX||1,t.scaleY||1),i.setTransform(a)}return i}}function ike(e,t,r,n){var i,a=RS(r),s=OS(r),o=r.strokePercent,l=o<1,u=!t.path;(!t.silent||l)&&u&&t.createPathProxy();var c=t.path||nke,h=t.__dirty;if(!n){var f=r.fill,d=r.stroke,v=s&&!!f.colorStops,m=a&&!!d.colorStops,y=s&&!!f.image,b=a&&!!d.image,S=void 0,w=void 0,k=void 0,M=void 0,I=void 0;(v||m)&&(I=t.getBoundingRect()),v&&(S=h?pD(e,f,I):t.__canvasFillGradient,t.__canvasFillGradient=S),m&&(w=h?pD(e,d,I):t.__canvasStrokeGradient,t.__canvasStrokeGradient=w),y&&(k=h||!t.__canvasFillPattern?vD(e,f,t):t.__canvasFillPattern,t.__canvasFillPattern=k),b&&(M=h||!t.__canvasStrokePattern?vD(e,d,t):t.__canvasStrokePattern,t.__canvasStrokePattern=k),v?e.fillStyle=S:y&&(k?e.fillStyle=k:s=!1),m?e.strokeStyle=w:b&&(M?e.strokeStyle=M:a=!1)}var L=t.getGlobalScale();c.setScale(L[0],L[1],t.segmentIgnoreThreshold);var N,z;e.setLineDash&&r.lineDash&&(i=cP(t),N=i[0],z=i[1]);var B=!0;(u||h&id)&&(c.setDPR(e.dpr),l?c.setContext(null):(c.setContext(e),B=!1),c.reset(),t.buildPath(c,t.shape,n),c.toStatic(),t.pathUpdated()),B&&c.rebuildPath(e,l?o:1),N&&(e.setLineDash(N),e.lineDashOffset=z),n||(r.strokeFirst?(a&&A8(e,r),s&&E8(e,r)):(s&&E8(e,r),a&&A8(e,r))),N&&e.setLineDash([])}function ake(e,t,r){var n=t.__image=MN(r.image,t.__image,t,t.onload);if(!(!n||!gw(n))){var i=r.x||0,a=r.y||0,s=t.getWidth(),o=t.getHeight(),l=n.width/n.height;if(s==null&&o!=null?s=o*l:o==null&&s!=null?o=s/l:s==null&&o==null&&(s=n.width,o=n.height),r.sWidth&&r.sHeight){var u=r.sx||0,c=r.sy||0;e.drawImage(n,u,c,r.sWidth,r.sHeight,i,a,s,o)}else if(r.sx&&r.sy){var u=r.sx,c=r.sy,h=s-u,f=o-c;e.drawImage(n,u,c,h,f,i,a,s,o)}else e.drawImage(n,i,a,s,o)}}function ske(e,t,r){var n,i=r.text;if(i!=null&&(i+=""),i){e.font=r.font||Ku,e.textAlign=r.textAlign,e.textBaseline=r.textBaseline;var a=void 0,s=void 0;e.setLineDash&&r.lineDash&&(n=cP(t),a=n[0],s=n[1]),a&&(e.setLineDash(a),e.lineDashOffset=s),r.strokeFirst?(RS(r)&&e.strokeText(i,r.x,r.y),OS(r)&&e.fillText(i,r.x,r.y)):(OS(r)&&e.fillText(i,r.x,r.y),RS(r)&&e.strokeText(i,r.x,r.y)),a&&e.setLineDash([])}}var k8=["shadowBlur","shadowOffsetX","shadowOffsetY"],I8=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function WK(e,t,r,n,i){var a=!1;if(!n&&(r=r||{},t===r))return!1;if(n||t.opacity!==r.opacity){ra(e,i),a=!0;var s=Math.max(Math.min(t.opacity,1),0);e.globalAlpha=isNaN(s)?Lh.opacity:s}(n||t.blend!==r.blend)&&(a||(ra(e,i),a=!0),e.globalCompositeOperation=t.blend||Lh.blend);for(var o=0;o<k8.length;o++){var l=k8[o];(n||t[l]!==r[l])&&(a||(ra(e,i),a=!0),e[l]=e.dpr*(t[l]||0))}return(n||t.shadowColor!==r.shadowColor)&&(a||(ra(e,i),a=!0),e.shadowColor=t.shadowColor||Lh.shadowColor),a}function D8(e,t,r,n,i){var a=u0(t,i.inHover),s=n?null:r&&u0(r,i.inHover)||{};if(a===s)return!1;var o=WK(e,a,s,n,i);if((n||a.fill!==s.fill)&&(o||(ra(e,i),o=!0),C8(a.fill)&&(e.fillStyle=a.fill)),(n||a.stroke!==s.stroke)&&(o||(ra(e,i),o=!0),C8(a.stroke)&&(e.strokeStyle=a.stroke)),(n||a.opacity!==s.opacity)&&(o||(ra(e,i),o=!0),e.globalAlpha=a.opacity==null?1:a.opacity),t.hasStroke()){var l=a.lineWidth,u=l/(a.strokeNoScale&&t.getLineScale?t.getLineScale():1);e.lineWidth!==u&&(o||(ra(e,i),o=!0),e.lineWidth=u)}for(var c=0;c<I8.length;c++){var h=I8[c],f=h[0];(n||a[f]!==s[f])&&(o||(ra(e,i),o=!0),e[f]=a[f]||h[1])}return o}function oke(e,t,r,n,i){return WK(e,u0(t,i.inHover),r&&u0(r,i.inHover),n,i)}function $K(e,t){var r=t.transform,n=e.dpr||1;r?e.setTransform(n*r[0],n*r[1],n*r[2],n*r[3],n*r[4],n*r[5]):e.setTransform(n,0,0,n,0,0)}function lke(e,t,r){for(var n=!1,i=0;i<e.length;i++){var a=e[i];n=n||a.isZeroArea(),$K(t,a),t.beginPath(),a.buildPath(t,a.shape),t.clip()}r.allClipped=n}function uke(e,t){return e&&t?e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||e[4]!==t[4]||e[5]!==t[5]:!(!e&&!t)}var M8=1,L8=2,N8=3,P8=4;function cke(e){var t=OS(e),r=RS(e);return!(e.lineDash||!(+t^+r)||t&&typeof e.fill!="string"||r&&typeof e.stroke!="string"||e.strokePercent<1||e.strokeOpacity<1||e.fillOpacity<1)}function ra(e,t){t.batchFill&&e.fill(),t.batchStroke&&e.stroke(),t.batchFill="",t.batchStroke=""}function u0(e,t){return t&&e.__hoverStyle||e.style}function hP(e,t){wh(e,t,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function wh(e,t,r,n){var i=t.transform;if(!t.shouldBePainted(r.viewWidth,r.viewHeight,!1,!1)){t.__dirty&=~ya,t.__isRendered=!1;return}var a=t.__clipPaths,s=r.prevElClipPaths,o=!1,l=!1;if((!s||tke(a,s))&&(s&&s.length&&(ra(e,r),e.restore(),l=o=!0,r.prevElClipPaths=null,r.allClipped=!1,r.prevEl=null),a&&a.length&&(ra(e,r),e.save(),lke(a,e,r),o=!0),r.prevElClipPaths=a),r.allClipped){t.__isRendered=!1;return}t.beforeBrush&&t.beforeBrush(),t.innerBeforeBrush();var u=r.prevEl;u||(l=o=!0);var c=t instanceof qt&&t.autoBatch&&cke(t.style);o||uke(i,u.transform)?(ra(e,r),$K(e,t)):c||ra(e,r);var h=u0(t,r.inHover);t instanceof qt?(r.lastDrawType!==M8&&(l=!0,r.lastDrawType=M8),D8(e,t,u,l,r),(!c||!r.batchFill&&!r.batchStroke)&&e.beginPath(),ike(e,t,h,c),c&&(r.batchFill=h.fill||"",r.batchStroke=h.stroke||"")):t instanceof hp?(r.lastDrawType!==N8&&(l=!0,r.lastDrawType=N8),D8(e,t,u,l,r),ske(e,t,h)):t instanceof Vn?(r.lastDrawType!==L8&&(l=!0,r.lastDrawType=L8),oke(e,t,u,l,r),ake(e,t,h)):t.getTemporalDisplayables&&(r.lastDrawType!==P8&&(l=!0,r.lastDrawType=P8),hke(e,t,r)),c&&n&&ra(e,r),t.innerAfterBrush(),t.afterBrush&&t.afterBrush(),r.prevEl=t,t.__dirty=0,t.__isRendered=!0}function hke(e,t,r){var n=t.getDisplayables(),i=t.getTemporalDisplayables();e.save();var a={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:r.viewWidth,viewHeight:r.viewHeight,inHover:r.inHover},s,o;for(s=t.getCursor(),o=n.length;s<o;s++){var l=n[s];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),wh(e,l,a,s===o-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),a.prevEl=l}for(var u=0,c=i.length;u<c;u++){var l=i[u];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),wh(e,l,a,u===c-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),a.prevEl=l}t.clearTemporalDisplayables(),t.notClear=!0,e.restore()}var cE=new GAe,R8=new $0(100),O8=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function pp(e,t){if(e==="none")return null;var r=t.getDevicePixelRatio(),n=t.getZr(),i=n.painter.type==="svg";e.dirty&&cE.delete(e);var a=cE.get(e);if(a)return a;var s=yt(e,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});s.backgroundColor==="none"&&(s.backgroundColor=null);var o={repeat:"repeat"};return l(o),o.rotation=s.rotation,o.scaleX=o.scaleY=i?1:1/r,cE.set(e,o),e.dirty=!1,o;function l(u){for(var c=[r],h=!0,f=0;f<O8.length;++f){var d=s[O8[f]];if(d!=null&&!Oe(d)&&!Je(d)&&!ar(d)&&typeof d!="boolean"){h=!1;break}c.push(d)}var v;if(h){v=c.join(",")+(i?"-svg":"");var m=R8.get(v);m&&(i?u.svgElement=m:u.image=m)}var y=XK(s.dashArrayX),b=fke(s.dashArrayY),S=YK(s.symbol),w=dke(y),k=qK(b),M=!i&&Hs.createCanvas(),I=i&&{tag:"g",attrs:{},key:"dcl",children:[]},L=z(),N;M&&(M.width=L.width*r,M.height=L.height*r,N=M.getContext("2d")),B(),h&&R8.put(v,M||I),u.image=M,u.svgElement=I,u.svgWidth=L.width,u.svgHeight=L.height;function z(){for(var H=1,G=0,$=w.length;G<$;++G)H=JB(H,w[G]);for(var W=1,G=0,$=S.length;G<$;++G)W=JB(W,S[G].length);H*=W;var X=k*w.length*S.length;return{width:Math.max(1,Math.min(H,s.maxTileWidth)),height:Math.max(1,Math.min(X,s.maxTileHeight))}}function B(){N&&(N.clearRect(0,0,M.width,M.height),s.backgroundColor&&(N.fillStyle=s.backgroundColor,N.fillRect(0,0,M.width,M.height)));for(var H=0,G=0;G<b.length;++G)H+=b[G];if(H<=0)return;for(var $=-k,W=0,X=0,ee=0;$<L.height;){if(W%2===0){for(var le=X/2%S.length,ie=0,fe=0,re=0;ie<L.width*2;){for(var me=0,G=0;G<y[ee].length;++G)me+=y[ee][G];if(me<=0)break;if(fe%2===0){var J=(1-s.symbolSize)*.5,te=ie+y[ee][fe]*J,ue=$+b[W]*J,pe=y[ee][fe]*s.symbolSize,Se=b[W]*s.symbolSize,je=re/2%S[le].length;Pe(te,ue,pe,Se,S[le][je])}ie+=y[ee][fe],++re,++fe,fe===y[ee].length&&(fe=0)}++ee,ee===y.length&&(ee=0)}$+=b[W],++X,++W,W===b.length&&(W=0)}function Pe(Te,Ve,ze,$e,ce){var ve=i?1:r,Ae=dn(ce,Te*ve,Ve*ve,ze*ve,$e*ve,s.color,s.symbolKeepAspect);if(i){var Le=n.painter.renderOneToVNode(Ae);Le&&I.children.push(Le)}else hP(N,Ae)}}}}function YK(e){if(!e||e.length===0)return[["rect"]];if(Je(e))return[[e]];for(var t=!0,r=0;r<e.length;++r)if(!Je(e[r])){t=!1;break}if(t)return YK([e]);for(var n=[],r=0;r<e.length;++r)Je(e[r])?n.push([e[r]]):n.push(e[r]);return n}function XK(e){if(!e||e.length===0)return[[0,0]];if(ar(e)){var t=Math.ceil(e);return[[t,t]]}for(var r=!0,n=0;n<e.length;++n)if(!ar(e[n])){r=!1;break}if(r)return XK([e]);for(var i=[],n=0;n<e.length;++n)if(ar(e[n])){var t=Math.ceil(e[n]);i.push([t,t])}else{var t=Fe(e[n],function(o){return Math.ceil(o)});t.length%2===1?i.push(t.concat(t)):i.push(t)}return i}function fke(e){if(!e||typeof e=="object"&&e.length===0)return[0,0];if(ar(e)){var t=Math.ceil(e);return[t,t]}var r=Fe(e,function(n){return Math.ceil(n)});return e.length%2?r.concat(r):r}function dke(e){return Fe(e,function(t){return qK(t)})}function qK(e){for(var t=0,r=0;r<e.length;++r)t+=e[r];return e.length%2===1?t*2:t}function pke(e,t){e.eachRawSeries(function(r){if(!e.isSeriesFiltered(r)){var n=r.getData();n.hasItemVisual()&&n.each(function(s){var o=n.getItemVisual(s,"decal");if(o){var l=n.ensureUniqueItemVisual(s,"style");l.decal=pp(o,t)}});var i=n.getVisual("decal");if(i){var a=n.getVisual("style");a.decal=pp(i,t)}}})}var Es=new cs,KK={};function vke(e,t){KK[e]=t}function ZK(e){return KK[e]}var gke="5.6.0",mke={zrender:"5.6.1"},yke=1,xke=800,bke=900,Ske=1e3,_ke=2e3,wke=5e3,QK=1e3,Tke=1100,fP=2e3,JK=3e3,Cke=4e3,Pw=4500,Eke=4600,Ake=5e3,kke=6e3,eZ=7e3,tZ={PROCESSOR:{FILTER:Ske,SERIES_FILTER:xke,STATISTIC:wke},VISUAL:{LAYOUT:QK,PROGRESSIVE_LAYOUT:Tke,GLOBAL:fP,CHART:JK,POST_CHART_LAYOUT:Eke,COMPONENT:Cke,BRUSH:Ake,CHART_ITEM:Pw,ARIA:kke,DECAL:eZ}},hi="__flagInMainProcess",qi="__pendingUpdate",hE="__needsUpdateStatus",B8=/^[a-zA-Z0-9_]+$/,fE="__connectUpdateStatus",F8=0,Ike=1,Dke=2;function rZ(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(this.isDisposed()){this.id;return}return iZ(this,e,t)}}function nZ(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return iZ(this,e,t)}}function iZ(e,t,r){return r[0]=r[0]&&r[0].toLowerCase(),cs.prototype[t].apply(e,r)}var aZ=function(e){_e(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(cs),sZ=aZ.prototype;sZ.on=nZ("on");sZ.off=nZ("off");var Wf,dE,lx,eu,pE,vE,gE,Kv,Zv,z8,j8,mE,H8,ux,V8,oZ,Pa,U8,BS=function(e){_e(t,e);function t(r,n,i){var a=e.call(this,new FAe)||this;a._chartsViews=[],a._chartsMap={},a._componentsViews=[],a._componentsMap={},a._pendingActions=[],i=i||{},Je(n)&&(n=lZ[n]),a._dom=r;var s="canvas",o="auto",l=!1;i.ssr&&WX(function(f){var d=It(f),v=d.dataIndex;if(v!=null){var m=ct();return m.set("series_index",d.seriesIndex),m.set("data_index",v),d.ssrType&&m.set("ssr_type",d.ssrType),m}});var u=a._zr=VI(r,{renderer:i.renderer||s,devicePixelRatio:i.devicePixelRatio,width:i.width,height:i.height,ssr:i.ssr,useDirtyRect:Mt(i.useDirtyRect,l),useCoarsePointer:Mt(i.useCoarsePointer,o),pointerSize:i.pointerSize});a._ssr=i.ssr,a._throttledZrFlush=Nw(rt(u.flush,u),17),n=_t(n),n&&dK(n,!0),a._theme=n,a._locale=Y2e(i.locale||Wq),a._coordSysMgr=new Wp;var c=a._api=V8(a);function h(f,d){return f.__prio-d.__prio}return ub(zS,h),ub(gD,h),a._scheduler=new FK(a,c,gD,zS),a._messageCenter=new aZ,a._initEvents(),a.resize=rt(a.resize,a),u.animation.on("frame",a._onframe,a),z8(u,a),j8(u,a),Ym(a),a}return t.prototype._onframe=function(){if(!this._disposed){U8(this);var r=this._scheduler;if(this[qi]){var n=this[qi].silent;this[hi]=!0;try{Wf(this),eu.update.call(this,null,this[qi].updateParams)}catch(l){throw this[hi]=!1,this[qi]=null,l}this._zr.flush(),this[hi]=!1,this[qi]=null,Kv.call(this,n),Zv.call(this,n)}else if(r.unfinished){var i=yke,a=this._model,s=this._api;r.unfinished=!1;do{var o=+new Date;r.performSeriesTasks(a),r.performDataProcessorTasks(a),vE(this,a),r.performVisualTasks(a),ux(this,this._model,s,"remain",{}),i-=+new Date-o}while(i>0&&r.unfinished);r.unfinished||this._zr.flush()}}},t.prototype.getDom=function(){return this._dom},t.prototype.getId=function(){return this.id},t.prototype.getZr=function(){return this._zr},t.prototype.isSSR=function(){return this._ssr},t.prototype.setOption=function(r,n,i){if(!this[hi]){if(this._disposed){this.id;return}var a,s,o;if(St(n)&&(i=n.lazyUpdate,a=n.silent,s=n.replaceMerge,o=n.transition,n=n.notMerge),this[hi]=!0,!this._model||n){var l=new bEe(this._api),u=this._theme,c=this._model=new iP;c.scheduler=this._scheduler,c.ssr=this._ssr,c.init(null,null,null,u,this._locale,l)}this._model.setOption(r,{replaceMerge:s},mD);var h={seriesTransition:o,optionChanged:!0};if(i)this[qi]={silent:a,updateParams:h},this[hi]=!1,this.getZr().wakeUp();else{try{Wf(this),eu.update.call(this,null,h)}catch(f){throw this[qi]=null,this[hi]=!1,f}this._ssr||this._zr.flush(),this[qi]=null,this[hi]=!1,Kv.call(this,a),Zv.call(this,a)}}},t.prototype.setTheme=function(){},t.prototype.getModel=function(){return this._model},t.prototype.getOption=function(){return this._model&&this._model.getOption()},t.prototype.getWidth=function(){return this._zr.getWidth()},t.prototype.getHeight=function(){return this._zr.getHeight()},t.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||Xt.hasGlobalWindow&&window.devicePixelRatio||1},t.prototype.getRenderedCanvas=function(r){return this.renderToCanvas(r)},t.prototype.renderToCanvas=function(r){r=r||{};var n=this._zr.painter;return n.getRenderedCanvas({backgroundColor:r.backgroundColor||this._model.get("backgroundColor"),pixelRatio:r.pixelRatio||this.getDevicePixelRatio()})},t.prototype.renderToSVGString=function(r){r=r||{};var n=this._zr.painter;return n.renderToString({useViewBox:r.useViewBox})},t.prototype.getSvgDataURL=function(){if(Xt.svgSupported){var r=this._zr,n=r.storage.getDisplayList();return q(n,function(i){i.stopAnimation(null,!0)}),r.painter.toDataURL()}},t.prototype.getDataURL=function(r){if(this._disposed){this.id;return}r=r||{};var n=r.excludeComponents,i=this._model,a=[],s=this;q(n,function(l){i.eachComponent({mainType:l},function(u){var c=s._componentsMap[u.__viewId];c.group.ignore||(a.push(c),c.group.ignore=!0)})});var o=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(r).toDataURL("image/"+(r&&r.type||"png"));return q(a,function(l){l.group.ignore=!1}),o},t.prototype.getConnectedDataURL=function(r){if(this._disposed){this.id;return}var n=r.type==="svg",i=this.group,a=Math.min,s=Math.max,o=1/0;if(jS[i]){var l=o,u=o,c=-o,h=-o,f=[],d=r&&r.pixelRatio||this.getDevicePixelRatio();q(Rh,function(w,k){if(w.group===i){var M=n?w.getZr().painter.getSvgDom().innerHTML:w.renderToCanvas(_t(r)),I=w.getDom().getBoundingClientRect();l=a(I.left,l),u=a(I.top,u),c=s(I.right,c),h=s(I.bottom,h),f.push({dom:M,left:I.left,top:I.top})}}),l*=d,u*=d,c*=d,h*=d;var v=c-l,m=h-u,y=Hs.createCanvas(),b=VI(y,{renderer:n?"svg":"canvas"});if(b.resize({width:v,height:m}),n){var S="";return q(f,function(w){var k=w.left-l,M=w.top-u;S+='<g transform="translate('+k+","+M+')">'+w.dom+"</g>"}),b.painter.getSvgRoot().innerHTML=S,r.connectedBackgroundColor&&b.painter.setBackgroundColor(r.connectedBackgroundColor),b.refreshImmediately(),b.painter.toDataURL()}else return r.connectedBackgroundColor&&b.add(new Jt({shape:{x:0,y:0,width:v,height:m},style:{fill:r.connectedBackgroundColor}})),q(f,function(w){var k=new Vn({style:{x:w.left*d-l,y:w.top*d-u,image:w.dom}});b.add(k)}),b.refreshImmediately(),y.toDataURL("image/"+(r&&r.type||"png"))}else return this.getDataURL(r)},t.prototype.convertToPixel=function(r,n){return pE(this,"convertToPixel",r,n)},t.prototype.convertFromPixel=function(r,n){return pE(this,"convertFromPixel",r,n)},t.prototype.containPixel=function(r,n){if(this._disposed){this.id;return}var i=this._model,a,s=lm(i,r);return q(s,function(o,l){l.indexOf("Models")>=0&&q(o,function(u){var c=u.coordinateSystem;if(c&&c.containPoint)a=a||!!c.containPoint(n);else if(l==="seriesModels"){var h=this._chartsMap[u.__viewId];h&&h.containPoint&&(a=a||h.containPoint(n,u))}},this)},this),!!a},t.prototype.getVisual=function(r,n){var i=this._model,a=lm(i,r,{defaultMainType:"series"}),s=a.seriesModel,o=s.getData(),l=a.hasOwnProperty("dataIndexInside")?a.dataIndexInside:a.hasOwnProperty("dataIndex")?o.indexOfRawIndex(a.dataIndex):null;return l!=null?uP(o,l,n):ty(o,n)},t.prototype.getViewOfComponentModel=function(r){return this._componentsMap[r.__viewId]},t.prototype.getViewOfSeriesModel=function(r){return this._chartsMap[r.__viewId]},t.prototype._initEvents=function(){var r=this;q(Mke,function(n){var i=function(a){var s=r.getModel(),o=a.target,l,u=n==="globalout";if(u?l={}:o&&Sh(o,function(v){var m=It(v);if(m&&m.dataIndex!=null){var y=m.dataModel||s.getSeriesByIndex(m.seriesIndex);return l=y&&y.getDataParams(m.dataIndex,m.dataType,o)||{},!0}else if(m.eventData)return l=Ne({},m.eventData),!0},!0),l){var c=l.componentType,h=l.componentIndex;(c==="markLine"||c==="markPoint"||c==="markArea")&&(c="series",h=l.seriesIndex);var f=c&&h!=null&&s.getComponent(c,h),d=f&&r[f.mainType==="series"?"_chartsMap":"_componentsMap"][f.__viewId];l.event=a,l.type=n,r._$eventProcessor.eventInfo={targetEl:o,packedEvent:l,model:f,view:d},r.trigger(n,l)}};i.zrEventfulCallAtLast=!0,r._zr.on(n,i,r)}),q(pm,function(n,i){r._messageCenter.on(i,function(a){this.trigger(i,a)},r)}),q(["selectchanged"],function(n){r._messageCenter.on(n,function(i){this.trigger(n,i)},r)}),HAe(this._messageCenter,this,this._api)},t.prototype.isDisposed=function(){return this._disposed},t.prototype.clear=function(){if(this._disposed){this.id;return}this.setOption({series:[]},!0)},t.prototype.dispose=function(){if(this._disposed){this.id;return}this._disposed=!0;var r=this.getDom();r&&rq(this.getDom(),pP,"");var n=this,i=n._api,a=n._model;q(n._componentsViews,function(s){s.dispose(a,i)}),q(n._chartsViews,function(s){s.dispose(a,i)}),n._zr.dispose(),n._dom=n._model=n._chartsMap=n._componentsMap=n._chartsViews=n._componentsViews=n._scheduler=n._api=n._zr=n._throttledZrFlush=n._theme=n._coordSysMgr=n._messageCenter=null,delete Rh[n.id]},t.prototype.resize=function(r){if(!this[hi]){if(this._disposed){this.id;return}this._zr.resize(r);var n=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!n){var i=n.resetOption("media"),a=r&&r.silent;this[qi]&&(a==null&&(a=this[qi].silent),i=!0,this[qi]=null),this[hi]=!0;try{i&&Wf(this),eu.update.call(this,{type:"resize",animation:Ne({duration:0},r&&r.animation)})}catch(s){throw this[hi]=!1,s}this[hi]=!1,Kv.call(this,a),Zv.call(this,a)}}},t.prototype.showLoading=function(r,n){if(this._disposed){this.id;return}if(St(r)&&(n=r,r=""),r=r||"default",this.hideLoading(),!!yD[r]){var i=yD[r](this._api,n),a=this._zr;this._loadingFX=i,a.add(i)}},t.prototype.hideLoading=function(){if(this._disposed){this.id;return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},t.prototype.makeActionFromEvent=function(r){var n=Ne({},r);return n.type=pm[r.type],n},t.prototype.dispatchAction=function(r,n){if(this._disposed){this.id;return}if(St(n)||(n={silent:!!n}),!!FS[r.type]&&this._model){if(this[hi]){this._pendingActions.push(r);return}var i=n.silent;gE.call(this,r,i);var a=n.flush;a?this._zr.flush():a!==!1&&Xt.browser.weChat&&this._throttledZrFlush(),Kv.call(this,i),Zv.call(this,i)}},t.prototype.updateLabelLayout=function(){Es.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},t.prototype.appendData=function(r){if(this._disposed){this.id;return}var n=r.seriesIndex,i=this.getModel(),a=i.getSeriesByIndex(n);a.appendData(r),this._scheduler.unfinished=!0,this.getZr().wakeUp()},t.internalField=function(){Wf=function(h){var f=h._scheduler;f.restorePipelines(h._model),f.prepareStageTasks(),dE(h,!0),dE(h,!1),f.plan()},dE=function(h,f){for(var d=h._model,v=h._scheduler,m=f?h._componentsViews:h._chartsViews,y=f?h._componentsMap:h._chartsMap,b=h._zr,S=h._api,w=0;w<m.length;w++)m[w].__alive=!1;f?d.eachComponent(function(I,L){I!=="series"&&k(L)}):d.eachSeries(k);function k(I){var L=I.__requireNewView;I.__requireNewView=!1;var N="_ec_"+I.id+"_"+I.type,z=!L&&y[N];if(!z){var B=_o(I.type),H=f?Nr.getClass(B.main,B.sub):xr.getClass(B.sub);z=new H,z.init(d,S),y[N]=z,m.push(z),b.add(z.group)}I.__viewId=z.__id=N,z.__alive=!0,z.__model=I,z.group.__ecComponentInfo={mainType:I.mainType,index:I.componentIndex},!f&&v.prepareView(z,I,d,S)}for(var w=0;w<m.length;){var M=m[w];M.__alive?w++:(!f&&M.renderTask.dispose(),b.remove(M.group),M.dispose(d,S),m.splice(w,1),y[M.__id]===M&&delete y[M.__id],M.__id=M.group.__ecComponentInfo=null)}},lx=function(h,f,d,v,m){var y=h._model;if(y.setUpdatePayload(d),!v){q([].concat(h._componentsViews).concat(h._chartsViews),M);return}var b={};b[v+"Id"]=d[v+"Id"],b[v+"Index"]=d[v+"Index"],b[v+"Name"]=d[v+"Name"];var S={mainType:v,query:b};m&&(S.subType=m);var w=d.excludeSeriesId,k;w!=null&&(k=ct(),q(Tr(w),function(I){var L=En(I,null);L!=null&&k.set(L,!0)})),y&&y.eachComponent(S,function(I){var L=k&&k.get(I.id)!=null;if(!L)if(CF(d))if(I instanceof Cr)d.type===Nh&&!d.notBlur&&!I.get(["emphasis","disabled"])&&KCe(I,d,h._api);else{var N=BN(I.mainType,I.componentIndex,d.name,h._api),z=N.focusSelf,B=N.dispatchers;d.type===Nh&&z&&!d.notBlur&&QI(I.mainType,I.componentIndex,h._api),B&&q(B,function(H){d.type===Nh?Tl(H):Cl(H)})}else eD(d)&&I instanceof Cr&&(JCe(I,d,h._api),wF(I),Pa(h))},h),y&&y.eachComponent(S,function(I){var L=k&&k.get(I.id)!=null;L||M(h[v==="series"?"_chartsMap":"_componentsMap"][I.__viewId])},h);function M(I){I&&I.__alive&&I[f]&&I[f](I.__model,y,h._api,d)}},eu={prepareAndUpdate:function(h){Wf(this),eu.update.call(this,h,{optionChanged:h.newOption!=null})},update:function(h,f){var d=this._model,v=this._api,m=this._zr,y=this._coordSysMgr,b=this._scheduler;if(d){d.setUpdatePayload(h),b.restoreData(d,h),b.performSeriesTasks(d),y.create(d,v),b.performDataProcessorTasks(d,h),vE(this,d),y.update(d,v),r(d),b.performVisualTasks(d,h),mE(this,d,v,h,f);var S=d.get("backgroundColor")||"transparent",w=d.get("darkMode");m.setBackgroundColor(S),w!=null&&w!=="auto"&&m.setDarkMode(w),Es.trigger("afterupdate",d,v)}},updateTransform:function(h){var f=this,d=this._model,v=this._api;if(d){d.setUpdatePayload(h);var m=[];d.eachComponent(function(b,S){if(b!=="series"){var w=f.getViewOfComponentModel(S);if(w&&w.__alive)if(w.updateTransform){var k=w.updateTransform(S,d,v,h);k&&k.update&&m.push(w)}else m.push(w)}});var y=ct();d.eachSeries(function(b){var S=f._chartsMap[b.__viewId];if(S.updateTransform){var w=S.updateTransform(b,d,v,h);w&&w.update&&y.set(b.uid,1)}else y.set(b.uid,1)}),r(d),this._scheduler.performVisualTasks(d,h,{setDirty:!0,dirtyMap:y}),ux(this,d,v,h,{},y),Es.trigger("afterupdate",d,v)}},updateView:function(h){var f=this._model;f&&(f.setUpdatePayload(h),xr.markUpdateMethod(h,"updateView"),r(f),this._scheduler.performVisualTasks(f,h,{setDirty:!0}),mE(this,f,this._api,h,{}),Es.trigger("afterupdate",f,this._api))},updateVisual:function(h){var f=this,d=this._model;d&&(d.setUpdatePayload(h),d.eachSeries(function(v){v.getData().clearAllVisual()}),xr.markUpdateMethod(h,"updateVisual"),r(d),this._scheduler.performVisualTasks(d,h,{visualType:"visual",setDirty:!0}),d.eachComponent(function(v,m){if(v!=="series"){var y=f.getViewOfComponentModel(m);y&&y.__alive&&y.updateVisual(m,d,f._api,h)}}),d.eachSeries(function(v){var m=f._chartsMap[v.__viewId];m.updateVisual(v,d,f._api,h)}),Es.trigger("afterupdate",d,this._api))},updateLayout:function(h){eu.update.call(this,h)}},pE=function(h,f,d,v){if(h._disposed){h.id;return}for(var m=h._model,y=h._coordSysMgr.getCoordinateSystems(),b,S=lm(m,d),w=0;w<y.length;w++){var k=y[w];if(k[f]&&(b=k[f](m,S,v))!=null)return b}},vE=function(h,f){var d=h._chartsMap,v=h._scheduler;f.eachSeries(function(m){v.updateStreamModes(m,d[m.__viewId])})},gE=function(h,f){var d=this,v=this.getModel(),m=h.type,y=h.escapeConnect,b=FS[m],S=b.actionInfo,w=(S.update||"update").split(":"),k=w.pop(),M=w[0]!=null&&_o(w[0]);this[hi]=!0;var I=[h],L=!1;h.batch&&(L=!0,I=Fe(h.batch,function(W){return W=yt(Ne({},W),h),W.batch=null,W}));var N=[],z,B=eD(h),H=CF(h);if(H&&Tq(this._api),q(I,function(W){if(z=b.action(W,d._model,d._api),z=z||Ne({},W),z.type=S.event||z.type,N.push(z),H){var X=IN(h),ee=X.queryOptionMap,le=X.mainTypeSpecified,ie=le?ee.keys()[0]:"series";lx(d,k,W,ie),Pa(d)}else B?(lx(d,k,W,"series"),Pa(d)):M&&lx(d,k,W,M.main,M.sub)}),k!=="none"&&!H&&!B&&!M)try{this[qi]?(Wf(this),eu.update.call(this,h),this[qi]=null):eu[k].call(this,h)}catch(W){throw this[hi]=!1,W}if(L?z={type:S.event||m,escapeConnect:y,batch:N}:z=N[0],this[hi]=!1,!f){var G=this._messageCenter;if(G.trigger(z.type,z),B){var $={type:"selectchanged",escapeConnect:y,selected:e2e(v),isFromClick:h.isFromClick||!1,fromAction:h.type,fromActionPayload:h};G.trigger($.type,$)}}},Kv=function(h){for(var f=this._pendingActions;f.length;){var d=f.shift();gE.call(this,d,h)}},Zv=function(h){!h&&this.trigger("updated")},z8=function(h,f){h.on("rendered",function(d){f.trigger("rendered",d),h.animation.isFinished()&&!f[qi]&&!f._scheduler.unfinished&&!f._pendingActions.length&&f.trigger("finished")})},j8=function(h,f){h.on("mouseover",function(d){var v=d.target,m=Sh(v,r0);m&&(ZCe(m,d,f._api),Pa(f))}).on("mouseout",function(d){var v=d.target,m=Sh(v,r0);m&&(QCe(m,d,f._api),Pa(f))}).on("click",function(d){var v=d.target,m=Sh(v,function(S){return It(S).dataIndex!=null},!0);if(m){var y=m.selected?"unselect":"select",b=It(m);f._api.dispatchAction({type:y,dataType:b.dataType,dataIndexInside:b.dataIndex,seriesIndex:b.seriesIndex,isFromClick:!0})}})};function r(h){h.clearColorPalette(),h.eachSeries(function(f){f.clearColorPalette()})}function n(h){var f=[],d=[],v=!1;if(h.eachComponent(function(S,w){var k=w.get("zlevel")||0,M=w.get("z")||0,I=w.getZLevelKey();v=v||!!I,(S==="series"?d:f).push({zlevel:k,z:M,idx:w.componentIndex,type:S,key:I})}),v){var m=f.concat(d),y,b;ub(m,function(S,w){return S.zlevel===w.zlevel?S.z-w.z:S.zlevel-w.zlevel}),q(m,function(S){var w=h.getComponent(S.type,S.idx),k=S.zlevel,M=S.key;y!=null&&(k=Math.max(y,k)),M?(k===y&&M!==b&&k++,b=M):b&&(k===y&&k++,b=""),y=k,w.setZLevel(k)})}}mE=function(h,f,d,v,m){n(f),H8(h,f,d,v,m),q(h._chartsViews,function(y){y.__alive=!1}),ux(h,f,d,v,m),q(h._chartsViews,function(y){y.__alive||y.remove(f,d)})},H8=function(h,f,d,v,m,y){q(y||h._componentsViews,function(b){var S=b.__model;u(S,b),b.render(S,f,d,v),o(S,b),c(S,b)})},ux=function(h,f,d,v,m,y){var b=h._scheduler;m=Ne(m||{},{updatedSeries:f.getSeries()}),Es.trigger("series:beforeupdate",f,d,m);var S=!1;f.eachSeries(function(w){var k=h._chartsMap[w.__viewId];k.__alive=!0;var M=k.renderTask;b.updatePayload(M,v),u(w,k),y&&y.get(w.uid)&&M.dirty(),M.perform(b.getPerformArgs(M))&&(S=!0),k.group.silent=!!w.get("silent"),s(w,k),wF(w)}),b.unfinished=S||b.unfinished,Es.trigger("series:layoutlabels",f,d,m),Es.trigger("series:transition",f,d,m),f.eachSeries(function(w){var k=h._chartsMap[w.__viewId];o(w,k),c(w,k)}),a(h,f),Es.trigger("series:afterupdate",f,d,m)},Pa=function(h){h[hE]=!0,h.getZr().wakeUp()},U8=function(h){h[hE]&&(h.getZr().storage.traverse(function(f){Bd(f)||i(f)}),h[hE]=!1)};function i(h){for(var f=[],d=h.currentStates,v=0;v<d.length;v++){var m=d[v];m==="emphasis"||m==="blur"||m==="select"||f.push(m)}h.selected&&h.states.select&&f.push("select"),h.hoverState===xw&&h.states.emphasis?f.push("emphasis"):h.hoverState===q0&&h.states.blur&&f.push("blur"),h.useStates(f)}function a(h,f){var d=h._zr,v=d.storage,m=0;v.traverse(function(y){y.isGroup||m++}),m>f.get("hoverLayerThreshold")&&!Xt.node&&!Xt.worker&&f.eachSeries(function(y){if(!y.preventUsingHoverLayer){var b=h._chartsMap[y.__viewId];b.__alive&&b.eachRendered(function(S){S.states.emphasis&&(S.states.emphasis.hoverLayer=!0)})}})}function s(h,f){var d=h.get("blendMode")||null;f.eachRendered(function(v){v.isGroup||(v.style.blend=d)})}function o(h,f){if(!h.preventAutoZ){var d=h.get("z")||0,v=h.get("zlevel")||0;f.eachRendered(function(m){return l(m,d,v,-1/0),!0})}}function l(h,f,d,v){var m=h.getTextContent(),y=h.getTextGuideLine(),b=h.isGroup;if(b)for(var S=h.childrenRef(),w=0;w<S.length;w++)v=Math.max(l(S[w],f,d,v),v);else h.z=f,h.zlevel=d,v=Math.max(h.z2,v);if(m&&(m.z=f,m.zlevel=d,isFinite(v)&&(m.z2=v+2)),y){var k=h.textGuideLineConfig;y.z=f,y.zlevel=d,isFinite(v)&&(y.z2=v+(k&&k.showAbove?1:-1))}return v}function u(h,f){f.eachRendered(function(d){if(!Bd(d)){var v=d.getTextContent(),m=d.getTextGuideLine();d.stateTransition&&(d.stateTransition=null),v&&v.stateTransition&&(v.stateTransition=null),m&&m.stateTransition&&(m.stateTransition=null),d.hasState()?(d.prevStates=d.currentStates,d.clearStates()):d.prevStates&&(d.prevStates=null)}})}function c(h,f){var d=h.getModel("stateAnimation"),v=h.isAnimationEnabled(),m=d.get("duration"),y=m>0?{duration:m,delay:d.get("delay"),easing:d.get("easing")}:null;f.eachRendered(function(b){if(b.states&&b.states.emphasis){if(Bd(b))return;if(b instanceof qt&&a2e(b),b.__dirty){var S=b.prevStates;S&&b.useStates(S)}if(v){b.stateTransition=y;var w=b.getTextContent(),k=b.getTextGuideLine();w&&(w.stateTransition=y),k&&(k.stateTransition=y)}b.__dirty&&i(b)}})}V8=function(h){return new(function(f){_e(d,f);function d(){return f!==null&&f.apply(this,arguments)||this}return d.prototype.getCoordinateSystems=function(){return h._coordSysMgr.getCoordinateSystems()},d.prototype.getComponentByElement=function(v){for(;v;){var m=v.__ecComponentInfo;if(m!=null)return h._model.getComponent(m.mainType,m.index);v=v.parent}},d.prototype.enterEmphasis=function(v,m){Tl(v,m),Pa(h)},d.prototype.leaveEmphasis=function(v,m){Cl(v,m),Pa(h)},d.prototype.enterBlur=function(v){bq(v),Pa(h)},d.prototype.leaveBlur=function(v){ON(v),Pa(h)},d.prototype.enterSelect=function(v){Sq(v),Pa(h)},d.prototype.leaveSelect=function(v){_q(v),Pa(h)},d.prototype.getModel=function(){return h.getModel()},d.prototype.getViewOfComponentModel=function(v){return h.getViewOfComponentModel(v)},d.prototype.getViewOfSeriesModel=function(v){return h.getViewOfSeriesModel(v)},d}(hK))(h)},oZ=function(h){function f(d,v){for(var m=0;m<d.length;m++){var y=d[m];y[fE]=v}}q(pm,function(d,v){h._messageCenter.on(v,function(m){if(jS[h.group]&&h[fE]!==F8){if(m&&m.escapeConnect)return;var y=h.makeActionFromEvent(m),b=[];q(Rh,function(S){S!==h&&S.group===h.group&&b.push(S)}),f(b,F8),q(b,function(S){S[fE]!==Ike&&S.dispatchAction(y)}),f(b,Dke)}})})}}(),t}(cs),dP=BS.prototype;dP.on=rZ("on");dP.off=rZ("off");dP.one=function(e,t,r){var n=this;function i(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];t&&t.apply&&t.apply(this,a),n.off(e,i)}this.on.call(this,e,i,r)};var Mke=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];var FS={},pm={},gD=[],mD=[],zS=[],lZ={},yD={},Rh={},jS={},Lke=+new Date-0,Nke=+new Date-0,pP="_echarts_instance_";function Pke(e,t,r){var n=!(r&&r.ssr);if(n){var i=vP(e);if(i)return i}var a=new BS(e,t,r);return a.id="ec_"+Lke++,Rh[a.id]=a,n&&rq(e,pP,a.id),oZ(a),Es.trigger("afterinit",a),a}function Rke(e){if(Oe(e)){var t=e;e=null,q(t,function(r){r.group!=null&&(e=r.group)}),e=e||"g_"+Nke++,q(t,function(r){r.group=e})}return jS[e]=!0,e}function uZ(e){jS[e]=!1}var Oke=uZ;function Bke(e){Je(e)?e=Rh[e]:e instanceof BS||(e=vP(e)),e instanceof BS&&!e.isDisposed()&&e.dispose()}function vP(e){return Rh[YTe(e,pP)]}function Fke(e){return Rh[e]}function gP(e,t){lZ[e]=t}function mP(e){Ut(mD,e)<0&&mD.push(e)}function yP(e,t){xP(gD,e,t,_ke)}function cZ(e){Rw("afterinit",e)}function hZ(e){Rw("afterupdate",e)}function Rw(e,t){Es.on(e,t)}function Ys(e,t,r){vt(t)&&(r=t,t="");var n=St(e)?e.type:[e,e={event:t}][0];e.event=(e.event||n).toLowerCase(),t=e.event,!pm[t]&&(Si(B8.test(n)&&B8.test(t)),FS[n]||(FS[n]={action:r,actionInfo:e}),pm[t]=n)}function fZ(e,t){Wp.register(e,t)}function zke(e){var t=Wp.get(e);if(t)return t.getDimensionsInfo?t.getDimensionsInfo():t.dimensions.slice()}function dZ(e,t){xP(zS,e,t,QK,"layout")}function dc(e,t){xP(zS,e,t,JK,"visual")}var G8=[];function xP(e,t,r,n,i){if((vt(t)||St(t))&&(r=t,t=n),!(Ut(G8,r)>=0)){G8.push(r);var a=FK.wrapStageHandler(r,i);a.__prio=t,a.__raw=r,e.push(a)}}function bP(e,t){yD[e]=t}function jke(e){oX({createCanvas:e})}function pZ(e,t,r){var n=ZK("registerMap");n&&n(e,t,r)}function Hke(e){var t=ZK("getMap");return t&&t(e)}var vZ=QEe;dc(fP,TAe);dc(Pw,CAe);dc(Pw,EAe);dc(fP,zAe);dc(Pw,jAe);dc(eZ,pke);mP(dK);yP(bke,LEe);bP("default",AAe);Ys({type:Nh,event:Nh,update:Nh},ln);Ys({type:vb,event:vb,update:vb},ln);Ys({type:um,event:um,update:um},ln);Ys({type:gb,event:gb,update:gb},ln);Ys({type:cm,event:cm,update:cm},ln);gP("light",BAe);gP("dark",VK);var Vke={},W8=[],Uke={registerPreprocessor:mP,registerProcessor:yP,registerPostInit:cZ,registerPostUpdate:hZ,registerUpdateLifecycle:Rw,registerAction:Ys,registerCoordinateSystem:fZ,registerLayout:dZ,registerVisual:dc,registerTransform:vZ,registerLoading:bP,registerMap:pZ,registerImpl:vke,PRIORITY:tZ,ComponentModel:Yt,ComponentView:Nr,SeriesModel:Cr,ChartView:xr,registerComponentModel:function(e){Yt.registerClass(e)},registerComponentView:function(e){Nr.registerClass(e)},registerSeriesModel:function(e){Cr.registerClass(e)},registerChartView:function(e){xr.registerClass(e)},registerSubTypeDefaulter:function(e,t){Yt.registerSubTypeDefaulter(e,t)},registerPainter:function(e,t){UX(e,t)}};function Wt(e){if(Oe(e)){q(e,function(t){Wt(t)});return}Ut(W8,e)>=0||(W8.push(e),vt(e)&&(e={install:e}),e.install(Uke))}function Qv(e){return e==null?0:e.length||1}function $8(e){return e}var El=function(){function e(t,r,n,i,a,s){this._old=t,this._new=r,this._oldKeyGetter=n||$8,this._newKeyGetter=i||$8,this.context=a,this._diffModeMultiple=s==="multiple"}return e.prototype.add=function(t){return this._add=t,this},e.prototype.update=function(t){return this._update=t,this},e.prototype.updateManyToOne=function(t){return this._updateManyToOne=t,this},e.prototype.updateOneToMany=function(t){return this._updateOneToMany=t,this},e.prototype.updateManyToMany=function(t){return this._updateManyToMany=t,this},e.prototype.remove=function(t){return this._remove=t,this},e.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},e.prototype._executeOneToOne=function(){var t=this._old,r=this._new,n={},i=new Array(t.length),a=new Array(r.length);this._initIndexMap(t,null,i,"_oldKeyGetter"),this._initIndexMap(r,n,a,"_newKeyGetter");for(var s=0;s<t.length;s++){var o=i[s],l=n[o],u=Qv(l);if(u>1){var c=l.shift();l.length===1&&(n[o]=l[0]),this._update&&this._update(c,s)}else u===1?(n[o]=null,this._update&&this._update(l,s)):this._remove&&this._remove(s)}this._performRestAdd(a,n)},e.prototype._executeMultiple=function(){var t=this._old,r=this._new,n={},i={},a=[],s=[];this._initIndexMap(t,n,a,"_oldKeyGetter"),this._initIndexMap(r,i,s,"_newKeyGetter");for(var o=0;o<a.length;o++){var l=a[o],u=n[l],c=i[l],h=Qv(u),f=Qv(c);if(h>1&&f===1)this._updateManyToOne&&this._updateManyToOne(c,u),i[l]=null;else if(h===1&&f>1)this._updateOneToMany&&this._updateOneToMany(c,u),i[l]=null;else if(h===1&&f===1)this._update&&this._update(c,u),i[l]=null;else if(h>1&&f>1)this._updateManyToMany&&this._updateManyToMany(c,u),i[l]=null;else if(h>1)for(var d=0;d<h;d++)this._remove&&this._remove(u[d]);else this._remove&&this._remove(u)}this._performRestAdd(s,i)},e.prototype._performRestAdd=function(t,r){for(var n=0;n<t.length;n++){var i=t[n],a=r[i],s=Qv(a);if(s>1)for(var o=0;o<s;o++)this._add&&this._add(a[o]);else s===1&&this._add&&this._add(a);r[i]=null}},e.prototype._initIndexMap=function(t,r,n,i){for(var a=this._diffModeMultiple,s=0;s<t.length;s++){var o="_ec_"+this[i](t[s],s);if(a||(n[s]=o),!!r){var l=r[o],u=Qv(l);u===0?(r[o]=s,a&&n.push(o)):u===1?r[o]=[l,s]:l.push(s)}}},e}(),Gke=function(){function e(t,r){this._encode=t,this._schema=r}return e.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},e.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},e}();function Wke(e,t){var r={},n=r.encode={},i=ct(),a=[],s=[],o={};q(e.dimensions,function(f){var d=e.getDimensionInfo(f),v=d.coordDim;if(v){var m=d.coordDimIndex;yE(n,v)[m]=f,d.isExtraCoord||(i.set(v,1),$ke(d.type)&&(a[0]=f),yE(o,v)[m]=e.getDimensionIndex(d.name)),d.defaultTooltip&&s.push(f)}iK.each(function(y,b){var S=yE(n,b),w=d.otherDims[b];w!=null&&w!==!1&&(S[w]=d.name)})});var l=[],u={};i.each(function(f,d){var v=n[d];u[d]=v[0],l=l.concat(v)}),r.dataDimsOnCoord=l,r.dataDimIndicesOnCoord=Fe(l,function(f){return e.getDimensionInfo(f).storeDimIndex}),r.encodeFirstDimNotExtra=u;var c=n.label;c&&c.length&&(a=c.slice());var h=n.tooltip;return h&&h.length?s=h.slice():s.length||(s=a.slice()),n.defaultedLabel=a,n.defaultedTooltip=s,r.userOutput=new Gke(o,t),r}function yE(e,t){return e.hasOwnProperty(t)||(e[t]=[]),e[t]}function HS(e){return e==="category"?"ordinal":e==="time"?"time":"float"}function $ke(e){return!(e==="ordinal"||e==="time")}var Sb=function(){function e(t){this.otherDims={},t!=null&&Ne(this,t)}return e}(),Yke=tr(),Xke={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},gZ=function(){function e(t){this.dimensions=t.dimensions,this._dimOmitted=t.dimensionOmitted,this.source=t.source,this._fullDimCount=t.fullDimensionCount,this._updateDimOmitted(t.dimensionOmitted)}return e.prototype.isDimensionOmitted=function(){return this._dimOmitted},e.prototype._updateDimOmitted=function(t){this._dimOmitted=t,t&&(this._dimNameMap||(this._dimNameMap=xZ(this.source)))},e.prototype.getSourceDimensionIndex=function(t){return Mt(this._dimNameMap.get(t),-1)},e.prototype.getSourceDimension=function(t){var r=this.source.dimensionsDefine;if(r)return r[t]},e.prototype.makeStoreSchema=function(){for(var t=this._fullDimCount,r=vK(this.source),n=!bZ(t),i="",a=[],s=0,o=0;s<t;s++){var l=void 0,u=void 0,c=void 0,h=this.dimensions[o];if(h&&h.storeDimIndex===s)l=r?h.name:null,u=h.type,c=h.ordinalMeta,o++;else{var f=this.getSourceDimension(s);f&&(l=r?f.name:null,u=f.type)}a.push({property:l,type:u,ordinalMeta:c}),r&&l!=null&&(!h||!h.isCalculationCoord)&&(i+=n?l.replace(/\`/g,"`1").replace(/\$/g,"`2"):l),i+="$",i+=Xke[u]||"f",c&&(i+=c.uid),i+="$"}var d=this.source,v=[d.seriesLayoutBy,d.startIndex,i].join("$$");return{dimensions:a,hash:v}},e.prototype.makeOutputDimensionNames=function(){for(var t=[],r=0,n=0;r<this._fullDimCount;r++){var i=void 0,a=this.dimensions[n];if(a&&a.storeDimIndex===r)a.isCalculationCoord||(i=a.name),n++;else{var s=this.getSourceDimension(r);s&&(i=s.name)}t.push(i)}return t},e.prototype.appendCalculationDimension=function(t){this.dimensions.push(t),t.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},e}();function mZ(e){return e instanceof gZ}function yZ(e){for(var t=ct(),r=0;r<(e||[]).length;r++){var n=e[r],i=St(n)?n.name:n;i!=null&&t.get(i)==null&&t.set(i,r)}return t}function xZ(e){var t=Yke(e);return t.dimNameMap||(t.dimNameMap=yZ(e.dimensionsDefine))}function bZ(e){return e>30}var Jv=St,tu=Fe,qke=typeof Int32Array>"u"?Array:Int32Array,Kke="e\0\0",Y8=-1,Zke=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],Qke=["_approximateExtent"],X8,cx,eg,tg,xE,rg,bE,xi=function(){function e(t,r){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","minmaxDownSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","minmaxDownSample","lttbDownSample"];var n,i=!1;mZ(t)?(n=t.dimensions,this._dimOmitted=t.isDimensionOmitted(),this._schema=t):(i=!0,n=t),n=n||["x","y"];for(var a={},s=[],o={},l=!1,u={},c=0;c<n.length;c++){var h=n[c],f=Je(h)?new Sb({name:h}):h instanceof Sb?h:new Sb(h),d=f.name;f.type=f.type||"float",f.coordDim||(f.coordDim=d,f.coordDimIndex=0);var v=f.otherDims=f.otherDims||{};s.push(d),a[d]=f,u[d]!=null&&(l=!0),f.createInvertedIndices&&(o[d]=[]),v.itemName===0&&(this._nameDimIdx=c),v.itemId===0&&(this._idDimIdx=c),i&&(f.storeDimIndex=c)}if(this.dimensions=s,this._dimInfos=a,this._initGetDimensionInfo(l),this.hostModel=r,this._invertedIndicesMap=o,this._dimOmitted){var m=this._dimIdxToName=ct();q(s,function(y){m.set(a[y].storeDimIndex,y)})}}return e.prototype.getDimension=function(t){var r=this._recognizeDimIndex(t);if(r==null)return t;if(r=t,!this._dimOmitted)return this.dimensions[r];var n=this._dimIdxToName.get(r);if(n!=null)return n;var i=this._schema.getSourceDimension(r);if(i)return i.name},e.prototype.getDimensionIndex=function(t){var r=this._recognizeDimIndex(t);if(r!=null)return r;if(t==null)return-1;var n=this._getDimInfo(t);return n?n.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(t):-1},e.prototype._recognizeDimIndex=function(t){if(ar(t)||t!=null&&!isNaN(t)&&!this._getDimInfo(t)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(t)<0))return+t},e.prototype._getStoreDimIndex=function(t){var r=this.getDimensionIndex(t);return r},e.prototype.getDimensionInfo=function(t){return this._getDimInfo(this.getDimension(t))},e.prototype._initGetDimensionInfo=function(t){var r=this._dimInfos;this._getDimInfo=t?function(n){return r.hasOwnProperty(n)?r[n]:void 0}:function(n){return r[n]}},e.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},e.prototype.mapDimension=function(t,r){var n=this._dimSummary;if(r==null)return n.encodeFirstDimNotExtra[t];var i=n.encode[t];return i?i[r]:null},e.prototype.mapDimensionsAll=function(t){var r=this._dimSummary,n=r.encode[t];return(n||[]).slice()},e.prototype.getStore=function(){return this._store},e.prototype.initData=function(t,r,n){var i=this,a;if(t instanceof uD&&(a=t),!a){var s=this.dimensions,o=aP(t)||ai(t)?new gK(t,s.length):t;a=new uD;var l=tu(s,function(u){return{type:i._dimInfos[u].type,property:u}});a.initData(o,l,n)}this._store=a,this._nameList=(r||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,a.count()),this._dimSummary=Wke(this,this._schema),this.userOutput=this._dimSummary.userOutput},e.prototype.appendData=function(t){var r=this._store.appendData(t);this._doInit(r[0],r[1])},e.prototype.appendValues=function(t,r){var n=this._store.appendValues(t,r&&r.length),i=n.start,a=n.end,s=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),r)for(var o=i;o<a;o++){var l=o-i;this._nameList[o]=r[l],s&&bE(this,o)}},e.prototype._updateOrdinalMeta=function(){for(var t=this._store,r=this.dimensions,n=0;n<r.length;n++){var i=this._dimInfos[r[n]];i.ordinalMeta&&t.collectOrdinalMeta(i.storeDimIndex,i.ordinalMeta)}},e.prototype._shouldMakeIdFromName=function(){var t=this._store.getProvider();return this._idDimIdx==null&&t.getSource().sourceFormat!==Uu&&!t.fillStorage},e.prototype._doInit=function(t,r){if(!(t>=r)){var n=this._store,i=n.getProvider();this._updateOrdinalMeta();var a=this._nameList,s=this._idList,o=i.getSource().sourceFormat,l=o===fs;if(l&&!i.pure)for(var u=[],c=t;c<r;c++){var h=i.getItem(c,u);if(!this.hasItemOption&&PTe(h)&&(this.hasItemOption=!0),h){var f=h.name;a[c]==null&&f!=null&&(a[c]=En(f,null));var d=h.id;s[c]==null&&d!=null&&(s[c]=En(d,null))}}if(this._shouldMakeIdFromName())for(var c=t;c<r;c++)bE(this,c);X8(this)}},e.prototype.getApproximateExtent=function(t){return this._approximateExtent[t]||this._store.getDataExtent(this._getStoreDimIndex(t))},e.prototype.setApproximateExtent=function(t,r){r=this.getDimension(r),this._approximateExtent[r]=t.slice()},e.prototype.getCalculationInfo=function(t){return this._calculationInfo[t]},e.prototype.setCalculationInfo=function(t,r){Jv(t)?Ne(this._calculationInfo,t):this._calculationInfo[t]=r},e.prototype.getName=function(t){var r=this.getRawIndex(t),n=this._nameList[r];return n==null&&this._nameDimIdx!=null&&(n=eg(this,this._nameDimIdx,r)),n==null&&(n=""),n},e.prototype._getCategory=function(t,r){var n=this._store.get(t,r),i=this._store.getOrdinalMeta(t);return i?i.categories[n]:n},e.prototype.getId=function(t){return cx(this,this.getRawIndex(t))},e.prototype.count=function(){return this._store.count()},e.prototype.get=function(t,r){var n=this._store,i=this._dimInfos[t];if(i)return n.get(i.storeDimIndex,r)},e.prototype.getByRawIndex=function(t,r){var n=this._store,i=this._dimInfos[t];if(i)return n.getByRawIndex(i.storeDimIndex,r)},e.prototype.getIndices=function(){return this._store.getIndices()},e.prototype.getDataExtent=function(t){return this._store.getDataExtent(this._getStoreDimIndex(t))},e.prototype.getSum=function(t){return this._store.getSum(this._getStoreDimIndex(t))},e.prototype.getMedian=function(t){return this._store.getMedian(this._getStoreDimIndex(t))},e.prototype.getValues=function(t,r){var n=this,i=this._store;return Oe(t)?i.getValues(tu(t,function(a){return n._getStoreDimIndex(a)}),r):i.getValues(t)},e.prototype.hasValue=function(t){for(var r=this._dimSummary.dataDimIndicesOnCoord,n=0,i=r.length;n<i;n++)if(isNaN(this._store.get(r[n],t)))return!1;return!0},e.prototype.indexOfName=function(t){for(var r=0,n=this._store.count();r<n;r++)if(this.getName(r)===t)return r;return-1},e.prototype.getRawIndex=function(t){return this._store.getRawIndex(t)},e.prototype.indexOfRawIndex=function(t){return this._store.indexOfRawIndex(t)},e.prototype.rawIndexOf=function(t,r){var n=t&&this._invertedIndicesMap[t],i=n&&n[r];return i==null||isNaN(i)?Y8:i},e.prototype.indicesOfNearest=function(t,r,n){return this._store.indicesOfNearest(this._getStoreDimIndex(t),r,n)},e.prototype.each=function(t,r,n){vt(t)&&(n=r,r=t,t=[]);var i=n||this,a=tu(tg(t),this._getStoreDimIndex,this);this._store.each(a,i?rt(r,i):r)},e.prototype.filterSelf=function(t,r,n){vt(t)&&(n=r,r=t,t=[]);var i=n||this,a=tu(tg(t),this._getStoreDimIndex,this);return this._store=this._store.filter(a,i?rt(r,i):r),this},e.prototype.selectRange=function(t){var r=this,n={},i=Kt(t);return q(i,function(a){var s=r._getStoreDimIndex(a);n[s]=t[a]}),this._store=this._store.selectRange(n),this},e.prototype.mapArray=function(t,r,n){vt(t)&&(n=r,r=t,t=[]),n=n||this;var i=[];return this.each(t,function(){i.push(r&&r.apply(this,arguments))},n),i},e.prototype.map=function(t,r,n,i){var a=n||i||this,s=tu(tg(t),this._getStoreDimIndex,this),o=rg(this);return o._store=this._store.map(s,a?rt(r,a):r),o},e.prototype.modify=function(t,r,n,i){var a=n||i||this,s=tu(tg(t),this._getStoreDimIndex,this);this._store.modify(s,a?rt(r,a):r)},e.prototype.downSample=function(t,r,n,i){var a=rg(this);return a._store=this._store.downSample(this._getStoreDimIndex(t),r,n,i),a},e.prototype.minmaxDownSample=function(t,r){var n=rg(this);return n._store=this._store.minmaxDownSample(this._getStoreDimIndex(t),r),n},e.prototype.lttbDownSample=function(t,r){var n=rg(this);return n._store=this._store.lttbDownSample(this._getStoreDimIndex(t),r),n},e.prototype.getRawDataItem=function(t){return this._store.getRawDataItem(t)},e.prototype.getItemModel=function(t){var r=this.hostModel,n=this.getRawDataItem(t);return new ur(n,r,r&&r.ecModel)},e.prototype.diff=function(t){var r=this;return new El(t?t.getStore().getIndices():[],this.getStore().getIndices(),function(n){return cx(t,n)},function(n){return cx(r,n)})},e.prototype.getVisual=function(t){var r=this._visual;return r&&r[t]},e.prototype.setVisual=function(t,r){this._visual=this._visual||{},Jv(t)?Ne(this._visual,t):this._visual[t]=r},e.prototype.getItemVisual=function(t,r){var n=this._itemVisuals[t],i=n&&n[r];return i??this.getVisual(r)},e.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},e.prototype.ensureUniqueItemVisual=function(t,r){var n=this._itemVisuals,i=n[t];i||(i=n[t]={});var a=i[r];return a==null&&(a=this.getVisual(r),Oe(a)?a=a.slice():Jv(a)&&(a=Ne({},a)),i[r]=a),a},e.prototype.setItemVisual=function(t,r,n){var i=this._itemVisuals[t]||{};this._itemVisuals[t]=i,Jv(r)?Ne(i,r):i[r]=n},e.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},e.prototype.setLayout=function(t,r){Jv(t)?Ne(this._layout,t):this._layout[t]=r},e.prototype.getLayout=function(t){return this._layout[t]},e.prototype.getItemLayout=function(t){return this._itemLayouts[t]},e.prototype.setItemLayout=function(t,r,n){this._itemLayouts[t]=n?Ne(this._itemLayouts[t]||{},r):r},e.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},e.prototype.setItemGraphicEl=function(t,r){var n=this.hostModel&&this.hostModel.seriesIndex;KI(n,this.dataType,t,r),this._graphicEls[t]=r},e.prototype.getItemGraphicEl=function(t){return this._graphicEls[t]},e.prototype.eachItemGraphicEl=function(t,r){q(this._graphicEls,function(n,i){n&&t&&t.call(r,n,i)})},e.prototype.cloneShallow=function(t){return t||(t=new e(this._schema?this._schema:tu(this.dimensions,this._getDimInfo,this),this.hostModel)),xE(t,this),t._store=this._store,t},e.prototype.wrapMethod=function(t,r){var n=this[t];vt(n)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var i=n.apply(this,arguments);return r.apply(this,[i].concat(ow(arguments)))})},e.internalField=function(){X8=function(t){var r=t._invertedIndicesMap;q(r,function(n,i){var a=t._dimInfos[i],s=a.ordinalMeta,o=t._store;if(s){n=r[i]=new qke(s.categories.length);for(var l=0;l<n.length;l++)n[l]=Y8;for(var l=0;l<o.count();l++)n[o.get(a.storeDimIndex,l)]=l}})},eg=function(t,r,n){return En(t._getCategory(r,n),null)},cx=function(t,r){var n=t._idList[r];return n==null&&t._idDimIdx!=null&&(n=eg(t,t._idDimIdx,r)),n==null&&(n=Kke+r),n},tg=function(t){return Oe(t)||(t=t!=null?[t]:[]),t},rg=function(t){var r=new e(t._schema?t._schema:tu(t.dimensions,t._getDimInfo,t),t.hostModel);return xE(r,t),r},xE=function(t,r){q(Zke.concat(r.__wrappedMethods||[]),function(n){r.hasOwnProperty(n)&&(t[n]=r[n])}),t.__wrappedMethods=r.__wrappedMethods,q(Qke,function(n){t[n]=_t(r[n])}),t._calculationInfo=Ne({},r._calculationInfo)},bE=function(t,r){var n=t._nameList,i=t._idList,a=t._nameDimIdx,s=t._idDimIdx,o=n[r],l=i[r];if(o==null&&a!=null&&(n[r]=o=eg(t,a,r)),l==null&&s!=null&&(i[r]=l=eg(t,s,r)),l==null&&o!=null){var u=t._nameRepeatCount,c=u[o]=(u[o]||0)+1;l=o,c>1&&(l+="__ec__"+c),i[r]=l}}}(),e}();function Jke(e,t){return qp(e,t).dimensions}function qp(e,t){aP(e)||(e=sP(e)),t=t||{};var r=t.coordDimensions||[],n=t.dimensionsDefine||e.dimensionsDefine||[],i=ct(),a=[],s=tIe(e,r,n,t.dimensionsCount),o=t.canOmitUnusedDimensions&&bZ(s),l=n===e.dimensionsDefine,u=l?xZ(e):yZ(n),c=t.encodeDefine;!c&&t.encodeDefaulter&&(c=t.encodeDefaulter(e,s));for(var h=ct(c),f=new TK(s),d=0;d<f.length;d++)f[d]=-1;function v(z){var B=f[z];if(B<0){var H=n[z],G=St(H)?H:{name:H},$=new Sb,W=G.name;W!=null&&u.get(W)!=null&&($.name=$.displayName=W),G.type!=null&&($.type=G.type),G.displayName!=null&&($.displayName=G.displayName);var X=a.length;return f[z]=X,$.storeDimIndex=z,a.push($),$}return a[B]}if(!o)for(var d=0;d<s;d++)v(d);h.each(function(z,B){var H=Tr(z).slice();if(H.length===1&&!Je(H[0])&&H[0]<0){h.set(B,!1);return}var G=h.set(B,[]);q(H,function($,W){var X=Je($)?u.get($):$;X!=null&&X<s&&(G[W]=X,y(v(X),B,W))})});var m=0;q(r,function(z){var B,H,G,$;if(Je(z))B=z,$={};else{$=z,B=$.name;var W=$.ordinalMeta;$.ordinalMeta=null,$=Ne({},$),$.ordinalMeta=W,H=$.dimsDef,G=$.otherDims,$.name=$.coordDim=$.coordDimIndex=$.dimsDef=$.otherDims=null}var X=h.get(B);if(X!==!1){if(X=Tr(X),!X.length)for(var ee=0;ee<(H&&H.length||1);ee++){for(;m<s&&v(m).coordDim!=null;)m++;m<s&&X.push(m++)}q(X,function(le,ie){var fe=v(le);if(l&&$.type!=null&&(fe.type=$.type),y(yt(fe,$),B,ie),fe.name==null&&H){var re=H[ie];!St(re)&&(re={name:re}),fe.name=fe.displayName=re.name,fe.defaultTooltip=re.defaultTooltip}G&&yt(fe.otherDims,G)})}});function y(z,B,H){iK.get(B)!=null?z.otherDims[B]=H:(z.coordDim=B,z.coordDimIndex=H,i.set(B,!0))}var b=t.generateCoord,S=t.generateCoordCount,w=S!=null;S=b?S||1:0;var k=b||"value";function M(z){z.name==null&&(z.name=z.coordDim)}if(o)q(a,function(z){M(z)}),a.sort(function(z,B){return z.storeDimIndex-B.storeDimIndex});else for(var I=0;I<s;I++){var L=v(I),N=L.coordDim;N==null&&(L.coordDim=rIe(k,i,w),L.coordDimIndex=0,(!b||S<=0)&&(L.isExtraCoord=!0),S--),M(L),L.type==null&&(lK(e,I)===ei.Must||L.isExtraCoord&&(L.otherDims.itemName!=null||L.otherDims.seriesName!=null))&&(L.type="ordinal")}return eIe(a),new gZ({source:e,dimensions:a,fullDimensionCount:s,dimensionOmitted:o})}function eIe(e){for(var t=ct(),r=0;r<e.length;r++){var n=e[r],i=n.name,a=t.get(i)||0;a>0&&(n.name=i+(a-1)),a++,t.set(i,a)}}function tIe(e,t,r,n){var i=Math.max(e.dimensionsDetectedCount||1,t.length,r.length,n||0);return q(t,function(a){var s;St(a)&&(s=a.dimsDef)&&(i=Math.max(i,s.length))}),i}function rIe(e,t,r){if(r||t.hasKey(e)){for(var n=0;t.hasKey(e+n);)n++;e+=n}return t.set(e,!0),e}var nIe=function(){function e(t){this.coordSysDims=[],this.axisMap=ct(),this.categoryAxisMap=ct(),this.coordSysName=t}return e}();function iIe(e){var t=e.get("coordinateSystem"),r=new nIe(t),n=aIe[t];if(n)return n(e,r,r.axisMap,r.categoryAxisMap),r}var aIe={cartesian2d:function(e,t,r,n){var i=e.getReferringComponents("xAxis",bn).models[0],a=e.getReferringComponents("yAxis",bn).models[0];t.coordSysDims=["x","y"],r.set("x",i),r.set("y",a),$f(i)&&(n.set("x",i),t.firstCategoryDimIndex=0),$f(a)&&(n.set("y",a),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=1))},singleAxis:function(e,t,r,n){var i=e.getReferringComponents("singleAxis",bn).models[0];t.coordSysDims=["single"],r.set("single",i),$f(i)&&(n.set("single",i),t.firstCategoryDimIndex=0)},polar:function(e,t,r,n){var i=e.getReferringComponents("polar",bn).models[0],a=i.findAxisModel("radiusAxis"),s=i.findAxisModel("angleAxis");t.coordSysDims=["radius","angle"],r.set("radius",a),r.set("angle",s),$f(a)&&(n.set("radius",a),t.firstCategoryDimIndex=0),$f(s)&&(n.set("angle",s),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=1))},geo:function(e,t,r,n){t.coordSysDims=["lng","lat"]},parallel:function(e,t,r,n){var i=e.ecModel,a=i.getComponent("parallel",e.get("parallelIndex")),s=t.coordSysDims=a.dimensions.slice();q(a.parallelAxisIndex,function(o,l){var u=i.getComponent("parallelAxis",o),c=s[l];r.set(c,u),$f(u)&&(n.set(c,u),t.firstCategoryDimIndex==null&&(t.firstCategoryDimIndex=l))})}};function $f(e){return e.get("type")==="category"}function SZ(e,t,r){r=r||{};var n=r.byIndex,i=r.stackedCoordDimension,a,s,o;sIe(t)?a=t:(s=t.schema,a=s.dimensions,o=t.store);var l=!!(e&&e.get("stack")),u,c,h,f;if(q(a,function(S,w){Je(S)&&(a[w]=S={name:S}),l&&!S.isExtraCoord&&(!n&&!u&&S.ordinalMeta&&(u=S),!c&&S.type!=="ordinal"&&S.type!=="time"&&(!i||i===S.coordDim)&&(c=S))}),c&&!n&&!u&&(n=!0),c){h="__\0ecstackresult_"+e.id,f="__\0ecstackedover_"+e.id,u&&(u.createInvertedIndices=!0);var d=c.coordDim,v=c.type,m=0;q(a,function(S){S.coordDim===d&&m++});var y={name:h,coordDim:d,coordDimIndex:m,type:v,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:a.length},b={name:f,coordDim:f,coordDimIndex:m+1,type:v,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:a.length+1};s?(o&&(y.storeDimIndex=o.ensureCalculationDimension(f,v),b.storeDimIndex=o.ensureCalculationDimension(h,v)),s.appendCalculationDimension(y),s.appendCalculationDimension(b)):(a.push(y),a.push(b))}return{stackedDimension:c&&c.name,stackedByDimension:u&&u.name,isStackedByIndex:n,stackedOverDimension:f,stackResultDimension:h}}function sIe(e){return!mZ(e.schema)}function Al(e,t){return!!t&&t===e.getCalculationInfo("stackedDimension")}function SP(e,t){return Al(e,t)?e.getCalculationInfo("stackResultDimension"):t}function oIe(e,t){var r=e.get("coordinateSystem"),n=Wp.get(r),i;return t&&t.coordSysDims&&(i=Fe(t.coordSysDims,function(a){var s={name:a},o=t.axisMap.get(a);if(o){var l=o.get("type");s.type=HS(l)}return s})),i||(i=n&&(n.getDimensionsInfo?n.getDimensionsInfo():n.dimensions.slice())||["x","y"]),i}function lIe(e,t,r){var n,i;return r&&q(e,function(a,s){var o=a.coordDim,l=r.categoryAxisMap.get(o);l&&(n==null&&(n=s),a.ordinalMeta=l.getOrdinalMeta(),t&&(a.createInvertedIndices=!0)),a.otherDims.itemName!=null&&(i=!0)}),!i&&n!=null&&(e[n].otherDims.itemName=0),n}function Vo(e,t,r){r=r||{};var n=t.getSourceManager(),i,a=!1;e?(a=!0,i=sP(e)):(i=n.getSource(),a=i.sourceFormat===fs);var s=iIe(t),o=oIe(t,s),l=r.useEncodeDefaulter,u=vt(l)?l:l?Lt(oK,o,t):null,c={coordDimensions:o,generateCoord:r.generateCoord,encodeDefine:t.getEncode(),encodeDefaulter:u,canOmitUnusedDimensions:!a},h=qp(i,c),f=lIe(h.dimensions,r.createInvertedIndices,s),d=a?null:n.getSharedDataStore(h),v=SZ(t,{schema:h,store:d}),m=new xi(h,t);m.setCalculationInfo(v);var y=f!=null&&uIe(i)?function(b,S,w,k){return k===f?w:this.defaultDimValueGetter(b,S,w,k)}:null;return m.hasItemOption=!1,m.initData(a?i:d,null,y),m}function uIe(e){if(e.sourceFormat===fs){var t=cIe(e.data||[]);return!Oe(Pp(t))}}function cIe(e){for(var t=0;t<e.length&&e[t]==null;)t++;return e[t]}var Uo=function(){function e(t){this._setting=t||{},this._extent=[1/0,-1/0]}return e.prototype.getSetting=function(t){return this._setting[t]},e.prototype.unionExtent=function(t){var r=this._extent;t[0]<r[0]&&(r[0]=t[0]),t[1]>r[1]&&(r[1]=t[1])},e.prototype.unionExtentFromData=function(t,r){this.unionExtent(t.getApproximateExtent(r))},e.prototype.getExtent=function(){return this._extent.slice()},e.prototype.setExtent=function(t,r){var n=this._extent;isNaN(t)||(n[0]=t),isNaN(r)||(n[1]=r)},e.prototype.isInExtentRange=function(t){return this._extent[0]<=t&&this._extent[1]>=t},e.prototype.isBlank=function(){return this._isBlank},e.prototype.setBlank=function(t){this._isBlank=t},e}();vw(Uo);var hIe=0,xD=function(){function e(t){this.categories=t.categories||[],this._needCollect=t.needCollect,this._deduplication=t.deduplication,this.uid=++hIe}return e.createByAxisModel=function(t){var r=t.option,n=r.data,i=n&&Fe(n,fIe);return new e({categories:i,needCollect:!i,deduplication:r.dedplication!==!1})},e.prototype.getOrdinal=function(t){return this._getOrCreateMap().get(t)},e.prototype.parseAndCollect=function(t){var r,n=this._needCollect;if(!Je(t)&&!n)return t;if(n&&!this._deduplication)return r=this.categories.length,this.categories[r]=t,r;var i=this._getOrCreateMap();return r=i.get(t),r==null&&(n?(r=this.categories.length,this.categories[r]=t,i.set(t,r)):r=NaN),r},e.prototype._getOrCreateMap=function(){return this._map||(this._map=ct(this.categories))},e}();function fIe(e){return St(e)&&e.value!=null?e.value:e+""}function bD(e){return e.type==="interval"||e.type==="log"}function dIe(e,t,r,n){var i={},a=e[1]-e[0],s=i.interval=EN(a/t,!0);r!=null&&s<r&&(s=i.interval=r),n!=null&&s>n&&(s=i.interval=n);var o=i.intervalPrecision=_Z(s),l=i.niceTickExtent=[rn(Math.ceil(e[0]/s)*s,o),rn(Math.floor(e[1]/s)*s,o)];return pIe(l,e),i}function SE(e){var t=Math.pow(10,pw(e)),r=e/t;return r?r===2?r=3:r===3?r=5:r*=2:r=1,rn(r*t)}function _Z(e){return Ms(e)+2}function q8(e,t,r){e[t]=Math.max(Math.min(e[t],r[1]),r[0])}function pIe(e,t){!isFinite(e[0])&&(e[0]=t[0]),!isFinite(e[1])&&(e[1]=t[1]),q8(e,0,t),q8(e,1,t),e[0]>e[1]&&(e[0]=e[1])}function Ow(e,t){return e>=t[0]&&e<=t[1]}function Bw(e,t){return t[1]===t[0]?.5:(e-t[0])/(t[1]-t[0])}function Fw(e,t){return e*(t[1]-t[0])+t[0]}var zw=function(e){_e(t,e);function t(r){var n=e.call(this,r)||this;n.type="ordinal";var i=n.getSetting("ordinalMeta");return i||(i=new xD({})),Oe(i)&&(i=new xD({categories:Fe(i,function(a){return St(a)?a.value:a})})),n._ordinalMeta=i,n._extent=n.getSetting("extent")||[0,i.categories.length-1],n}return t.prototype.parse=function(r){return r==null?NaN:Je(r)?this._ordinalMeta.getOrdinal(r):Math.round(r)},t.prototype.contain=function(r){return r=this.parse(r),Ow(r,this._extent)&&this._ordinalMeta.categories[r]!=null},t.prototype.normalize=function(r){return r=this._getTickNumber(this.parse(r)),Bw(r,this._extent)},t.prototype.scale=function(r){return r=Math.round(Fw(r,this._extent)),this.getRawOrdinalNumber(r)},t.prototype.getTicks=function(){for(var r=[],n=this._extent,i=n[0];i<=n[1];)r.push({value:i}),i++;return r},t.prototype.getMinorTicks=function(r){},t.prototype.setSortInfo=function(r){if(r==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var n=r.ordinalNumbers,i=this._ordinalNumbersByTick=[],a=this._ticksByOrdinalNumber=[],s=0,o=this._ordinalMeta.categories.length,l=Math.min(o,n.length);s<l;++s){var u=n[s];i[s]=u,a[u]=s}for(var c=0;s<o;++s){for(;a[c]!=null;)c++;i.push(c),a[c]=s}},t.prototype._getTickNumber=function(r){var n=this._ticksByOrdinalNumber;return n&&r>=0&&r<n.length?n[r]:r},t.prototype.getRawOrdinalNumber=function(r){var n=this._ordinalNumbersByTick;return n&&r>=0&&r<n.length?n[r]:r},t.prototype.getLabel=function(r){if(!this.isBlank()){var n=this.getRawOrdinalNumber(r.value),i=this._ordinalMeta.categories[n];return i==null?"":i+""}},t.prototype.count=function(){return this._extent[1]-this._extent[0]+1},t.prototype.unionExtentFromData=function(r,n){this.unionExtent(r.getApproximateExtent(n))},t.prototype.isInExtentRange=function(r){return r=this._getTickNumber(r),this._extent[0]<=r&&this._extent[1]>=r},t.prototype.getOrdinalMeta=function(){return this._ordinalMeta},t.prototype.calcNiceTicks=function(){},t.prototype.calcNiceExtent=function(){},t.type="ordinal",t}(Uo);Uo.registerClass(zw);var Yc=rn,kl=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type="interval",r._interval=0,r._intervalPrecision=2,r}return t.prototype.parse=function(r){return r},t.prototype.contain=function(r){return Ow(r,this._extent)},t.prototype.normalize=function(r){return Bw(r,this._extent)},t.prototype.scale=function(r){return Fw(r,this._extent)},t.prototype.setExtent=function(r,n){var i=this._extent;isNaN(r)||(i[0]=parseFloat(r)),isNaN(n)||(i[1]=parseFloat(n))},t.prototype.unionExtent=function(r){var n=this._extent;r[0]<n[0]&&(n[0]=r[0]),r[1]>n[1]&&(n[1]=r[1]),this.setExtent(n[0],n[1])},t.prototype.getInterval=function(){return this._interval},t.prototype.setInterval=function(r){this._interval=r,this._niceExtent=this._extent.slice(),this._intervalPrecision=_Z(r)},t.prototype.getTicks=function(r){var n=this._interval,i=this._extent,a=this._niceExtent,s=this._intervalPrecision,o=[];if(!n)return o;var l=1e4;i[0]<a[0]&&(r?o.push({value:Yc(a[0]-n,s)}):o.push({value:i[0]}));for(var u=a[0];u<=a[1]&&(o.push({value:u}),u=Yc(u+n,s),u!==o[o.length-1].value);)if(o.length>l)return[];var c=o.length?o[o.length-1].value:a[1];return i[1]>c&&(r?o.push({value:Yc(c+n,s)}):o.push({value:i[1]})),o},t.prototype.getMinorTicks=function(r){for(var n=this.getTicks(!0),i=[],a=this.getExtent(),s=1;s<n.length;s++){for(var o=n[s],l=n[s-1],u=0,c=[],h=o.value-l.value,f=h/r;u<r-1;){var d=Yc(l.value+(u+1)*f);d>a[0]&&d<a[1]&&c.push(d),u++}i.push(c)}return i},t.prototype.getLabel=function(r,n){if(r==null)return"";var i=n&&n.precision;i==null?i=Ms(r.value)||0:i==="auto"&&(i=this._intervalPrecision);var a=Yc(r.value,i,!0);return ZN(a)},t.prototype.calcNiceTicks=function(r,n,i){r=r||5;var a=this._extent,s=a[1]-a[0];if(isFinite(s)){s<0&&(s=-s,a.reverse());var o=dIe(a,r,n,i);this._intervalPrecision=o.intervalPrecision,this._interval=o.interval,this._niceExtent=o.niceTickExtent}},t.prototype.calcNiceExtent=function(r){var n=this._extent;if(n[0]===n[1])if(n[0]!==0){var i=Math.abs(n[0]);r.fixMax||(n[1]+=i/2),n[0]-=i/2}else n[1]=1;var a=n[1]-n[0];isFinite(a)||(n[0]=0,n[1]=1),this.calcNiceTicks(r.splitNumber,r.minInterval,r.maxInterval);var s=this._interval;r.fixMin||(n[0]=Yc(Math.floor(n[0]/s)*s)),r.fixMax||(n[1]=Yc(Math.ceil(n[1]/s)*s))},t.prototype.setNiceExtent=function(r,n){this._niceExtent=[r,n]},t.type="interval",t}(Uo);Uo.registerClass(kl);var wZ=typeof Float32Array<"u",vIe=wZ?Float32Array:Array;function wo(e){return Oe(e)?wZ?new Float32Array(e):e:new vIe(e)}var SD="__ec_stack_";function TZ(e){return e.get("stack")||SD+e.seriesIndex}function _P(e){return e.dim+e.index}function gIe(e){var t=[],r=e.axis,n="axis0";if(r.type==="category"){for(var i=r.getBandWidth(),a=0;a<e.count;a++)t.push(yt({bandWidth:i,axisKey:n,stackId:SD+a},e));for(var s=AZ(t),o=[],a=0;a<e.count;a++){var l=s[n][SD+a];l.offsetCenter=l.offset+l.width/2,o.push(l)}return o}}function CZ(e,t){var r=[];return t.eachSeriesByType(e,function(n){DZ(n)&&r.push(n)}),r}function mIe(e){var t={};q(e,function(l){var u=l.coordinateSystem,c=u.getBaseAxis();if(!(c.type!=="time"&&c.type!=="value"))for(var h=l.getData(),f=c.dim+"_"+c.index,d=h.getDimensionIndex(h.mapDimension(c.dim)),v=h.getStore(),m=0,y=v.count();m<y;++m){var b=v.get(d,m);t[f]?t[f].push(b):t[f]=[b]}});var r={};for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];if(i){i.sort(function(l,u){return l-u});for(var a=null,s=1;s<i.length;++s){var o=i[s]-i[s-1];o>0&&(a=a===null?o:Math.min(a,o))}r[n]=a}}return r}function EZ(e){var t=mIe(e),r=[];return q(e,function(n){var i=n.coordinateSystem,a=i.getBaseAxis(),s=a.getExtent(),o;if(a.type==="category")o=a.getBandWidth();else if(a.type==="value"||a.type==="time"){var l=a.dim+"_"+a.index,u=t[l],c=Math.abs(s[1]-s[0]),h=a.scale.getExtent(),f=Math.abs(h[1]-h[0]);o=u?c/f*u:c}else{var d=n.getData();o=Math.abs(s[1]-s[0])/d.count()}var v=Ze(n.get("barWidth"),o),m=Ze(n.get("barMaxWidth"),o),y=Ze(n.get("barMinWidth")||(MZ(n)?.5:1),o),b=n.get("barGap"),S=n.get("barCategoryGap");r.push({bandWidth:o,barWidth:v,barMaxWidth:m,barMinWidth:y,barGap:b,barCategoryGap:S,axisKey:_P(a),stackId:TZ(n)})}),AZ(r)}function AZ(e){var t={};q(e,function(n,i){var a=n.axisKey,s=n.bandWidth,o=t[a]||{bandWidth:s,remainedWidth:s,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},l=o.stacks;t[a]=o;var u=n.stackId;l[u]||o.autoWidthCount++,l[u]=l[u]||{width:0,maxWidth:0};var c=n.barWidth;c&&!l[u].width&&(l[u].width=c,c=Math.min(o.remainedWidth,c),o.remainedWidth-=c);var h=n.barMaxWidth;h&&(l[u].maxWidth=h);var f=n.barMinWidth;f&&(l[u].minWidth=f);var d=n.barGap;d!=null&&(o.gap=d);var v=n.barCategoryGap;v!=null&&(o.categoryGap=v)});var r={};return q(t,function(n,i){r[i]={};var a=n.stacks,s=n.bandWidth,o=n.categoryGap;if(o==null){var l=Kt(a).length;o=Math.max(35-l*4,15)+"%"}var u=Ze(o,s),c=Ze(n.gap,1),h=n.remainedWidth,f=n.autoWidthCount,d=(h-u)/(f+(f-1)*c);d=Math.max(d,0),q(a,function(b){var S=b.maxWidth,w=b.minWidth;if(b.width){var k=b.width;S&&(k=Math.min(k,S)),w&&(k=Math.max(k,w)),b.width=k,h-=k+c*k,f--}else{var k=d;S&&S<k&&(k=Math.min(S,h)),w&&w>k&&(k=w),k!==d&&(b.width=k,h-=k+c*k,f--)}}),d=(h-u)/(f+(f-1)*c),d=Math.max(d,0);var v=0,m;q(a,function(b,S){b.width||(b.width=d),m=b,v+=b.width*(1+c)}),m&&(v-=m.width*c);var y=-v/2;q(a,function(b,S){r[i][S]=r[i][S]||{bandWidth:s,offset:y,width:b.width},y+=b.width*(1+c)})}),r}function yIe(e,t,r){if(e&&t){var n=e[_P(t)];return n}}function kZ(e,t){var r=CZ(e,t),n=EZ(r);q(r,function(i){var a=i.getData(),s=i.coordinateSystem,o=s.getBaseAxis(),l=TZ(i),u=n[_P(o)][l],c=u.offset,h=u.width;a.setLayout({bandWidth:u.bandWidth,offset:c,size:h})})}function IZ(e){return{seriesType:e,plan:$p(),reset:function(t){if(DZ(t)){var r=t.getData(),n=t.coordinateSystem,i=n.getBaseAxis(),a=n.getOtherAxis(i),s=r.getDimensionIndex(r.mapDimension(a.dim)),o=r.getDimensionIndex(r.mapDimension(i.dim)),l=t.get("showBackground",!0),u=r.mapDimension(a.dim),c=r.getCalculationInfo("stackResultDimension"),h=Al(r,u)&&!!r.getCalculationInfo("stackedOnSeries"),f=a.isHorizontal(),d=xIe(i,a),v=MZ(t),m=t.get("barMinHeight")||0,y=c&&r.getDimensionIndex(c),b=r.getLayout("size"),S=r.getLayout("offset");return{progress:function(w,k){for(var M=w.count,I=v&&wo(M*3),L=v&&l&&wo(M*3),N=v&&wo(M),z=n.master.getRect(),B=f?z.width:z.height,H,G=k.getStore(),$=0;(H=w.next())!=null;){var W=G.get(h?y:s,H),X=G.get(o,H),ee=d,le=void 0;h&&(le=+W-G.get(s,H));var ie=void 0,fe=void 0,re=void 0,me=void 0;if(f){var J=n.dataToPoint([W,X]);if(h){var te=n.dataToPoint([le,X]);ee=te[0]}ie=ee,fe=J[1]+S,re=J[0]-ee,me=b,Math.abs(re)<m&&(re=(re<0?-1:1)*m)}else{var J=n.dataToPoint([X,W]);if(h){var te=n.dataToPoint([X,le]);ee=te[1]}ie=J[0]+S,fe=ee,re=b,me=J[1]-ee,Math.abs(me)<m&&(me=(me<=0?-1:1)*m)}v?(I[$]=ie,I[$+1]=fe,I[$+2]=f?re:me,L&&(L[$]=f?z.x:ie,L[$+1]=f?fe:z.y,L[$+2]=B),N[H]=H):k.setItemLayout(H,{x:ie,y:fe,width:re,height:me}),$+=3}v&&k.setLayout({largePoints:I,largeDataIndices:N,largeBackgroundPoints:L,valueAxisHorizontal:f})}}}}}}function DZ(e){return e.coordinateSystem&&e.coordinateSystem.type==="cartesian2d"}function MZ(e){return e.pipelineContext&&e.pipelineContext.large}function xIe(e,t){var r=t.model.get("startValue");return r||(r=0),t.toGlobalCoord(t.dataToCoord(t.type==="log"?r>0?r:1:r))}var bIe=function(e,t,r,n){for(;r<n;){var i=r+n>>>1;e[i][1]<t?r=i+1:n=i}return r},wP=function(e){_e(t,e);function t(r){var n=e.call(this,r)||this;return n.type="time",n}return t.prototype.getLabel=function(r){var n=this.getSetting("useUTC");return ey(r.value,jF[K2e(zd(this._minLevelUnit))]||jF.second,n,this.getSetting("locale"))},t.prototype.getFormattedLabel=function(r,n,i){var a=this.getSetting("useUTC"),s=this.getSetting("locale");return Z2e(r,n,i,s,a)},t.prototype.getTicks=function(){var r=this._interval,n=this._extent,i=[];if(!r)return i;i.push({value:n[0],level:0});var a=this.getSetting("useUTC"),s=AIe(this._minLevelUnit,this._approxInterval,a,n);return i=i.concat(s),i.push({value:n[1],level:0}),i},t.prototype.calcNiceExtent=function(r){var n=this._extent;if(n[0]===n[1]&&(n[0]-=Qa,n[1]+=Qa),n[1]===-1/0&&n[0]===1/0){var i=new Date;n[1]=+new Date(i.getFullYear(),i.getMonth(),i.getDate()),n[0]=n[1]-Qa}this.calcNiceTicks(r.splitNumber,r.minInterval,r.maxInterval)},t.prototype.calcNiceTicks=function(r,n,i){r=r||10;var a=this._extent,s=a[1]-a[0];this._approxInterval=s/r,n!=null&&this._approxInterval<n&&(this._approxInterval=n),i!=null&&this._approxInterval>i&&(this._approxInterval=i);var o=hx.length,l=Math.min(bIe(hx,this._approxInterval,0,o),o-1);this._interval=hx[l][1],this._minLevelUnit=hx[Math.max(l-1,0)][0]},t.prototype.parse=function(r){return ar(r)?r:+ka(r)},t.prototype.contain=function(r){return Ow(this.parse(r),this._extent)},t.prototype.normalize=function(r){return Bw(this.parse(r),this._extent)},t.prototype.scale=function(r){return Fw(r,this._extent)},t.type="time",t}(kl),hx=[["second",XN],["minute",qN],["hour",fm],["quarter-day",fm*6],["half-day",fm*12],["day",Qa*1.2],["half-week",Qa*3.5],["week",Qa*7],["month",Qa*31],["quarter",Qa*95],["half-year",zF/2],["year",zF]];function SIe(e,t,r,n){var i=ka(t),a=ka(r),s=function(v){return HF(i,v,n)===HF(a,v,n)},o=function(){return s("year")},l=function(){return o()&&s("month")},u=function(){return l()&&s("day")},c=function(){return u()&&s("hour")},h=function(){return c()&&s("minute")},f=function(){return h()&&s("second")},d=function(){return f()&&s("millisecond")};switch(e){case"year":return o();case"month":return l();case"day":return u();case"hour":return c();case"minute":return h();case"second":return f();case"millisecond":return d()}}function _Ie(e,t){return e/=Qa,e>16?16:e>7.5?7:e>3.5?4:e>1.5?2:1}function wIe(e){var t=30*Qa;return e/=t,e>6?6:e>3?3:e>2?2:1}function TIe(e){return e/=fm,e>12?12:e>6?6:e>3.5?4:e>2?2:1}function K8(e,t){return e/=t?qN:XN,e>30?30:e>20?20:e>15?15:e>10?10:e>5?5:e>2?2:1}function CIe(e){return EN(e,!0)}function EIe(e,t,r){var n=new Date(e);switch(zd(t)){case"year":case"month":n[Xq(r)](0);case"day":n[qq(r)](1);case"hour":n[Kq(r)](0);case"minute":n[Zq(r)](0);case"second":n[Qq(r)](0),n[Jq(r)](0)}return n.getTime()}function AIe(e,t,r,n){var i=1e4,a=$q,s=0;function o(B,H,G,$,W,X,ee){for(var le=new Date(H),ie=H,fe=le[$]();ie<G&&ie<=n[1];)ee.push({value:ie}),fe+=B,le[W](fe),ie=le.getTime();ee.push({value:ie,notAdd:!0})}function l(B,H,G){var $=[],W=!H.length;if(!SIe(zd(B),n[0],n[1],r)){W&&(H=[{value:EIe(new Date(n[0]),B,r)},{value:n[1]}]);for(var X=0;X<H.length-1;X++){var ee=H[X].value,le=H[X+1].value;if(ee!==le){var ie=void 0,fe=void 0,re=void 0,me=!1;switch(B){case"year":ie=Math.max(1,Math.round(t/Qa/365)),fe=KN(r),re=Q2e(r);break;case"half-year":case"quarter":case"month":ie=wIe(t),fe=jd(r),re=Xq(r);break;case"week":case"half-week":case"day":ie=_Ie(t),fe=Cw(r),re=qq(r),me=!0;break;case"half-day":case"quarter-day":case"hour":ie=TIe(t),fe=i0(r),re=Kq(r);break;case"minute":ie=K8(t,!0),fe=Ew(r),re=Zq(r);break;case"second":ie=K8(t,!1),fe=Aw(r),re=Qq(r);break;case"millisecond":ie=CIe(t),fe=kw(r),re=Jq(r);break}o(ie,ee,le,fe,re,me,$),B==="year"&&G.length>1&&X===0&&G.unshift({value:G[0].value-ie})}}for(var X=0;X<$.length;X++)G.push($[X]);return $}}for(var u=[],c=[],h=0,f=0,d=0;d<a.length&&s++<i;++d){var v=zd(a[d]);if(q2e(a[d])){l(a[d],u[u.length-1]||[],c);var m=a[d+1]?zd(a[d+1]):null;if(v!==m){if(c.length){f=h,c.sort(function(B,H){return B.value-H.value});for(var y=[],b=0;b<c.length;++b){var S=c[b].value;(b===0||c[b-1].value!==S)&&(y.push(c[b]),S>=n[0]&&S<=n[1]&&h++)}var w=(n[1]-n[0])/t;if(h>w*1.5&&f>w/1.5||(u.push(y),h>w||e===a[d]))break}c=[]}}}for(var k=lr(Fe(u,function(B){return lr(B,function(H){return H.value>=n[0]&&H.value<=n[1]&&!H.notAdd})}),function(B){return B.length>0}),M=[],I=k.length-1,d=0;d<k.length;++d)for(var L=k[d],N=0;N<L.length;++N)M.push({value:L[N].value,level:I-d});M.sort(function(B,H){return B.value-H.value});for(var z=[],d=0;d<M.length;++d)(d===0||M[d].value!==M[d-1].value)&&z.push(M[d]);return z}Uo.registerClass(wP);var Z8=Uo.prototype,vm=kl.prototype,kIe=rn,IIe=Math.floor,DIe=Math.ceil,fx=Math.pow,_s=Math.log,TP=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type="log",r.base=10,r._originalScale=new kl,r._interval=0,r}return t.prototype.getTicks=function(r){var n=this._originalScale,i=this._extent,a=n.getExtent(),s=vm.getTicks.call(this,r);return Fe(s,function(o){var l=o.value,u=rn(fx(this.base,l));return u=l===i[0]&&this._fixMin?dx(u,a[0]):u,u=l===i[1]&&this._fixMax?dx(u,a[1]):u,{value:u}},this)},t.prototype.setExtent=function(r,n){var i=_s(this.base);r=_s(Math.max(0,r))/i,n=_s(Math.max(0,n))/i,vm.setExtent.call(this,r,n)},t.prototype.getExtent=function(){var r=this.base,n=Z8.getExtent.call(this);n[0]=fx(r,n[0]),n[1]=fx(r,n[1]);var i=this._originalScale,a=i.getExtent();return this._fixMin&&(n[0]=dx(n[0],a[0])),this._fixMax&&(n[1]=dx(n[1],a[1])),n},t.prototype.unionExtent=function(r){this._originalScale.unionExtent(r);var n=this.base;r[0]=_s(r[0])/_s(n),r[1]=_s(r[1])/_s(n),Z8.unionExtent.call(this,r)},t.prototype.unionExtentFromData=function(r,n){this.unionExtent(r.getApproximateExtent(n))},t.prototype.calcNiceTicks=function(r){r=r||10;var n=this._extent,i=n[1]-n[0];if(!(i===1/0||i<=0)){var a=qX(i),s=r/i*a;for(s<=.5&&(a*=10);!isNaN(a)&&Math.abs(a)<1&&Math.abs(a)>0;)a*=10;var o=[rn(DIe(n[0]/a)*a),rn(IIe(n[1]/a)*a)];this._interval=a,this._niceExtent=o}},t.prototype.calcNiceExtent=function(r){vm.calcNiceExtent.call(this,r),this._fixMin=r.fixMin,this._fixMax=r.fixMax},t.prototype.parse=function(r){return r},t.prototype.contain=function(r){return r=_s(r)/_s(this.base),Ow(r,this._extent)},t.prototype.normalize=function(r){return r=_s(r)/_s(this.base),Bw(r,this._extent)},t.prototype.scale=function(r){return r=Fw(r,this._extent),fx(this.base,r)},t.type="log",t}(Uo),LZ=TP.prototype;LZ.getMinorTicks=vm.getMinorTicks;LZ.getLabel=vm.getLabel;function dx(e,t){return kIe(e,Ms(t))}Uo.registerClass(TP);var MIe=function(){function e(t,r,n){this._prepareParams(t,r,n)}return e.prototype._prepareParams=function(t,r,n){n[1]<n[0]&&(n=[NaN,NaN]),this._dataMin=n[0],this._dataMax=n[1];var i=this._isOrdinal=t.type==="ordinal";this._needCrossZero=t.type==="interval"&&r.getNeedCrossZero&&r.getNeedCrossZero();var a=r.get("min",!0);a==null&&(a=r.get("startValue",!0));var s=this._modelMinRaw=a;vt(s)?this._modelMinNum=px(t,s({min:n[0],max:n[1]})):s!=="dataMin"&&(this._modelMinNum=px(t,s));var o=this._modelMaxRaw=r.get("max",!0);if(vt(o)?this._modelMaxNum=px(t,o({min:n[0],max:n[1]})):o!=="dataMax"&&(this._modelMaxNum=px(t,o)),i)this._axisDataLen=r.getCategories().length;else{var l=r.get("boundaryGap"),u=Oe(l)?l:[l||0,l||0];typeof u[0]=="boolean"||typeof u[1]=="boolean"?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[Us(u[0],1),Us(u[1],1)]}},e.prototype.calculate=function(){var t=this._isOrdinal,r=this._dataMin,n=this._dataMax,i=this._axisDataLen,a=this._boundaryGapInner,s=t?null:n-r||Math.abs(r),o=this._modelMinRaw==="dataMin"?r:this._modelMinNum,l=this._modelMaxRaw==="dataMax"?n:this._modelMaxNum,u=o!=null,c=l!=null;o==null&&(o=t?i?0:NaN:r-a[0]*s),l==null&&(l=t?i?i-1:NaN:n+a[1]*s),(o==null||!isFinite(o))&&(o=NaN),(l==null||!isFinite(l))&&(l=NaN);var h=lp(o)||lp(l)||t&&!i;this._needCrossZero&&(o>0&&l>0&&!u&&(o=0),o<0&&l<0&&!c&&(l=0));var f=this._determinedMin,d=this._determinedMax;return f!=null&&(o=f,u=!0),d!=null&&(l=d,c=!0),{min:o,max:l,minFixed:u,maxFixed:c,isBlank:h}},e.prototype.modifyDataMinMax=function(t,r){this[NIe[t]]=r},e.prototype.setDeterminedMinMax=function(t,r){var n=LIe[t];this[n]=r},e.prototype.freeze=function(){this.frozen=!0},e}(),LIe={min:"_determinedMin",max:"_determinedMax"},NIe={min:"_dataMin",max:"_dataMax"};function NZ(e,t,r){var n=e.rawExtentInfo;return n||(n=new MIe(e,t,r),e.rawExtentInfo=n,n)}function px(e,t){return t==null?null:lp(t)?NaN:e.parse(t)}function PZ(e,t){var r=e.type,n=NZ(e,t,e.getExtent()).calculate();e.setBlank(n.isBlank);var i=n.min,a=n.max,s=t.ecModel;if(s&&r==="time"){var o=CZ("bar",s),l=!1;if(q(o,function(h){l=l||h.getBaseAxis()===t.axis}),l){var u=EZ(o),c=PIe(i,a,t,u);i=c.min,a=c.max}}return{extent:[i,a],fixMin:n.minFixed,fixMax:n.maxFixed}}function PIe(e,t,r,n){var i=r.axis.getExtent(),a=Math.abs(i[1]-i[0]),s=yIe(n,r.axis);if(s===void 0)return{min:e,max:t};var o=1/0;q(s,function(d){o=Math.min(d.offset,o)});var l=-1/0;q(s,function(d){l=Math.max(d.offset+d.width,l)}),o=Math.abs(o),l=Math.abs(l);var u=o+l,c=t-e,h=1-(o+l)/a,f=c/h-c;return t+=f*(l/u),e-=f*(o/u),{min:e,max:t}}function ef(e,t){var r=t,n=PZ(e,r),i=n.extent,a=r.get("splitNumber");e instanceof TP&&(e.base=r.get("logBase"));var s=e.type,o=r.get("interval"),l=s==="interval"||s==="time";e.setExtent(i[0],i[1]),e.calcNiceExtent({splitNumber:a,fixMin:n.fixMin,fixMax:n.fixMax,minInterval:l?r.get("minInterval"):null,maxInterval:l?r.get("maxInterval"):null}),o!=null&&e.setInterval&&e.setInterval(o)}function ry(e,t){if(t=t||e.get("type"),t)switch(t){case"category":return new zw({ordinalMeta:e.getOrdinalMeta?e.getOrdinalMeta():e.getCategories(),extent:[1/0,-1/0]});case"time":return new wP({locale:e.ecModel.getLocaleModel(),useUTC:e.ecModel.get("useUTC")});default:return new(Uo.getClass(t)||kl)}}function RIe(e){var t=e.scale.getExtent(),r=t[0],n=t[1];return!(r>0&&n>0||r<0&&n<0)}function Kp(e){var t=e.getLabelModel().get("formatter"),r=e.type==="category"?e.scale.getExtent()[0]:null;return e.scale.type==="time"?function(n){return function(i,a){return e.scale.getFormattedLabel(i,a,n)}}(t):Je(t)?function(n){return function(i){var a=e.scale.getLabel(i),s=n.replace("{value}",a??"");return s}}(t):vt(t)?function(n){return function(i,a){return r!=null&&(a=i.value-r),n(CP(e,i),a,i.level!=null?{level:i.level}:null)}}(t):function(n){return e.scale.getLabel(n)}}function CP(e,t){return e.type==="category"?e.scale.getLabel(t):t.value}function OIe(e){var t=e.model,r=e.scale;if(!(!t.get(["axisLabel","show"])||r.isBlank())){var n,i,a=r.getExtent();r instanceof zw?i=r.count():(n=r.getTicks(),i=n.length);var s=e.getLabelModel(),o=Kp(e),l,u=1;i>40&&(u=Math.ceil(i/40));for(var c=0;c<i;c+=u){var h=n?n[c]:{value:a[0]+c},f=o(h,c),d=s.getTextRect(f),v=BIe(d,s.get("rotate")||0);l?l.union(v):l=v}return l}}function BIe(e,t){var r=t*Math.PI/180,n=e.width,i=e.height,a=n*Math.abs(Math.cos(r))+Math.abs(i*Math.sin(r)),s=n*Math.abs(Math.sin(r))+Math.abs(i*Math.cos(r)),o=new jt(e.x,e.y,a,s);return o}function EP(e){var t=e.get("interval");return t??"auto"}function RZ(e){return e.type==="category"&&EP(e.getLabelModel())===0}function VS(e,t){var r={};return q(e.mapDimensionsAll(t),function(n){r[SP(e,n)]=!0}),Kt(r)}function FIe(e,t,r){t&&q(VS(t,r),function(n){var i=t.getApproximateExtent(n);i[0]<e[0]&&(e[0]=i[0]),i[1]>e[1]&&(e[1]=i[1])})}var Zp=function(){function e(){}return e.prototype.getNeedCrossZero=function(){var t=this.option;return!t.scale},e.prototype.getCoordSysModel=function(){},e}();function zIe(e){return Vo(null,e)}var jIe={isDimensionStacked:Al,enableDataStack:SZ,getStackedDimension:SP};function HIe(e,t){var r=t;t instanceof ur||(r=new ur(t));var n=ry(r);return n.setExtent(e[0],e[1]),ef(n,r),n}function VIe(e){cn(e,Zp)}function UIe(e,t){return t=t||{},Ir(e,null,null,t.state!=="normal")}const GIe=Object.freeze(Object.defineProperty({__proto__:null,createDimensions:Jke,createList:zIe,createScale:HIe,createSymbol:dn,createTextStyle:UIe,dataStack:jIe,enableHoverEmphasis:Hu,getECData:It,getLayoutRect:Sn,mixinAxisModelCommonMethods:VIe},Symbol.toStringTag,{value:"Module"}));var WIe=1e-8;function Q8(e,t){return Math.abs(e-t)<WIe}function oh(e,t,r){var n=0,i=e[0];if(!i)return!1;for(var a=1;a<e.length;a++){var s=e[a];n+=Jo(i[0],i[1],s[0],s[1],t,r),i=s}var o=e[0];return(!Q8(i[0],o[0])||!Q8(i[1],o[1]))&&(n+=Jo(i[0],i[1],o[0],o[1],t,r)),n!==0}var $Ie=[];function _E(e,t){for(var r=0;r<e.length;r++)qn(e[r],e[r],t)}function J8(e,t,r,n){for(var i=0;i<e.length;i++){var a=e[i];n&&(a=n.project(a)),a&&isFinite(a[0])&&isFinite(a[1])&&(ul(t,t,a),cl(r,r,a))}}function YIe(e){for(var t=0,r=0,n=0,i=e.length,a=e[i-1][0],s=e[i-1][1],o=0;o<i;o++){var l=e[o][0],u=e[o][1],c=a*u-l*s;t+=c,r+=(a+l)*c,n+=(s+u)*c,a=l,s=u}return t?[r/t/3,n/t/3,t]:[e[0][0]||0,e[0][1]||0]}var OZ=function(){function e(t){this.name=t}return e.prototype.setCenter=function(t){this._center=t},e.prototype.getCenter=function(){var t=this._center;return t||(t=this._center=this.calcCenter()),t},e}(),ez=function(){function e(t,r){this.type="polygon",this.exterior=t,this.interiors=r}return e}(),tz=function(){function e(t){this.type="linestring",this.points=t}return e}(),BZ=function(e){_e(t,e);function t(r,n,i){var a=e.call(this,r)||this;return a.type="geoJSON",a.geometries=n,a._center=i&&[i[0],i[1]],a}return t.prototype.calcCenter=function(){for(var r=this.geometries,n,i=0,a=0;a<r.length;a++){var s=r[a],o=s.exterior,l=o&&o.length;l>i&&(n=s,i=l)}if(n)return YIe(n.exterior);var u=this.getBoundingRect();return[u.x+u.width/2,u.y+u.height/2]},t.prototype.getBoundingRect=function(r){var n=this._rect;if(n&&!r)return n;var i=[1/0,1/0],a=[-1/0,-1/0],s=this.geometries;return q(s,function(o){o.type==="polygon"?J8(o.exterior,i,a,r):q(o.points,function(l){J8(l,i,a,r)})}),isFinite(i[0])&&isFinite(i[1])&&isFinite(a[0])&&isFinite(a[1])||(i[0]=i[1]=a[0]=a[1]=0),n=new jt(i[0],i[1],a[0]-i[0],a[1]-i[1]),r||(this._rect=n),n},t.prototype.contain=function(r){var n=this.getBoundingRect(),i=this.geometries;if(!n.contain(r[0],r[1]))return!1;e:for(var a=0,s=i.length;a<s;a++){var o=i[a];if(o.type==="polygon"){var l=o.exterior,u=o.interiors;if(oh(l,r[0],r[1])){for(var c=0;c<(u?u.length:0);c++)if(oh(u[c],r[0],r[1]))continue e;return!0}}}return!1},t.prototype.transformTo=function(r,n,i,a){var s=this.getBoundingRect(),o=s.width/s.height;i?a||(a=i/o):i=o*a;for(var l=new jt(r,n,i,a),u=s.calculateTransform(l),c=this.geometries,h=0;h<c.length;h++){var f=c[h];f.type==="polygon"?(_E(f.exterior,u),q(f.interiors,function(d){_E(d,u)})):q(f.points,function(d){_E(d,u)})}s=this._rect,s.copy(l),this._center=[s.x+s.width/2,s.y+s.height/2]},t.prototype.cloneShallow=function(r){r==null&&(r=this.name);var n=new t(r,this.geometries,this._center);return n._rect=this._rect,n.transformTo=null,n},t}(OZ),XIe=function(e){_e(t,e);function t(r,n){var i=e.call(this,r)||this;return i.type="geoSVG",i._elOnlyForCalculate=n,i}return t.prototype.calcCenter=function(){for(var r=this._elOnlyForCalculate,n=r.getBoundingRect(),i=[n.x+n.width/2,n.y+n.height/2],a=W0($Ie),s=r;s&&!s.isGeoSVGGraphicRoot;)Do(a,s.getLocalTransform(),a),s=s.parent;return uf(a,a),qn(i,i,a),i},t}(OZ);function qIe(e){if(!e.UTF8Encoding)return e;var t=e,r=t.UTF8Scale;r==null&&(r=1024);var n=t.features;return q(n,function(i){var a=i.geometry,s=a.encodeOffsets,o=a.coordinates;if(s)switch(a.type){case"LineString":a.coordinates=FZ(o,s,r);break;case"Polygon":wE(o,s,r);break;case"MultiLineString":wE(o,s,r);break;case"MultiPolygon":q(o,function(l,u){return wE(l,s[u],r)})}}),t.UTF8Encoding=!1,t}function wE(e,t,r){for(var n=0;n<e.length;n++)e[n]=FZ(e[n],t[n],r)}function FZ(e,t,r){for(var n=[],i=t[0],a=t[1],s=0;s<e.length;s+=2){var o=e.charCodeAt(s)-64,l=e.charCodeAt(s+1)-64;o=o>>1^-(o&1),l=l>>1^-(l&1),o+=i,l+=a,i=o,a=l,n.push([o/r,l/r])}return n}function _D(e,t){return e=qIe(e),Fe(lr(e.features,function(r){return r.geometry&&r.properties&&r.geometry.coordinates.length>0}),function(r){var n=r.properties,i=r.geometry,a=[];switch(i.type){case"Polygon":var s=i.coordinates;a.push(new ez(s[0],s.slice(1)));break;case"MultiPolygon":q(i.coordinates,function(l){l[0]&&a.push(new ez(l[0],l.slice(1)))});break;case"LineString":a.push(new tz([i.coordinates]));break;case"MultiLineString":a.push(new tz(i.coordinates))}var o=new BZ(n[t||"name"],a,n.cp);return o.properties=n,o})}const KIe=Object.freeze(Object.defineProperty({__proto__:null,MAX_SAFE_INTEGER:GI,asc:Sa,getPercentWithPrecision:MTe,getPixelPrecision:TN,getPrecision:Ms,getPrecisionSafe:YX,isNumeric:AN,isRadianAroundZero:cp,linearMap:pr,nice:EN,numericToNumber:Ro,parseDate:ka,quantile:pb,quantity:qX,quantityExponent:pw,reformIntervals:WI,remRadian:CN,round:rn},Symbol.toStringTag,{value:"Module"})),ZIe=Object.freeze(Object.defineProperty({__proto__:null,format:ey,parse:ka},Symbol.toStringTag,{value:"Module"})),QIe=Object.freeze(Object.defineProperty({__proto__:null,Arc:Z0,BezierCurve:Bp,BoundingRect:jt,Circle:jo,CompoundPath:Sw,Ellipse:K0,Group:Ct,Image:Vn,IncrementalDisplayable:Nq,Line:An,LinearGradient:Fp,Polygon:wi,Polyline:Ai,RadialGradient:zN,Rect:Jt,Ring:Op,Sector:_i,Text:Qt,clipPointsByRect:UN,clipRectByRect:Fq,createIcon:jp,extendPath:Oq,extendShape:Rq,getShapeClass:_w,getTransform:Vu,initProps:Br,makeImage:HN,makePath:Q0,mergePath:xa,registerShape:hs,resizePath:VN,updateProps:sr},Symbol.toStringTag,{value:"Module"})),JIe=Object.freeze(Object.defineProperty({__proto__:null,addCommas:ZN,capitalFirst:rEe,encodeHTML:gi,formatTime:tEe,formatTpl:JN,getTextRect:J2e,getTooltipMarker:eK,normalizeCssArray:ff,toCamelCase:QN,truncateText:oCe},Symbol.toStringTag,{value:"Module"})),eDe=Object.freeze(Object.defineProperty({__proto__:null,bind:rt,clone:_t,curry:Lt,defaults:yt,each:q,extend:Ne,filter:lr,indexOf:Ut,inherits:gN,isArray:Oe,isFunction:vt,isObject:St,isString:Je,map:Fe,merge:Ot,reduce:ls},Symbol.toStringTag,{value:"Module"}));var c0=tr();function zZ(e,t){var r=Fe(t,function(n){return e.scale.parse(n)});return e.type==="time"&&r.length>0&&(r.sort(),r.unshift(r[0]),r.push(r[r.length-1])),r}function tDe(e){var t=e.getLabelModel().get("customValues");if(t){var r=Kp(e),n=e.scale.getExtent(),i=zZ(e,t),a=lr(i,function(s){return s>=n[0]&&s<=n[1]});return{labels:Fe(a,function(s){var o={value:s};return{formattedLabel:r(o),rawLabel:e.scale.getLabel(o),tickValue:s}})}}return e.type==="category"?nDe(e):aDe(e)}function rDe(e,t){var r=e.getTickModel().get("customValues");if(r){var n=e.scale.getExtent(),i=zZ(e,r);return{ticks:lr(i,function(a){return a>=n[0]&&a<=n[1]})}}return e.type==="category"?iDe(e,t):{ticks:Fe(e.scale.getTicks(),function(a){return a.value})}}function nDe(e){var t=e.getLabelModel(),r=jZ(e,t);return!t.get("show")||e.scale.isBlank()?{labels:[],labelCategoryInterval:r.labelCategoryInterval}:r}function jZ(e,t){var r=HZ(e,"labels"),n=EP(t),i=VZ(r,n);if(i)return i;var a,s;return vt(n)?a=WZ(e,n):(s=n==="auto"?sDe(e):n,a=GZ(e,s)),UZ(r,n,{labels:a,labelCategoryInterval:s})}function iDe(e,t){var r=HZ(e,"ticks"),n=EP(t),i=VZ(r,n);if(i)return i;var a,s;if((!t.get("show")||e.scale.isBlank())&&(a=[]),vt(n))a=WZ(e,n,!0);else if(n==="auto"){var o=jZ(e,e.getLabelModel());s=o.labelCategoryInterval,a=Fe(o.labels,function(l){return l.tickValue})}else s=n,a=GZ(e,s,!0);return UZ(r,n,{ticks:a,tickCategoryInterval:s})}function aDe(e){var t=e.scale.getTicks(),r=Kp(e);return{labels:Fe(t,function(n,i){return{level:n.level,formattedLabel:r(n,i),rawLabel:e.scale.getLabel(n),tickValue:n.value}})}}function HZ(e,t){return c0(e)[t]||(c0(e)[t]=[])}function VZ(e,t){for(var r=0;r<e.length;r++)if(e[r].key===t)return e[r].value}function UZ(e,t,r){return e.push({key:t,value:r}),r}function sDe(e){var t=c0(e).autoInterval;return t??(c0(e).autoInterval=e.calculateCategoryInterval())}function oDe(e){var t=lDe(e),r=Kp(e),n=(t.axisRotate-t.labelRotate)/180*Math.PI,i=e.scale,a=i.getExtent(),s=i.count();if(a[1]-a[0]<1)return 0;var o=1;s>40&&(o=Math.max(1,Math.floor(s/40)));for(var l=a[0],u=e.dataToCoord(l+1)-e.dataToCoord(l),c=Math.abs(u*Math.cos(n)),h=Math.abs(u*Math.sin(n)),f=0,d=0;l<=a[1];l+=o){var v=0,m=0,y=Y0(r({value:l}),t.font,"center","top");v=y.width*1.3,m=y.height*1.3,f=Math.max(f,v,7),d=Math.max(d,m,7)}var b=f/c,S=d/h;isNaN(b)&&(b=1/0),isNaN(S)&&(S=1/0);var w=Math.max(0,Math.floor(Math.min(b,S))),k=c0(e.model),M=e.getExtent(),I=k.lastAutoInterval,L=k.lastTickCount;return I!=null&&L!=null&&Math.abs(I-w)<=1&&Math.abs(L-s)<=1&&I>w&&k.axisExtent0===M[0]&&k.axisExtent1===M[1]?w=I:(k.lastTickCount=s,k.lastAutoInterval=w,k.axisExtent0=M[0],k.axisExtent1=M[1]),w}function lDe(e){var t=e.getLabelModel();return{axisRotate:e.getRotate?e.getRotate():e.isHorizontal&&!e.isHorizontal()?90:0,labelRotate:t.get("rotate")||0,font:t.getFont()}}function GZ(e,t,r){var n=Kp(e),i=e.scale,a=i.getExtent(),s=e.getLabelModel(),o=[],l=Math.max((t||0)+1,1),u=a[0],c=i.count();u!==0&&l>1&&c/l>2&&(u=Math.round(Math.ceil(u/l)*l));var h=RZ(e),f=s.get("showMinLabel")||h,d=s.get("showMaxLabel")||h;f&&u!==a[0]&&m(a[0]);for(var v=u;v<=a[1];v+=l)m(v);d&&v-l!==a[1]&&m(a[1]);function m(y){var b={value:y};o.push(r?y:{formattedLabel:n(b),rawLabel:i.getLabel(b),tickValue:y})}return o}function WZ(e,t,r){var n=e.scale,i=Kp(e),a=[];return q(n.getTicks(),function(s){var o=n.getLabel(s),l=s.value;t(s.value,o)&&a.push(r?l:{formattedLabel:i(s),rawLabel:o,tickValue:l})}),a}var rz=[0,1],ps=function(){function e(t,r,n){this.onBand=!1,this.inverse=!1,this.dim=t,this.scale=r,this._extent=n||[0,0]}return e.prototype.contain=function(t){var r=this._extent,n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return t>=n&&t<=i},e.prototype.containData=function(t){return this.scale.contain(t)},e.prototype.getExtent=function(){return this._extent.slice()},e.prototype.getPixelPrecision=function(t){return TN(t||this.scale.getExtent(),this._extent)},e.prototype.setExtent=function(t,r){var n=this._extent;n[0]=t,n[1]=r},e.prototype.dataToCoord=function(t,r){var n=this._extent,i=this.scale;return t=i.normalize(t),this.onBand&&i.type==="ordinal"&&(n=n.slice(),nz(n,i.count())),pr(t,rz,n,r)},e.prototype.coordToData=function(t,r){var n=this._extent,i=this.scale;this.onBand&&i.type==="ordinal"&&(n=n.slice(),nz(n,i.count()));var a=pr(t,n,rz,r);return this.scale.scale(a)},e.prototype.pointToData=function(t,r){},e.prototype.getTicksCoords=function(t){t=t||{};var r=t.tickModel||this.getTickModel(),n=rDe(this,r),i=n.ticks,a=Fe(i,function(o){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(o):o),tickValue:o}},this),s=r.get("alignWithLabel");return uDe(this,a,s,t.clamp),a},e.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var t=this.model.getModel("minorTick"),r=t.get("splitNumber");r>0&&r<100||(r=5);var n=this.scale.getMinorTicks(r),i=Fe(n,function(a){return Fe(a,function(s){return{coord:this.dataToCoord(s),tickValue:s}},this)},this);return i},e.prototype.getViewLabels=function(){return tDe(this).labels},e.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},e.prototype.getTickModel=function(){return this.model.getModel("axisTick")},e.prototype.getBandWidth=function(){var t=this._extent,r=this.scale.getExtent(),n=r[1]-r[0]+(this.onBand?1:0);n===0&&(n=1);var i=Math.abs(t[1]-t[0]);return Math.abs(i)/n},e.prototype.calculateCategoryInterval=function(){return oDe(this)},e}();function nz(e,t){var r=e[1]-e[0],n=t,i=r/n/2;e[0]+=i,e[1]-=i}function uDe(e,t,r,n){var i=t.length;if(!e.onBand||r||!i)return;var a=e.getExtent(),s,o;if(i===1)t[0].coord=a[0],s=t[1]={coord:a[1],tickValue:t[0].tickValue};else{var l=t[i-1].tickValue-t[0].tickValue,u=(t[i-1].coord-t[0].coord)/l;q(t,function(d){d.coord-=u/2});var c=e.scale.getExtent();o=1+c[1]-t[i-1].tickValue,s={coord:t[i-1].coord+u*o,tickValue:c[1]+1},t.push(s)}var h=a[0]>a[1];f(t[0].coord,a[0])&&(n?t[0].coord=a[0]:t.shift()),n&&f(a[0],t[0].coord)&&t.unshift({coord:a[0]}),f(a[1],s.coord)&&(n?s.coord=a[1]:t.pop()),n&&f(s.coord,a[1])&&t.push({coord:a[1]});function f(d,v){return d=rn(d),v=rn(v),h?d>v:d<v}}function cDe(e){var t=Yt.extend(e);return Yt.registerClass(t),t}function hDe(e){var t=Nr.extend(e);return Nr.registerClass(t),t}function fDe(e){var t=Cr.extend(e);return Cr.registerClass(t),t}function dDe(e){var t=xr.extend(e);return xr.registerClass(t),t}var ng=Math.PI*2,Xc=Oo.CMD,pDe=["top","right","bottom","left"];function vDe(e,t,r,n,i){var a=r.width,s=r.height;switch(e){case"top":n.set(r.x+a/2,r.y-t),i.set(0,-1);break;case"bottom":n.set(r.x+a/2,r.y+s+t),i.set(0,1);break;case"left":n.set(r.x-t,r.y+s/2),i.set(-1,0);break;case"right":n.set(r.x+a+t,r.y+s/2),i.set(1,0);break}}function gDe(e,t,r,n,i,a,s,o,l){s-=e,o-=t;var u=Math.sqrt(s*s+o*o);s/=u,o/=u;var c=s*r+e,h=o*r+t;if(Math.abs(n-i)%ng<1e-4)return l[0]=c,l[1]=h,u-r;if(a){var f=n;n=_a(i),i=_a(f)}else n=_a(n),i=_a(i);n>i&&(i+=ng);var d=Math.atan2(o,s);if(d<0&&(d+=ng),d>=n&&d<=i||d+ng>=n&&d+ng<=i)return l[0]=c,l[1]=h,u-r;var v=r*Math.cos(n)+e,m=r*Math.sin(n)+t,y=r*Math.cos(i)+e,b=r*Math.sin(i)+t,S=(v-s)*(v-s)+(m-o)*(m-o),w=(y-s)*(y-s)+(b-o)*(b-o);return S<w?(l[0]=v,l[1]=m,Math.sqrt(S)):(l[0]=y,l[1]=b,Math.sqrt(w))}function US(e,t,r,n,i,a,s,o){var l=i-e,u=a-t,c=r-e,h=n-t,f=Math.sqrt(c*c+h*h);c/=f,h/=f;var d=l*c+u*h,v=d/f;o&&(v=Math.min(Math.max(v,0),1)),v*=f;var m=s[0]=e+v*c,y=s[1]=t+v*h;return Math.sqrt((m-i)*(m-i)+(y-a)*(y-a))}function $Z(e,t,r,n,i,a,s){r<0&&(e=e+r,r=-r),n<0&&(t=t+n,n=-n);var o=e+r,l=t+n,u=s[0]=Math.min(Math.max(i,e),o),c=s[1]=Math.min(Math.max(a,t),l);return Math.sqrt((u-i)*(u-i)+(c-a)*(c-a))}var ks=[];function mDe(e,t,r){var n=$Z(t.x,t.y,t.width,t.height,e.x,e.y,ks);return r.set(ks[0],ks[1]),n}function yDe(e,t,r){for(var n=0,i=0,a=0,s=0,o,l,u=1/0,c=t.data,h=e.x,f=e.y,d=0;d<c.length;){var v=c[d++];d===1&&(n=c[d],i=c[d+1],a=n,s=i);var m=u;switch(v){case Xc.M:a=c[d++],s=c[d++],n=a,i=s;break;case Xc.L:m=US(n,i,c[d],c[d+1],h,f,ks,!0),n=c[d++],i=c[d++];break;case Xc.C:m=AX(n,i,c[d++],c[d++],c[d++],c[d++],c[d],c[d+1],h,f,ks),n=c[d++],i=c[d++];break;case Xc.Q:m=IX(n,i,c[d++],c[d++],c[d],c[d+1],h,f,ks),n=c[d++],i=c[d++];break;case Xc.A:var y=c[d++],b=c[d++],S=c[d++],w=c[d++],k=c[d++],M=c[d++];d+=1;var I=!!(1-c[d++]);o=Math.cos(k)*S+y,l=Math.sin(k)*w+b,d<=1&&(a=o,s=l);var L=(h-y)*w/S+y;m=gDe(y,b,w,k,k+M,I,L,f,ks),n=Math.cos(k+M)*S+y,i=Math.sin(k+M)*w+b;break;case Xc.R:a=n=c[d++],s=i=c[d++];var N=c[d++],z=c[d++];m=$Z(a,s,N,z,h,f,ks);break;case Xc.Z:m=US(n,i,a,s,h,f,ks,!0),n=a,i=s;break}m<u&&(u=m,r.set(ks[0],ks[1]))}return u}var Ls=new zt,Mr=new zt,fn=new zt,To=new zt,So=new zt;function iz(e,t){if(e){var r=e.getTextGuideLine(),n=e.getTextContent();if(n&&r){var i=e.textGuideLineConfig||{},a=[[0,0],[0,0],[0,0]],s=i.candidates||pDe,o=n.getBoundingRect().clone();o.applyTransform(n.getComputedTransform());var l=1/0,u=i.anchor,c=e.getComputedTransform(),h=c&&uf([],c),f=t.get("length2")||0;u&&fn.copy(u);for(var d=0;d<s.length;d++){var v=s[d];vDe(v,0,o,Ls,To),zt.scaleAndAdd(Mr,Ls,To,f),Mr.transform(h);var m=e.getBoundingRect(),y=u?u.distance(Mr):e instanceof qt?yDe(Mr,e.path,fn):mDe(Mr,m,fn);y<l&&(l=y,Mr.transform(c),fn.transform(c),fn.toArray(a[0]),Mr.toArray(a[1]),Ls.toArray(a[2]))}YZ(a,t.get("minTurnAngle")),r.setShape({points:a})}}}var GS=[],Pi=new zt;function YZ(e,t){if(t<=180&&t>0){t=t/180*Math.PI,Ls.fromArray(e[0]),Mr.fromArray(e[1]),fn.fromArray(e[2]),zt.sub(To,Ls,Mr),zt.sub(So,fn,Mr);var r=To.len(),n=So.len();if(!(r<.001||n<.001)){To.scale(1/r),So.scale(1/n);var i=To.dot(So),a=Math.cos(t);if(a<i){var s=US(Mr.x,Mr.y,fn.x,fn.y,Ls.x,Ls.y,GS,!1);Pi.fromArray(GS),Pi.scaleAndAdd(So,s/Math.tan(Math.PI-t));var o=fn.x!==Mr.x?(Pi.x-Mr.x)/(fn.x-Mr.x):(Pi.y-Mr.y)/(fn.y-Mr.y);if(isNaN(o))return;o<0?zt.copy(Pi,Mr):o>1&&zt.copy(Pi,fn),Pi.toArray(e[1])}}}}function xDe(e,t,r){if(r<=180&&r>0){r=r/180*Math.PI,Ls.fromArray(e[0]),Mr.fromArray(e[1]),fn.fromArray(e[2]),zt.sub(To,Mr,Ls),zt.sub(So,fn,Mr);var n=To.len(),i=So.len();if(!(n<.001||i<.001)){To.scale(1/n),So.scale(1/i);var a=To.dot(t),s=Math.cos(r);if(a<s){var o=US(Mr.x,Mr.y,fn.x,fn.y,Ls.x,Ls.y,GS,!1);Pi.fromArray(GS);var l=Math.PI/2,u=Math.acos(So.dot(t)),c=l+u-r;if(c>=l)zt.copy(Pi,fn);else{Pi.scaleAndAdd(So,o/Math.tan(Math.PI/2-c));var h=fn.x!==Mr.x?(Pi.x-Mr.x)/(fn.x-Mr.x):(Pi.y-Mr.y)/(fn.y-Mr.y);if(isNaN(h))return;h<0?zt.copy(Pi,Mr):h>1&&zt.copy(Pi,fn)}Pi.toArray(e[1])}}}}function TE(e,t,r,n){var i=r==="normal",a=i?e:e.ensureState(r);a.ignore=t;var s=n.get("smooth");s&&s===!0&&(s=.3),a.shape=a.shape||{},s>0&&(a.shape.smooth=s);var o=n.getModel("lineStyle").getLineStyle();i?e.useStyle(o):a.style=o}function bDe(e,t){var r=t.smooth,n=t.points;if(n)if(e.moveTo(n[0][0],n[0][1]),r>0&&n.length>=3){var i=ll(n[0],n[1]),a=ll(n[1],n[2]);if(!i||!a){e.lineTo(n[1][0],n[1][1]),e.lineTo(n[2][0],n[2][1]);return}var s=Math.min(i,a)*r,o=nm([],n[1],n[0],s/i),l=nm([],n[1],n[2],s/a),u=nm([],o,l,.5);e.bezierCurveTo(o[0],o[1],o[0],o[1],u[0],u[1]),e.bezierCurveTo(l[0],l[1],l[0],l[1],n[2][0],n[2][1])}else for(var c=1;c<n.length;c++)e.lineTo(n[c][0],n[c][1])}function AP(e,t,r){var n=e.getTextGuideLine(),i=e.getTextContent();if(!i){n&&e.removeTextGuideLine();return}for(var a=t.normal,s=a.get("show"),o=i.ignore,l=0;l<t0.length;l++){var u=t0[l],c=t[u],h=u==="normal";if(c){var f=c.get("show"),d=h?o:Mt(i.states[u]&&i.states[u].ignore,o);if(d||!Mt(f,s)){var v=h?n:n&&n.states[u];v&&(v.ignore=!0),n&&TE(n,!0,u,c);continue}n||(n=new Ai,e.setTextGuideLine(n),!h&&(o||!s)&&TE(n,!0,"normal",t.normal),e.stateProxy&&(n.stateProxy=e.stateProxy)),TE(n,!1,u,c)}}if(n){yt(n.style,r),n.style.fill=null;var m=a.get("showAbove"),y=e.textGuideLineConfig=e.textGuideLineConfig||{};y.showAbove=m||!1,n.buildPath=bDe}}function kP(e,t){t=t||"labelLine";for(var r={normal:e.getModel(t)},n=0;n<Vi.length;n++){var i=Vi[n];r[i]=e.getModel([i,t])}return r}function XZ(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];if(!n.defaultAttr.ignore){var i=n.label,a=i.getComputedTransform(),s=i.getBoundingRect(),o=!a||a[1]<1e-5&&a[2]<1e-5,l=i.style.margin||0,u=s.clone();u.applyTransform(a),u.x-=l/2,u.y-=l/2,u.width+=l,u.height+=l;var c=o?new ES(s,a):null;t.push({label:i,labelLine:n.labelLine,rect:u,localRect:s,obb:c,priority:n.priority,defaultAttr:n.defaultAttr,layoutOption:n.computedLayoutOption,axisAligned:o,transform:a})}}return t}function qZ(e,t,r,n,i,a){var s=e.length;if(s<2)return;e.sort(function(I,L){return I.rect[t]-L.rect[t]});for(var o=0,l,u=!1,c=0;c<s;c++){var h=e[c],f=h.rect;l=f[t]-o,l<0&&(f[t]-=l,h.label[t]-=l,u=!0),o=f[t]+f[r]}var d=e[0],v=e[s-1],m,y;b(),m<0&&k(-m,.8),y<0&&k(y,.8),b(),S(m,y,1),S(y,m,-1),b(),m<0&&M(-m),y<0&&M(y);function b(){m=d.rect[t]-n,y=i-v.rect[t]-v.rect[r]}function S(I,L,N){if(I<0){var z=Math.min(L,-I);if(z>0){w(z*N,0,s);var B=z+I;B<0&&k(-B*N,1)}else k(-I*N,1)}}function w(I,L,N){I!==0&&(u=!0);for(var z=L;z<N;z++){var B=e[z],H=B.rect;H[t]+=I,B.label[t]+=I}}function k(I,L){for(var N=[],z=0,B=1;B<s;B++){var H=e[B-1].rect,G=Math.max(e[B].rect[t]-H[t]-H[r],0);N.push(G),z+=G}if(z){var $=Math.min(Math.abs(I)/z,L);if(I>0)for(var B=0;B<s-1;B++){var W=N[B]*$;w(W,0,B+1)}else for(var B=s-1;B>0;B--){var W=N[B-1]*$;w(-W,B,s)}}}function M(I){var L=I<0?-1:1;I=Math.abs(I);for(var N=Math.ceil(I/(s-1)),z=0;z<s-1;z++)if(L>0?w(N,0,z+1):w(-N,s-z-1,s),I-=N,I<=0)return}return u}function SDe(e,t,r,n){return qZ(e,"x","width",t,r)}function KZ(e,t,r,n){return qZ(e,"y","height",t,r)}function ZZ(e){var t=[];e.sort(function(m,y){return y.priority-m.priority});var r=new jt(0,0,0,0);function n(m){if(!m.ignore){var y=m.ensureState("emphasis");y.ignore==null&&(y.ignore=!1)}m.ignore=!0}for(var i=0;i<e.length;i++){var a=e[i],s=a.axisAligned,o=a.localRect,l=a.transform,u=a.label,c=a.labelLine;r.copy(a.rect),r.width-=.1,r.height-=.1,r.x+=.05,r.y+=.05;for(var h=a.obb,f=!1,d=0;d<t.length;d++){var v=t[d];if(r.intersect(v.rect)){if(s&&v.axisAligned){f=!0;break}if(v.obb||(v.obb=new ES(v.localRect,v.transform)),h||(h=new ES(o,l)),h.intersect(v.obb)){f=!0;break}}}f?(n(u),c&&n(c)):(u.attr("ignore",a.defaultAttr.ignore),c&&c.attr("ignore",a.defaultAttr.labelGuideIgnore),t.push(a))}}function _De(e){if(e){for(var t=[],r=0;r<e.length;r++)t.push(e[r].slice());return t}}function wDe(e,t){var r=e.label,n=t&&t.getTextGuideLine();return{dataIndex:e.dataIndex,dataType:e.dataType,seriesIndex:e.seriesModel.seriesIndex,text:e.label.style.text,rect:e.hostRect,labelRect:e.rect,align:r.style.align,verticalAlign:r.style.verticalAlign,labelLinePoints:_De(n&&n.shape.points)}}var az=["align","verticalAlign","width","height","fontSize"],Di=new hl,CE=tr(),TDe=tr();function vx(e,t,r){for(var n=0;n<r.length;n++){var i=r[n];t[i]!=null&&(e[i]=t[i])}}var gx=["x","y","rotation"],CDe=function(){function e(){this._labelList=[],this._chartViewList=[]}return e.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},e.prototype._addLabel=function(t,r,n,i,a){var s=i.style,o=i.__hostTarget,l=o.textConfig||{},u=i.getComputedTransform(),c=i.getBoundingRect().plain();jt.applyTransform(c,c,u),u?Di.setLocalTransform(u):(Di.x=Di.y=Di.rotation=Di.originX=Di.originY=0,Di.scaleX=Di.scaleY=1),Di.rotation=_a(Di.rotation);var h=i.__hostTarget,f;if(h){f=h.getBoundingRect().plain();var d=h.getComputedTransform();jt.applyTransform(f,f,d)}var v=f&&h.getTextGuideLine();this._labelList.push({label:i,labelLine:v,seriesModel:n,dataIndex:t,dataType:r,layoutOption:a,computedLayoutOption:null,rect:c,hostRect:f,priority:f?f.width*f.height:0,defaultAttr:{ignore:i.ignore,labelGuideIgnore:v&&v.ignore,x:Di.x,y:Di.y,scaleX:Di.scaleX,scaleY:Di.scaleY,rotation:Di.rotation,style:{x:s.x,y:s.y,align:s.align,verticalAlign:s.verticalAlign,width:s.width,height:s.height,fontSize:s.fontSize},cursor:i.cursor,attachedPos:l.position,attachedRot:l.rotation}})},e.prototype.addLabelsOfSeries=function(t){var r=this;this._chartViewList.push(t);var n=t.__model,i=n.get("labelLayout");(vt(i)||Kt(i).length)&&t.group.traverse(function(a){if(a.ignore)return!0;var s=a.getTextContent(),o=It(a);s&&!s.disableLabelLayout&&r._addLabel(o.dataIndex,o.dataType,n,s,i)})},e.prototype.updateLayoutConfig=function(t){var r=t.getWidth(),n=t.getHeight();function i(w,k){return function(){iz(w,k)}}for(var a=0;a<this._labelList.length;a++){var s=this._labelList[a],o=s.label,l=o.__hostTarget,u=s.defaultAttr,c=void 0;vt(s.layoutOption)?c=s.layoutOption(wDe(s,l)):c=s.layoutOption,c=c||{},s.computedLayoutOption=c;var h=Math.PI/180;l&&l.setTextConfig({local:!1,position:c.x!=null||c.y!=null?null:u.attachedPos,rotation:c.rotate!=null?c.rotate*h:u.attachedRot,offset:[c.dx||0,c.dy||0]});var f=!1;if(c.x!=null?(o.x=Ze(c.x,r),o.setStyle("x",0),f=!0):(o.x=u.x,o.setStyle("x",u.style.x)),c.y!=null?(o.y=Ze(c.y,n),o.setStyle("y",0),f=!0):(o.y=u.y,o.setStyle("y",u.style.y)),c.labelLinePoints){var d=l.getTextGuideLine();d&&(d.setShape({points:c.labelLinePoints}),f=!1)}var v=CE(o);v.needsUpdateLabelLine=f,o.rotation=c.rotate!=null?c.rotate*h:u.rotation,o.scaleX=u.scaleX,o.scaleY=u.scaleY;for(var m=0;m<az.length;m++){var y=az[m];o.setStyle(y,c[y]!=null?c[y]:u.style[y])}if(c.draggable){if(o.draggable=!0,o.cursor="move",l){var b=s.seriesModel;if(s.dataIndex!=null){var S=s.seriesModel.getData(s.dataType);b=S.getItemModel(s.dataIndex)}o.on("drag",i(l,b.getModel("labelLine")))}}else o.off("drag"),o.cursor=u.cursor}},e.prototype.layout=function(t){var r=t.getWidth(),n=t.getHeight(),i=XZ(this._labelList),a=lr(i,function(l){return l.layoutOption.moveOverlap==="shiftX"}),s=lr(i,function(l){return l.layoutOption.moveOverlap==="shiftY"});SDe(a,0,r),KZ(s,0,n);var o=lr(i,function(l){return l.layoutOption.hideOverlap});ZZ(o)},e.prototype.processLabelsOverall=function(){var t=this;q(this._chartViewList,function(r){var n=r.__model,i=r.ignoreLabelLineUpdate,a=n.isAnimationEnabled();r.group.traverse(function(s){if(s.ignore&&!s.forceLabelAnimation)return!0;var o=!i,l=s.getTextContent();!o&&l&&(o=CE(l).needsUpdateLabelLine),o&&t._updateLabelLine(s,n),a&&t._animateLabels(s,n)})})},e.prototype._updateLabelLine=function(t,r){var n=t.getTextContent(),i=It(t),a=i.dataIndex;if(n&&a!=null){var s=r.getData(i.dataType),o=s.getItemModel(a),l={},u=s.getItemVisual(a,"style");if(u){var c=s.getVisual("drawType");l.stroke=u[c]}var h=o.getModel("labelLine");AP(t,kP(o),l),iz(t,h)}},e.prototype._animateLabels=function(t,r){var n=t.getTextContent(),i=t.getTextGuideLine();if(n&&(t.forceLabelAnimation||!n.ignore&&!n.invisible&&!t.disableLabelAnimation&&!Bd(t))){var a=CE(n),s=a.oldLayout,o=It(t),l=o.dataIndex,u={x:n.x,y:n.y,rotation:n.rotation},c=r.getData(o.dataType);if(s){n.attr(s);var f=t.prevStates;f&&(Ut(f,"select")>=0&&n.attr(a.oldLayoutSelect),Ut(f,"emphasis")>=0&&n.attr(a.oldLayoutEmphasis)),sr(n,u,r,l)}else if(n.attr(u),!Hp(n).valueAnimation){var h=Mt(n.style.opacity,1);n.style.opacity=0,Br(n,{style:{opacity:h}},r,l)}if(a.oldLayout=u,n.states.select){var d=a.oldLayoutSelect={};vx(d,u,gx),vx(d,n.states.select,gx)}if(n.states.emphasis){var v=a.oldLayoutEmphasis={};vx(v,u,gx),vx(v,n.states.emphasis,gx)}Vq(n,l,c,r,r)}if(i&&!i.ignore&&!i.invisible){var a=TDe(i),s=a.oldLayout,m={points:i.shape.points};s?(i.attr({shape:s}),sr(i,{shape:m},r)):(i.setShape(m),i.style.strokePercent=0,Br(i,{style:{strokePercent:1}},r)),a.oldLayout=m}},e}(),EE=tr();function EDe(e){e.registerUpdateLifecycle("series:beforeupdate",function(t,r,n){var i=EE(r).labelManager;i||(i=EE(r).labelManager=new CDe),i.clearLabels()}),e.registerUpdateLifecycle("series:layoutlabels",function(t,r,n){var i=EE(r).labelManager;n.updatedSeries.forEach(function(a){i.addLabelsOfSeries(r.getViewOfSeriesModel(a))}),i.updateLayoutConfig(r),i.layout(r),i.processLabelsOverall()})}var AE=Math.sin,kE=Math.cos,QZ=Math.PI,qc=Math.PI*2,ADe=180/QZ,JZ=function(){function e(){}return e.prototype.reset=function(t){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,t||4)},e.prototype.moveTo=function(t,r){this._add("M",t,r)},e.prototype.lineTo=function(t,r){this._add("L",t,r)},e.prototype.bezierCurveTo=function(t,r,n,i,a,s){this._add("C",t,r,n,i,a,s)},e.prototype.quadraticCurveTo=function(t,r,n,i){this._add("Q",t,r,n,i)},e.prototype.arc=function(t,r,n,i,a,s){this.ellipse(t,r,n,n,0,i,a,s)},e.prototype.ellipse=function(t,r,n,i,a,s,o,l){var u=o-s,c=!l,h=Math.abs(u),f=Tu(h-qc)||(c?u>=qc:-u>=qc),d=u>0?u%qc:u%qc+qc,v=!1;f?v=!0:Tu(h)?v=!1:v=d>=QZ==!!c;var m=t+n*kE(s),y=r+i*AE(s);this._start&&this._add("M",m,y);var b=Math.round(a*ADe);if(f){var S=1/this._p,w=(c?1:-1)*(qc-S);this._add("A",n,i,b,1,+c,t+n*kE(s+w),r+i*AE(s+w)),S>.01&&this._add("A",n,i,b,0,+c,m,y)}else{var k=t+n*kE(o),M=r+i*AE(o);this._add("A",n,i,b,+v,+c,k,M)}},e.prototype.rect=function(t,r,n,i){this._add("M",t,r),this._add("l",n,0),this._add("l",0,i),this._add("l",-n,0),this._add("Z")},e.prototype.closePath=function(){this._d.length>0&&this._add("Z")},e.prototype._add=function(t,r,n,i,a,s,o,l,u){for(var c=[],h=this._p,f=1;f<arguments.length;f++){var d=arguments[f];if(isNaN(d)){this._invalid=!0;return}c.push(Math.round(d*h)/h)}this._d.push(t+c.join(" ")),this._start=t==="Z"},e.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},e.prototype.getStr=function(){return this._str},e}(),IP="none",kDe=Math.round;function IDe(e){var t=e.fill;return t!=null&&t!==IP}function DDe(e){var t=e.stroke;return t!=null&&t!==IP}var wD=["lineCap","miterLimit","lineJoin"],MDe=Fe(wD,function(e){return"stroke-"+e.toLowerCase()});function LDe(e,t,r,n){var i=t.opacity==null?1:t.opacity;if(r instanceof Vn){e("opacity",i);return}if(IDe(t)){var a=Jm(t.fill);e("fill",a.color);var s=t.fillOpacity!=null?t.fillOpacity*a.opacity*i:a.opacity*i;s<1&&e("fill-opacity",s)}else e("fill",IP);if(DDe(t)){var o=Jm(t.stroke);e("stroke",o.color);var l=t.strokeNoScale?r.getLineScale():1,u=l?(t.lineWidth||0)/l:0,c=t.strokeOpacity!=null?t.strokeOpacity*o.opacity*i:o.opacity*i,h=t.strokeFirst;if(u!==1&&e("stroke-width",u),h&&e("paint-order",h?"stroke":"fill"),c<1&&e("stroke-opacity",c),t.lineDash){var f=cP(r),d=f[0],v=f[1];d&&(v=kDe(v||0),e("stroke-dasharray",d.join(",")),(v||n)&&e("stroke-dashoffset",v))}for(var m=0;m<wD.length;m++){var y=wD[m];if(t[y]!==TS[y]){var b=t[y]||TS[y];b&&e(MDe[m],b)}}}}var eQ="http://www.w3.org/2000/svg",tQ="http://www.w3.org/1999/xlink",NDe="http://www.w3.org/2000/xmlns/",PDe="http://www.w3.org/XML/1998/namespace",sz="ecmeta_";function rQ(e){return document.createElementNS(eQ,e)}function Bn(e,t,r,n,i){return{tag:e,attrs:r||{},children:n,text:i,key:t}}function RDe(e,t){var r=[];if(t)for(var n in t){var i=t[n],a=n;i!==!1&&(i!==!0&&i!=null&&(a+='="'+i+'"'),r.push(a))}return"<"+e+" "+r.join(" ")+">"}function ODe(e){return"</"+e+">"}function DP(e,t){t=t||{};var r=t.newline?`
`:"";function n(i){var a=i.children,s=i.tag,o=i.attrs,l=i.text;return RDe(s,o)+(s!=="style"?gi(l):l||"")+(a?""+r+Fe(a,function(u){return n(u)}).join(r)+r:"")+ODe(s)}return n(e)}function BDe(e,t,r){r=r||{};var n=r.newline?`
`:"",i=" {"+n,a=n+"}",s=Fe(Kt(e),function(l){return l+i+Fe(Kt(e[l]),function(u){return u+":"+e[l][u]+";"}).join(n)+a}).join(n),o=Fe(Kt(t),function(l){return"@keyframes "+l+i+Fe(Kt(t[l]),function(u){return u+i+Fe(Kt(t[l][u]),function(c){var h=t[l][u][c];return c==="d"&&(h='path("'+h+'")'),c+":"+h+";"}).join(n)+a}).join(n)+a}).join(n);return!s&&!o?"":["<![CDATA[",s,o,"]]>"].join(n)}function TD(e){return{zrId:e,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssStyleCache:{},cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function oz(e,t,r,n){return Bn("svg","root",{width:e,height:t,xmlns:eQ,"xmlns:xlink":tQ,version:"1.1",baseProfile:"full",viewBox:n?"0 0 "+e+" "+t:!1},r)}var FDe=0;function nQ(){return FDe++}var lz={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},eh="transform-origin";function zDe(e,t,r){var n=Ne({},e.shape);Ne(n,t),e.buildPath(r,n);var i=new JZ;return i.reset(OX(e)),r.rebuildPath(i,1),i.generateStr(),i.getStr()}function jDe(e,t){var r=t.originX,n=t.originY;(r||n)&&(e[eh]=r+"px "+n+"px")}var HDe={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function iQ(e,t){var r=t.zrId+"-ani-"+t.cssAnimIdx++;return t.cssAnims[r]=e,r}function VDe(e,t,r){var n=e.shape.paths,i={},a,s;if(q(n,function(l){var u=TD(r.zrId);u.animation=!0,jw(l,{},u,!0);var c=u.cssAnims,h=u.cssNodes,f=Kt(c),d=f.length;if(d){s=f[d-1];var v=c[s];for(var m in v){var y=v[m];i[m]=i[m]||{d:""},i[m].d+=y.d||""}for(var b in h){var S=h[b].animation;S.indexOf(s)>=0&&(a=S)}}}),!!a){t.d=!1;var o=iQ(i,r);return a.replace(s,o)}}function uz(e){return Je(e)?lz[e]?"cubic-bezier("+lz[e]+")":bN(e)?e:"":""}function jw(e,t,r,n){var i=e.animators,a=i.length,s=[];if(e instanceof Sw){var o=VDe(e,t,r);if(o)s.push(o);else if(!a)return}else if(!a)return;for(var l={},u=0;u<a;u++){var c=i[u],h=[c.getMaxTime()/1e3+"s"],f=uz(c.getClip().easing),d=c.getDelay();f?h.push(f):h.push("linear"),d&&h.push(d/1e3+"s"),c.getLoop()&&h.push("infinite");var v=h.join(" ");l[v]=l[v]||[v,[]],l[v][1].push(c)}function m(S){var w=S[1],k=w.length,M={},I={},L={},N="animation-timing-function";function z(Pe,Te,Ve){for(var ze=Pe.getTracks(),$e=Pe.getMaxTime(),ce=0;ce<ze.length;ce++){var ve=ze[ce];if(ve.needsAnimate()){var Ae=ve.keyframes,Le=ve.propName;if(Ve&&(Le=Ve(Le)),Le)for(var Ge=0;Ge<Ae.length;Ge++){var nt=Ae[Ge],lt=Math.round(nt.time/$e*100)+"%",He=uz(nt.easing),Ee=nt.rawValue;(Je(Ee)||ar(Ee))&&(Te[lt]=Te[lt]||{},Te[lt][Le]=nt.rawValue,He&&(Te[lt][N]=He))}}}}for(var B=0;B<k;B++){var H=w[B],G=H.targetName;G?G==="shape"&&z(H,I):!n&&z(H,M)}for(var $ in M){var W={};HX(W,e),Ne(W,M[$]);var X=BX(W),ee=M[$][N];L[$]=X?{transform:X}:{},jDe(L[$],W),ee&&(L[$][N]=ee)}var le,ie=!0;for(var $ in I){L[$]=L[$]||{};var fe=!le,ee=I[$][N];fe&&(le=new Oo);var re=le.len();le.reset(),L[$].d=zDe(e,I[$],le);var me=le.len();if(!fe&&re!==me){ie=!1;break}ee&&(L[$][N]=ee)}if(!ie)for(var $ in L)delete L[$].d;if(!n)for(var B=0;B<k;B++){var H=w[B],G=H.targetName;G==="style"&&z(H,L,function(ze){return HDe[ze]})}for(var J=Kt(L),te=!0,ue,B=1;B<J.length;B++){var pe=J[B-1],Se=J[B];if(L[pe][eh]!==L[Se][eh]){te=!1;break}ue=L[pe][eh]}if(te&&ue){for(var $ in L)L[$][eh]&&delete L[$][eh];t[eh]=ue}if(lr(J,function(Pe){return Kt(L[Pe]).length>0}).length){var je=iQ(L,r);return je+" "+S[0]+" both"}}for(var y in l){var o=m(l[y]);o&&s.push(o)}if(s.length){var b=r.zrId+"-cls-"+nQ();r.cssNodes["."+b]={animation:s.join(",")},t.class=b}}function UDe(e,t,r){if(!e.ignore)if(e.isSilent()){var n={"pointer-events":"none"};cz(n,t,r)}else{var i=e.states.emphasis&&e.states.emphasis.style?e.states.emphasis.style:{},a=i.fill;if(!a){var s=e.style&&e.style.fill,o=e.states.select&&e.states.select.style&&e.states.select.style.fill,l=e.currentStates.indexOf("select")>=0&&o||s;l&&(a=bS(l))}var u=i.lineWidth;if(u){var c=!i.strokeNoScale&&e.transform?e.transform[0]:1;u=u/c}var n={cursor:"pointer"};a&&(n.fill=a),i.stroke&&(n.stroke=i.stroke),u&&(n["stroke-width"]=u),cz(n,t,r)}}function cz(e,t,r,n){var i=JSON.stringify(e),a=r.cssStyleCache[i];a||(a=r.zrId+"-cls-"+nQ(),r.cssStyleCache[i]=a,r.cssNodes["."+a+":hover"]=e),t.class=t.class?t.class+" "+a:a}var h0=Math.round;function aQ(e){return e&&Je(e.src)}function sQ(e){return e&&vt(e.toDataURL)}function MP(e,t,r,n){LDe(function(i,a){var s=i==="fill"||i==="stroke";s&&RX(a)?lQ(t,e,i,n):s&&_N(a)?uQ(r,e,i,n):e[i]=a,s&&n.ssr&&a==="none"&&(e["pointer-events"]="visible")},t,r,!1),KDe(r,e,n)}function LP(e,t){var r=GX(t);r&&(r.each(function(n,i){n!=null&&(e[(sz+i).toLowerCase()]=n+"")}),t.isSilent()&&(e[sz+"silent"]="true"))}function hz(e){return Tu(e[0]-1)&&Tu(e[1])&&Tu(e[2])&&Tu(e[3]-1)}function GDe(e){return Tu(e[4])&&Tu(e[5])}function NP(e,t,r){if(t&&!(GDe(t)&&hz(t))){var n=1e4;e.transform=hz(t)?"translate("+h0(t[4]*n)/n+" "+h0(t[5]*n)/n+")":qwe(t)}}function fz(e,t,r){for(var n=e.points,i=[],a=0;a<n.length;a++)i.push(h0(n[a][0]*r)/r),i.push(h0(n[a][1]*r)/r);t.points=i.join(" ")}function dz(e){return!e.smooth}function WDe(e){var t=Fe(e,function(r){return typeof r=="string"?[r,r]:r});return function(r,n,i){for(var a=0;a<t.length;a++){var s=t[a],o=r[s[0]];o!=null&&(n[s[1]]=h0(o*i)/i)}}}var $De={circle:[WDe(["cx","cy","r"])],polyline:[fz,dz],polygon:[fz,dz]};function YDe(e){for(var t=e.animators,r=0;r<t.length;r++)if(t[r].targetName==="shape")return!0;return!1}function oQ(e,t){var r=e.style,n=e.shape,i=$De[e.type],a={},s=t.animation,o="path",l=e.style.strokePercent,u=t.compress&&OX(e)||4;if(i&&!t.willUpdate&&!(i[1]&&!i[1](n))&&!(s&&YDe(e))&&!(l<1)){o=e.type;var c=Math.pow(10,u);i[0](n,a,c)}else{var h=!e.path||e.shapeChanged();e.path||e.createPathProxy();var f=e.path;h&&(f.beginPath(),e.buildPath(f,e.shape),e.pathUpdated());var d=f.getVersion(),v=e,m=v.__svgPathBuilder;(v.__svgPathVersion!==d||!m||l!==v.__svgPathStrokePercent)&&(m||(m=v.__svgPathBuilder=new JZ),m.reset(u),f.rebuildPath(m,l),m.generateStr(),v.__svgPathVersion=d,v.__svgPathStrokePercent=l),a.d=m.getStr()}return NP(a,e.transform),MP(a,r,e,t),LP(a,e),t.animation&&jw(e,a,t),t.emphasis&&UDe(e,a,t),Bn(o,e.id+"",a)}function XDe(e,t){var r=e.style,n=r.image;if(n&&!Je(n)&&(aQ(n)?n=n.src:sQ(n)&&(n=n.toDataURL())),!!n){var i=r.x||0,a=r.y||0,s=r.width,o=r.height,l={href:n,width:s,height:o};return i&&(l.x=i),a&&(l.y=a),NP(l,e.transform),MP(l,r,e,t),LP(l,e),t.animation&&jw(e,l,t),Bn("image",e.id+"",l)}}function qDe(e,t){var r=e.style,n=r.text;if(n!=null&&(n+=""),!(!n||isNaN(r.x)||isNaN(r.y))){var i=r.font||Ku,a=r.x||0,s=Zwe(r.y||0,fw(i),r.textBaseline),o=Kwe[r.textAlign]||r.textAlign,l={"dominant-baseline":"central","text-anchor":o};if(vq(r)){var u="",c=r.fontStyle,h=pq(r.fontSize);if(!parseFloat(h))return;var f=r.fontFamily||sX,d=r.fontWeight;u+="font-size:"+h+";font-family:"+f+";",c&&c!=="normal"&&(u+="font-style:"+c+";"),d&&d!=="normal"&&(u+="font-weight:"+d+";"),l.style=u}else l.style="font: "+i;return n.match(/\s/)&&(l["xml:space"]="preserve"),a&&(l.x=a),s&&(l.y=s),NP(l,e.transform),MP(l,r,e,t),LP(l,e),t.animation&&jw(e,l,t),Bn("text",e.id+"",l,void 0,n)}}function pz(e,t){if(e instanceof qt)return oQ(e,t);if(e instanceof Vn)return XDe(e,t);if(e instanceof hp)return qDe(e,t)}function KDe(e,t,r){var n=e.style;if(Qwe(n)){var i=Jwe(e),a=r.shadowCache,s=a[i];if(!s){var o=e.getGlobalScale(),l=o[0],u=o[1];if(!l||!u)return;var c=n.shadowOffsetX||0,h=n.shadowOffsetY||0,f=n.shadowBlur,d=Jm(n.shadowColor),v=d.opacity,m=d.color,y=f/2/l,b=f/2/u,S=y+" "+b;s=r.zrId+"-s"+r.shadowIdx++,r.defs[s]=Bn("filter",s,{id:s,x:"-100%",y:"-100%",width:"300%",height:"300%"},[Bn("feDropShadow","",{dx:c/l,dy:h/u,stdDeviation:S,"flood-color":m,"flood-opacity":v})]),a[i]=s}t.filter=hw(s)}}function lQ(e,t,r,n){var i=e[r],a,s={gradientUnits:i.global?"userSpaceOnUse":"objectBoundingBox"};if(NX(i))a="linearGradient",s.x1=i.x,s.y1=i.y,s.x2=i.x2,s.y2=i.y2;else if(PX(i))a="radialGradient",s.cx=Mt(i.x,.5),s.cy=Mt(i.y,.5),s.r=Mt(i.r,.5);else return;for(var o=i.colorStops,l=[],u=0,c=o.length;u<c;++u){var h=NI(o[u].offset)*100+"%",f=o[u].color,d=Jm(f),v=d.color,m=d.opacity,y={offset:h};y["stop-color"]=v,m<1&&(y["stop-opacity"]=m),l.push(Bn("stop",u+"",y))}var b=Bn(a,"",s,l),S=DP(b),w=n.gradientCache,k=w[S];k||(k=n.zrId+"-g"+n.gradientIdx++,w[S]=k,s.id=k,n.defs[k]=Bn(a,k,s,l)),t[r]=hw(k)}function uQ(e,t,r,n){var i=e.style[r],a=e.getBoundingRect(),s={},o=i.repeat,l=o==="no-repeat",u=o==="repeat-x",c=o==="repeat-y",h;if(LX(i)){var f=i.imageWidth,d=i.imageHeight,v=void 0,m=i.image;if(Je(m)?v=m:aQ(m)?v=m.src:sQ(m)&&(v=m.toDataURL()),typeof Image>"u"){var y="Image width/height must been given explictly in svg-ssr renderer.";Si(f,y),Si(d,y)}else if(f==null||d==null){var b=function(B,H){if(B){var G=B.elm,$=f||H.width,W=d||H.height;B.tag==="pattern"&&(u?(W=1,$/=a.width):c&&($=1,W/=a.height)),B.attrs.width=$,B.attrs.height=W,G&&(G.setAttribute("width",$),G.setAttribute("height",W))}},S=MN(v,null,e,function(B){l||b(I,B),b(h,B)});S&&S.width&&S.height&&(f=f||S.width,d=d||S.height)}h=Bn("image","img",{href:v,width:f,height:d}),s.width=f,s.height=d}else i.svgElement&&(h=_t(i.svgElement),s.width=i.svgWidth,s.height=i.svgHeight);if(h){var w,k;l?w=k=1:u?(k=1,w=s.width/a.width):c?(w=1,k=s.height/a.height):s.patternUnits="userSpaceOnUse",w!=null&&!isNaN(w)&&(s.width=w),k!=null&&!isNaN(k)&&(s.height=k);var M=BX(i);M&&(s.patternTransform=M);var I=Bn("pattern","",s,[h]),L=DP(I),N=n.patternCache,z=N[L];z||(z=n.zrId+"-p"+n.patternIdx++,N[L]=z,s.id=z,I=n.defs[z]=Bn("pattern",z,s,[h])),t[r]=hw(z)}}function ZDe(e,t,r){var n=r.clipPathCache,i=r.defs,a=n[e.id];if(!a){a=r.zrId+"-c"+r.clipPathIdx++;var s={id:a};n[e.id]=a,i[a]=Bn("clipPath",a,s,[oQ(e,r)])}t["clip-path"]=hw(a)}function vz(e){return document.createTextNode(e)}function lh(e,t,r){e.insertBefore(t,r)}function gz(e,t){e.removeChild(t)}function mz(e,t){e.appendChild(t)}function cQ(e){return e.parentNode}function hQ(e){return e.nextSibling}function IE(e,t){e.textContent=t}var yz=58,QDe=120,JDe=Bn("","");function CD(e){return e===void 0}function go(e){return e!==void 0}function eMe(e,t,r){for(var n={},i=t;i<=r;++i){var a=e[i].key;a!==void 0&&(n[a]=i)}return n}function kg(e,t){var r=e.key===t.key,n=e.tag===t.tag;return n&&r}function f0(e){var t,r=e.children,n=e.tag;if(go(n)){var i=e.elm=rQ(n);if(PP(JDe,e),Oe(r))for(t=0;t<r.length;++t){var a=r[t];a!=null&&mz(i,f0(a))}else go(e.text)&&!St(e.text)&&mz(i,vz(e.text))}else e.elm=vz(e.text);return e.elm}function fQ(e,t,r,n,i){for(;n<=i;++n){var a=r[n];a!=null&&lh(e,f0(a),t)}}function WS(e,t,r,n){for(;r<=n;++r){var i=t[r];if(i!=null)if(go(i.tag)){var a=cQ(i.elm);gz(a,i.elm)}else gz(e,i.elm)}}function PP(e,t){var r,n=t.elm,i=e&&e.attrs||{},a=t.attrs||{};if(i!==a){for(r in a){var s=a[r],o=i[r];o!==s&&(s===!0?n.setAttribute(r,""):s===!1?n.removeAttribute(r):r==="style"?n.style.cssText=s:r.charCodeAt(0)!==QDe?n.setAttribute(r,s):r==="xmlns:xlink"||r==="xmlns"?n.setAttributeNS(NDe,r,s):r.charCodeAt(3)===yz?n.setAttributeNS(PDe,r,s):r.charCodeAt(5)===yz?n.setAttributeNS(tQ,r,s):n.setAttribute(r,s))}for(r in i)r in a||n.removeAttribute(r)}}function tMe(e,t,r){for(var n=0,i=0,a=t.length-1,s=t[0],o=t[a],l=r.length-1,u=r[0],c=r[l],h,f,d,v;n<=a&&i<=l;)s==null?s=t[++n]:o==null?o=t[--a]:u==null?u=r[++i]:c==null?c=r[--l]:kg(s,u)?(sd(s,u),s=t[++n],u=r[++i]):kg(o,c)?(sd(o,c),o=t[--a],c=r[--l]):kg(s,c)?(sd(s,c),lh(e,s.elm,hQ(o.elm)),s=t[++n],c=r[--l]):kg(o,u)?(sd(o,u),lh(e,o.elm,s.elm),o=t[--a],u=r[++i]):(CD(h)&&(h=eMe(t,n,a)),f=h[u.key],CD(f)?lh(e,f0(u),s.elm):(d=t[f],d.tag!==u.tag?lh(e,f0(u),s.elm):(sd(d,u),t[f]=void 0,lh(e,d.elm,s.elm))),u=r[++i]);(n<=a||i<=l)&&(n>a?(v=r[l+1]==null?null:r[l+1].elm,fQ(e,v,r,i,l)):WS(e,t,n,a))}function sd(e,t){var r=t.elm=e.elm,n=e.children,i=t.children;e!==t&&(PP(e,t),CD(t.text)?go(n)&&go(i)?n!==i&&tMe(r,n,i):go(i)?(go(e.text)&&IE(r,""),fQ(r,null,i,0,i.length-1)):go(n)?WS(r,n,0,n.length-1):go(e.text)&&IE(r,""):e.text!==t.text&&(go(n)&&WS(r,n,0,n.length-1),IE(r,t.text)))}function rMe(e,t){if(kg(e,t))sd(e,t);else{var r=e.elm,n=cQ(r);f0(t),n!==null&&(lh(n,t.elm,hQ(r)),WS(n,[e],0,0))}return t}var nMe=0,iMe=function(){function e(t,r,n){if(this.type="svg",this.refreshHover=xz(),this.configLayer=xz(),this.storage=r,this._opts=n=Ne({},n),this.root=t,this._id="zr"+nMe++,this._oldVNode=oz(n.width,n.height),t&&!n.ssr){var i=this._viewport=document.createElement("div");i.style.cssText="position:relative;overflow:hidden";var a=this._svgDom=this._oldVNode.elm=rQ("svg");PP(null,this._oldVNode),i.appendChild(a),t.appendChild(i)}this.resize(n.width,n.height)}return e.prototype.getType=function(){return this.type},e.prototype.getViewportRoot=function(){return this._viewport},e.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},e.prototype.getSvgDom=function(){return this._svgDom},e.prototype.refresh=function(){if(this.root){var t=this.renderToVNode({willUpdate:!0});t.attrs.style="position:absolute;left:0;top:0;user-select:none",rMe(this._oldVNode,t),this._oldVNode=t}},e.prototype.renderOneToVNode=function(t){return pz(t,TD(this._id))},e.prototype.renderToVNode=function(t){t=t||{};var r=this.storage.getDisplayList(!0),n=this._width,i=this._height,a=TD(this._id);a.animation=t.animation,a.willUpdate=t.willUpdate,a.compress=t.compress,a.emphasis=t.emphasis,a.ssr=this._opts.ssr;var s=[],o=this._bgVNode=aMe(n,i,this._backgroundColor,a);o&&s.push(o);var l=t.compress?null:this._mainVNode=Bn("g","main",{},[]);this._paintList(r,a,l?l.children:s),l&&s.push(l);var u=Fe(Kt(a.defs),function(f){return a.defs[f]});if(u.length&&s.push(Bn("defs","defs",{},u)),t.animation){var c=BDe(a.cssNodes,a.cssAnims,{newline:!0});if(c){var h=Bn("style","stl",{},[],c);s.push(h)}}return oz(n,i,s,t.useViewBox)},e.prototype.renderToString=function(t){return t=t||{},DP(this.renderToVNode({animation:Mt(t.cssAnimation,!0),emphasis:Mt(t.cssEmphasis,!0),willUpdate:!1,compress:!0,useViewBox:Mt(t.useViewBox,!0)}),{newline:!0})},e.prototype.setBackgroundColor=function(t){this._backgroundColor=t},e.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},e.prototype._paintList=function(t,r,n){for(var i=t.length,a=[],s=0,o,l,u=0,c=0;c<i;c++){var h=t[c];if(!h.invisible){var f=h.__clipPaths,d=f&&f.length||0,v=l&&l.length||0,m=void 0;for(m=Math.max(d-1,v-1);m>=0&&!(f&&l&&f[m]===l[m]);m--);for(var y=v-1;y>m;y--)s--,o=a[s-1];for(var b=m+1;b<d;b++){var S={};ZDe(f[b],S,r);var w=Bn("g","clip-g-"+u++,S,[]);(o?o.children:n).push(w),a[s++]=w,o=w}l=f;var k=pz(h,r);k&&(o?o.children:n).push(k)}}},e.prototype.resize=function(t,r){var n=this._opts,i=this.root,a=this._viewport;if(t!=null&&(n.width=t),r!=null&&(n.height=r),i&&a&&(a.style.display="none",t=Cd(i,0,n),r=Cd(i,1,n),a.style.display=""),this._width!==t||this._height!==r){if(this._width=t,this._height=r,a){var s=a.style;s.width=t+"px",s.height=r+"px"}if(_N(this._backgroundColor))this.refresh();else{var o=this._svgDom;o&&(o.setAttribute("width",t),o.setAttribute("height",r));var l=this._bgVNode&&this._bgVNode.elm;l&&(l.setAttribute("width",t),l.setAttribute("height",r))}}},e.prototype.getWidth=function(){return this._width},e.prototype.getHeight=function(){return this._height},e.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},e.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},e.prototype.toDataURL=function(t){var r=this.renderToString(),n="data:image/svg+xml;";return t?(r=tTe(r),r&&n+"base64,"+r):n+"charset=UTF-8,"+encodeURIComponent(r)},e}();function xz(e){return function(){}}function aMe(e,t,r,n){var i;if(r&&r!=="none")if(i=Bn("rect","bg",{width:e,height:t,x:"0",y:"0"}),RX(r))lQ({fill:r},i.attrs,"fill",n);else if(_N(r))uQ({style:{fill:r},dirty:ln,getBoundingRect:function(){return{width:e,height:t}}},i.attrs,"fill",n);else{var a=Jm(r),s=a.color,o=a.opacity;i.attrs.fill=s,o<1&&(i.attrs["fill-opacity"]=o)}return i}function sMe(e){e.registerPainter("svg",iMe)}function bz(e,t,r){var n=Hs.createCanvas(),i=t.getWidth(),a=t.getHeight(),s=n.style;return s&&(s.position="absolute",s.left="0",s.top="0",s.width=i+"px",s.height=a+"px",n.setAttribute("data-zr-dom-id",e)),n.width=i*r,n.height=a*r,n}var DE=function(e){_e(t,e);function t(r,n,i){var a=e.call(this)||this;a.motionBlur=!1,a.lastFrameAlpha=.7,a.dpr=1,a.virtual=!1,a.config={},a.incremental=!1,a.zlevel=0,a.maxRepaintRectCount=5,a.__dirty=!0,a.__firstTimePaint=!0,a.__used=!1,a.__drawIndex=0,a.__startIndex=0,a.__endIndex=0,a.__prevStartIndex=null,a.__prevEndIndex=null;var s;i=i||_S,typeof r=="string"?s=bz(r,n,i):St(r)&&(s=r,r=s.id),a.id=r,a.dom=s;var o=s.style;return o&&(mN(s),s.onselectstart=function(){return!1},o.padding="0",o.margin="0",o.borderWidth="0"),a.painter=n,a.dpr=i,a}return t.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},t.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},t.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},t.prototype.setUnpainted=function(){this.__firstTimePaint=!0},t.prototype.createBackBuffer=function(){var r=this.dpr;this.domBack=bz("back-"+this.id,this.painter,r),this.ctxBack=this.domBack.getContext("2d"),r!==1&&this.ctxBack.scale(r,r)},t.prototype.createRepaintRects=function(r,n,i,a){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var s=[],o=this.maxRepaintRectCount,l=!1,u=new jt(0,0,0,0);function c(S){if(!(!S.isFinite()||S.isZero()))if(s.length===0){var w=new jt(0,0,0,0);w.copy(S),s.push(w)}else{for(var k=!1,M=1/0,I=0,L=0;L<s.length;++L){var N=s[L];if(N.intersect(S)){var z=new jt(0,0,0,0);z.copy(N),z.union(S),s[L]=z,k=!0;break}else if(l){u.copy(S),u.union(N);var B=S.width*S.height,H=N.width*N.height,G=u.width*u.height,$=G-B-H;$<M&&(M=$,I=L)}}if(l&&(s[I].union(S),k=!0),!k){var w=new jt(0,0,0,0);w.copy(S),s.push(w)}l||(l=s.length>=o)}}for(var h=this.__startIndex;h<this.__endIndex;++h){var f=r[h];if(f){var d=f.shouldBePainted(i,a,!0,!0),v=f.__isRendered&&(f.__dirty&ya||!d)?f.getPrevPaintRect():null;v&&c(v);var m=d&&(f.__dirty&ya||!f.__isRendered)?f.getPaintRect():null;m&&c(m)}}for(var h=this.__prevStartIndex;h<this.__prevEndIndex;++h){var f=n[h],d=f&&f.shouldBePainted(i,a,!0,!0);if(f&&(!d||!f.__zr)&&f.__isRendered){var v=f.getPrevPaintRect();v&&c(v)}}var y;do{y=!1;for(var h=0;h<s.length;){if(s[h].isZero()){s.splice(h,1);continue}for(var b=h+1;b<s.length;)s[h].intersect(s[b])?(y=!0,s[h].union(s[b]),s.splice(b,1)):b++;h++}}while(y);return this._paintRects=s,s},t.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},t.prototype.resize=function(r,n){var i=this.dpr,a=this.dom,s=a.style,o=this.domBack;s&&(s.width=r+"px",s.height=n+"px"),a.width=r*i,a.height=n*i,o&&(o.width=r*i,o.height=n*i,i!==1&&this.ctxBack.scale(i,i))},t.prototype.clear=function(r,n,i){var a=this.dom,s=this.ctx,o=a.width,l=a.height;n=n||this.clearColor;var u=this.motionBlur&&!r,c=this.lastFrameAlpha,h=this.dpr,f=this;u&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(a,0,0,o/h,l/h));var d=this.domBack;function v(m,y,b,S){if(s.clearRect(m,y,b,S),n&&n!=="transparent"){var w=void 0;if(U0(n)){var k=n.global||n.__width===b&&n.__height===S;w=k&&n.__canvasGradient||pD(s,n,{x:0,y:0,width:b,height:S}),n.__canvasGradient=w,n.__width=b,n.__height=S}else hX(n)&&(n.scaleX=n.scaleX||h,n.scaleY=n.scaleY||h,w=vD(s,n,{dirty:function(){f.setUnpainted(),f.painter.refresh()}}));s.save(),s.fillStyle=w||n,s.fillRect(m,y,b,S),s.restore()}u&&(s.save(),s.globalAlpha=c,s.drawImage(d,m,y,b,S),s.restore())}!i||u?v(0,0,o,l):i.length&&q(i,function(m){v(m.x*h,m.y*h,m.width*h,m.height*h)})},t}(cs),Sz=1e5,Kc=314159,mx=.01,oMe=.001;function lMe(e){return e?e.__builtin__?!0:!(typeof e.resize!="function"||typeof e.refresh!="function"):!1}function uMe(e,t){var r=document.createElement("div");return r.style.cssText=["position:relative","width:"+e+"px","height:"+t+"px","padding:0","margin:0","border-width:0"].join(";")+";",r}var cMe=function(){function e(t,r,n,i){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var a=!t.nodeName||t.nodeName.toUpperCase()==="CANVAS";this._opts=n=Ne({},n||{}),this.dpr=n.devicePixelRatio||_S,this._singleCanvas=a,this.root=t;var s=t.style;s&&(mN(t),t.innerHTML=""),this.storage=r;var o=this._zlevelList;this._prevDisplayList=[];var l=this._layers;if(a){var c=t,h=c.width,f=c.height;n.width!=null&&(h=n.width),n.height!=null&&(f=n.height),this.dpr=n.devicePixelRatio||1,c.width=h*this.dpr,c.height=f*this.dpr,this._width=h,this._height=f;var d=new DE(c,this,this.dpr);d.__builtin__=!0,d.initContext(),l[Kc]=d,d.zlevel=Kc,o.push(Kc),this._domRoot=t}else{this._width=Cd(t,0,n),this._height=Cd(t,1,n);var u=this._domRoot=uMe(this._width,this._height);t.appendChild(u)}}return e.prototype.getType=function(){return"canvas"},e.prototype.isSingleCanvas=function(){return this._singleCanvas},e.prototype.getViewportRoot=function(){return this._domRoot},e.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},e.prototype.refresh=function(t){var r=this.storage.getDisplayList(!0),n=this._prevDisplayList,i=this._zlevelList;this._redrawId=Math.random(),this._paintList(r,n,t,this._redrawId);for(var a=0;a<i.length;a++){var s=i[a],o=this._layers[s];if(!o.__builtin__&&o.refresh){var l=a===0?this._backgroundColor:null;o.refresh(l)}}return this._opts.useDirtyRect&&(this._prevDisplayList=r.slice()),this},e.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},e.prototype._paintHoverList=function(t){var r=t.length,n=this._hoverlayer;if(n&&n.clear(),!!r){for(var i={inHover:!0,viewWidth:this._width,viewHeight:this._height},a,s=0;s<r;s++){var o=t[s];o.__inHover&&(n||(n=this._hoverlayer=this.getLayer(Sz)),a||(a=n.ctx,a.save()),wh(a,o,i,s===r-1))}a&&a.restore()}},e.prototype.getHoverLayer=function(){return this.getLayer(Sz)},e.prototype.paintOne=function(t,r){hP(t,r)},e.prototype._paintList=function(t,r,n,i){if(this._redrawId===i){n=n||!1,this._updateLayerStatus(t);var a=this._doPaintList(t,r,n),s=a.finished,o=a.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),o&&this._paintHoverList(t),s)this.eachLayer(function(u){u.afterBrush&&u.afterBrush()});else{var l=this;gS(function(){l._paintList(t,r,n,i)})}}},e.prototype._compositeManually=function(){var t=this.getLayer(Kc).ctx,r=this._domRoot.width,n=this._domRoot.height;t.clearRect(0,0,r,n),this.eachBuiltinLayer(function(i){i.virtual&&t.drawImage(i.dom,0,0,r,n)})},e.prototype._doPaintList=function(t,r,n){for(var i=this,a=[],s=this._opts.useDirtyRect,o=0;o<this._zlevelList.length;o++){var l=this._zlevelList[o],u=this._layers[l];u.__builtin__&&u!==this._hoverlayer&&(u.__dirty||n)&&a.push(u)}for(var c=!0,h=!1,f=function(m){var y=a[m],b=y.ctx,S=s&&y.createRepaintRects(t,r,d._width,d._height),w=n?y.__startIndex:y.__drawIndex,k=!n&&y.incremental&&Date.now,M=k&&Date.now(),I=y.zlevel===d._zlevelList[0]?d._backgroundColor:null;if(y.__startIndex===y.__endIndex)y.clear(!1,I,S);else if(w===y.__startIndex){var L=t[w];(!L.incremental||!L.notClear||n)&&y.clear(!1,I,S)}w===-1&&(console.error("For some unknown reason. drawIndex is -1"),w=y.__startIndex);var N,z=function($){var W={inHover:!1,allClipped:!1,prevEl:null,viewWidth:i._width,viewHeight:i._height};for(N=w;N<y.__endIndex;N++){var X=t[N];if(X.__inHover&&(h=!0),i._doPaintEl(X,y,s,$,W,N===y.__endIndex-1),k){var ee=Date.now()-M;if(ee>15)break}}W.prevElClipPaths&&b.restore()};if(S)if(S.length===0)N=y.__endIndex;else for(var B=d.dpr,H=0;H<S.length;++H){var G=S[H];b.save(),b.beginPath(),b.rect(G.x*B,G.y*B,G.width*B,G.height*B),b.clip(),z(G),b.restore()}else b.save(),z(),b.restore();y.__drawIndex=N,y.__drawIndex<y.__endIndex&&(c=!1)},d=this,v=0;v<a.length;v++)f(v);return Xt.wxa&&q(this._layers,function(m){m&&m.ctx&&m.ctx.draw&&m.ctx.draw()}),{finished:c,needsRefreshHover:h}},e.prototype._doPaintEl=function(t,r,n,i,a,s){var o=r.ctx;if(n){var l=t.getPaintRect();(!i||l&&l.intersect(i))&&(wh(o,t,a,s),t.setPrevPaintRect(l))}else wh(o,t,a,s)},e.prototype.getLayer=function(t,r){this._singleCanvas&&!this._needsManuallyCompositing&&(t=Kc);var n=this._layers[t];return n||(n=new DE("zr_"+t,this,this.dpr),n.zlevel=t,n.__builtin__=!0,this._layerConfig[t]?Ot(n,this._layerConfig[t],!0):this._layerConfig[t-mx]&&Ot(n,this._layerConfig[t-mx],!0),r&&(n.virtual=r),this.insertLayer(t,n),n.initContext()),n},e.prototype.insertLayer=function(t,r){var n=this._layers,i=this._zlevelList,a=i.length,s=this._domRoot,o=null,l=-1;if(!n[t]&&lMe(r)){if(a>0&&t>i[0]){for(l=0;l<a-1&&!(i[l]<t&&i[l+1]>t);l++);o=n[i[l]]}if(i.splice(l+1,0,t),n[t]=r,!r.virtual)if(o){var u=o.dom;u.nextSibling?s.insertBefore(r.dom,u.nextSibling):s.appendChild(r.dom)}else s.firstChild?s.insertBefore(r.dom,s.firstChild):s.appendChild(r.dom);r.painter||(r.painter=this)}},e.prototype.eachLayer=function(t,r){for(var n=this._zlevelList,i=0;i<n.length;i++){var a=n[i];t.call(r,this._layers[a],a)}},e.prototype.eachBuiltinLayer=function(t,r){for(var n=this._zlevelList,i=0;i<n.length;i++){var a=n[i],s=this._layers[a];s.__builtin__&&t.call(r,s,a)}},e.prototype.eachOtherLayer=function(t,r){for(var n=this._zlevelList,i=0;i<n.length;i++){var a=n[i],s=this._layers[a];s.__builtin__||t.call(r,s,a)}},e.prototype.getLayers=function(){return this._layers},e.prototype._updateLayerStatus=function(t){this.eachBuiltinLayer(function(h,f){h.__dirty=h.__used=!1});function r(h){a&&(a.__endIndex!==h&&(a.__dirty=!0),a.__endIndex=h)}if(this._singleCanvas)for(var n=1;n<t.length;n++){var i=t[n];if(i.zlevel!==t[n-1].zlevel||i.incremental){this._needsManuallyCompositing=!0;break}}var a=null,s=0,o,l;for(l=0;l<t.length;l++){var i=t[l],u=i.zlevel,c=void 0;o!==u&&(o=u,s=0),i.incremental?(c=this.getLayer(u+oMe,this._needsManuallyCompositing),c.incremental=!0,s=1):c=this.getLayer(u+(s>0?mx:0),this._needsManuallyCompositing),c.__builtin__||aw("ZLevel "+u+" has been used by unkown layer "+c.id),c!==a&&(c.__used=!0,c.__startIndex!==l&&(c.__dirty=!0),c.__startIndex=l,c.incremental?c.__drawIndex=-1:c.__drawIndex=l,r(l),a=c),i.__dirty&ya&&!i.__inHover&&(c.__dirty=!0,c.incremental&&c.__drawIndex<0&&(c.__drawIndex=l))}r(l),this.eachBuiltinLayer(function(h,f){!h.__used&&h.getElementCount()>0&&(h.__dirty=!0,h.__startIndex=h.__endIndex=h.__drawIndex=0),h.__dirty&&h.__drawIndex<0&&(h.__drawIndex=h.__startIndex)})},e.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},e.prototype._clearLayer=function(t){t.clear()},e.prototype.setBackgroundColor=function(t){this._backgroundColor=t,q(this._layers,function(r){r.setUnpainted()})},e.prototype.configLayer=function(t,r){if(r){var n=this._layerConfig;n[t]?Ot(n[t],r,!0):n[t]=r;for(var i=0;i<this._zlevelList.length;i++){var a=this._zlevelList[i];if(a===t||a===t+mx){var s=this._layers[a];Ot(s,n[t],!0)}}}},e.prototype.delLayer=function(t){var r=this._layers,n=this._zlevelList,i=r[t];i&&(i.dom.parentNode.removeChild(i.dom),delete r[t],n.splice(Ut(n,t),1))},e.prototype.resize=function(t,r){if(this._domRoot.style){var n=this._domRoot;n.style.display="none";var i=this._opts,a=this.root;if(t!=null&&(i.width=t),r!=null&&(i.height=r),t=Cd(a,0,i),r=Cd(a,1,i),n.style.display="",this._width!==t||r!==this._height){n.style.width=t+"px",n.style.height=r+"px";for(var s in this._layers)this._layers.hasOwnProperty(s)&&this._layers[s].resize(t,r);this.refresh(!0)}this._width=t,this._height=r}else{if(t==null||r==null)return;this._width=t,this._height=r,this.getLayer(Kc).resize(t,r)}return this},e.prototype.clearLayer=function(t){var r=this._layers[t];r&&r.clear()},e.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},e.prototype.getRenderedCanvas=function(t){if(t=t||{},this._singleCanvas&&!this._compositeManually)return this._layers[Kc].dom;var r=new DE("image",this,t.pixelRatio||this.dpr);r.initContext(),r.clear(!1,t.backgroundColor||this._backgroundColor);var n=r.ctx;if(t.pixelRatio<=this.dpr){this.refresh();var i=r.dom.width,a=r.dom.height;this.eachLayer(function(h){h.__builtin__?n.drawImage(h.dom,0,0,i,a):h.renderToCanvas&&(n.save(),h.renderToCanvas(n),n.restore())})}else for(var s={inHover:!1,viewWidth:this._width,viewHeight:this._height},o=this.storage.getDisplayList(!0),l=0,u=o.length;l<u;l++){var c=o[l];wh(n,c,s,l===u-1)}return r.dom},e.prototype.getWidth=function(){return this._width},e.prototype.getHeight=function(){return this._height},e}();function hMe(e){e.registerPainter("canvas",cMe)}var fMe=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.hasSymbolVisual=!0,r}return t.prototype.getInitialData=function(r){return Vo(null,this,{useEncodeDefaulter:!0})},t.prototype.getLegendIcon=function(r){var n=new Ct,i=dn("line",0,r.itemHeight/2,r.itemWidth,0,r.lineStyle.stroke,!1);n.add(i),i.setStyle(r.lineStyle);var a=this.getData().getVisual("symbol"),s=this.getData().getVisual("symbolRotate"),o=a==="none"?"circle":a,l=r.itemHeight*.8,u=dn(o,(r.itemWidth-l)/2,(r.itemHeight-l)/2,l,l,r.itemStyle.fill);n.add(u),u.setStyle(r.itemStyle);var c=r.iconRotate==="inherit"?s:r.iconRotate||0;return u.rotation=c*Math.PI/180,u.setOrigin([r.itemWidth/2,r.itemHeight/2]),o.indexOf("empty")>-1&&(u.style.stroke=u.style.fill,u.style.fill="#fff",u.style.lineWidth=2),n},t.type="series.line",t.dependencies=["grid","polar"],t.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},t}(Cr);function vp(e,t){var r=e.mapDimensionsAll("defaultedLabel"),n=r.length;if(n===1){var i=dp(e,t,r[0]);return i!=null?i+"":null}else if(n){for(var a=[],s=0;s<r.length;s++)a.push(dp(e,t,r[s]));return a.join(" ")}}function dQ(e,t){var r=e.mapDimensionsAll("defaultedLabel");if(!Oe(t))return t+"";for(var n=[],i=0;i<r.length;i++){var a=e.getDimensionIndex(r[i]);a>=0&&n.push(t[a])}return n.join(" ")}var ny=function(e){_e(t,e);function t(r,n,i,a){var s=e.call(this)||this;return s.updateData(r,n,i,a),s}return t.prototype._createSymbol=function(r,n,i,a,s){this.removeAll();var o=dn(r,-1,-1,2,2,null,s);o.attr({z2:100,culling:!0,scaleX:a[0]/2,scaleY:a[1]/2}),o.drift=dMe,this._symbolType=r,this.add(o)},t.prototype.stopSymbolAnimation=function(r){this.childAt(0).stopAnimation(null,r)},t.prototype.getSymbolType=function(){return this._symbolType},t.prototype.getSymbolPath=function(){return this.childAt(0)},t.prototype.highlight=function(){Tl(this.childAt(0))},t.prototype.downplay=function(){Cl(this.childAt(0))},t.prototype.setZ=function(r,n){var i=this.childAt(0);i.zlevel=r,i.z=n},t.prototype.setDraggable=function(r,n){var i=this.childAt(0);i.draggable=r,i.cursor=!n&&r?"move":i.cursor},t.prototype.updateData=function(r,n,i,a){this.silent=!1;var s=r.getItemVisual(n,"symbol")||"circle",o=r.hostModel,l=t.getSymbolSize(r,n),u=s!==this._symbolType,c=a&&a.disableAnimation;if(u){var h=r.getItemVisual(n,"symbolKeepAspect");this._createSymbol(s,r,n,l,h)}else{var f=this.childAt(0);f.silent=!1;var d={scaleX:l[0]/2,scaleY:l[1]/2};c?f.attr(d):sr(f,d,o,n),Gs(f)}if(this._updateCommon(r,n,l,i,a),u){var f=this.childAt(0);if(!c){var d={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:f.style.opacity}};f.scaleX=f.scaleY=0,f.style.opacity=0,Br(f,d,o,n)}}c&&this.childAt(0).stopAnimation("leave")},t.prototype._updateCommon=function(r,n,i,a,s){var o=this.childAt(0),l=r.hostModel,u,c,h,f,d,v,m,y,b;if(a&&(u=a.emphasisItemStyle,c=a.blurItemStyle,h=a.selectItemStyle,f=a.focus,d=a.blurScope,m=a.labelStatesModels,y=a.hoverScale,b=a.cursorStyle,v=a.emphasisDisabled),!a||r.hasItemOption){var S=a&&a.itemModel?a.itemModel:r.getItemModel(n),w=S.getModel("emphasis");u=w.getModel("itemStyle").getItemStyle(),h=S.getModel(["select","itemStyle"]).getItemStyle(),c=S.getModel(["blur","itemStyle"]).getItemStyle(),f=w.get("focus"),d=w.get("blurScope"),v=w.get("disabled"),m=zn(S),y=w.getShallow("scale"),b=S.getShallow("cursor")}var k=r.getItemVisual(n,"symbolRotate");o.attr("rotation",(k||0)*Math.PI/180||0);var M=df(r.getItemVisual(n,"symbolOffset"),i);M&&(o.x=M[0],o.y=M[1]),b&&o.attr("cursor",b);var I=r.getItemVisual(n,"style"),L=I.fill;if(o instanceof Vn){var N=o.style;o.useStyle(Ne({image:N.image,x:N.x,y:N.y,width:N.width,height:N.height},I))}else o.__isEmptyBrush?o.useStyle(Ne({},I)):o.useStyle(I),o.style.decal=null,o.setColor(L,s&&s.symbolInnerColor),o.style.strokeNoScale=!0;var z=r.getItemVisual(n,"liftZ"),B=this._z2;z!=null?B==null&&(this._z2=o.z2,o.z2+=z):B!=null&&(o.z2=B,this._z2=null);var H=s&&s.useNameLabel;oi(o,m,{labelFetcher:l,labelDataIndex:n,defaultText:G,inheritColor:L,defaultOpacity:I.opacity});function G(X){return H?r.getName(X):vp(r,X)}this._sizeX=i[0]/2,this._sizeY=i[1]/2;var $=o.ensureState("emphasis");$.style=u,o.ensureState("select").style=h,o.ensureState("blur").style=c;var W=y==null||y===!0?Math.max(1.1,3/this._sizeY):isFinite(y)&&y>0?+y:1;$.scaleX=this._sizeX*W,$.scaleY=this._sizeY*W,this.setSymbolScale(1),qr(this,f,d,v)},t.prototype.setSymbolScale=function(r){this.scaleX=this.scaleY=r},t.prototype.fadeOut=function(r,n,i){var a=this.childAt(0),s=It(this).dataIndex,o=i&&i.animation;if(this.silent=a.silent=!0,i&&i.fadeLabel){var l=a.getTextContent();l&&Qu(l,{style:{opacity:0}},n,{dataIndex:s,removeOpt:o,cb:function(){a.removeTextContent()}})}else a.removeTextContent();Qu(a,{style:{opacity:0},scaleX:0,scaleY:0},n,{dataIndex:s,cb:r,removeOpt:o})},t.getSymbolSize=function(r,n){return Xp(r.getItemVisual(n,"symbolSize"))},t}(Ct);function dMe(e,t){this.parent.drift(e,t)}function ME(e,t,r,n){return t&&!isNaN(t[0])&&!isNaN(t[1])&&!(n.isIgnore&&n.isIgnore(r))&&!(n.clipShape&&!n.clipShape.contain(t[0],t[1]))&&e.getItemVisual(r,"symbol")!=="none"}function _z(e){return e!=null&&!St(e)&&(e={isIgnore:e}),e||{}}function wz(e){var t=e.hostModel,r=t.getModel("emphasis");return{emphasisItemStyle:r.getModel("itemStyle").getItemStyle(),blurItemStyle:t.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:t.getModel(["select","itemStyle"]).getItemStyle(),focus:r.get("focus"),blurScope:r.get("blurScope"),emphasisDisabled:r.get("disabled"),hoverScale:r.get("scale"),labelStatesModels:zn(t),cursorStyle:t.get("cursor")}}var iy=function(){function e(t){this.group=new Ct,this._SymbolCtor=t||ny}return e.prototype.updateData=function(t,r){this._progressiveEls=null,r=_z(r);var n=this.group,i=t.hostModel,a=this._data,s=this._SymbolCtor,o=r.disableAnimation,l=wz(t),u={disableAnimation:o},c=r.getSymbolPoint||function(h){return t.getItemLayout(h)};a||n.removeAll(),t.diff(a).add(function(h){var f=c(h);if(ME(t,f,h,r)){var d=new s(t,h,l,u);d.setPosition(f),t.setItemGraphicEl(h,d),n.add(d)}}).update(function(h,f){var d=a.getItemGraphicEl(f),v=c(h);if(!ME(t,v,h,r)){n.remove(d);return}var m=t.getItemVisual(h,"symbol")||"circle",y=d&&d.getSymbolType&&d.getSymbolType();if(!d||y&&y!==m)n.remove(d),d=new s(t,h,l,u),d.setPosition(v);else{d.updateData(t,h,l,u);var b={x:v[0],y:v[1]};o?d.attr(b):sr(d,b,i)}n.add(d),t.setItemGraphicEl(h,d)}).remove(function(h){var f=a.getItemGraphicEl(h);f&&f.fadeOut(function(){n.remove(f)},i)}).execute(),this._getSymbolPoint=c,this._data=t},e.prototype.updateLayout=function(){var t=this,r=this._data;r&&r.eachItemGraphicEl(function(n,i){var a=t._getSymbolPoint(i);n.setPosition(a),n.markRedraw()})},e.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=wz(t),this._data=null,this.group.removeAll()},e.prototype.incrementalUpdate=function(t,r,n){this._progressiveEls=[],n=_z(n);function i(l){l.isGroup||(l.incremental=!0,l.ensureState("emphasis").hoverLayer=!0)}for(var a=t.start;a<t.end;a++){var s=r.getItemLayout(a);if(ME(r,s,a,n)){var o=new this._SymbolCtor(r,a,this._seriesScope);o.traverse(i),o.setPosition(s),this.group.add(o),r.setItemGraphicEl(a,o),this._progressiveEls.push(o)}}},e.prototype.eachRendered=function(t){hc(this._progressiveEls||this.group,t)},e.prototype.remove=function(t){var r=this.group,n=this._data;n&&t?n.eachItemGraphicEl(function(i){i.fadeOut(function(){r.remove(i)},n.hostModel)}):r.removeAll()},e}();function pQ(e,t,r){var n=e.getBaseAxis(),i=e.getOtherAxis(n),a=pMe(i,r),s=n.dim,o=i.dim,l=t.mapDimension(o),u=t.mapDimension(s),c=o==="x"||o==="radius"?1:0,h=Fe(e.dimensions,function(v){return t.mapDimension(v)}),f=!1,d=t.getCalculationInfo("stackResultDimension");return Al(t,h[0])&&(f=!0,h[0]=d),Al(t,h[1])&&(f=!0,h[1]=d),{dataDimsForPoint:h,valueStart:a,valueAxisDim:o,baseAxisDim:s,stacked:!!f,valueDim:l,baseDim:u,baseDataOffset:c,stackedOverDimension:t.getCalculationInfo("stackedOverDimension")}}function pMe(e,t){var r=0,n=e.scale.getExtent();return t==="start"?r=n[0]:t==="end"?r=n[1]:ar(t)&&!isNaN(t)?r=t:n[0]>0?r=n[0]:n[1]<0&&(r=n[1]),r}function vQ(e,t,r,n){var i=NaN;e.stacked&&(i=r.get(r.getCalculationInfo("stackedOverDimension"),n)),isNaN(i)&&(i=e.valueStart);var a=e.baseDataOffset,s=[];return s[a]=r.get(e.baseDim,n),s[1-a]=i,t.dataToPoint(s)}function vMe(e,t){var r=[];return t.diff(e).add(function(n){r.push({cmd:"+",idx:n})}).update(function(n,i){r.push({cmd:"=",idx:i,idx1:n})}).remove(function(n){r.push({cmd:"-",idx:n})}).execute(),r}function gMe(e,t,r,n,i,a,s,o){for(var l=vMe(e,t),u=[],c=[],h=[],f=[],d=[],v=[],m=[],y=pQ(i,t,s),b=e.getLayout("points")||[],S=t.getLayout("points")||[],w=0;w<l.length;w++){var k=l[w],M=!0,I=void 0,L=void 0;switch(k.cmd){case"=":I=k.idx*2,L=k.idx1*2;var N=b[I],z=b[I+1],B=S[L],H=S[L+1];(isNaN(N)||isNaN(z))&&(N=B,z=H),u.push(N,z),c.push(B,H),h.push(r[I],r[I+1]),f.push(n[L],n[L+1]),m.push(t.getRawIndex(k.idx1));break;case"+":var G=k.idx,$=y.dataDimsForPoint,W=i.dataToPoint([t.get($[0],G),t.get($[1],G)]);L=G*2,u.push(W[0],W[1]),c.push(S[L],S[L+1]);var X=vQ(y,i,t,G);h.push(X[0],X[1]),f.push(n[L],n[L+1]),m.push(t.getRawIndex(G));break;case"-":M=!1}M&&(d.push(k),v.push(v.length))}v.sort(function(pe,Se){return m[pe]-m[Se]});for(var ee=u.length,le=wo(ee),ie=wo(ee),fe=wo(ee),re=wo(ee),me=[],w=0;w<v.length;w++){var J=v[w],te=w*2,ue=J*2;le[te]=u[ue],le[te+1]=u[ue+1],ie[te]=c[ue],ie[te+1]=c[ue+1],fe[te]=h[ue],fe[te+1]=h[ue+1],re[te]=f[ue],re[te+1]=f[ue+1],me[w]=d[J]}return{current:le,next:ie,stackedOnCurrent:fe,stackedOnNext:re,status:me}}var ru=Math.min,nu=Math.max;function Oh(e,t){return isNaN(e)||isNaN(t)}function ED(e,t,r,n,i,a,s,o,l){for(var u,c,h,f,d,v,m=r,y=0;y<n;y++){var b=t[m*2],S=t[m*2+1];if(m>=i||m<0)break;if(Oh(b,S)){if(l){m+=a;continue}break}if(m===r)e[a>0?"moveTo":"lineTo"](b,S),h=b,f=S;else{var w=b-u,k=S-c;if(w*w+k*k<.5){m+=a;continue}if(s>0){for(var M=m+a,I=t[M*2],L=t[M*2+1];I===b&&L===S&&y<n;)y++,M+=a,m+=a,I=t[M*2],L=t[M*2+1],b=t[m*2],S=t[m*2+1],w=b-u,k=S-c;var N=y+1;if(l)for(;Oh(I,L)&&N<n;)N++,M+=a,I=t[M*2],L=t[M*2+1];var z=.5,B=0,H=0,G=void 0,$=void 0;if(N>=n||Oh(I,L))d=b,v=S;else{B=I-u,H=L-c;var W=b-u,X=I-b,ee=S-c,le=L-S,ie=void 0,fe=void 0;if(o==="x"){ie=Math.abs(W),fe=Math.abs(X);var re=B>0?1:-1;d=b-re*ie*s,v=S,G=b+re*fe*s,$=S}else if(o==="y"){ie=Math.abs(ee),fe=Math.abs(le);var me=H>0?1:-1;d=b,v=S-me*ie*s,G=b,$=S+me*fe*s}else ie=Math.sqrt(W*W+ee*ee),fe=Math.sqrt(X*X+le*le),z=fe/(fe+ie),d=b-B*s*(1-z),v=S-H*s*(1-z),G=b+B*s*z,$=S+H*s*z,G=ru(G,nu(I,b)),$=ru($,nu(L,S)),G=nu(G,ru(I,b)),$=nu($,ru(L,S)),B=G-b,H=$-S,d=b-B*ie/fe,v=S-H*ie/fe,d=ru(d,nu(u,b)),v=ru(v,nu(c,S)),d=nu(d,ru(u,b)),v=nu(v,ru(c,S)),B=b-d,H=S-v,G=b+B*fe/ie,$=S+H*fe/ie}e.bezierCurveTo(h,f,d,v,b,S),h=G,f=$}else e.lineTo(b,S)}u=b,c=S,m+=a}return y}var gQ=function(){function e(){this.smooth=0,this.smoothConstraint=!0}return e}(),mMe=function(e){_e(t,e);function t(r){var n=e.call(this,r)||this;return n.type="ec-polyline",n}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new gQ},t.prototype.buildPath=function(r,n){var i=n.points,a=0,s=i.length/2;if(n.connectNulls){for(;s>0&&Oh(i[s*2-2],i[s*2-1]);s--);for(;a<s&&Oh(i[a*2],i[a*2+1]);a++);}for(;a<s;)a+=ED(r,i,a,s,s,1,n.smooth,n.smoothMonotone,n.connectNulls)+1},t.prototype.getPointOn=function(r,n){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var i=this.path,a=i.data,s=Oo.CMD,o,l,u=n==="x",c=[],h=0;h<a.length;){var f=a[h++],d=void 0,v=void 0,m=void 0,y=void 0,b=void 0,S=void 0,w=void 0;switch(f){case s.M:o=a[h++],l=a[h++];break;case s.L:if(d=a[h++],v=a[h++],w=u?(r-o)/(d-o):(r-l)/(v-l),w<=1&&w>=0){var k=u?(v-l)*w+l:(d-o)*w+o;return u?[r,k]:[k,r]}o=d,l=v;break;case s.C:d=a[h++],v=a[h++],m=a[h++],y=a[h++],b=a[h++],S=a[h++];var M=u?yS(o,d,m,b,r,c):yS(l,v,y,S,r,c);if(M>0)for(var I=0;I<M;I++){var L=c[I];if(L<=1&&L>=0){var k=u?Pn(l,v,y,S,L):Pn(o,d,m,b,L);return u?[r,k]:[k,r]}}o=b,l=S;break}}},t}(qt),yMe=function(e){_e(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t}(gQ),mQ=function(e){_e(t,e);function t(r){var n=e.call(this,r)||this;return n.type="ec-polygon",n}return t.prototype.getDefaultShape=function(){return new yMe},t.prototype.buildPath=function(r,n){var i=n.points,a=n.stackedOnPoints,s=0,o=i.length/2,l=n.smoothMonotone;if(n.connectNulls){for(;o>0&&Oh(i[o*2-2],i[o*2-1]);o--);for(;s<o&&Oh(i[s*2],i[s*2+1]);s++);}for(;s<o;){var u=ED(r,i,s,o,o,1,n.smooth,l,n.connectNulls);ED(r,a,s+u-1,u,o,-1,n.stackedOnSmooth,l,n.connectNulls),s+=u+1,r.closePath()}},t}(qt);function yQ(e,t,r,n,i){var a=e.getArea(),s=a.x,o=a.y,l=a.width,u=a.height,c=r.get(["lineStyle","width"])||0;s-=c/2,o-=c/2,l+=c,u+=c,l=Math.ceil(l),s!==Math.floor(s)&&(s=Math.floor(s),l++);var h=new Jt({shape:{x:s,y:o,width:l,height:u}});if(t){var f=e.getBaseAxis(),d=f.isHorizontal(),v=f.inverse;d?(v&&(h.shape.x+=l),h.shape.width=0):(v||(h.shape.y+=u),h.shape.height=0);var m=vt(i)?function(y){i(y,h)}:null;Br(h,{shape:{width:l,height:u,x:s,y:o}},r,null,n,m)}return h}function xQ(e,t,r){var n=e.getArea(),i=rn(n.r0,1),a=rn(n.r,1),s=new _i({shape:{cx:rn(e.cx,1),cy:rn(e.cy,1),r0:i,r:a,startAngle:n.startAngle,endAngle:n.endAngle,clockwise:n.clockwise}});if(t){var o=e.getBaseAxis().dim==="angle";o?s.shape.endAngle=n.startAngle:s.shape.r=i,Br(s,{shape:{endAngle:n.endAngle,r:a}},r)}return s}function ay(e,t,r,n,i){if(e){if(e.type==="polar")return xQ(e,t,r);if(e.type==="cartesian2d")return yQ(e,t,r,n,i)}else return null;return null}function pf(e,t){return e.type===t}function Tz(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return;return!0}}function Cz(e){for(var t=1/0,r=1/0,n=-1/0,i=-1/0,a=0;a<e.length;){var s=e[a++],o=e[a++];isNaN(s)||(t=Math.min(s,t),n=Math.max(s,n)),isNaN(o)||(r=Math.min(o,r),i=Math.max(o,i))}return[[t,r],[n,i]]}function Ez(e,t){var r=Cz(e),n=r[0],i=r[1],a=Cz(t),s=a[0],o=a[1];return Math.max(Math.abs(n[0]-s[0]),Math.abs(n[1]-s[1]),Math.abs(i[0]-o[0]),Math.abs(i[1]-o[1]))}function Az(e){return ar(e)?e:e?.5:0}function xMe(e,t,r){if(!r.valueDim)return[];for(var n=t.count(),i=wo(n*2),a=0;a<n;a++){var s=vQ(r,e,t,a);i[a*2]=s[0],i[a*2+1]=s[1]}return i}function iu(e,t,r,n,i){var a=r.getBaseAxis(),s=a.dim==="x"||a.dim==="radius"?0:1,o=[],l=0,u=[],c=[],h=[],f=[];if(i){for(l=0;l<e.length;l+=2){var d=t||e;!isNaN(d[l])&&!isNaN(d[l+1])&&f.push(e[l],e[l+1])}e=f}for(l=0;l<e.length-2;l+=2)switch(h[0]=e[l+2],h[1]=e[l+3],c[0]=e[l],c[1]=e[l+1],o.push(c[0],c[1]),n){case"end":u[s]=h[s],u[1-s]=c[1-s],o.push(u[0],u[1]);break;case"middle":var v=(c[s]+h[s])/2,m=[];u[s]=m[s]=v,u[1-s]=c[1-s],m[1-s]=h[1-s],o.push(u[0],u[1]),o.push(m[0],m[1]);break;default:u[s]=c[s],u[1-s]=h[1-s],o.push(u[0],u[1])}return o.push(e[l++],e[l++]),o}function bMe(e,t){var r=[],n=e.length,i,a;function s(c,h,f){var d=c.coord,v=(f-d)/(h.coord-d),m=SN(v,[c.color,h.color]);return{coord:f,color:m}}for(var o=0;o<n;o++){var l=e[o],u=l.coord;if(u<0)i=l;else if(u>t){a?r.push(s(a,l,t)):i&&r.push(s(i,l,0),s(i,l,t));break}else i&&(r.push(s(i,l,0)),i=null),r.push(l),a=l}return r}function SMe(e,t,r){var n=e.getVisual("visualMeta");if(!(!n||!n.length||!e.count())&&t.type==="cartesian2d"){for(var i,a,s=n.length-1;s>=0;s--){var o=e.getDimensionInfo(n[s].dimension);if(i=o&&o.coordDim,i==="x"||i==="y"){a=n[s];break}}if(a){var l=t.getAxis(i),u=Fe(a.stops,function(w){return{coord:l.toGlobalCoord(l.dataToCoord(w.value)),color:w.color}}),c=u.length,h=a.outerColors.slice();c&&u[0].coord>u[c-1].coord&&(u.reverse(),h.reverse());var f=bMe(u,i==="x"?r.getWidth():r.getHeight()),d=f.length;if(!d&&c)return u[0].coord<0?h[1]?h[1]:u[c-1].color:h[0]?h[0]:u[0].color;var v=10,m=f[0].coord-v,y=f[d-1].coord+v,b=y-m;if(b<.001)return"transparent";q(f,function(w){w.offset=(w.coord-m)/b}),f.push({offset:d?f[d-1].offset:.5,color:h[1]||"transparent"}),f.unshift({offset:d?f[0].offset:.5,color:h[0]||"transparent"});var S=new Fp(0,0,0,0,f,!0);return S[i]=m,S[i+"2"]=y,S}}}function _Me(e,t,r){var n=e.get("showAllSymbol"),i=n==="auto";if(!(n&&!i)){var a=r.getAxesByScale("ordinal")[0];if(a&&!(i&&wMe(a,t))){var s=t.mapDimension(a.dim),o={};return q(a.getViewLabels(),function(l){var u=a.scale.getRawOrdinalNumber(l.tickValue);o[u]=1}),function(l){return!o.hasOwnProperty(t.get(s,l))}}}}function wMe(e,t){var r=e.getExtent(),n=Math.abs(r[1]-r[0])/e.scale.count();isNaN(n)&&(n=0);for(var i=t.count(),a=Math.max(1,Math.round(i/5)),s=0;s<i;s+=a)if(ny.getSymbolSize(t,s)[e.isHorizontal()?1:0]*1.5>n)return!1;return!0}function TMe(e,t){return isNaN(e)||isNaN(t)}function CMe(e){for(var t=e.length/2;t>0&&TMe(e[t*2-2],e[t*2-1]);t--);return t-1}function kz(e,t){return[e[t*2],e[t*2+1]]}function EMe(e,t,r){for(var n=e.length/2,i=r==="x"?0:1,a,s,o=0,l=-1,u=0;u<n;u++)if(s=e[u*2+i],!(isNaN(s)||isNaN(e[u*2+1-i]))){if(u===0){a=s;continue}if(a<=t&&s>=t||a>=t&&s<=t){l=u;break}o=u,a=s}return{range:[o,l],t:(t-a)/(s-a)}}function bQ(e){if(e.get(["endLabel","show"]))return!0;for(var t=0;t<Vi.length;t++)if(e.get([Vi[t],"endLabel","show"]))return!0;return!1}function LE(e,t,r,n){if(pf(t,"cartesian2d")){var i=n.getModel("endLabel"),a=i.get("valueAnimation"),s=n.getData(),o={lastFrameIndex:0},l=bQ(n)?function(d,v){e._endLabelOnDuring(d,v,s,o,a,i,t)}:null,u=t.getBaseAxis().isHorizontal(),c=yQ(t,r,n,function(){var d=e._endLabel;d&&r&&o.originalX!=null&&d.attr({x:o.originalX,y:o.originalY})},l);if(!n.get("clip",!0)){var h=c.shape,f=Math.max(h.width,h.height);u?(h.y-=f,h.height+=f*2):(h.x-=f,h.width+=f*2)}return l&&l(1,c),c}else return xQ(t,r,n)}function AMe(e,t){var r=t.getBaseAxis(),n=r.isHorizontal(),i=r.inverse,a=n?i?"right":"left":"center",s=n?"middle":i?"top":"bottom";return{normal:{align:e.get("align")||a,verticalAlign:e.get("verticalAlign")||s}}}var kMe=function(e){_e(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.init=function(){var r=new Ct,n=new iy;this.group.add(n.group),this._symbolDraw=n,this._lineGroup=r,this._changePolyState=rt(this._changePolyState,this)},t.prototype.render=function(r,n,i){var a=r.coordinateSystem,s=this.group,o=r.getData(),l=r.getModel("lineStyle"),u=r.getModel("areaStyle"),c=o.getLayout("points")||[],h=a.type==="polar",f=this._coordSys,d=this._symbolDraw,v=this._polyline,m=this._polygon,y=this._lineGroup,b=!n.ssr&&r.get("animation"),S=!u.isEmpty(),w=u.get("origin"),k=pQ(a,o,w),M=S&&xMe(a,o,k),I=r.get("showSymbol"),L=r.get("connectNulls"),N=I&&!h&&_Me(r,o,a),z=this._data;z&&z.eachItemGraphicEl(function(pe,Se){pe.__temp&&(s.remove(pe),z.setItemGraphicEl(Se,null))}),I||d.remove(),s.add(y);var B=h?!1:r.get("step"),H;a&&a.getArea&&r.get("clip",!0)&&(H=a.getArea(),H.width!=null?(H.x-=.1,H.y-=.1,H.width+=.2,H.height+=.2):H.r0&&(H.r0-=.5,H.r+=.5)),this._clipShapeForSymbol=H;var G=SMe(o,a,i)||o.getVisual("style")[o.getVisual("drawType")];if(!(v&&f.type===a.type&&B===this._step))I&&d.updateData(o,{isIgnore:N,clipShape:H,disableAnimation:!0,getSymbolPoint:function(pe){return[c[pe*2],c[pe*2+1]]}}),b&&this._initSymbolLabelAnimation(o,a,H),B&&(M&&(M=iu(M,c,a,B,L)),c=iu(c,null,a,B,L)),v=this._newPolyline(c),S?m=this._newPolygon(c,M):m&&(y.remove(m),m=this._polygon=null),h||this._initOrUpdateEndLabel(r,a,Jh(G)),y.setClipPath(LE(this,a,!0,r));else{S&&!m?m=this._newPolygon(c,M):m&&!S&&(y.remove(m),m=this._polygon=null),h||this._initOrUpdateEndLabel(r,a,Jh(G));var $=y.getClipPath();if($){var W=LE(this,a,!1,r);Br($,{shape:W.shape},r)}else y.setClipPath(LE(this,a,!0,r));I&&d.updateData(o,{isIgnore:N,clipShape:H,disableAnimation:!0,getSymbolPoint:function(pe){return[c[pe*2],c[pe*2+1]]}}),(!Tz(this._stackedOnPoints,M)||!Tz(this._points,c))&&(b?this._doUpdateAnimation(o,M,a,i,B,w,L):(B&&(M&&(M=iu(M,c,a,B,L)),c=iu(c,null,a,B,L)),v.setShape({points:c}),m&&m.setShape({points:c,stackedOnPoints:M})))}var X=r.getModel("emphasis"),ee=X.get("focus"),le=X.get("blurScope"),ie=X.get("disabled");if(v.useStyle(yt(l.getLineStyle(),{fill:"none",stroke:G,lineJoin:"bevel"})),si(v,r,"lineStyle"),v.style.lineWidth>0&&r.get(["emphasis","lineStyle","width"])==="bolder"){var fe=v.getState("emphasis").style;fe.lineWidth=+v.style.lineWidth+1}It(v).seriesIndex=r.seriesIndex,qr(v,ee,le,ie);var re=Az(r.get("smooth")),me=r.get("smoothMonotone");if(v.setShape({smooth:re,smoothMonotone:me,connectNulls:L}),m){var J=o.getCalculationInfo("stackedOnSeries"),te=0;m.useStyle(yt(u.getAreaStyle(),{fill:G,opacity:.7,lineJoin:"bevel",decal:o.getVisual("style").decal})),J&&(te=Az(J.get("smooth"))),m.setShape({smooth:re,stackedOnSmooth:te,smoothMonotone:me,connectNulls:L}),si(m,r,"areaStyle"),It(m).seriesIndex=r.seriesIndex,qr(m,ee,le,ie)}var ue=this._changePolyState;o.eachItemGraphicEl(function(pe){pe&&(pe.onHoverStateChange=ue)}),this._polyline.onHoverStateChange=ue,this._data=o,this._coordSys=a,this._stackedOnPoints=M,this._points=c,this._step=B,this._valueOrigin=w,r.get("triggerLineEvent")&&(this.packEventData(r,v),m&&this.packEventData(r,m))},t.prototype.packEventData=function(r,n){It(n).eventData={componentType:"series",componentSubType:"line",componentIndex:r.componentIndex,seriesIndex:r.seriesIndex,seriesName:r.name,seriesType:"line"}},t.prototype.highlight=function(r,n,i,a){var s=r.getData(),o=Kh(s,a);if(this._changePolyState("emphasis"),!(o instanceof Array)&&o!=null&&o>=0){var l=s.getLayout("points"),u=s.getItemGraphicEl(o);if(!u){var c=l[o*2],h=l[o*2+1];if(isNaN(c)||isNaN(h)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(c,h))return;var f=r.get("zlevel")||0,d=r.get("z")||0;u=new ny(s,o),u.x=c,u.y=h,u.setZ(f,d);var v=u.getSymbolPath().getTextContent();v&&(v.zlevel=f,v.z=d,v.z2=this._polyline.z2+1),u.__temp=!0,s.setItemGraphicEl(o,u),u.stopSymbolAnimation(!0),this.group.add(u)}u.highlight()}else xr.prototype.highlight.call(this,r,n,i,a)},t.prototype.downplay=function(r,n,i,a){var s=r.getData(),o=Kh(s,a);if(this._changePolyState("normal"),o!=null&&o>=0){var l=s.getItemGraphicEl(o);l&&(l.__temp?(s.setItemGraphicEl(o,null),this.group.remove(l)):l.downplay())}else xr.prototype.downplay.call(this,r,n,i,a)},t.prototype._changePolyState=function(r){var n=this._polygon;CS(this._polyline,r),n&&CS(n,r)},t.prototype._newPolyline=function(r){var n=this._polyline;return n&&this._lineGroup.remove(n),n=new mMe({shape:{points:r},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(n),this._polyline=n,n},t.prototype._newPolygon=function(r,n){var i=this._polygon;return i&&this._lineGroup.remove(i),i=new mQ({shape:{points:r,stackedOnPoints:n},segmentIgnoreThreshold:2}),this._lineGroup.add(i),this._polygon=i,i},t.prototype._initSymbolLabelAnimation=function(r,n,i){var a,s,o=n.getBaseAxis(),l=o.inverse;n.type==="cartesian2d"?(a=o.isHorizontal(),s=!1):n.type==="polar"&&(a=o.dim==="angle",s=!0);var u=r.hostModel,c=u.get("animationDuration");vt(c)&&(c=c(null));var h=u.get("animationDelay")||0,f=vt(h)?h(null):h;r.eachItemGraphicEl(function(d,v){var m=d;if(m){var y=[d.x,d.y],b=void 0,S=void 0,w=void 0;if(i)if(s){var k=i,M=n.pointToCoord(y);a?(b=k.startAngle,S=k.endAngle,w=-M[1]/180*Math.PI):(b=k.r0,S=k.r,w=M[0])}else{var I=i;a?(b=I.x,S=I.x+I.width,w=d.x):(b=I.y+I.height,S=I.y,w=d.y)}var L=S===b?0:(w-b)/(S-b);l&&(L=1-L);var N=vt(h)?h(v):c*L+f,z=m.getSymbolPath(),B=z.getTextContent();m.attr({scaleX:0,scaleY:0}),m.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:N}),B&&B.animateFrom({style:{opacity:0}},{duration:300,delay:N}),z.disableLabelAnimation=!0}})},t.prototype._initOrUpdateEndLabel=function(r,n,i){var a=r.getModel("endLabel");if(bQ(r)){var s=r.getData(),o=this._polyline,l=s.getLayout("points");if(!l){o.removeTextContent(),this._endLabel=null;return}var u=this._endLabel;u||(u=this._endLabel=new Qt({z2:200}),u.ignoreClip=!0,o.setTextContent(this._endLabel),o.disableLabelAnimation=!0);var c=CMe(l);c>=0&&(oi(o,zn(r,"endLabel"),{inheritColor:i,labelFetcher:r,labelDataIndex:c,defaultText:function(h,f,d){return d!=null?dQ(s,d):vp(s,h)},enableTextSetter:!0},AMe(a,n)),o.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},t.prototype._endLabelOnDuring=function(r,n,i,a,s,o,l){var u=this._endLabel,c=this._polyline;if(u){r<1&&a.originalX==null&&(a.originalX=u.x,a.originalY=u.y);var h=i.getLayout("points"),f=i.hostModel,d=f.get("connectNulls"),v=o.get("precision"),m=o.get("distance")||0,y=l.getBaseAxis(),b=y.isHorizontal(),S=y.inverse,w=n.shape,k=S?b?w.x:w.y+w.height:b?w.x+w.width:w.y,M=(b?m:0)*(S?-1:1),I=(b?0:-m)*(S?-1:1),L=b?"x":"y",N=EMe(h,k,L),z=N.range,B=z[1]-z[0],H=void 0;if(B>=1){if(B>1&&!d){var G=kz(h,z[0]);u.attr({x:G[0]+M,y:G[1]+I}),s&&(H=f.getRawValue(z[0]))}else{var G=c.getPointOn(k,L);G&&u.attr({x:G[0]+M,y:G[1]+I});var $=f.getRawValue(z[0]),W=f.getRawValue(z[1]);s&&(H=nq(i,v,$,W,N.t))}a.lastFrameIndex=z[0]}else{var X=r===1||a.lastFrameIndex>0?z[0]:0,G=kz(h,X);s&&(H=f.getRawValue(X)),u.attr({x:G[0]+M,y:G[1]+I})}if(s){var ee=Hp(u);typeof ee.setLabelText=="function"&&ee.setLabelText(H)}}},t.prototype._doUpdateAnimation=function(r,n,i,a,s,o,l){var u=this._polyline,c=this._polygon,h=r.hostModel,f=gMe(this._data,r,this._stackedOnPoints,n,this._coordSys,i,this._valueOrigin),d=f.current,v=f.stackedOnCurrent,m=f.next,y=f.stackedOnNext;if(s&&(v=iu(f.stackedOnCurrent,f.current,i,s,l),d=iu(f.current,null,i,s,l),y=iu(f.stackedOnNext,f.next,i,s,l),m=iu(f.next,null,i,s,l)),Ez(d,m)>3e3||c&&Ez(v,y)>3e3){u.stopAnimation(),u.setShape({points:m}),c&&(c.stopAnimation(),c.setShape({points:m,stackedOnPoints:y}));return}u.shape.__points=f.current,u.shape.points=d;var b={shape:{points:m}};f.current!==d&&(b.shape.__points=f.next),u.stopAnimation(),sr(u,b,h),c&&(c.setShape({points:d,stackedOnPoints:v}),c.stopAnimation(),sr(c,{shape:{stackedOnPoints:y}},h),u.shape.points!==c.shape.points&&(c.shape.points=u.shape.points));for(var S=[],w=f.status,k=0;k<w.length;k++){var M=w[k].cmd;if(M==="="){var I=r.getItemGraphicEl(w[k].idx1);I&&S.push({el:I,ptIdx:k})}}u.animators&&u.animators.length&&u.animators[0].during(function(){c&&c.dirtyShape();for(var L=u.shape.__points,N=0;N<S.length;N++){var z=S[N].el,B=S[N].ptIdx*2;z.x=L[B],z.y=L[B+1],z.markRedraw()}})},t.prototype.remove=function(r){var n=this.group,i=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),i&&i.eachItemGraphicEl(function(a,s){a.__temp&&(n.remove(a),i.setItemGraphicEl(s,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},t.type="line",t}(xr);function sy(e,t){return{seriesType:e,plan:$p(),reset:function(r){var n=r.getData(),i=r.coordinateSystem,a=r.pipelineContext,s=t||a.large;if(i){var o=Fe(i.dimensions,function(d){return n.mapDimension(d)}).slice(0,2),l=o.length,u=n.getCalculationInfo("stackResultDimension");Al(n,o[0])&&(o[0]=u),Al(n,o[1])&&(o[1]=u);var c=n.getStore(),h=n.getDimensionIndex(o[0]),f=n.getDimensionIndex(o[1]);return l&&{progress:function(d,v){for(var m=d.end-d.start,y=s&&wo(m*l),b=[],S=[],w=d.start,k=0;w<d.end;w++){var M=void 0;if(l===1){var I=c.get(h,w);M=i.dataToPoint(I,null,S)}else b[0]=c.get(h,w),b[1]=c.get(f,w),M=i.dataToPoint(b,null,S);s?(y[k++]=M[0],y[k++]=M[1]):v.setItemLayout(w,M.slice())}s&&v.setLayout("points",y)}}}}}}var IMe={average:function(e){for(var t=0,r=0,n=0;n<e.length;n++)isNaN(e[n])||(t+=e[n],r++);return r===0?NaN:t/r},sum:function(e){for(var t=0,r=0;r<e.length;r++)t+=e[r]||0;return t},max:function(e){for(var t=-1/0,r=0;r<e.length;r++)e[r]>t&&(t=e[r]);return isFinite(t)?t:NaN},min:function(e){for(var t=1/0,r=0;r<e.length;r++)e[r]<t&&(t=e[r]);return isFinite(t)?t:NaN},nearest:function(e){return e[0]}},DMe=function(e){return Math.round(e.length/2)};function SQ(e){return{seriesType:e,reset:function(t,r,n){var i=t.getData(),a=t.get("sampling"),s=t.coordinateSystem,o=i.count();if(o>10&&s.type==="cartesian2d"&&a){var l=s.getBaseAxis(),u=s.getOtherAxis(l),c=l.getExtent(),h=n.getDevicePixelRatio(),f=Math.abs(c[1]-c[0])*(h||1),d=Math.round(o/f);if(isFinite(d)&&d>1){a==="lttb"?t.setData(i.lttbDownSample(i.mapDimension(u.dim),1/d)):a==="minmax"&&t.setData(i.minmaxDownSample(i.mapDimension(u.dim),1/d));var v=void 0;Je(a)?v=IMe[a]:vt(a)&&(v=a),v&&t.setData(i.downSample(i.mapDimension(u.dim),1/d,v,DMe))}}}}}function MMe(e){e.registerChartView(kMe),e.registerSeriesModel(fMe),e.registerLayout(sy("line",!0)),e.registerVisual({seriesType:"line",reset:function(t){var r=t.getData(),n=t.getModel("lineStyle").getLineStyle();n&&!n.stroke&&(n.stroke=r.getVisual("style").fill),r.setVisual("legendLineStyle",n)}}),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,SQ("line"))}var d0=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.getInitialData=function(r,n){return Vo(null,this,{useEncodeDefaulter:!0})},t.prototype.getMarkerPosition=function(r,n,i){var a=this.coordinateSystem;if(a&&a.clampData){var s=a.clampData(r),o=a.dataToPoint(s);if(i)q(a.getAxes(),function(f,d){if(f.type==="category"&&n!=null){var v=f.getTicksCoords(),m=f.getTickModel().get("alignWithLabel"),y=s[d],b=n[d]==="x1"||n[d]==="y1";if(b&&!m&&(y+=1),v.length<2)return;if(v.length===2){o[d]=f.toGlobalCoord(f.getExtent()[b?1:0]);return}for(var S=void 0,w=void 0,k=1,M=0;M<v.length;M++){var I=v[M].coord,L=M===v.length-1?v[M-1].tickValue+k:v[M].tickValue;if(L===y){w=I;break}else if(L<y)S=I;else if(S!=null&&L>y){w=(I+S)/2;break}M===1&&(k=L-v[0].tickValue)}w==null&&(S?S&&(w=v[v.length-1].coord):w=v[0].coord),o[d]=f.toGlobalCoord(w)}});else{var l=this.getData(),u=l.getLayout("offset"),c=l.getLayout("size"),h=a.getBaseAxis().isHorizontal()?0:1;o[h]+=u+c/2}return o}return[NaN,NaN]},t.type="series.__base_bar__",t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},t}(Cr);Cr.registerClass(d0);var LMe=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.getInitialData=function(){return Vo(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},t.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},t.prototype.getProgressiveThreshold=function(){var r=this.get("progressiveThreshold"),n=this.get("largeThreshold");return n>r&&(r=n),r},t.prototype.brushSelector=function(r,n,i){return i.rect(n.getItemLayout(r))},t.type="series.bar",t.dependencies=["grid","polar"],t.defaultOption=fc(d0.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),t}(d0),NMe=function(){function e(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return e}(),$S=function(e){_e(t,e);function t(r){var n=e.call(this,r)||this;return n.type="sausage",n}return t.prototype.getDefaultShape=function(){return new NMe},t.prototype.buildPath=function(r,n){var i=n.cx,a=n.cy,s=Math.max(n.r0||0,0),o=Math.max(n.r,0),l=(o-s)*.5,u=s+l,c=n.startAngle,h=n.endAngle,f=n.clockwise,d=Math.PI*2,v=f?h-c<d:c-h<d;v||(c=h-(f?d:-d));var m=Math.cos(c),y=Math.sin(c),b=Math.cos(h),S=Math.sin(h);v?(r.moveTo(m*s+i,y*s+a),r.arc(m*u+i,y*u+a,l,-Math.PI+c,c,!f)):r.moveTo(m*o+i,y*o+a),r.arc(i,a,o,c,h,!f),r.arc(b*u+i,S*u+a,l,h-Math.PI*2,h-Math.PI,!f),s!==0&&r.arc(i,a,s,h,c,f)},t}(qt);function PMe(e,t){t=t||{};var r=t.isRoundCap;return function(n,i,a){var s=i.position;if(!s||s instanceof Array)return wS(n,i,a);var o=e(s),l=i.distance!=null?i.distance:5,u=this.shape,c=u.cx,h=u.cy,f=u.r,d=u.r0,v=(f+d)/2,m=u.startAngle,y=u.endAngle,b=(m+y)/2,S=r?Math.abs(f-d)/2:0,w=Math.cos,k=Math.sin,M=c+f*w(m),I=h+f*k(m),L="left",N="top";switch(o){case"startArc":M=c+(d-l)*w(b),I=h+(d-l)*k(b),L="center",N="top";break;case"insideStartArc":M=c+(d+l)*w(b),I=h+(d+l)*k(b),L="center",N="bottom";break;case"startAngle":M=c+v*w(m)+yx(m,l+S,!1),I=h+v*k(m)+xx(m,l+S,!1),L="right",N="middle";break;case"insideStartAngle":M=c+v*w(m)+yx(m,-l+S,!1),I=h+v*k(m)+xx(m,-l+S,!1),L="left",N="middle";break;case"middle":M=c+v*w(b),I=h+v*k(b),L="center",N="middle";break;case"endArc":M=c+(f+l)*w(b),I=h+(f+l)*k(b),L="center",N="bottom";break;case"insideEndArc":M=c+(f-l)*w(b),I=h+(f-l)*k(b),L="center",N="top";break;case"endAngle":M=c+v*w(y)+yx(y,l+S,!0),I=h+v*k(y)+xx(y,l+S,!0),L="left",N="middle";break;case"insideEndAngle":M=c+v*w(y)+yx(y,-l+S,!0),I=h+v*k(y)+xx(y,-l+S,!0),L="right",N="middle";break;default:return wS(n,i,a)}return n=n||{},n.x=M,n.y=I,n.align=L,n.verticalAlign=N,n}}function RMe(e,t,r,n){if(ar(n)){e.setTextConfig({rotation:n});return}else if(Oe(t)){e.setTextConfig({rotation:0});return}var i=e.shape,a=i.clockwise?i.startAngle:i.endAngle,s=i.clockwise?i.endAngle:i.startAngle,o=(a+s)/2,l,u=r(t);switch(u){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":l=o;break;case"startAngle":case"insideStartAngle":l=a;break;case"endAngle":case"insideEndAngle":l=s;break;default:e.setTextConfig({rotation:0});return}var c=Math.PI*1.5-l;u==="middle"&&c>Math.PI/2&&c<Math.PI*1.5&&(c-=Math.PI),e.setTextConfig({rotation:c})}function yx(e,t,r){return t*Math.sin(e)*(r?-1:1)}function xx(e,t,r){return t*Math.cos(e)*(r?1:-1)}function Th(e,t,r){var n=e.get("borderRadius");if(n==null)return r?{cornerRadius:0}:null;Oe(n)||(n=[n,n,n,n]);var i=Math.abs(t.r||0-t.r0||0);return{cornerRadius:Fe(n,function(a){return Us(a,i)})}}var NE=Math.max,PE=Math.min;function OMe(e,t){var r=e.getArea&&e.getArea();if(pf(e,"cartesian2d")){var n=e.getBaseAxis();if(n.type!=="category"||!n.onBand){var i=t.getLayout("bandWidth");n.isHorizontal()?(r.x-=i,r.width+=i*2):(r.y-=i,r.height+=i*2)}}return r}var BMe=function(e){_e(t,e);function t(){var r=e.call(this)||this;return r.type=t.type,r._isFirstFrame=!0,r}return t.prototype.render=function(r,n,i,a){this._model=r,this._removeOnRenderedListener(i),this._updateDrawMode(r);var s=r.get("coordinateSystem");(s==="cartesian2d"||s==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(r,n,i):this._renderNormal(r,n,i,a))},t.prototype.incrementalPrepareRender=function(r){this._clear(),this._updateDrawMode(r),this._updateLargeClip(r)},t.prototype.incrementalRender=function(r,n){this._progressiveEls=[],this._incrementalRenderLarge(r,n)},t.prototype.eachRendered=function(r){hc(this._progressiveEls||this.group,r)},t.prototype._updateDrawMode=function(r){var n=r.pipelineContext.large;(this._isLargeDraw==null||n!==this._isLargeDraw)&&(this._isLargeDraw=n,this._clear())},t.prototype._renderNormal=function(r,n,i,a){var s=this.group,o=r.getData(),l=this._data,u=r.coordinateSystem,c=u.getBaseAxis(),h;u.type==="cartesian2d"?h=c.isHorizontal():u.type==="polar"&&(h=c.dim==="angle");var f=r.isAnimationEnabled()?r:null,d=FMe(r,u);d&&this._enableRealtimeSort(d,o,i);var v=r.get("clip",!0)||d,m=OMe(u,o);s.removeClipPath();var y=r.get("roundCap",!0),b=r.get("showBackground",!0),S=r.getModel("backgroundStyle"),w=S.get("borderRadius")||0,k=[],M=this._backgroundEls,I=a&&a.isInitSort,L=a&&a.type==="changeAxisOrder";function N(H){var G=bx[u.type](o,H),$=WMe(u,h,G);return $.useStyle(S.getItemStyle()),u.type==="cartesian2d"?$.setShape("r",w):$.setShape("cornerRadius",w),k[H]=$,$}o.diff(l).add(function(H){var G=o.getItemModel(H),$=bx[u.type](o,H,G);if(b&&N(H),!(!o.hasValue(H)||!Nz[u.type]($))){var W=!1;v&&(W=Iz[u.type](m,$));var X=Dz[u.type](r,o,H,$,h,f,c.model,!1,y);d&&(X.forceLabelAnimation=!0),Pz(X,o,H,G,$,r,h,u.type==="polar"),I?X.attr({shape:$}):d?Mz(d,f,X,$,H,h,!1,!1):Br(X,{shape:$},r,H),o.setItemGraphicEl(H,X),s.add(X),X.ignore=W}}).update(function(H,G){var $=o.getItemModel(H),W=bx[u.type](o,H,$);if(b){var X=void 0;M.length===0?X=N(G):(X=M[G],X.useStyle(S.getItemStyle()),u.type==="cartesian2d"?X.setShape("r",w):X.setShape("cornerRadius",w),k[H]=X);var ee=bx[u.type](o,H),le=wQ(h,ee,u);sr(X,{shape:le},f,H)}var ie=l.getItemGraphicEl(G);if(!o.hasValue(H)||!Nz[u.type](W)){s.remove(ie);return}var fe=!1;if(v&&(fe=Iz[u.type](m,W),fe&&s.remove(ie)),ie?Gs(ie):ie=Dz[u.type](r,o,H,W,h,f,c.model,!!ie,y),d&&(ie.forceLabelAnimation=!0),L){var re=ie.getTextContent();if(re){var me=Hp(re);me.prevValue!=null&&(me.prevValue=me.value)}}else Pz(ie,o,H,$,W,r,h,u.type==="polar");I?ie.attr({shape:W}):d?Mz(d,f,ie,W,H,h,!0,L):sr(ie,{shape:W},r,H,null),o.setItemGraphicEl(H,ie),ie.ignore=fe,s.add(ie)}).remove(function(H){var G=l.getItemGraphicEl(H);G&&n0(G,r,H)}).execute();var z=this._backgroundGroup||(this._backgroundGroup=new Ct);z.removeAll();for(var B=0;B<k.length;++B)z.add(k[B]);s.add(z),this._backgroundEls=k,this._data=o},t.prototype._renderLarge=function(r,n,i){this._clear(),Oz(r,this.group),this._updateLargeClip(r)},t.prototype._incrementalRenderLarge=function(r,n){this._removeBackground(),Oz(n,this.group,this._progressiveEls,!0)},t.prototype._updateLargeClip=function(r){var n=r.get("clip",!0)&&ay(r.coordinateSystem,!1,r),i=this.group;n?i.setClipPath(n):i.removeClipPath()},t.prototype._enableRealtimeSort=function(r,n,i){var a=this;if(n.count()){var s=r.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(n,r,i),this._isFirstFrame=!1;else{var o=function(l){var u=n.getItemGraphicEl(l),c=u&&u.shape;return c&&Math.abs(s.isHorizontal()?c.height:c.width)||0};this._onRendered=function(){a._updateSortWithinSameData(n,o,s,i)},i.getZr().on("rendered",this._onRendered)}}},t.prototype._dataSort=function(r,n,i){var a=[];return r.each(r.mapDimension(n.dim),function(s,o){var l=i(o);l=l??NaN,a.push({dataIndex:o,mappedValue:l,ordinalNumber:s})}),a.sort(function(s,o){return o.mappedValue-s.mappedValue}),{ordinalNumbers:Fe(a,function(s){return s.ordinalNumber})}},t.prototype._isOrderChangedWithinSameData=function(r,n,i){for(var a=i.scale,s=r.mapDimension(i.dim),o=Number.MAX_VALUE,l=0,u=a.getOrdinalMeta().categories.length;l<u;++l){var c=r.rawIndexOf(s,a.getRawOrdinalNumber(l)),h=c<0?Number.MIN_VALUE:n(r.indexOfRawIndex(c));if(h>o)return!0;o=h}return!1},t.prototype._isOrderDifferentInView=function(r,n){for(var i=n.scale,a=i.getExtent(),s=Math.max(0,a[0]),o=Math.min(a[1],i.getOrdinalMeta().categories.length-1);s<=o;++s)if(r.ordinalNumbers[s]!==i.getRawOrdinalNumber(s))return!0},t.prototype._updateSortWithinSameData=function(r,n,i,a){if(this._isOrderChangedWithinSameData(r,n,i)){var s=this._dataSort(r,i,n);this._isOrderDifferentInView(s,i)&&(this._removeOnRenderedListener(a),a.dispatchAction({type:"changeAxisOrder",componentType:i.dim+"Axis",axisId:i.index,sortInfo:s}))}},t.prototype._dispatchInitSort=function(r,n,i){var a=n.baseAxis,s=this._dataSort(r,a,function(o){return r.get(r.mapDimension(n.otherAxis.dim),o)});i.dispatchAction({type:"changeAxisOrder",componentType:a.dim+"Axis",isInitSort:!0,axisId:a.index,sortInfo:s})},t.prototype.remove=function(r,n){this._clear(this._model),this._removeOnRenderedListener(n)},t.prototype.dispose=function(r,n){this._removeOnRenderedListener(n)},t.prototype._removeOnRenderedListener=function(r){this._onRendered&&(r.getZr().off("rendered",this._onRendered),this._onRendered=null)},t.prototype._clear=function(r){var n=this.group,i=this._data;r&&r.isAnimationEnabled()&&i&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],i.eachItemGraphicEl(function(a){n0(a,r,It(a).dataIndex)})):n.removeAll(),this._data=null,this._isFirstFrame=!0},t.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},t.type="bar",t}(xr),Iz={cartesian2d:function(e,t){var r=t.width<0?-1:1,n=t.height<0?-1:1;r<0&&(t.x+=t.width,t.width=-t.width),n<0&&(t.y+=t.height,t.height=-t.height);var i=e.x+e.width,a=e.y+e.height,s=NE(t.x,e.x),o=PE(t.x+t.width,i),l=NE(t.y,e.y),u=PE(t.y+t.height,a),c=o<s,h=u<l;return t.x=c&&s>i?o:s,t.y=h&&l>a?u:l,t.width=c?0:o-s,t.height=h?0:u-l,r<0&&(t.x+=t.width,t.width=-t.width),n<0&&(t.y+=t.height,t.height=-t.height),c||h},polar:function(e,t){var r=t.r0<=t.r?1:-1;if(r<0){var n=t.r;t.r=t.r0,t.r0=n}var i=PE(t.r,e.r),a=NE(t.r0,e.r0);t.r=i,t.r0=a;var s=i-a<0;if(r<0){var n=t.r;t.r=t.r0,t.r0=n}return s}},Dz={cartesian2d:function(e,t,r,n,i,a,s,o,l){var u=new Jt({shape:Ne({},n),z2:1});if(u.__dataIndex=r,u.name="item",a){var c=u.shape,h=i?"height":"width";c[h]=0}return u},polar:function(e,t,r,n,i,a,s,o,l){var u=!i&&l?$S:_i,c=new u({shape:n,z2:1});c.name="item";var h=_Q(i);if(c.calculateTextPosition=PMe(h,{isRoundCap:u===$S}),a){var f=c.shape,d=i?"r":"endAngle",v={};f[d]=i?n.r0:n.startAngle,v[d]=n[d],(o?sr:Br)(c,{shape:v},a)}return c}};function FMe(e,t){var r=e.get("realtimeSort",!0),n=t.getBaseAxis();if(r&&n.type==="category"&&t.type==="cartesian2d")return{baseAxis:n,otherAxis:t.getOtherAxis(n)}}function Mz(e,t,r,n,i,a,s,o){var l,u;a?(u={x:n.x,width:n.width},l={y:n.y,height:n.height}):(u={y:n.y,height:n.height},l={x:n.x,width:n.width}),o||(s?sr:Br)(r,{shape:l},t,i,null);var c=t?e.baseAxis.model:null;(s?sr:Br)(r,{shape:u},c,i)}function Lz(e,t){for(var r=0;r<t.length;r++)if(!isFinite(e[t[r]]))return!0;return!1}var zMe=["x","y","width","height"],jMe=["cx","cy","r","startAngle","endAngle"],Nz={cartesian2d:function(e){return!Lz(e,zMe)},polar:function(e){return!Lz(e,jMe)}},bx={cartesian2d:function(e,t,r){var n=e.getItemLayout(t),i=r?VMe(r,n):0,a=n.width>0?1:-1,s=n.height>0?1:-1;return{x:n.x+a*i/2,y:n.y+s*i/2,width:n.width-a*i,height:n.height-s*i}},polar:function(e,t,r){var n=e.getItemLayout(t);return{cx:n.cx,cy:n.cy,r0:n.r0,r:n.r,startAngle:n.startAngle,endAngle:n.endAngle,clockwise:n.clockwise}}};function HMe(e){return e.startAngle!=null&&e.endAngle!=null&&e.startAngle===e.endAngle}function _Q(e){return function(t){var r=t?"Arc":"Angle";return function(n){switch(n){case"start":case"insideStart":case"end":case"insideEnd":return n+r;default:return n}}}(e)}function Pz(e,t,r,n,i,a,s,o){var l=t.getItemVisual(r,"style");if(o){if(!a.get("roundCap")){var c=e.shape,h=Th(n.getModel("itemStyle"),c,!0);Ne(c,h),e.setShape(c)}}else{var u=n.get(["itemStyle","borderRadius"])||0;e.setShape("r",u)}e.useStyle(l);var f=n.getShallow("cursor");f&&e.attr("cursor",f);var d=o?s?i.r>=i.r0?"endArc":"startArc":i.endAngle>=i.startAngle?"endAngle":"startAngle":s?i.height>=0?"bottom":"top":i.width>=0?"right":"left",v=zn(n);oi(e,v,{labelFetcher:a,labelDataIndex:r,defaultText:vp(a.getData(),r),inheritColor:l.fill,defaultOpacity:l.opacity,defaultOutsidePosition:d});var m=e.getTextContent();if(o&&m){var y=n.get(["label","position"]);e.textConfig.inside=y==="middle"?!0:null,RMe(e,y==="outside"?d:y,_Q(s),n.get(["label","rotate"]))}Hq(m,v,a.getRawValue(r),function(S){return dQ(t,S)});var b=n.getModel(["emphasis"]);qr(e,b.get("focus"),b.get("blurScope"),b.get("disabled")),si(e,n),HMe(i)&&(e.style.fill="none",e.style.stroke="none",q(e.states,function(S){S.style&&(S.style.fill=S.style.stroke="none")}))}function VMe(e,t){var r=e.get(["itemStyle","borderColor"]);if(!r||r==="none")return 0;var n=e.get(["itemStyle","borderWidth"])||0,i=isNaN(t.width)?Number.MAX_VALUE:Math.abs(t.width),a=isNaN(t.height)?Number.MAX_VALUE:Math.abs(t.height);return Math.min(n,i,a)}var UMe=function(){function e(){}return e}(),Rz=function(e){_e(t,e);function t(r){var n=e.call(this,r)||this;return n.type="largeBar",n}return t.prototype.getDefaultShape=function(){return new UMe},t.prototype.buildPath=function(r,n){for(var i=n.points,a=this.baseDimIdx,s=1-this.baseDimIdx,o=[],l=[],u=this.barWidth,c=0;c<i.length;c+=3)l[a]=u,l[s]=i[c+2],o[a]=i[c+a],o[s]=i[c+s],r.rect(o[0],o[1],l[0],l[1])},t}(qt);function Oz(e,t,r,n){var i=e.getData(),a=i.getLayout("valueAxisHorizontal")?1:0,s=i.getLayout("largeDataIndices"),o=i.getLayout("size"),l=e.getModel("backgroundStyle"),u=i.getLayout("largeBackgroundPoints");if(u){var c=new Rz({shape:{points:u},incremental:!!n,silent:!0,z2:0});c.baseDimIdx=a,c.largeDataIndices=s,c.barWidth=o,c.useStyle(l.getItemStyle()),t.add(c),r&&r.push(c)}var h=new Rz({shape:{points:i.getLayout("largePoints")},incremental:!!n,ignoreCoarsePointer:!0,z2:1});h.baseDimIdx=a,h.largeDataIndices=s,h.barWidth=o,t.add(h),h.useStyle(i.getVisual("style")),h.style.stroke=null,It(h).seriesIndex=e.seriesIndex,e.get("silent")||(h.on("mousedown",Bz),h.on("mousemove",Bz)),r&&r.push(h)}var Bz=Nw(function(e){var t=this,r=GMe(t,e.offsetX,e.offsetY);It(t).dataIndex=r>=0?r:null},30,!1);function GMe(e,t,r){for(var n=e.baseDimIdx,i=1-n,a=e.shape.points,s=e.largeDataIndices,o=[],l=[],u=e.barWidth,c=0,h=a.length/3;c<h;c++){var f=c*3;if(l[n]=u,l[i]=a[f+2],o[n]=a[f+n],o[i]=a[f+i],l[i]<0&&(o[i]+=l[i],l[i]=-l[i]),t>=o[0]&&t<=o[0]+l[0]&&r>=o[1]&&r<=o[1]+l[1])return s[c]}return-1}function wQ(e,t,r){if(pf(r,"cartesian2d")){var n=t,i=r.getArea();return{x:e?n.x:i.x,y:e?i.y:n.y,width:e?n.width:i.width,height:e?i.height:n.height}}else{var i=r.getArea(),a=t;return{cx:i.cx,cy:i.cy,r0:e?i.r0:a.r0,r:e?i.r:a.r,startAngle:e?a.startAngle:0,endAngle:e?a.endAngle:Math.PI*2}}}function WMe(e,t,r){var n=e.type==="polar"?_i:Jt;return new n({shape:wQ(t,r,e),silent:!0,z2:0})}function $Me(e){e.registerChartView(BMe),e.registerSeriesModel(LMe),e.registerLayout(e.PRIORITY.VISUAL.LAYOUT,Lt(kZ,"bar")),e.registerLayout(e.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,IZ("bar")),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,SQ("bar")),e.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(t,r){var n=t.componentType||"series";r.eachComponent({mainType:n,query:t},function(i){t.sortInfo&&i.axis.setCategorySortInfo(t.sortInfo)})})}var Fz=Math.PI*2,Sx=Math.PI/180;function TQ(e,t){return Sn(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function CQ(e,t){var r=TQ(e,t),n=e.get("center"),i=e.get("radius");Oe(i)||(i=[0,i]);var a=Ze(r.width,t.getWidth()),s=Ze(r.height,t.getHeight()),o=Math.min(a,s),l=Ze(i[0],o/2),u=Ze(i[1],o/2),c,h,f=e.coordinateSystem;if(f){var d=f.dataToPoint(n);c=d[0]||0,h=d[1]||0}else Oe(n)||(n=[n,n]),c=Ze(n[0],a)+r.x,h=Ze(n[1],s)+r.y;return{cx:c,cy:h,r0:l,r:u}}function YMe(e,t,r){t.eachSeriesByType(e,function(n){var i=n.getData(),a=i.mapDimension("value"),s=TQ(n,r),o=CQ(n,r),l=o.cx,u=o.cy,c=o.r,h=o.r0,f=-n.get("startAngle")*Sx,d=n.get("endAngle"),v=n.get("padAngle")*Sx;d=d==="auto"?f-Fz:-d*Sx;var m=n.get("minAngle")*Sx,y=m+v,b=0;i.each(a,function(le){!isNaN(le)&&b++});var S=i.getSum(a),w=Math.PI/(S||b)*2,k=n.get("clockwise"),M=n.get("roseType"),I=n.get("stillShowZeroSum"),L=i.getDataExtent(a);L[0]=0;var N=k?1:-1,z=[f,d],B=N*v/2;LN(z,!k),f=z[0],d=z[1];var H=EQ(n);H.startAngle=f,H.endAngle=d,H.clockwise=k;var G=Math.abs(d-f),$=G,W=0,X=f;if(i.setLayout({viewRect:s,r:c}),i.each(a,function(le,ie){var fe;if(isNaN(le)){i.setItemLayout(ie,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:k,cx:l,cy:u,r0:h,r:M?NaN:c});return}M!=="area"?fe=S===0&&I?w:le*w:fe=G/b,fe<y?(fe=y,$-=y):W+=le;var re=X+N*fe,me=0,J=0;v>fe?(me=X+N*fe/2,J=me):(me=X+B,J=re-B),i.setItemLayout(ie,{angle:fe,startAngle:me,endAngle:J,clockwise:k,cx:l,cy:u,r0:h,r:M?pr(le,L,[h,c]):c}),X=re}),$<Fz&&b)if($<=.001){var ee=G/b;i.each(a,function(le,ie){if(!isNaN(le)){var fe=i.getItemLayout(ie);fe.angle=ee;var re=0,me=0;ee<v?(re=f+N*(ie+1/2)*ee,me=re):(re=f+N*ie*ee+B,me=f+N*(ie+1)*ee-B),fe.startAngle=re,fe.endAngle=me}})}else w=$/W,X=f,i.each(a,function(le,ie){if(!isNaN(le)){var fe=i.getItemLayout(ie),re=fe.angle===y?y:le*w,me=0,J=0;re<v?(me=X+N*re/2,J=me):(me=X+B,J=X+N*re-B),fe.startAngle=me,fe.endAngle=J,X+=N*re}})})}var EQ=tr();function oy(e){return{seriesType:e,reset:function(t,r){var n=r.findComponents({mainType:"legend"});if(!(!n||!n.length)){var i=t.getData();i.filterSelf(function(a){for(var s=i.getName(a),o=0;o<n.length;o++)if(!n[o].isSelected(s))return!1;return!0})}}}}var XMe=Math.PI/180;function zz(e,t,r,n,i,a,s,o,l,u){if(e.length<2)return;function c(m){for(var y=m.rB,b=y*y,S=0;S<m.list.length;S++){var w=m.list[S],k=Math.abs(w.label.y-r),M=n+w.len,I=M*M,L=Math.sqrt(Math.abs((1-k*k/b)*I)),N=t+(L+w.len2)*i,z=N-w.label.x,B=w.targetTextWidth-z*i;AQ(w,B,!0),w.label.x=N}}function h(m){for(var y={list:[],maxY:0},b={list:[],maxY:0},S=0;S<m.length;S++)if(m[S].labelAlignTo==="none"){var w=m[S],k=w.label.y>r?b:y,M=Math.abs(w.label.y-r);if(M>=k.maxY){var I=w.label.x-t-w.len2*i,L=n+w.len,N=Math.abs(I)<L?Math.sqrt(M*M/(1-I*I/L/L)):L;k.rB=N,k.maxY=M}k.list.push(w)}c(y),c(b)}for(var f=e.length,d=0;d<f;d++)if(e[d].position==="outer"&&e[d].labelAlignTo==="labelLine"){var v=e[d].label.x-u;e[d].linePoints[1][0]+=v,e[d].label.x=u}KZ(e,l,l+s)&&h(e)}function qMe(e,t,r,n,i,a,s,o){for(var l=[],u=[],c=Number.MAX_VALUE,h=-Number.MAX_VALUE,f=0;f<e.length;f++){var d=e[f].label;RE(e[f])||(d.x<t?(c=Math.min(c,d.x),l.push(e[f])):(h=Math.max(h,d.x),u.push(e[f])))}for(var f=0;f<e.length;f++){var v=e[f];if(!RE(v)&&v.linePoints){if(v.labelStyleWidth!=null)continue;var d=v.label,m=v.linePoints,y=void 0;v.labelAlignTo==="edge"?d.x<t?y=m[2][0]-v.labelDistance-s-v.edgeDistance:y=s+i-v.edgeDistance-m[2][0]-v.labelDistance:v.labelAlignTo==="labelLine"?d.x<t?y=c-s-v.bleedMargin:y=s+i-h-v.bleedMargin:d.x<t?y=d.x-s-v.bleedMargin:y=s+i-d.x-v.bleedMargin,v.targetTextWidth=y,AQ(v,y)}}zz(u,t,r,n,1,i,a,s,o,h),zz(l,t,r,n,-1,i,a,s,o,c);for(var f=0;f<e.length;f++){var v=e[f];if(!RE(v)&&v.linePoints){var d=v.label,m=v.linePoints,b=v.labelAlignTo==="edge",S=d.style.padding,w=S?S[1]+S[3]:0,k=d.style.backgroundColor?0:w,M=v.rect.width+k,I=m[1][0]-m[2][0];b?d.x<t?m[2][0]=s+v.edgeDistance+M+v.labelDistance:m[2][0]=s+i-v.edgeDistance-M-v.labelDistance:(d.x<t?m[2][0]=d.x+v.labelDistance:m[2][0]=d.x-v.labelDistance,m[1][0]=m[2][0]+I),m[1][1]=m[2][1]=d.y}}}function AQ(e,t,r){if(r===void 0&&(r=!1),e.labelStyleWidth==null){var n=e.label,i=n.style,a=e.rect,s=i.backgroundColor,o=i.padding,l=o?o[1]+o[3]:0,u=i.overflow,c=a.width+(s?0:l);if(t<c||r){var h=a.height;if(u&&u.match("break")){n.setStyle("backgroundColor",null),n.setStyle("width",t-l);var f=n.getBoundingRect();n.setStyle("width",Math.ceil(f.width)),n.setStyle("backgroundColor",s)}else{var d=t-l,v=t<c?d:r?d>e.unconstrainedWidth?null:d:null;n.setStyle("width",v)}var m=n.getBoundingRect();a.width=m.width;var y=(n.style.margin||0)+2.1;a.height=m.height+y,a.y-=(a.height-h)/2}}}function RE(e){return e.position==="center"}function KMe(e){var t=e.getData(),r=[],n,i,a=!1,s=(e.get("minShowLabelAngle")||0)*XMe,o=t.getLayout("viewRect"),l=t.getLayout("r"),u=o.width,c=o.x,h=o.y,f=o.height;function d(I){I.ignore=!0}function v(I){if(!I.ignore)return!0;for(var L in I.states)if(I.states[L].ignore===!1)return!0;return!1}t.each(function(I){var L=t.getItemGraphicEl(I),N=L.shape,z=L.getTextContent(),B=L.getTextGuideLine(),H=t.getItemModel(I),G=H.getModel("label"),$=G.get("position")||H.get(["emphasis","label","position"]),W=G.get("distanceToLabelLine"),X=G.get("alignTo"),ee=Ze(G.get("edgeDistance"),u),le=G.get("bleedMargin"),ie=H.getModel("labelLine"),fe=ie.get("length");fe=Ze(fe,u);var re=ie.get("length2");if(re=Ze(re,u),Math.abs(N.endAngle-N.startAngle)<s){q(z.states,d),z.ignore=!0,B&&(q(B.states,d),B.ignore=!0);return}if(v(z)){var me=(N.startAngle+N.endAngle)/2,J=Math.cos(me),te=Math.sin(me),ue,pe,Se,je;n=N.cx,i=N.cy;var Pe=$==="inside"||$==="inner";if($==="center")ue=N.cx,pe=N.cy,je="center";else{var Te=(Pe?(N.r+N.r0)/2*J:N.r*J)+n,Ve=(Pe?(N.r+N.r0)/2*te:N.r*te)+i;if(ue=Te+J*3,pe=Ve+te*3,!Pe){var ze=Te+J*(fe+l-N.r),$e=Ve+te*(fe+l-N.r),ce=ze+(J<0?-1:1)*re,ve=$e;X==="edge"?ue=J<0?c+ee:c+u-ee:ue=ce+(J<0?-W:W),pe=ve,Se=[[Te,Ve],[ze,$e],[ce,ve]]}je=Pe?"center":X==="edge"?J>0?"right":"left":J>0?"left":"right"}var Ae=Math.PI,Le=0,Ge=G.get("rotate");if(ar(Ge))Le=Ge*(Ae/180);else if($==="center")Le=0;else if(Ge==="radial"||Ge===!0){var nt=J<0?-me+Ae:-me;Le=nt}else if(Ge==="tangential"&&$!=="outside"&&$!=="outer"){var lt=Math.atan2(J,te);lt<0&&(lt=Ae*2+lt);var He=te>0;He&&(lt=Ae+lt),Le=lt-Ae}if(a=!!Le,z.x=ue,z.y=pe,z.rotation=Le,z.setStyle({verticalAlign:"middle"}),Pe){z.setStyle({align:je});var ut=z.states.select;ut&&(ut.x+=z.x,ut.y+=z.y)}else{var Ee=z.getBoundingRect().clone();Ee.applyTransform(z.getComputedTransform());var Ye=(z.style.margin||0)+2.1;Ee.y-=Ye/2,Ee.height+=Ye,r.push({label:z,labelLine:B,position:$,len:fe,len2:re,minTurnAngle:ie.get("minTurnAngle"),maxSurfaceAngle:ie.get("maxSurfaceAngle"),surfaceNormal:new zt(J,te),linePoints:Se,textAlign:je,labelDistance:W,labelAlignTo:X,edgeDistance:ee,bleedMargin:le,rect:Ee,unconstrainedWidth:Ee.width,labelStyleWidth:z.style.width})}L.setTextConfig({inside:Pe})}}),!a&&e.get("avoidLabelOverlap")&&qMe(r,n,i,l,u,f,c,h);for(var m=0;m<r.length;m++){var y=r[m],b=y.label,S=y.labelLine,w=isNaN(b.x)||isNaN(b.y);if(b){b.setStyle({align:y.textAlign}),w&&(q(b.states,d),b.ignore=!0);var k=b.states.select;k&&(k.x+=b.x,k.y+=b.y)}if(S){var M=y.linePoints;w||!M?(q(S.states,d),S.ignore=!0):(YZ(M,y.minTurnAngle),xDe(M,y.surfaceNormal,y.maxSurfaceAngle),S.setShape({points:M}),b.__hostTarget.textGuideLineConfig={anchor:new zt(M[0][0],M[0][1])})}}}var ZMe=function(e){_e(t,e);function t(r,n,i){var a=e.call(this)||this;a.z2=2;var s=new Qt;return a.setTextContent(s),a.updateData(r,n,i,!0),a}return t.prototype.updateData=function(r,n,i,a){var s=this,o=r.hostModel,l=r.getItemModel(n),u=l.getModel("emphasis"),c=r.getItemLayout(n),h=Ne(Th(l.getModel("itemStyle"),c,!0),c);if(isNaN(h.startAngle)){s.setShape(h);return}if(a){s.setShape(h);var f=o.getShallow("animationType");o.ecModel.ssr?(Br(s,{scaleX:0,scaleY:0},o,{dataIndex:n,isFrom:!0}),s.originX=h.cx,s.originY=h.cy):f==="scale"?(s.shape.r=c.r0,Br(s,{shape:{r:c.r}},o,n)):i!=null?(s.setShape({startAngle:i,endAngle:i}),Br(s,{shape:{startAngle:c.startAngle,endAngle:c.endAngle}},o,n)):(s.shape.endAngle=c.startAngle,sr(s,{shape:{endAngle:c.endAngle}},o,n))}else Gs(s),sr(s,{shape:h},o,n);s.useStyle(r.getItemVisual(n,"style")),si(s,l);var d=(c.startAngle+c.endAngle)/2,v=o.get("selectedOffset"),m=Math.cos(d)*v,y=Math.sin(d)*v,b=l.getShallow("cursor");b&&s.attr("cursor",b),this._updateLabel(o,r,n),s.ensureState("emphasis").shape=Ne({r:c.r+(u.get("scale")&&u.get("scaleSize")||0)},Th(u.getModel("itemStyle"),c)),Ne(s.ensureState("select"),{x:m,y,shape:Th(l.getModel(["select","itemStyle"]),c)}),Ne(s.ensureState("blur"),{shape:Th(l.getModel(["blur","itemStyle"]),c)});var S=s.getTextGuideLine(),w=s.getTextContent();S&&Ne(S.ensureState("select"),{x:m,y}),Ne(w.ensureState("select"),{x:m,y}),qr(this,u.get("focus"),u.get("blurScope"),u.get("disabled"))},t.prototype._updateLabel=function(r,n,i){var a=this,s=n.getItemModel(i),o=s.getModel("labelLine"),l=n.getItemVisual(i,"style"),u=l&&l.fill,c=l&&l.opacity;oi(a,zn(s),{labelFetcher:n.hostModel,labelDataIndex:i,inheritColor:u,defaultOpacity:c,defaultText:r.getFormattedLabel(i,"normal")||n.getName(i)});var h=a.getTextContent();a.setTextConfig({position:null,rotation:null}),h.attr({z2:10});var f=r.get(["label","position"]);if(f!=="outside"&&f!=="outer")a.removeTextGuideLine();else{var d=this.getTextGuideLine();d||(d=new Ai,this.setTextGuideLine(d)),AP(this,kP(s),{stroke:u,opacity:Os(o.get(["lineStyle","opacity"]),c,1)})}},t}(_i),QMe=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.ignoreLabelLineUpdate=!0,r}return t.prototype.render=function(r,n,i,a){var s=r.getData(),o=this._data,l=this.group,u;if(!o&&s.count()>0){for(var c=s.getItemLayout(0),h=1;isNaN(c&&c.startAngle)&&h<s.count();++h)c=s.getItemLayout(h);c&&(u=c.startAngle)}if(this._emptyCircleSector&&l.remove(this._emptyCircleSector),s.count()===0&&r.get("showEmptyCircle")){var f=EQ(r),d=new _i({shape:Ne(CQ(r,i),f)});d.useStyle(r.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=d,l.add(d)}s.diff(o).add(function(v){var m=new ZMe(s,v,u);s.setItemGraphicEl(v,m),l.add(m)}).update(function(v,m){var y=o.getItemGraphicEl(m);y.updateData(s,v,u),y.off("click"),l.add(y),s.setItemGraphicEl(v,y)}).remove(function(v){var m=o.getItemGraphicEl(v);n0(m,r,v)}).execute(),KMe(r),r.get("animationTypeUpdate")!=="expansion"&&(this._data=s)},t.prototype.dispose=function(){},t.prototype.containPoint=function(r,n){var i=n.getData(),a=i.getItemLayout(0);if(a){var s=r[0]-a.cx,o=r[1]-a.cy,l=Math.sqrt(s*s+o*o);return l<=a.r&&l>=a.r0}},t.type="pie",t}(xr);function Qp(e,t,r){t=Oe(t)&&{coordDimensions:t}||Ne({encodeDefine:e.getEncode()},t);var n=e.getSource(),i=qp(n,t).dimensions,a=new xi(i,e);return a.initData(n,r),a}var ly=function(){function e(t,r){this._getDataWithEncodedVisual=t,this._getRawData=r}return e.prototype.getAllNames=function(){var t=this._getRawData();return t.mapArray(t.getName)},e.prototype.containName=function(t){var r=this._getRawData();return r.indexOfName(t)>=0},e.prototype.indexOfName=function(t){var r=this._getDataWithEncodedVisual();return r.indexOfName(t)},e.prototype.getItemVisual=function(t,r){var n=this._getDataWithEncodedVisual();return n.getItemVisual(t,r)},e}(),JMe=tr(),eLe=function(e){_e(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.init=function(r){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new ly(rt(this.getData,this),rt(this.getRawData,this)),this._defaultLabelLine(r)},t.prototype.mergeOption=function(){e.prototype.mergeOption.apply(this,arguments)},t.prototype.getInitialData=function(){return Qp(this,{coordDimensions:["value"],encodeDefaulter:Lt(tP,this)})},t.prototype.getDataParams=function(r){var n=this.getData(),i=JMe(n),a=i.seats;if(!a){var s=[];n.each(n.mapDimension("value"),function(l){s.push(l)}),a=i.seats=XX(s,n.hostModel.get("percentPrecision"))}var o=e.prototype.getDataParams.call(this,r);return o.percent=a[r]||0,o.$vars.push("percent"),o},t.prototype._defaultLabelLine=function(r){qh(r,"labelLine",["show"]);var n=r.labelLine,i=r.emphasis.labelLine;n.show=n.show&&r.label.show,i.show=i.show&&r.emphasis.label.show},t.type="series.pie",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,endAngle:"auto",padAngle:0,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},t}(Cr);function tLe(e){return{seriesType:e,reset:function(t,r){var n=t.getData();n.filterSelf(function(i){var a=n.mapDimension("value"),s=n.get(a,i);return!(ar(s)&&!isNaN(s)&&s<0)})}}}function rLe(e){e.registerChartView(QMe),e.registerSeriesModel(eLe),GK("pie",e.registerAction),e.registerLayout(Lt(YMe,"pie")),e.registerProcessor(oy("pie")),e.registerProcessor(tLe("pie"))}var nLe=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.hasSymbolVisual=!0,r}return t.prototype.getInitialData=function(r,n){return Vo(null,this,{useEncodeDefaulter:!0})},t.prototype.getProgressive=function(){var r=this.option.progressive;return r??(this.option.large?5e3:this.get("progressive"))},t.prototype.getProgressiveThreshold=function(){var r=this.option.progressiveThreshold;return r??(this.option.large?1e4:this.get("progressiveThreshold"))},t.prototype.brushSelector=function(r,n,i){return i.point(n.getItemLayout(r))},t.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},t.type="series.scatter",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},t}(Cr),kQ=4,iLe=function(){function e(){}return e}(),aLe=function(e){_e(t,e);function t(r){var n=e.call(this,r)||this;return n._off=0,n.hoverDataIdx=-1,n}return t.prototype.getDefaultShape=function(){return new iLe},t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.buildPath=function(r,n){var i=n.points,a=n.size,s=this.symbolProxy,o=s.shape,l=r.getContext?r.getContext():r,u=l&&a[0]<kQ,c=this.softClipShape,h;if(u){this._ctx=l;return}for(this._ctx=null,h=this._off;h<i.length;){var f=i[h++],d=i[h++];isNaN(f)||isNaN(d)||c&&!c.contain(f,d)||(o.x=f-a[0]/2,o.y=d-a[1]/2,o.width=a[0],o.height=a[1],s.buildPath(r,o,!0))}this.incremental&&(this._off=h,this.notClear=!0)},t.prototype.afterBrush=function(){var r=this.shape,n=r.points,i=r.size,a=this._ctx,s=this.softClipShape,o;if(a){for(o=this._off;o<n.length;){var l=n[o++],u=n[o++];isNaN(l)||isNaN(u)||s&&!s.contain(l,u)||a.fillRect(l-i[0]/2,u-i[1]/2,i[0],i[1])}this.incremental&&(this._off=o,this.notClear=!0)}},t.prototype.findDataIndex=function(r,n){for(var i=this.shape,a=i.points,s=i.size,o=Math.max(s[0],4),l=Math.max(s[1],4),u=a.length/2-1;u>=0;u--){var c=u*2,h=a[c]-o/2,f=a[c+1]-l/2;if(r>=h&&n>=f&&r<=h+o&&n<=f+l)return u}return-1},t.prototype.contain=function(r,n){var i=this.transformCoordToLocal(r,n),a=this.getBoundingRect();if(r=i[0],n=i[1],a.contain(r,n)){var s=this.hoverDataIdx=this.findDataIndex(r,n);return s>=0}return this.hoverDataIdx=-1,!1},t.prototype.getBoundingRect=function(){var r=this._rect;if(!r){for(var n=this.shape,i=n.points,a=n.size,s=a[0],o=a[1],l=1/0,u=1/0,c=-1/0,h=-1/0,f=0;f<i.length;){var d=i[f++],v=i[f++];l=Math.min(d,l),c=Math.max(d,c),u=Math.min(v,u),h=Math.max(v,h)}r=this._rect=new jt(l-s/2,u-o/2,c-l+s,h-u+o)}return r},t}(qt),sLe=function(){function e(){this.group=new Ct}return e.prototype.updateData=function(t,r){this._clear();var n=this._create();n.setShape({points:t.getLayout("points")}),this._setCommon(n,t,r)},e.prototype.updateLayout=function(t){var r=t.getLayout("points");this.group.eachChild(function(n){if(n.startIndex!=null){var i=(n.endIndex-n.startIndex)*2,a=n.startIndex*4*2;r=new Float32Array(r.buffer,a,i)}n.setShape("points",r),n.reset()})},e.prototype.incrementalPrepareUpdate=function(t){this._clear()},e.prototype.incrementalUpdate=function(t,r,n){var i=this._newAdded[0],a=r.getLayout("points"),s=i&&i.shape.points;if(s&&s.length<2e4){var o=s.length,l=new Float32Array(o+a.length);l.set(s),l.set(a,o),i.endIndex=t.end,i.setShape({points:l})}else{this._newAdded=[];var u=this._create();u.startIndex=t.start,u.endIndex=t.end,u.incremental=!0,u.setShape({points:a}),this._setCommon(u,r,n)}},e.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},e.prototype._create=function(){var t=new aLe({cursor:"default"});return t.ignoreCoarsePointer=!0,this.group.add(t),this._newAdded.push(t),t},e.prototype._setCommon=function(t,r,n){var i=r.hostModel;n=n||{};var a=r.getVisual("symbolSize");t.setShape("size",a instanceof Array?a:[a,a]),t.softClipShape=n.clipShape||null,t.symbolProxy=dn(r.getVisual("symbol"),0,0,0,0),t.setColor=t.symbolProxy.setColor;var s=t.shape.size[0]<kQ;t.useStyle(i.getModel("itemStyle").getItemStyle(s?["color","shadowBlur","shadowColor"]:["color"]));var o=r.getVisual("style"),l=o&&o.fill;l&&t.setColor(l);var u=It(t);u.seriesIndex=i.seriesIndex,t.on("mousemove",function(c){u.dataIndex=null;var h=t.hoverDataIdx;h>=0&&(u.dataIndex=h+(t.startIndex||0))})},e.prototype.remove=function(){this._clear()},e.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},e}(),oLe=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i){var a=r.getData(),s=this._updateSymbolDraw(a,r);s.updateData(a,{clipShape:this._getClipShape(r)}),this._finished=!0},t.prototype.incrementalPrepareRender=function(r,n,i){var a=r.getData(),s=this._updateSymbolDraw(a,r);s.incrementalPrepareUpdate(a),this._finished=!1},t.prototype.incrementalRender=function(r,n,i){this._symbolDraw.incrementalUpdate(r,n.getData(),{clipShape:this._getClipShape(n)}),this._finished=r.end===n.getData().count()},t.prototype.updateTransform=function(r,n,i){var a=r.getData();if(this.group.dirty(),!this._finished||a.count()>1e4)return{update:!0};var s=sy("").reset(r,n,i);s.progress&&s.progress({start:0,end:a.count(),count:a.count()},a),this._symbolDraw.updateLayout(a)},t.prototype.eachRendered=function(r){this._symbolDraw&&this._symbolDraw.eachRendered(r)},t.prototype._getClipShape=function(r){if(r.get("clip",!0)){var n=r.coordinateSystem;return n&&n.getArea&&n.getArea(.1)}},t.prototype._updateSymbolDraw=function(r,n){var i=this._symbolDraw,a=n.pipelineContext,s=a.large;return(!i||s!==this._isLargeDraw)&&(i&&i.remove(),i=this._symbolDraw=s?new sLe:new iy,this._isLargeDraw=s,this.group.removeAll()),this.group.add(i.group),i},t.prototype.remove=function(r,n){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},t.prototype.dispose=function(){},t.type="scatter",t}(xr),lLe=function(e){_e(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.type="grid",t.dependencies=["xAxis","yAxis"],t.layoutMode="box",t.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},t}(Yt),AD=function(e){_e(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",bn).models[0]},t.type="cartesian2dAxis",t}(Yt);cn(AD,Zp);var IQ={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,showMinLine:!0,showMaxLine:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},uLe=Ot({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},IQ),RP=Ot({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},IQ),cLe=Ot({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},RP),hLe=yt({logBase:10},RP);const DQ={category:uLe,value:RP,time:cLe,log:hLe};var fLe={value:1,category:1,time:1,log:1};function gp(e,t,r,n){q(fLe,function(i,a){var s=Ot(Ot({},DQ[a],!0),n,!0),o=function(l){_e(u,l);function u(){var c=l!==null&&l.apply(this,arguments)||this;return c.type=t+"Axis."+a,c}return u.prototype.mergeDefaultAndTheme=function(c,h){var f=a0(this),d=f?Up(c):{},v=h.getTheme();Ot(c,v.get(a+"Axis")),Ot(c,this.getDefaultOption()),c.type=jz(c),f&&Ju(c,d,f)},u.prototype.optionUpdated=function(){var c=this.option;c.type==="category"&&(this.__ordinalMeta=xD.createByAxisModel(this))},u.prototype.getCategories=function(c){var h=this.option;if(h.type==="category")return c?h.data:this.__ordinalMeta.categories},u.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},u.type=t+"Axis."+a,u.defaultOption=s,u}(r);e.registerComponentModel(o)}),e.registerSubTypeDefaulter(t+"Axis",jz)}function jz(e){return e.type||(e.data?"category":"value")}var dLe=function(){function e(t){this.type="cartesian",this._dimList=[],this._axes={},this.name=t||""}return e.prototype.getAxis=function(t){return this._axes[t]},e.prototype.getAxes=function(){return Fe(this._dimList,function(t){return this._axes[t]},this)},e.prototype.getAxesByScale=function(t){return t=t.toLowerCase(),lr(this.getAxes(),function(r){return r.scale.type===t})},e.prototype.addAxis=function(t){var r=t.dim;this._axes[r]=t,this._dimList.push(r)},e}(),kD=["x","y"];function Hz(e){return e.type==="interval"||e.type==="time"}var pLe=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type="cartesian2d",r.dimensions=kD,r}return t.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var r=this.getAxis("x").scale,n=this.getAxis("y").scale;if(!(!Hz(r)||!Hz(n))){var i=r.getExtent(),a=n.getExtent(),s=this.dataToPoint([i[0],a[0]]),o=this.dataToPoint([i[1],a[1]]),l=i[1]-i[0],u=a[1]-a[0];if(!(!l||!u)){var c=(o[0]-s[0])/l,h=(o[1]-s[1])/u,f=s[0]-i[0]*c,d=s[1]-a[0]*h,v=this._transform=[c,0,0,h,f,d];this._invTransform=uf([],v)}}},t.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},t.prototype.containPoint=function(r){var n=this.getAxis("x"),i=this.getAxis("y");return n.contain(n.toLocalCoord(r[0]))&&i.contain(i.toLocalCoord(r[1]))},t.prototype.containData=function(r){return this.getAxis("x").containData(r[0])&&this.getAxis("y").containData(r[1])},t.prototype.containZone=function(r,n){var i=this.dataToPoint(r),a=this.dataToPoint(n),s=this.getArea(),o=new jt(i[0],i[1],a[0]-i[0],a[1]-i[1]);return s.intersect(o)},t.prototype.dataToPoint=function(r,n,i){i=i||[];var a=r[0],s=r[1];if(this._transform&&a!=null&&isFinite(a)&&s!=null&&isFinite(s))return qn(i,r,this._transform);var o=this.getAxis("x"),l=this.getAxis("y");return i[0]=o.toGlobalCoord(o.dataToCoord(a,n)),i[1]=l.toGlobalCoord(l.dataToCoord(s,n)),i},t.prototype.clampData=function(r,n){var i=this.getAxis("x").scale,a=this.getAxis("y").scale,s=i.getExtent(),o=a.getExtent(),l=i.parse(r[0]),u=a.parse(r[1]);return n=n||[],n[0]=Math.min(Math.max(Math.min(s[0],s[1]),l),Math.max(s[0],s[1])),n[1]=Math.min(Math.max(Math.min(o[0],o[1]),u),Math.max(o[0],o[1])),n},t.prototype.pointToData=function(r,n){var i=[];if(this._invTransform)return qn(i,r,this._invTransform);var a=this.getAxis("x"),s=this.getAxis("y");return i[0]=a.coordToData(a.toLocalCoord(r[0]),n),i[1]=s.coordToData(s.toLocalCoord(r[1]),n),i},t.prototype.getOtherAxis=function(r){return this.getAxis(r.dim==="x"?"y":"x")},t.prototype.getArea=function(r){r=r||0;var n=this.getAxis("x").getGlobalExtent(),i=this.getAxis("y").getGlobalExtent(),a=Math.min(n[0],n[1])-r,s=Math.min(i[0],i[1])-r,o=Math.max(n[0],n[1])-a+r,l=Math.max(i[0],i[1])-s+r;return new jt(a,s,o,l)},t}(dLe),vLe=function(e){_e(t,e);function t(r,n,i,a,s){var o=e.call(this,r,n,i)||this;return o.index=0,o.type=a||"value",o.position=s||"bottom",o}return t.prototype.isHorizontal=function(){var r=this.position;return r==="top"||r==="bottom"},t.prototype.getGlobalExtent=function(r){var n=this.getExtent();return n[0]=this.toGlobalCoord(n[0]),n[1]=this.toGlobalCoord(n[1]),r&&n[0]>n[1]&&n.reverse(),n},t.prototype.pointToData=function(r,n){return this.coordToData(this.toLocalCoord(r[this.dim==="x"?0:1]),n)},t.prototype.setCategorySortInfo=function(r){if(this.type!=="category")return!1;this.model.option.categorySortInfo=r,this.scale.setSortInfo(r)},t}(ps);function ID(e,t,r){r=r||{};var n=e.coordinateSystem,i=t.axis,a={},s=i.getAxesOnZeroOf()[0],o=i.position,l=s?"onZero":o,u=i.dim,c=n.getRect(),h=[c.x,c.x+c.width,c.y,c.y+c.height],f={left:0,right:1,top:0,bottom:1,onZero:2},d=t.get("offset")||0,v=u==="x"?[h[2]-d,h[3]+d]:[h[0]-d,h[1]+d];if(s){var m=s.toGlobalCoord(s.dataToCoord(0));v[f.onZero]=Math.max(Math.min(m,v[1]),v[0])}a.position=[u==="y"?v[f[l]]:h[0],u==="x"?v[f[l]]:h[3]],a.rotation=Math.PI/2*(u==="x"?0:1);var y={top:-1,bottom:1,left:-1,right:1};a.labelDirection=a.tickDirection=a.nameDirection=y[o],a.labelOffset=s?v[f[o]]-v[f.onZero]:0,t.get(["axisTick","inside"])&&(a.tickDirection=-a.tickDirection),On(r.labelInside,t.get(["axisLabel","inside"]))&&(a.labelDirection=-a.labelDirection);var b=t.get(["axisLabel","rotate"]);return a.labelRotate=l==="top"?-b:b,a.z2=1,a}function Vz(e){return e.get("coordinateSystem")==="cartesian2d"}function Uz(e){var t={xAxisModel:null,yAxisModel:null};return q(t,function(r,n){var i=n.replace(/Model$/,""),a=e.getReferringComponents(i,bn).models[0];t[n]=a}),t}var OE=Math.log;function MQ(e,t,r){var n=kl.prototype,i=n.getTicks.call(r),a=n.getTicks.call(r,!0),s=i.length-1,o=n.getInterval.call(r),l=PZ(e,t),u=l.extent,c=l.fixMin,h=l.fixMax;if(e.type==="log"){var f=OE(e.base);u=[OE(u[0])/f,OE(u[1])/f]}e.setExtent(u[0],u[1]),e.calcNiceExtent({splitNumber:s,fixMin:c,fixMax:h});var d=n.getExtent.call(e);c&&(u[0]=d[0]),h&&(u[1]=d[1]);var v=n.getInterval.call(e),m=u[0],y=u[1];if(c&&h)v=(y-m)/s;else if(c)for(y=u[0]+v*s;y<u[1]&&isFinite(y)&&isFinite(u[1]);)v=SE(v),y=u[0]+v*s;else if(h)for(m=u[1]-v*s;m>u[0]&&isFinite(m)&&isFinite(u[0]);)v=SE(v),m=u[1]-v*s;else{var b=e.getTicks().length-1;b>s&&(v=SE(v));var S=v*s;y=Math.ceil(u[1]/v)*v,m=rn(y-S),m<0&&u[0]>=0?(m=0,y=rn(S)):y>0&&u[1]<=0&&(y=0,m=-rn(S))}var w=(i[0].value-a[0].value)/o,k=(i[s].value-a[s].value)/o;n.setExtent.call(e,m+v*w,y+v*k),n.setInterval.call(e,v),(w||k)&&n.setNiceExtent.call(e,m+v,y-v)}var gLe=function(){function e(t,r,n){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=kD,this._initCartesian(t,r,n),this.model=t}return e.prototype.getRect=function(){return this._rect},e.prototype.update=function(t,r){var n=this._axesMap;this._updateScale(t,this.model);function i(s){var o,l=Kt(s),u=l.length;if(u){for(var c=[],h=u-1;h>=0;h--){var f=+l[h],d=s[f],v=d.model,m=d.scale;bD(m)&&v.get("alignTicks")&&v.get("interval")==null?c.push(d):(ef(m,v),bD(m)&&(o=d))}c.length&&(o||(o=c.pop(),ef(o.scale,o.model)),q(c,function(y){MQ(y.scale,y.model,o.scale)}))}}i(n.x),i(n.y);var a={};q(n.x,function(s){Gz(n,"y",s,a)}),q(n.y,function(s){Gz(n,"x",s,a)}),this.resize(this.model,r)},e.prototype.resize=function(t,r,n){var i=t.getBoxLayoutParams(),a=!n&&t.get("containLabel"),s=Sn(i,{width:r.getWidth(),height:r.getHeight()});this._rect=s;var o=this._axesList;l(),a&&(q(o,function(u){if(!u.model.get(["axisLabel","inside"])){var c=OIe(u);if(c){var h=u.isHorizontal()?"height":"width",f=u.model.get(["axisLabel","margin"]);s[h]-=c[h]+f,u.position==="top"?s.y+=c.height+f:u.position==="left"&&(s.x+=c.width+f)}}}),l()),q(this._coordsList,function(u){u.calcAffineTransform()});function l(){q(o,function(u){var c=u.isHorizontal(),h=c?[0,s.width]:[0,s.height],f=u.inverse?1:0;u.setExtent(h[f],h[1-f]),mLe(u,c?s.x:s.y)})}},e.prototype.getAxis=function(t,r){var n=this._axesMap[t];if(n!=null)return n[r||0]},e.prototype.getAxes=function(){return this._axesList.slice()},e.prototype.getCartesian=function(t,r){if(t!=null&&r!=null){var n="x"+t+"y"+r;return this._coordsMap[n]}St(t)&&(r=t.yAxisIndex,t=t.xAxisIndex);for(var i=0,a=this._coordsList;i<a.length;i++)if(a[i].getAxis("x").index===t||a[i].getAxis("y").index===r)return a[i]},e.prototype.getCartesians=function(){return this._coordsList.slice()},e.prototype.convertToPixel=function(t,r,n){var i=this._findConvertTarget(r);return i.cartesian?i.cartesian.dataToPoint(n):i.axis?i.axis.toGlobalCoord(i.axis.dataToCoord(n)):null},e.prototype.convertFromPixel=function(t,r,n){var i=this._findConvertTarget(r);return i.cartesian?i.cartesian.pointToData(n):i.axis?i.axis.coordToData(i.axis.toLocalCoord(n)):null},e.prototype._findConvertTarget=function(t){var r=t.seriesModel,n=t.xAxisModel||r&&r.getReferringComponents("xAxis",bn).models[0],i=t.yAxisModel||r&&r.getReferringComponents("yAxis",bn).models[0],a=t.gridModel,s=this._coordsList,o,l;if(r)o=r.coordinateSystem,Ut(s,o)<0&&(o=null);else if(n&&i)o=this.getCartesian(n.componentIndex,i.componentIndex);else if(n)l=this.getAxis("x",n.componentIndex);else if(i)l=this.getAxis("y",i.componentIndex);else if(a){var u=a.coordinateSystem;u===this&&(o=this._coordsList[0])}return{cartesian:o,axis:l}},e.prototype.containPoint=function(t){var r=this._coordsList[0];if(r)return r.containPoint(t)},e.prototype._initCartesian=function(t,r,n){var i=this,a=this,s={left:!1,right:!1,top:!1,bottom:!1},o={x:{},y:{}},l={x:0,y:0};if(r.eachComponent("xAxis",u("x"),this),r.eachComponent("yAxis",u("y"),this),!l.x||!l.y){this._axesMap={},this._axesList=[];return}this._axesMap=o,q(o.x,function(c,h){q(o.y,function(f,d){var v="x"+h+"y"+d,m=new pLe(v);m.master=i,m.model=t,i._coordsMap[v]=m,i._coordsList.push(m),m.addAxis(c),m.addAxis(f)})});function u(c){return function(h,f){if(BE(h,t)){var d=h.get("position");c==="x"?d!=="top"&&d!=="bottom"&&(d=s.bottom?"top":"bottom"):d!=="left"&&d!=="right"&&(d=s.left?"right":"left"),s[d]=!0;var v=new vLe(c,ry(h),[0,0],h.get("type"),d),m=v.type==="category";v.onBand=m&&h.get("boundaryGap"),v.inverse=h.get("inverse"),h.axis=v,v.model=h,v.grid=a,v.index=f,a._axesList.push(v),o[c][f]=v,l[c]++}}}},e.prototype._updateScale=function(t,r){q(this._axesList,function(i){if(i.scale.setExtent(1/0,-1/0),i.type==="category"){var a=i.model.get("categorySortInfo");i.scale.setSortInfo(a)}}),t.eachSeries(function(i){if(Vz(i)){var a=Uz(i),s=a.xAxisModel,o=a.yAxisModel;if(!BE(s,r)||!BE(o,r))return;var l=this.getCartesian(s.componentIndex,o.componentIndex),u=i.getData(),c=l.getAxis("x"),h=l.getAxis("y");n(u,c),n(u,h)}},this);function n(i,a){q(VS(i,a.dim),function(s){a.scale.unionExtentFromData(i,s)})}},e.prototype.getTooltipAxes=function(t){var r=[],n=[];return q(this.getCartesians(),function(i){var a=t!=null&&t!=="auto"?i.getAxis(t):i.getBaseAxis(),s=i.getOtherAxis(a);Ut(r,a)<0&&r.push(a),Ut(n,s)<0&&n.push(s)}),{baseAxes:r,otherAxes:n}},e.create=function(t,r){var n=[];return t.eachComponent("grid",function(i,a){var s=new e(i,t,r);s.name="grid_"+a,s.resize(i,r,!0),i.coordinateSystem=s,n.push(s)}),t.eachSeries(function(i){if(Vz(i)){var a=Uz(i),s=a.xAxisModel,o=a.yAxisModel,l=s.getCoordSysModel(),u=l.coordinateSystem;i.coordinateSystem=u.getCartesian(s.componentIndex,o.componentIndex)}}),n},e.dimensions=kD,e}();function BE(e,t){return e.getCoordSysModel()===t}function Gz(e,t,r,n){r.getAxesOnZeroOf=function(){return a?[a]:[]};var i=e[t],a,s=r.model,o=s.get(["axisLine","onZero"]),l=s.get(["axisLine","onZeroAxisIndex"]);if(!o)return;if(l!=null)Wz(i[l])&&(a=i[l]);else for(var u in i)if(i.hasOwnProperty(u)&&Wz(i[u])&&!n[c(i[u])]){a=i[u];break}a&&(n[c(a)]=!0);function c(h){return h.dim+"_"+h.index}}function Wz(e){return e&&e.type!=="category"&&e.type!=="time"&&RIe(e)}function mLe(e,t){var r=e.getExtent(),n=r[0]+r[1];e.toGlobalCoord=e.dim==="x"?function(i){return i+t}:function(i){return n-i+t},e.toLocalCoord=e.dim==="x"?function(i){return i-t}:function(i){return n-i+t}}var Cu=Math.PI,ji=function(){function e(t,r){this.group=new Ct,this.opt=r,this.axisModel=t,yt(r,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var n=new Ct({x:r.position[0],y:r.position[1],rotation:r.rotation});n.updateTransform(),this._transformGroup=n}return e.prototype.hasBuilder=function(t){return!!$z[t]},e.prototype.add=function(t){$z[t](this.opt,this.axisModel,this.group,this._transformGroup)},e.prototype.getGroup=function(){return this.group},e.innerTextLayout=function(t,r,n){var i=CN(r-t),a,s;return cp(i)?(s=n>0?"top":"bottom",a="center"):cp(i-Cu)?(s=n>0?"bottom":"top",a="center"):(s="middle",i>0&&i<Cu?a=n>0?"right":"left":a=n>0?"left":"right"),{rotation:i,textAlign:a,textVerticalAlign:s}},e.makeAxisEventDataBase=function(t){var r={componentType:t.mainType,componentIndex:t.componentIndex};return r[t.mainType+"Index"]=t.componentIndex,r},e.isLabelSilent=function(t){var r=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||r&&r.show)},e}(),$z={axisLine:function(e,t,r,n){var i=t.get(["axisLine","show"]);if(i==="auto"&&e.handleAutoShown&&(i=e.handleAutoShown("axisLine")),!!i){var a=t.axis.getExtent(),s=n.transform,o=[a[0],0],l=[a[1],0],u=o[0]>l[0];s&&(qn(o,o,s),qn(l,l,s));var c=Ne({lineCap:"round"},t.getModel(["axisLine","lineStyle"]).getLineStyle()),h=new An({shape:{x1:o[0],y1:o[1],x2:l[0],y2:l[1]},style:c,strokeContainThreshold:e.strokeContainThreshold||5,silent:!0,z2:1});fp(h.shape,h.style.lineWidth),h.anid="line",r.add(h);var f=t.get(["axisLine","symbol"]);if(f!=null){var d=t.get(["axisLine","symbolSize"]);Je(f)&&(f=[f,f]),(Je(d)||ar(d))&&(d=[d,d]);var v=df(t.get(["axisLine","symbolOffset"])||0,d),m=d[0],y=d[1];q([{rotate:e.rotation+Math.PI/2,offset:v[0],r:0},{rotate:e.rotation-Math.PI/2,offset:v[1],r:Math.sqrt((o[0]-l[0])*(o[0]-l[0])+(o[1]-l[1])*(o[1]-l[1]))}],function(b,S){if(f[S]!=="none"&&f[S]!=null){var w=dn(f[S],-m/2,-y/2,m,y,c.stroke,!0),k=b.r+b.offset,M=u?l:o;w.attr({rotation:b.rotate,x:M[0]+k*Math.cos(e.rotation),y:M[1]-k*Math.sin(e.rotation),silent:!0,z2:11}),r.add(w)}})}}},axisTickLabel:function(e,t,r,n){var i=bLe(r,n,t,e),a=_Le(r,n,t,e);if(xLe(t,a,i),SLe(r,n,t,e.tickDirection),t.get(["axisLabel","hideOverlap"])){var s=XZ(Fe(a,function(o){return{label:o,priority:o.z2,defaultAttr:{ignore:o.ignore}}}));ZZ(s)}},axisName:function(e,t,r,n){var i=On(e.axisName,t.get("name"));if(i){var a=t.get("nameLocation"),s=e.nameDirection,o=t.getModel("nameTextStyle"),l=t.get("nameGap")||0,u=t.axis.getExtent(),c=u[0]>u[1]?-1:1,h=[a==="start"?u[0]-c*l:a==="end"?u[1]+c*l:(u[0]+u[1])/2,Xz(a)?e.labelOffset+s*l:0],f,d=t.get("nameRotate");d!=null&&(d=d*Cu/180);var v;Xz(a)?f=ji.innerTextLayout(e.rotation,d??e.rotation,s):(f=yLe(e.rotation,a,d||0,u),v=e.axisNameAvailableWidth,v!=null&&(v=Math.abs(v/Math.sin(f.rotation)),!isFinite(v)&&(v=null)));var m=o.getFont(),y=t.get("nameTruncate",!0)||{},b=y.ellipsis,S=On(e.nameTruncateMaxWidth,y.maxWidth,v),w=new Qt({x:h[0],y:h[1],rotation:f.rotation,silent:ji.isLabelSilent(t),style:Ir(o,{text:i,font:m,overflow:"truncate",width:S,ellipsis:b,fill:o.getTextColor()||t.get(["axisLine","lineStyle","color"]),align:o.get("align")||f.textAlign,verticalAlign:o.get("verticalAlign")||f.textVerticalAlign}),z2:1});if(cf({el:w,componentModel:t,itemName:i}),w.__fullText=i,w.anid="name",t.get("triggerEvent")){var k=ji.makeAxisEventDataBase(t);k.targetType="axisName",k.name=i,It(w).eventData=k}n.add(w),w.updateTransform(),r.add(w),w.decomposeTransform()}}};function yLe(e,t,r,n){var i=CN(r-e),a,s,o=n[0]>n[1],l=t==="start"&&!o||t!=="start"&&o;return cp(i-Cu/2)?(s=l?"bottom":"top",a="center"):cp(i-Cu*1.5)?(s=l?"top":"bottom",a="center"):(s="middle",i<Cu*1.5&&i>Cu/2?a=l?"left":"right":a=l?"right":"left"),{rotation:i,textAlign:a,textVerticalAlign:s}}function xLe(e,t,r){if(!RZ(e.axis)){var n=e.get(["axisLabel","showMinLabel"]),i=e.get(["axisLabel","showMaxLabel"]);t=t||[],r=r||[];var a=t[0],s=t[1],o=t[t.length-1],l=t[t.length-2],u=r[0],c=r[1],h=r[r.length-1],f=r[r.length-2];n===!1?(Ra(a),Ra(u)):Yz(a,s)&&(n?(Ra(s),Ra(c)):(Ra(a),Ra(u))),i===!1?(Ra(o),Ra(h)):Yz(l,o)&&(i?(Ra(l),Ra(f)):(Ra(o),Ra(h)))}}function Ra(e){e&&(e.ignore=!0)}function Yz(e,t){var r=e&&e.getBoundingRect().clone(),n=t&&t.getBoundingRect().clone();if(!(!r||!n)){var i=W0([]);return cc(i,i,-e.rotation),r.applyTransform(Do([],i,e.getLocalTransform())),n.applyTransform(Do([],i,t.getLocalTransform())),r.intersect(n)}}function Xz(e){return e==="middle"||e==="center"}function LQ(e,t,r,n,i){for(var a=[],s=[],o=[],l=0;l<e.length;l++){var u=e[l].coord;s[0]=u,s[1]=0,o[0]=u,o[1]=r,t&&(qn(s,s,t),qn(o,o,t));var c=new An({shape:{x1:s[0],y1:s[1],x2:o[0],y2:o[1]},style:n,z2:2,autoBatch:!0,silent:!0});fp(c.shape,c.style.lineWidth),c.anid=i+"_"+e[l].tickValue,a.push(c)}return a}function bLe(e,t,r,n){var i=r.axis,a=r.getModel("axisTick"),s=a.get("show");if(s==="auto"&&n.handleAutoShown&&(s=n.handleAutoShown("axisTick")),!(!s||i.scale.isBlank())){for(var o=a.getModel("lineStyle"),l=n.tickDirection*a.get("length"),u=i.getTicksCoords(),c=LQ(u,t.transform,l,yt(o.getLineStyle(),{stroke:r.get(["axisLine","lineStyle","color"])}),"ticks"),h=0;h<c.length;h++)e.add(c[h]);return c}}function SLe(e,t,r,n){var i=r.axis,a=r.getModel("minorTick");if(!(!a.get("show")||i.scale.isBlank())){var s=i.getMinorTicksCoords();if(s.length)for(var o=a.getModel("lineStyle"),l=n*a.get("length"),u=yt(o.getLineStyle(),yt(r.getModel("axisTick").getLineStyle(),{stroke:r.get(["axisLine","lineStyle","color"])})),c=0;c<s.length;c++)for(var h=LQ(s[c],t.transform,l,u,"minorticks_"+c),f=0;f<h.length;f++)e.add(h[f])}}function _Le(e,t,r,n){var i=r.axis,a=On(n.axisLabelShow,r.get(["axisLabel","show"]));if(!(!a||i.scale.isBlank())){var s=r.getModel("axisLabel"),o=s.get("margin"),l=i.getViewLabels(),u=(On(n.labelRotate,s.get("rotate"))||0)*Cu/180,c=ji.innerTextLayout(n.rotation,u,n.labelDirection),h=r.getCategories&&r.getCategories(!0),f=[],d=ji.isLabelSilent(r),v=r.get("triggerEvent");return q(l,function(m,y){var b=i.scale.type==="ordinal"?i.scale.getRawOrdinalNumber(m.tickValue):m.tickValue,S=m.formattedLabel,w=m.rawLabel,k=s;if(h&&h[b]){var M=h[b];St(M)&&M.textStyle&&(k=new ur(M.textStyle,s,r.ecModel))}var I=k.getTextColor()||r.get(["axisLine","lineStyle","color"]),L=i.dataToCoord(b),N=k.getShallow("align",!0)||c.textAlign,z=Mt(k.getShallow("alignMinLabel",!0),N),B=Mt(k.getShallow("alignMaxLabel",!0),N),H=k.getShallow("verticalAlign",!0)||k.getShallow("baseline",!0)||c.textVerticalAlign,G=Mt(k.getShallow("verticalAlignMinLabel",!0),H),$=Mt(k.getShallow("verticalAlignMaxLabel",!0),H),W=new Qt({x:L,y:n.labelOffset+n.labelDirection*o,rotation:c.rotation,silent:d,z2:10+(m.level||0),style:Ir(k,{text:S,align:y===0?z:y===l.length-1?B:N,verticalAlign:y===0?G:y===l.length-1?$:H,fill:vt(I)?I(i.type==="category"?w:i.type==="value"?b+"":b,y):I})});if(W.anid="label_"+b,cf({el:W,componentModel:r,itemName:S,formatterParamsExtra:{isTruncated:function(){return W.isTruncated},value:w,tickIndex:y}}),v){var X=ji.makeAxisEventDataBase(r);X.targetType="axisLabel",X.value=w,X.tickIndex=y,i.type==="category"&&(X.dataIndex=b),It(W).eventData=X}t.add(W),W.updateTransform(),f.push(W),e.add(W),W.decomposeTransform()}),f}}function wLe(e,t){var r={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return TLe(r,e,t),r.seriesInvolved&&ELe(r,e),r}function TLe(e,t,r){var n=t.getComponent("tooltip"),i=t.getComponent("axisPointer"),a=i.get("link",!0)||[],s=[];q(r.getCoordinateSystems(),function(o){if(!o.axisPointerEnabled)return;var l=p0(o.model),u=e.coordSysAxesInfo[l]={};e.coordSysMap[l]=o;var c=o.model,h=c.getModel("tooltip",n);if(q(o.getAxes(),Lt(m,!1,null)),o.getTooltipAxes&&n&&h.get("show")){var f=h.get("trigger")==="axis",d=h.get(["axisPointer","type"])==="cross",v=o.getTooltipAxes(h.get(["axisPointer","axis"]));(f||d)&&q(v.baseAxes,Lt(m,d?"cross":!0,f)),d&&q(v.otherAxes,Lt(m,"cross",!1))}function m(y,b,S){var w=S.model.getModel("axisPointer",i),k=w.get("show");if(!(!k||k==="auto"&&!y&&!DD(w))){b==null&&(b=w.get("triggerTooltip")),w=y?CLe(S,h,i,t,y,b):w;var M=w.get("snap"),I=w.get("triggerEmphasis"),L=p0(S.model),N=b||M||S.type==="category",z=e.axesInfo[L]={key:L,axis:S,coordSys:o,axisPointerModel:w,triggerTooltip:b,triggerEmphasis:I,involveSeries:N,snap:M,useHandle:DD(w),seriesModels:[],linkGroup:null};u[L]=z,e.seriesInvolved=e.seriesInvolved||N;var B=ALe(a,S);if(B!=null){var H=s[B]||(s[B]={axesInfo:{}});H.axesInfo[L]=z,H.mapper=a[B].mapper,z.linkGroup=H}}}})}function CLe(e,t,r,n,i,a){var s=t.getModel("axisPointer"),o=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],l={};q(o,function(f){l[f]=_t(s.get(f))}),l.snap=e.type!=="category"&&!!a,s.get("type")==="cross"&&(l.type="line");var u=l.label||(l.label={});if(u.show==null&&(u.show=!1),i==="cross"){var c=s.get(["label","show"]);if(u.show=c??!0,!a){var h=l.lineStyle=s.get("crossStyle");h&&yt(u,h.textStyle)}}return e.model.getModel("axisPointer",new ur(l,r,n))}function ELe(e,t){t.eachSeries(function(r){var n=r.coordinateSystem,i=r.get(["tooltip","trigger"],!0),a=r.get(["tooltip","show"],!0);!n||i==="none"||i===!1||i==="item"||a===!1||r.get(["axisPointer","show"],!0)===!1||q(e.coordSysAxesInfo[p0(n.model)],function(s){var o=s.axis;n.getAxis(o.dim)===o&&(s.seriesModels.push(r),s.seriesDataCount==null&&(s.seriesDataCount=0),s.seriesDataCount+=r.getData().count())})})}function ALe(e,t){for(var r=t.model,n=t.dim,i=0;i<e.length;i++){var a=e[i]||{};if(FE(a[n+"AxisId"],r.id)||FE(a[n+"AxisIndex"],r.componentIndex)||FE(a[n+"AxisName"],r.name))return i}}function FE(e,t){return e==="all"||Oe(e)&&Ut(e,t)>=0||e===t}function kLe(e){var t=OP(e);if(t){var r=t.axisPointerModel,n=t.axis.scale,i=r.option,a=r.get("status"),s=r.get("value");s!=null&&(s=n.parse(s));var o=DD(r);a==null&&(i.status=o?"show":"hide");var l=n.getExtent().slice();l[0]>l[1]&&l.reverse(),(s==null||s>l[1])&&(s=l[1]),s<l[0]&&(s=l[0]),i.value=s,o&&(i.status=t.axis.scale.isBlank()?"hide":"show")}}function OP(e){var t=(e.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return t&&t.axesInfo[p0(e)]}function ILe(e){var t=OP(e);return t&&t.axisPointerModel}function DD(e){return!!e.get(["handle","show"])}function p0(e){return e.type+"||"+e.id}var qz={},vf=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i,a){this.axisPointerClass&&kLe(r),e.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(r,i,!0)},t.prototype.updateAxisPointer=function(r,n,i,a){this._doUpdateAxisPointerClass(r,i,!1)},t.prototype.remove=function(r,n){var i=this._axisPointer;i&&i.remove(n)},t.prototype.dispose=function(r,n){this._disposeAxisPointer(n),e.prototype.dispose.apply(this,arguments)},t.prototype._doUpdateAxisPointerClass=function(r,n,i){var a=t.getAxisPointerClass(this.axisPointerClass);if(a){var s=ILe(r);s?(this._axisPointer||(this._axisPointer=new a)).render(r,s,n,i):this._disposeAxisPointer(n)}},t.prototype._disposeAxisPointer=function(r){this._axisPointer&&this._axisPointer.dispose(r),this._axisPointer=null},t.registerAxisPointerClass=function(r,n){qz[r]=n},t.getAxisPointerClass=function(r){return r&&qz[r]},t.type="axis",t}(Nr),MD=tr();function NQ(e,t,r,n){var i=r.axis;if(!i.scale.isBlank()){var a=r.getModel("splitArea"),s=a.getModel("areaStyle"),o=s.get("color"),l=n.coordinateSystem.getRect(),u=i.getTicksCoords({tickModel:a,clamp:!0});if(u.length){var c=o.length,h=MD(e).splitAreaColors,f=ct(),d=0;if(h)for(var v=0;v<u.length;v++){var m=h.get(u[v].tickValue);if(m!=null){d=(m+(c-1)*v)%c;break}}var y=i.toGlobalCoord(u[0].coord),b=s.getAreaStyle();o=Oe(o)?o:[o];for(var v=1;v<u.length;v++){var S=i.toGlobalCoord(u[v].coord),w=void 0,k=void 0,M=void 0,I=void 0;i.isHorizontal()?(w=y,k=l.y,M=S-w,I=l.height,y=w+M):(w=l.x,k=y,M=l.width,I=S-k,y=k+I);var L=u[v-1].tickValue;L!=null&&f.set(L,d),t.add(new Jt({anid:L!=null?"area_"+L:null,shape:{x:w,y:k,width:M,height:I},style:yt({fill:o[d]},b),autoBatch:!0,silent:!0})),d=(d+1)%c}MD(e).splitAreaColors=f}}}function PQ(e){MD(e).splitAreaColors=null}var DLe=["axisLine","axisTickLabel","axisName"],MLe=["splitArea","splitLine","minorSplitLine"],RQ=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.axisPointerClass="CartesianAxisPointer",r}return t.prototype.render=function(r,n,i,a){this.group.removeAll();var s=this._axisGroup;if(this._axisGroup=new Ct,this.group.add(this._axisGroup),!!r.get("show")){var o=r.getCoordSysModel(),l=ID(o,r),u=new ji(r,Ne({handleAutoShown:function(h){for(var f=o.coordinateSystem.getCartesians(),d=0;d<f.length;d++)if(bD(f[d].getOtherAxis(r.axis).scale))return!0;return!1}},l));q(DLe,u.add,u),this._axisGroup.add(u.getGroup()),q(MLe,function(h){r.get([h,"show"])&&LLe[h](this,this._axisGroup,r,o)},this);var c=a&&a.type==="changeAxisOrder"&&a.isInitSort;c||J0(s,this._axisGroup,r),e.prototype.render.call(this,r,n,i,a)}},t.prototype.remove=function(){PQ(this)},t.type="cartesianAxis",t}(vf),LLe={splitLine:function(e,t,r,n){var i=r.axis;if(!i.scale.isBlank()){var a=r.getModel("splitLine"),s=a.getModel("lineStyle"),o=s.get("color"),l=a.get("showMinLine")!==!1,u=a.get("showMaxLine")!==!1;o=Oe(o)?o:[o];for(var c=n.coordinateSystem.getRect(),h=i.isHorizontal(),f=0,d=i.getTicksCoords({tickModel:a}),v=[],m=[],y=s.getLineStyle(),b=0;b<d.length;b++){var S=i.toGlobalCoord(d[b].coord);if(!(b===0&&!l||b===d.length-1&&!u)){var w=d[b].tickValue;h?(v[0]=S,v[1]=c.y,m[0]=S,m[1]=c.y+c.height):(v[0]=c.x,v[1]=S,m[0]=c.x+c.width,m[1]=S);var k=f++%o.length,M=new An({anid:w!=null?"line_"+w:null,autoBatch:!0,shape:{x1:v[0],y1:v[1],x2:m[0],y2:m[1]},style:yt({stroke:o[k]},y),silent:!0});fp(M.shape,y.lineWidth),t.add(M)}}}},minorSplitLine:function(e,t,r,n){var i=r.axis,a=r.getModel("minorSplitLine"),s=a.getModel("lineStyle"),o=n.coordinateSystem.getRect(),l=i.isHorizontal(),u=i.getMinorTicksCoords();if(u.length)for(var c=[],h=[],f=s.getLineStyle(),d=0;d<u.length;d++)for(var v=0;v<u[d].length;v++){var m=i.toGlobalCoord(u[d][v].coord);l?(c[0]=m,c[1]=o.y,h[0]=m,h[1]=o.y+o.height):(c[0]=o.x,c[1]=m,h[0]=o.x+o.width,h[1]=m);var y=new An({anid:"minor_line_"+u[d][v].tickValue,autoBatch:!0,shape:{x1:c[0],y1:c[1],x2:h[0],y2:h[1]},style:f,silent:!0});fp(y.shape,f.lineWidth),t.add(y)}},splitArea:function(e,t,r,n){NQ(e,t,r,n)}},OQ=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.type="xAxis",t}(RQ),NLe=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=OQ.type,r}return t.type="yAxis",t}(RQ),PLe=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type="grid",r}return t.prototype.render=function(r,n){this.group.removeAll(),r.get("show")&&this.group.add(new Jt({shape:r.coordinateSystem.getRect(),style:yt({fill:r.get("backgroundColor")},r.getItemStyle()),silent:!0,z2:-1}))},t.type="grid",t}(Nr),Kz={offset:0};function BQ(e){e.registerComponentView(PLe),e.registerComponentModel(lLe),e.registerCoordinateSystem("cartesian2d",gLe),gp(e,"x",AD,Kz),gp(e,"y",AD,Kz),e.registerComponentView(OQ),e.registerComponentView(NLe),e.registerPreprocessor(function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})})}function RLe(e){Wt(BQ),e.registerSeriesModel(nLe),e.registerChartView(oLe),e.registerLayout(sy("scatter"))}function OLe(e){e.eachSeriesByType("radar",function(t){var r=t.getData(),n=[],i=t.coordinateSystem;if(i){var a=i.getIndicatorAxes();q(a,function(s,o){r.each(r.mapDimension(a[o].dim),function(l,u){n[u]=n[u]||[];var c=i.dataToPoint(l,o);n[u][o]=Zz(c)?c:Qz(i)})}),r.each(function(s){var o=cX(n[s],function(l){return Zz(l)})||Qz(i);n[s].push(o.slice()),r.setItemLayout(s,n[s])})}})}function Zz(e){return!isNaN(e[0])&&!isNaN(e[1])}function Qz(e){return[e.cx,e.cy]}function BLe(e){var t=e.polar;if(t){Oe(t)||(t=[t]);var r=[];q(t,function(n,i){n.indicator?(n.type&&!n.shape&&(n.shape=n.type),e.radar=e.radar||[],Oe(e.radar)||(e.radar=[e.radar]),e.radar.push(n)):r.push(n)}),e.polar=r}q(e.series,function(n){n&&n.type==="radar"&&n.polarIndex&&(n.radarIndex=n.polarIndex)})}var FLe=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i){var a=r.coordinateSystem,s=this.group,o=r.getData(),l=this._data;function u(f,d){var v=f.getItemVisual(d,"symbol")||"circle";if(v!=="none"){var m=Xp(f.getItemVisual(d,"symbolSize")),y=dn(v,-1,-1,2,2),b=f.getItemVisual(d,"symbolRotate")||0;return y.attr({style:{strokeNoScale:!0},z2:100,scaleX:m[0]/2,scaleY:m[1]/2,rotation:b*Math.PI/180||0}),y}}function c(f,d,v,m,y,b){v.removeAll();for(var S=0;S<d.length-1;S++){var w=u(m,y);w&&(w.__dimIdx=S,f[S]?(w.setPosition(f[S]),hf[b?"initProps":"updateProps"](w,{x:d[S][0],y:d[S][1]},r,y)):w.setPosition(d[S]),v.add(w))}}function h(f){return Fe(f,function(d){return[a.cx,a.cy]})}o.diff(l).add(function(f){var d=o.getItemLayout(f);if(d){var v=new wi,m=new Ai,y={shape:{points:d}};v.shape.points=h(d),m.shape.points=h(d),Br(v,y,r,f),Br(m,y,r,f);var b=new Ct,S=new Ct;b.add(m),b.add(v),b.add(S),c(m.shape.points,d,S,o,f,!0),o.setItemGraphicEl(f,b)}}).update(function(f,d){var v=l.getItemGraphicEl(d),m=v.childAt(0),y=v.childAt(1),b=v.childAt(2),S={shape:{points:o.getItemLayout(f)}};S.shape.points&&(c(m.shape.points,S.shape.points,b,o,f,!1),Gs(y),Gs(m),sr(m,S,r),sr(y,S,r),o.setItemGraphicEl(f,v))}).remove(function(f){s.remove(l.getItemGraphicEl(f))}).execute(),o.eachItemGraphicEl(function(f,d){var v=o.getItemModel(d),m=f.childAt(0),y=f.childAt(1),b=f.childAt(2),S=o.getItemVisual(d,"style"),w=S.fill;s.add(f),m.useStyle(yt(v.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:w})),si(m,v,"lineStyle"),si(y,v,"areaStyle");var k=v.getModel("areaStyle"),M=k.isEmpty()&&k.parentModel.isEmpty();y.ignore=M,q(["emphasis","select","blur"],function(N){var z=v.getModel([N,"areaStyle"]),B=z.isEmpty()&&z.parentModel.isEmpty();y.ensureState(N).ignore=B&&M}),y.useStyle(yt(k.getAreaStyle(),{fill:w,opacity:.7,decal:S.decal}));var I=v.getModel("emphasis"),L=I.getModel("itemStyle").getItemStyle();b.eachChild(function(N){if(N instanceof Vn){var z=N.style;N.useStyle(Ne({image:z.image,x:z.x,y:z.y,width:z.width,height:z.height},S))}else N.useStyle(S),N.setColor(w),N.style.strokeNoScale=!0;var B=N.ensureState("emphasis");B.style=_t(L);var H=o.getStore().get(o.getDimensionIndex(N.__dimIdx),d);(H==null||isNaN(H))&&(H=""),oi(N,zn(v),{labelFetcher:o.hostModel,labelDataIndex:d,labelDimIndex:N.__dimIdx,defaultText:H,inheritColor:w,defaultOpacity:S.opacity})}),qr(f,I.get("focus"),I.get("blurScope"),I.get("disabled"))}),this._data=o},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.type="radar",t}(xr),zLe=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.hasSymbolVisual=!0,r}return t.prototype.init=function(r){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new ly(rt(this.getData,this),rt(this.getRawData,this))},t.prototype.getInitialData=function(r,n){return Qp(this,{generateCoord:"indicator_",generateCoordCount:1/0})},t.prototype.formatTooltip=function(r,n,i){var a=this.getData(),s=this.coordinateSystem,o=s.getIndicatorAxes(),l=this.getData().getName(r),u=l===""?this.name:l,c=LK(this,r);return jn("section",{header:u,sortBlocks:!0,blocks:Fe(o,function(h){var f=a.get(a.mapDimension(h.dim),r);return jn("nameValue",{markerType:"subItem",markerColor:c,name:h.name,value:f,sortParam:f})})})},t.prototype.getTooltipPosition=function(r){if(r!=null){for(var n=this.getData(),i=this.coordinateSystem,a=n.getValues(Fe(i.dimensions,function(u){return n.mapDimension(u)}),r),s=0,o=a.length;s<o;s++)if(!isNaN(a[s])){var l=i.getIndicatorAxes();return i.coordToPoint(l[s].dataToCoord(a[s]),s)}}},t.type="series.radar",t.dependencies=["radar"],t.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},t}(Cr),ig=DQ.value;function _x(e,t){return yt({show:t},e)}var jLe=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.optionUpdated=function(){var r=this.get("boundaryGap"),n=this.get("splitNumber"),i=this.get("scale"),a=this.get("axisLine"),s=this.get("axisTick"),o=this.get("axisLabel"),l=this.get("axisName"),u=this.get(["axisName","show"]),c=this.get(["axisName","formatter"]),h=this.get("axisNameGap"),f=this.get("triggerEvent"),d=Fe(this.get("indicator")||[],function(v){v.max!=null&&v.max>0&&!v.min?v.min=0:v.min!=null&&v.min<0&&!v.max&&(v.max=0);var m=l;v.color!=null&&(m=yt({color:v.color},l));var y=Ot(_t(v),{boundaryGap:r,splitNumber:n,scale:i,axisLine:a,axisTick:s,axisLabel:o,name:v.text,showName:u,nameLocation:"end",nameGap:h,nameTextStyle:m,triggerEvent:f},!1);if(Je(c)){var b=y.name;y.name=c.replace("{value}",b??"")}else vt(c)&&(y.name=c(y.name,y));var S=new ur(y,null,this.ecModel);return cn(S,Zp.prototype),S.mainType="radar",S.componentIndex=this.componentIndex,S},this);this._indicatorModels=d},t.prototype.getIndicatorModels=function(){return this._indicatorModels},t.type="radar",t.defaultOption={z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:Ot({lineStyle:{color:"#bbb"}},ig.axisLine),axisLabel:_x(ig.axisLabel,!1),axisTick:_x(ig.axisTick,!1),splitLine:_x(ig.splitLine,!0),splitArea:_x(ig.splitArea,!0),indicator:[]},t}(Yt),HLe=["axisLine","axisTickLabel","axisName"],VLe=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i){var a=this.group;a.removeAll(),this._buildAxes(r),this._buildSplitLineAndArea(r)},t.prototype._buildAxes=function(r){var n=r.coordinateSystem,i=n.getIndicatorAxes(),a=Fe(i,function(s){var o=s.model.get("showName")?s.name:"",l=new ji(s.model,{axisName:o,position:[n.cx,n.cy],rotation:s.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return l});q(a,function(s){q(HLe,s.add,s),this.group.add(s.getGroup())},this)},t.prototype._buildSplitLineAndArea=function(r){var n=r.coordinateSystem,i=n.getIndicatorAxes();if(!i.length)return;var a=r.get("shape"),s=r.getModel("splitLine"),o=r.getModel("splitArea"),l=s.getModel("lineStyle"),u=o.getModel("areaStyle"),c=s.get("show"),h=o.get("show"),f=l.get("color"),d=u.get("color"),v=Oe(f)?f:[f],m=Oe(d)?d:[d],y=[],b=[];function S(X,ee,le){var ie=le%ee.length;return X[ie]=X[ie]||[],ie}if(a==="circle")for(var w=i[0].getTicksCoords(),k=n.cx,M=n.cy,I=0;I<w.length;I++){if(c){var L=S(y,v,I);y[L].push(new jo({shape:{cx:k,cy:M,r:w[I].coord}}))}if(h&&I<w.length-1){var L=S(b,m,I);b[L].push(new Op({shape:{cx:k,cy:M,r0:w[I].coord,r:w[I+1].coord}}))}}else for(var N,z=Fe(i,function(X,ee){var le=X.getTicksCoords();return N=N==null?le.length-1:Math.min(le.length-1,N),Fe(le,function(ie){return n.coordToPoint(ie.coord,ee)})}),B=[],I=0;I<=N;I++){for(var H=[],G=0;G<i.length;G++)H.push(z[G][I]);if(H[0]&&H.push(H[0].slice()),c){var L=S(y,v,I);y[L].push(new Ai({shape:{points:H}}))}if(h&&B){var L=S(b,m,I-1);b[L].push(new wi({shape:{points:H.concat(B)}}))}B=H.slice().reverse()}var $=l.getLineStyle(),W=u.getAreaStyle();q(b,function(X,ee){this.group.add(xa(X,{style:yt({stroke:"none",fill:m[ee%m.length]},W),silent:!0}))},this),q(y,function(X,ee){this.group.add(xa(X,{style:yt({fill:"none",stroke:v[ee%v.length]},$),silent:!0}))},this)},t.type="radar",t}(Nr),ULe=function(e){_e(t,e);function t(r,n,i){var a=e.call(this,r,n,i)||this;return a.type="value",a.angle=0,a.name="",a}return t}(ps),GLe=function(){function e(t,r,n){this.dimensions=[],this._model=t,this._indicatorAxes=Fe(t.getIndicatorModels(),function(i,a){var s="indicator_"+a,o=new ULe(s,new kl);return o.name=i.get("name"),o.model=i,i.axis=o,this.dimensions.push(s),o},this),this.resize(t,n)}return e.prototype.getIndicatorAxes=function(){return this._indicatorAxes},e.prototype.dataToPoint=function(t,r){var n=this._indicatorAxes[r];return this.coordToPoint(n.dataToCoord(t),r)},e.prototype.coordToPoint=function(t,r){var n=this._indicatorAxes[r],i=n.angle,a=this.cx+t*Math.cos(i),s=this.cy-t*Math.sin(i);return[a,s]},e.prototype.pointToData=function(t){var r=t[0]-this.cx,n=t[1]-this.cy,i=Math.sqrt(r*r+n*n);r/=i,n/=i;for(var a=Math.atan2(-n,r),s=1/0,o,l=-1,u=0;u<this._indicatorAxes.length;u++){var c=this._indicatorAxes[u],h=Math.abs(a-c.angle);h<s&&(o=c,l=u,s=h)}return[l,+(o&&o.coordToData(i))]},e.prototype.resize=function(t,r){var n=t.get("center"),i=r.getWidth(),a=r.getHeight(),s=Math.min(i,a)/2;this.cx=Ze(n[0],i),this.cy=Ze(n[1],a),this.startAngle=t.get("startAngle")*Math.PI/180;var o=t.get("radius");(Je(o)||ar(o))&&(o=[0,o]),this.r0=Ze(o[0],s),this.r=Ze(o[1],s),q(this._indicatorAxes,function(l,u){l.setExtent(this.r0,this.r);var c=this.startAngle+u*Math.PI*2/this._indicatorAxes.length;c=Math.atan2(Math.sin(c),Math.cos(c)),l.angle=c},this)},e.prototype.update=function(t,r){var n=this._indicatorAxes,i=this._model;q(n,function(o){o.scale.setExtent(1/0,-1/0)}),t.eachSeriesByType("radar",function(o,l){if(!(o.get("coordinateSystem")!=="radar"||t.getComponent("radar",o.get("radarIndex"))!==i)){var u=o.getData();q(n,function(c){c.scale.unionExtentFromData(u,u.mapDimension(c.dim))})}},this);var a=i.get("splitNumber"),s=new kl;s.setExtent(0,a),s.setInterval(1),q(n,function(o,l){MQ(o.scale,o.model,s)})},e.prototype.convertToPixel=function(t,r,n){return console.warn("Not implemented."),null},e.prototype.convertFromPixel=function(t,r,n){return console.warn("Not implemented."),null},e.prototype.containPoint=function(t){return console.warn("Not implemented."),!1},e.create=function(t,r){var n=[];return t.eachComponent("radar",function(i){var a=new e(i,t,r);n.push(a),i.coordinateSystem=a}),t.eachSeriesByType("radar",function(i){i.get("coordinateSystem")==="radar"&&(i.coordinateSystem=n[i.get("radarIndex")||0])}),n},e.dimensions=[],e}();function WLe(e){e.registerCoordinateSystem("radar",GLe),e.registerComponentModel(jLe),e.registerComponentView(VLe),e.registerVisual({seriesType:"radar",reset:function(t){var r=t.getData();r.each(function(n){r.setItemVisual(n,"legendIcon","roundRect")}),r.setVisual("legendIcon","roundRect")}})}function $Le(e){Wt(WLe),e.registerChartView(FLe),e.registerSeriesModel(zLe),e.registerLayout(OLe),e.registerProcessor(oy("radar")),e.registerPreprocessor(BLe)}var Jz="\0_ec_interaction_mutex";function YLe(e,t,r){var n=BP(e);n[t]=r}function XLe(e,t,r){var n=BP(e),i=n[t];i===r&&(n[t]=null)}function e9(e,t){return!!BP(e)[t]}function BP(e){return e[Jz]||(e[Jz]={})}Ys({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},ln);var uy=function(e){_e(t,e);function t(r){var n=e.call(this)||this;n._zr=r;var i=rt(n._mousedownHandler,n),a=rt(n._mousemoveHandler,n),s=rt(n._mouseupHandler,n),o=rt(n._mousewheelHandler,n),l=rt(n._pinchHandler,n);return n.enable=function(u,c){this.disable(),this._opt=yt(_t(c)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),u==null&&(u=!0),(u===!0||u==="move"||u==="pan")&&(r.on("mousedown",i),r.on("mousemove",a),r.on("mouseup",s)),(u===!0||u==="scale"||u==="zoom")&&(r.on("mousewheel",o),r.on("pinch",l))},n.disable=function(){r.off("mousedown",i),r.off("mousemove",a),r.off("mouseup",s),r.off("mousewheel",o),r.off("pinch",l)},n}return t.prototype.isDragging=function(){return this._dragging},t.prototype.isPinching=function(){return this._pinching},t.prototype.setPointerChecker=function(r){this.pointerChecker=r},t.prototype.dispose=function(){this.disable()},t.prototype._mousedownHandler=function(r){if(!DB(r)){for(var n=r.target;n;){if(n.draggable)return;n=n.__hostTarget||n.parent}var i=r.offsetX,a=r.offsetY;this.pointerChecker&&this.pointerChecker(r,i,a)&&(this._x=i,this._y=a,this._dragging=!0)}},t.prototype._mousemoveHandler=function(r){if(!(!this._dragging||!_b("moveOnMouseMove",r,this._opt)||r.gestureEvent==="pinch"||e9(this._zr,"globalPan"))){var n=r.offsetX,i=r.offsetY,a=this._x,s=this._y,o=n-a,l=i-s;this._x=n,this._y=i,this._opt.preventDefaultMouseMove&&wl(r.event),FQ(this,"pan","moveOnMouseMove",r,{dx:o,dy:l,oldX:a,oldY:s,newX:n,newY:i,isAvailableBehavior:null})}},t.prototype._mouseupHandler=function(r){DB(r)||(this._dragging=!1)},t.prototype._mousewheelHandler=function(r){var n=_b("zoomOnMouseWheel",r,this._opt),i=_b("moveOnMouseWheel",r,this._opt),a=r.wheelDelta,s=Math.abs(a),o=r.offsetX,l=r.offsetY;if(!(a===0||!n&&!i)){if(n){var u=s>3?1.4:s>1?1.2:1.1,c=a>0?u:1/u;zE(this,"zoom","zoomOnMouseWheel",r,{scale:c,originX:o,originY:l,isAvailableBehavior:null})}if(i){var h=Math.abs(a),f=(a>0?1:-1)*(h>3?.4:h>1?.15:.05);zE(this,"scrollMove","moveOnMouseWheel",r,{scrollDelta:f,originX:o,originY:l,isAvailableBehavior:null})}}},t.prototype._pinchHandler=function(r){if(!e9(this._zr,"globalPan")){var n=r.pinchScale>1?1.1:1/1.1;zE(this,"zoom",null,r,{scale:n,originX:r.pinchX,originY:r.pinchY,isAvailableBehavior:null})}},t}(cs);function zE(e,t,r,n,i){e.pointerChecker&&e.pointerChecker(n,i.originX,i.originY)&&(wl(n.event),FQ(e,t,r,n,i))}function FQ(e,t,r,n,i){i.isAvailableBehavior=rt(_b,null,r,n),e.trigger(t,i)}function _b(e,t,r){var n=r[e];return!e||n&&(!Je(n)||t.event[n+"Key"])}function FP(e,t,r){var n=e.target;n.x+=t,n.y+=r,n.dirty()}function zP(e,t,r,n){var i=e.target,a=e.zoomLimit,s=e.zoom=e.zoom||1;if(s*=t,a){var o=a.min||0,l=a.max||1/0;s=Math.max(Math.min(l,s),o)}var u=s/e.zoom;e.zoom=s,i.x-=(r-i.x)*(u-1),i.y-=(n-i.y)*(u-1),i.scaleX*=u,i.scaleY*=u,i.dirty()}var qLe={axisPointer:1,tooltip:1,brush:1};function Hw(e,t,r){var n=t.getComponentByElement(e.topTarget),i=n&&n.coordinateSystem;return n&&n!==r&&!qLe.hasOwnProperty(n.mainType)&&i&&i.model!==r}function zQ(e){if(Je(e)){var t=new DOMParser;e=t.parseFromString(e,"text/xml")}var r=e;for(r.nodeType===9&&(r=r.firstChild);r.nodeName.toLowerCase()!=="svg"||r.nodeType!==1;)r=r.nextSibling;return r}var jE,YS={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},t9=Kt(YS),XS={"alignment-baseline":"textBaseline","stop-color":"stopColor"},r9=Kt(XS),KLe=function(){function e(){this._defs={},this._root=null}return e.prototype.parse=function(t,r){r=r||{};var n=zQ(t);this._defsUsePending=[];var i=new Ct;this._root=i;var a=[],s=n.getAttribute("viewBox")||"",o=parseFloat(n.getAttribute("width")||r.width),l=parseFloat(n.getAttribute("height")||r.height);isNaN(o)&&(o=null),isNaN(l)&&(l=null),pa(n,i,null,!0,!1);for(var u=n.firstChild;u;)this._parseNode(u,i,a,null,!1,!1),u=u.nextSibling;JLe(this._defs,this._defsUsePending),this._defsUsePending=[];var c,h;if(s){var f=Vw(s);f.length>=4&&(c={x:parseFloat(f[0]||0),y:parseFloat(f[1]||0),width:parseFloat(f[2]),height:parseFloat(f[3])})}if(c&&o!=null&&l!=null&&(h=HQ(c,{x:0,y:0,width:o,height:l}),!r.ignoreViewBox)){var d=i;i=new Ct,i.add(d),d.scaleX=d.scaleY=h.scale,d.x=h.x,d.y=h.y}return!r.ignoreRootClip&&o!=null&&l!=null&&i.setClipPath(new Jt({shape:{x:0,y:0,width:o,height:l}})),{root:i,width:o,height:l,viewBoxRect:c,viewBoxTransform:h,named:a}},e.prototype._parseNode=function(t,r,n,i,a,s){var o=t.nodeName.toLowerCase(),l,u=i;if(o==="defs"&&(a=!0),o==="text"&&(s=!0),o==="defs"||o==="switch")l=r;else{if(!a){var c=jE[o];if(c&&ot(jE,o)){l=c.call(this,t,r);var h=t.getAttribute("name");if(h){var f={name:h,namedFrom:null,svgNodeTagLower:o,el:l};n.push(f),o==="g"&&(u=f)}else i&&n.push({name:i.name,namedFrom:i,svgNodeTagLower:o,el:l});r.add(l)}}var d=n9[o];if(d&&ot(n9,o)){var v=d.call(this,t),m=t.getAttribute("id");m&&(this._defs[m]=v)}}if(l&&l.isGroup)for(var y=t.firstChild;y;)y.nodeType===1?this._parseNode(y,l,n,u,a,s):y.nodeType===3&&s&&this._parseText(y,l),y=y.nextSibling},e.prototype._parseText=function(t,r){var n=new hp({style:{text:t.textContent},silent:!0,x:this._textX||0,y:this._textY||0});Oa(r,n),pa(t,n,this._defsUsePending,!1,!1),ZLe(n,r);var i=n.style,a=i.fontSize;a&&a<9&&(i.fontSize=9,n.scaleX*=a/9,n.scaleY*=a/9);var s=(i.fontSize||i.fontFamily)&&[i.fontStyle,i.fontWeight,(i.fontSize||12)+"px",i.fontFamily||"sans-serif"].join(" ");i.font=s;var o=n.getBoundingRect();return this._textX+=o.width,r.add(n),n},e.internalField=function(){jE={g:function(t,r){var n=new Ct;return Oa(r,n),pa(t,n,this._defsUsePending,!1,!1),n},rect:function(t,r){var n=new Jt;return Oa(r,n),pa(t,n,this._defsUsePending,!1,!1),n.setShape({x:parseFloat(t.getAttribute("x")||"0"),y:parseFloat(t.getAttribute("y")||"0"),width:parseFloat(t.getAttribute("width")||"0"),height:parseFloat(t.getAttribute("height")||"0")}),n.silent=!0,n},circle:function(t,r){var n=new jo;return Oa(r,n),pa(t,n,this._defsUsePending,!1,!1),n.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),r:parseFloat(t.getAttribute("r")||"0")}),n.silent=!0,n},line:function(t,r){var n=new An;return Oa(r,n),pa(t,n,this._defsUsePending,!1,!1),n.setShape({x1:parseFloat(t.getAttribute("x1")||"0"),y1:parseFloat(t.getAttribute("y1")||"0"),x2:parseFloat(t.getAttribute("x2")||"0"),y2:parseFloat(t.getAttribute("y2")||"0")}),n.silent=!0,n},ellipse:function(t,r){var n=new K0;return Oa(r,n),pa(t,n,this._defsUsePending,!1,!1),n.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),rx:parseFloat(t.getAttribute("rx")||"0"),ry:parseFloat(t.getAttribute("ry")||"0")}),n.silent=!0,n},polygon:function(t,r){var n=t.getAttribute("points"),i;n&&(i=s9(n));var a=new wi({shape:{points:i||[]},silent:!0});return Oa(r,a),pa(t,a,this._defsUsePending,!1,!1),a},polyline:function(t,r){var n=t.getAttribute("points"),i;n&&(i=s9(n));var a=new Ai({shape:{points:i||[]},silent:!0});return Oa(r,a),pa(t,a,this._defsUsePending,!1,!1),a},image:function(t,r){var n=new Vn;return Oa(r,n),pa(t,n,this._defsUsePending,!1,!1),n.setStyle({image:t.getAttribute("xlink:href")||t.getAttribute("href"),x:+t.getAttribute("x"),y:+t.getAttribute("y"),width:+t.getAttribute("width"),height:+t.getAttribute("height")}),n.silent=!0,n},text:function(t,r){var n=t.getAttribute("x")||"0",i=t.getAttribute("y")||"0",a=t.getAttribute("dx")||"0",s=t.getAttribute("dy")||"0";this._textX=parseFloat(n)+parseFloat(a),this._textY=parseFloat(i)+parseFloat(s);var o=new Ct;return Oa(r,o),pa(t,o,this._defsUsePending,!1,!0),o},tspan:function(t,r){var n=t.getAttribute("x"),i=t.getAttribute("y");n!=null&&(this._textX=parseFloat(n)),i!=null&&(this._textY=parseFloat(i));var a=t.getAttribute("dx")||"0",s=t.getAttribute("dy")||"0",o=new Ct;return Oa(r,o),pa(t,o,this._defsUsePending,!1,!0),this._textX+=parseFloat(a),this._textY+=parseFloat(s),o},path:function(t,r){var n=t.getAttribute("d")||"",i=Iq(n);return Oa(r,i),pa(t,i,this._defsUsePending,!1,!1),i.silent=!0,i}}}(),e}(),n9={lineargradient:function(e){var t=parseInt(e.getAttribute("x1")||"0",10),r=parseInt(e.getAttribute("y1")||"0",10),n=parseInt(e.getAttribute("x2")||"10",10),i=parseInt(e.getAttribute("y2")||"0",10),a=new Fp(t,r,n,i);return i9(e,a),a9(e,a),a},radialgradient:function(e){var t=parseInt(e.getAttribute("cx")||"0",10),r=parseInt(e.getAttribute("cy")||"0",10),n=parseInt(e.getAttribute("r")||"0",10),i=new zN(t,r,n);return i9(e,i),a9(e,i),i}};function i9(e,t){var r=e.getAttribute("gradientUnits");r==="userSpaceOnUse"&&(t.global=!0)}function a9(e,t){for(var r=e.firstChild;r;){if(r.nodeType===1&&r.nodeName.toLocaleLowerCase()==="stop"){var n=r.getAttribute("offset"),i=void 0;n&&n.indexOf("%")>0?i=parseInt(n,10)/100:n?i=parseFloat(n):i=0;var a={};jQ(r,a,a);var s=a.stopColor||r.getAttribute("stop-color")||"#000000";t.colorStops.push({offset:i,color:s})}r=r.nextSibling}}function Oa(e,t){e&&e.__inheritedStyle&&(t.__inheritedStyle||(t.__inheritedStyle={}),yt(t.__inheritedStyle,e.__inheritedStyle))}function s9(e){for(var t=Vw(e),r=[],n=0;n<t.length;n+=2){var i=parseFloat(t[n]),a=parseFloat(t[n+1]);r.push([i,a])}return r}function pa(e,t,r,n,i){var a=t,s=a.__inheritedStyle=a.__inheritedStyle||{},o={};e.nodeType===1&&(rNe(e,t),jQ(e,s,o),n||nNe(e,s,o)),a.style=a.style||{},s.fill!=null&&(a.style.fill=o9(a,"fill",s.fill,r)),s.stroke!=null&&(a.style.stroke=o9(a,"stroke",s.stroke,r)),q(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(l){s[l]!=null&&(a.style[l]=parseFloat(s[l]))}),q(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(l){s[l]!=null&&(a.style[l]=s[l])}),i&&(a.__selfStyle=o),s.lineDash&&(a.style.lineDash=Fe(Vw(s.lineDash),function(l){return parseFloat(l)})),(s.visibility==="hidden"||s.visibility==="collapse")&&(a.invisible=!0),s.display==="none"&&(a.ignore=!0)}function ZLe(e,t){var r=t.__selfStyle;if(r){var n=r.textBaseline,i=n;!n||n==="auto"||n==="baseline"?i="alphabetic":n==="before-edge"||n==="text-before-edge"?i="top":n==="after-edge"||n==="text-after-edge"?i="bottom":(n==="central"||n==="mathematical")&&(i="middle"),e.style.textBaseline=i}var a=t.__inheritedStyle;if(a){var s=a.textAlign,o=s;s&&(s==="middle"&&(o="center"),e.style.textAlign=o)}}var QLe=/^url\(\s*#(.*?)\)/;function o9(e,t,r,n){var i=r&&r.match(QLe);if(i){var a=ts(i[1]);n.push([e,t,a]);return}return r==="none"&&(r=null),r}function JLe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n[0].style[n[1]]=e[n[2]]}}var eNe=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function Vw(e){return e.match(eNe)||[]}var tNe=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,HE=Math.PI/180;function rNe(e,t){var r=e.getAttribute("transform");if(r){r=r.replace(/,/g," ");var n=[],i=null;r.replace(tNe,function(h,f,d){return n.push(f,d),""});for(var a=n.length-1;a>0;a-=2){var s=n[a],o=n[a-1],l=Vw(s);switch(i=i||ua(),o){case"translate":Vs(i,i,[parseFloat(l[0]),parseFloat(l[1]||"0")]);break;case"scale":cw(i,i,[parseFloat(l[0]),parseFloat(l[1]||l[0])]);break;case"rotate":cc(i,i,-parseFloat(l[0])*HE,[parseFloat(l[1]||"0"),parseFloat(l[2]||"0")]);break;case"skewX":var u=Math.tan(parseFloat(l[0])*HE);Do(i,[1,0,u,1,0,0],i);break;case"skewY":var c=Math.tan(parseFloat(l[0])*HE);Do(i,[1,c,0,1,0,0],i);break;case"matrix":i[0]=parseFloat(l[0]),i[1]=parseFloat(l[1]),i[2]=parseFloat(l[2]),i[3]=parseFloat(l[3]),i[4]=parseFloat(l[4]),i[5]=parseFloat(l[5]);break}}t.setLocalTransform(i)}}var l9=/([^\s:;]+)\s*:\s*([^:;]+)/g;function jQ(e,t,r){var n=e.getAttribute("style");if(n){l9.lastIndex=0;for(var i;(i=l9.exec(n))!=null;){var a=i[1],s=ot(YS,a)?YS[a]:null;s&&(t[s]=i[2]);var o=ot(XS,a)?XS[a]:null;o&&(r[o]=i[2])}}}function nNe(e,t,r){for(var n=0;n<t9.length;n++){var i=t9[n],a=e.getAttribute(i);a!=null&&(t[YS[i]]=a)}for(var n=0;n<r9.length;n++){var i=r9[n],a=e.getAttribute(i);a!=null&&(r[XS[i]]=a)}}function HQ(e,t){var r=t.width/e.width,n=t.height/e.height,i=Math.min(r,n);return{scale:i,x:-(e.x+e.width/2)*i+(t.x+t.width/2),y:-(e.y+e.height/2)*i+(t.y+t.height/2)}}function iNe(e,t){var r=new KLe;return r.parse(e,t)}var aNe=ct(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),sNe=function(){function e(t,r){this.type="geoSVG",this._usedGraphicMap=ct(),this._freedGraphics=[],this._mapName=t,this._parsedXML=zQ(r)}return e.prototype.load=function(){var t=this._firstGraphic;if(!t){t=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(t),this._boundingRect=this._firstGraphic.boundingRect.clone();var r=lNe(t.named),n=r.regions,i=r.regionsMap;this._regions=n,this._regionsMap=i}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},e.prototype._buildGraphic=function(t){var r,n;try{r=t&&iNe(t,{ignoreViewBox:!0,ignoreRootClip:!0})||{},n=r.root,Si(n!=null)}catch(y){throw new Error(`Invalid svg format
`+y.message)}var i=new Ct;i.add(n),i.isGeoSVGGraphicRoot=!0;var a=r.width,s=r.height,o=r.viewBoxRect,l=this._boundingRect;if(!l){var u=void 0,c=void 0,h=void 0,f=void 0;if(a!=null?(u=0,h=a):o&&(u=o.x,h=o.width),s!=null?(c=0,f=s):o&&(c=o.y,f=o.height),u==null||c==null){var d=n.getBoundingRect();u==null&&(u=d.x,h=d.width),c==null&&(c=d.y,f=d.height)}l=this._boundingRect=new jt(u,c,h,f)}if(o){var v=HQ(o,l);n.scaleX=n.scaleY=v.scale,n.x=v.x,n.y=v.y}i.setClipPath(new Jt({shape:l.plain()}));var m=[];return q(r.named,function(y){aNe.get(y.svgNodeTagLower)!=null&&(m.push(y),oNe(y.el))}),{root:i,boundingRect:l,named:m}},e.prototype.useGraphic=function(t){var r=this._usedGraphicMap,n=r.get(t);return n||(n=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),r.set(t,n),n)},e.prototype.freeGraphic=function(t){var r=this._usedGraphicMap,n=r.get(t);n&&(r.removeKey(t),this._freedGraphics.push(n))},e}();function oNe(e){e.silent=!1,e.isGroup&&e.traverse(function(t){t.silent=!1})}function lNe(e){var t=[],r=ct();return q(e,function(n){if(n.namedFrom==null){var i=new XIe(n.name,n.el);t.push(i),r.set(n.name,i)}}),{regions:t,regionsMap:r}}var LD=[126,25],u9="",th=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]];for(var Zc=0;Zc<th.length;Zc++)for(var Yf=0;Yf<th[Zc].length;Yf++)th[Zc][Yf][0]/=10.5,th[Zc][Yf][1]/=-10.5/.75,th[Zc][Yf][0]+=LD[0],th[Zc][Yf][1]+=LD[1];function uNe(e,t){if(e==="china"){for(var r=0;r<t.length;r++)if(t[r].name===u9)return;t.push(new BZ(u9,Fe(th,function(n){return{type:"polygon",exterior:n}}),LD))}}var cNe={:[32,80],:[0,-10],:[10,5],:[-10,10],:[5,5]};function hNe(e,t){if(e==="china"){var r=cNe[t.name];if(r){var n=t.getCenter();n[0]+=r[0]/10.5,n[1]+=-r[1]/(10.5/.75),t.setCenter(n)}}}var fNe=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];function dNe(e,t){e==="china"&&t.name===""&&t.geometries.push({type:"polygon",exterior:fNe[0]})}var pNe="name",vNe=function(){function e(t,r,n){this.type="geoJSON",this._parsedMap=ct(),this._mapName=t,this._specialAreas=n,this._geoJSON=mNe(r)}return e.prototype.load=function(t,r){r=r||pNe;var n=this._parsedMap.get(r);if(!n){var i=this._parseToRegions(r);n=this._parsedMap.set(r,{regions:i,boundingRect:gNe(i)})}var a=ct(),s=[];return q(n.regions,function(o){var l=o.name;t&&ot(t,l)&&(o=o.cloneShallow(l=t[l])),s.push(o),a.set(l,o)}),{regions:s,boundingRect:n.boundingRect||new jt(0,0,0,0),regionsMap:a}},e.prototype._parseToRegions=function(t){var r=this._mapName,n=this._geoJSON,i;try{i=n?_D(n,t):[]}catch(a){throw new Error(`Invalid geoJson format
`+a.message)}return uNe(r,i),q(i,function(a){var s=a.name;hNe(r,a),dNe(r,a);var o=this._specialAreas&&this._specialAreas[s];o&&a.transformTo(o.left,o.top,o.width,o.height)},this),i},e.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},e}();function gNe(e){for(var t,r=0;r<e.length;r++){var n=e[r].getBoundingRect();t=t||n.clone(),t.union(n)}return t}function mNe(e){return Je(e)?typeof JSON<"u"&&JSON.parse?JSON.parse(e):new Function("return ("+e+");")():e}var ag=ct();const Il={registerMap:function(e,t,r){if(t.svg){var n=new sNe(e,t.svg);ag.set(e,n)}else{var i=t.geoJson||t.geoJSON;i&&!t.features?r=t.specialAreas:i=t;var n=new vNe(e,i,r);ag.set(e,n)}},getGeoResource:function(e){return ag.get(e)},getMapForUser:function(e){var t=ag.get(e);return t&&t.type==="geoJSON"&&t.getMapForUser()},load:function(e,t,r){var n=ag.get(e);if(n)return n.load(t,r)}};var jP=["rect","circle","line","ellipse","polygon","polyline","path"],yNe=ct(jP),xNe=ct(jP.concat(["g"])),bNe=ct(jP.concat(["g"])),VQ=tr();function Tx(e){var t=e.getItemStyle(),r=e.get("areaColor");return r!=null&&(t.fill=r),t}function c9(e){var t=e.style;t&&(t.stroke=t.stroke||t.fill,t.fill=null)}var UQ=function(){function e(t){var r=new Ct;this.uid=Vp("ec_map_draw"),this._controller=new uy(t.getZr()),this._controllerHost={target:r},this.group=r,r.add(this._regionsGroup=new Ct),r.add(this._svgGroup=new Ct)}return e.prototype.draw=function(t,r,n,i,a){var s=t.mainType==="geo",o=t.getData&&t.getData();s&&r.eachComponent({mainType:"series",subType:"map"},function(b){!o&&b.getHostGeoModel()===t&&(o=b.getData())});var l=t.coordinateSystem,u=this._regionsGroup,c=this.group,h=l.getTransformInfo(),f=h.raw,d=h.roam,v=!u.childAt(0)||a;v?(c.x=d.x,c.y=d.y,c.scaleX=d.scaleX,c.scaleY=d.scaleY,c.dirty()):sr(c,d,t);var m=o&&o.getVisual("visualMeta")&&o.getVisual("visualMeta").length>0,y={api:n,geo:l,mapOrGeoModel:t,data:o,isVisualEncodedByVisualMap:m,isGeo:s,transformInfoRaw:f};l.resourceType==="geoJSON"?this._buildGeoJSON(y):l.resourceType==="geoSVG"&&this._buildSVG(y),this._updateController(t,r,n),this._updateMapSelectHandler(t,u,n,i)},e.prototype._buildGeoJSON=function(t){var r=this._regionsGroupByName=ct(),n=ct(),i=this._regionsGroup,a=t.transformInfoRaw,s=t.mapOrGeoModel,o=t.data,l=t.geo.projection,u=l&&l.stream;function c(d,v){return v&&(d=v(d)),d&&[d[0]*a.scaleX+a.x,d[1]*a.scaleY+a.y]}function h(d){for(var v=[],m=!u&&l&&l.project,y=0;y<d.length;++y){var b=c(d[y],m);b&&v.push(b)}return v}function f(d){return{shape:{points:h(d)}}}i.removeAll(),q(t.geo.regions,function(d){var v=d.name,m=r.get(v),y=n.get(v)||{},b=y.dataIdx,S=y.regionModel;if(!m){m=r.set(v,new Ct),i.add(m),b=o?o.indexOfName(v):null,S=t.isGeo?s.getRegionModel(v):o?o.getItemModel(b):null;var w=S.get("silent",!0);w!=null&&(m.silent=w),n.set(v,{dataIdx:b,regionModel:S})}var k=[],M=[];q(d.geometries,function(N){if(N.type==="polygon"){var z=[N.exterior].concat(N.interiors||[]);u&&(z=g9(z,u)),q(z,function(H){k.push(new wi(f(H)))})}else{var B=N.points;u&&(B=g9(B,u,!0)),q(B,function(H){M.push(new Ai(f(H)))})}});var I=c(d.getCenter(),l&&l.project);function L(N,z){if(N.length){var B=new Sw({culling:!0,segmentIgnoreThreshold:1,shape:{paths:N}});m.add(B),h9(t,B,b,S),f9(t,B,v,S,s,b,I),z&&(c9(B),q(B.states,c9))}}L(k),L(M,!0)}),r.each(function(d,v){var m=n.get(v),y=m.dataIdx,b=m.regionModel;d9(t,d,v,b,s,y),p9(t,d,v,b,s),v9(t,d,v,b,s)},this)},e.prototype._buildSVG=function(t){var r=t.geo.map,n=t.transformInfoRaw;this._svgGroup.x=n.x,this._svgGroup.y=n.y,this._svgGroup.scaleX=n.scaleX,this._svgGroup.scaleY=n.scaleY,this._svgResourceChanged(r)&&(this._freeSVG(),this._useSVG(r));var i=this._svgDispatcherMap=ct(),a=!1;q(this._svgGraphicRecord.named,function(s){var o=s.name,l=t.mapOrGeoModel,u=t.data,c=s.svgNodeTagLower,h=s.el,f=u?u.indexOfName(o):null,d=l.getRegionModel(o);yNe.get(c)!=null&&h instanceof us&&h9(t,h,f,d),h instanceof us&&(h.culling=!0);var v=d.get("silent",!0);if(v!=null&&(h.silent=v),h.z2EmphasisLift=0,!s.namedFrom&&(bNe.get(c)!=null&&f9(t,h,o,d,l,f,null),d9(t,h,o,d,l,f),p9(t,h,o,d,l),xNe.get(c)!=null)){var m=v9(t,h,o,d,l);m==="self"&&(a=!0);var y=i.get(o)||i.set(o,[]);y.push(h)}},this),this._enableBlurEntireSVG(a,t)},e.prototype._enableBlurEntireSVG=function(t,r){if(t&&r.isGeo){var n=r.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle(),i=n.opacity;this._svgGraphicRecord.root.traverse(function(a){if(!a.isGroup){Qh(a);var s=a.ensureState("blur").style||{};s.opacity==null&&i!=null&&(s.opacity=i),a.ensureState("emphasis")}})}},e.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},e.prototype.findHighDownDispatchers=function(t,r){if(t==null)return[];var n=r.coordinateSystem;if(n.resourceType==="geoJSON"){var i=this._regionsGroupByName;if(i){var a=i.get(t);return a?[a]:[]}}else if(n.resourceType==="geoSVG")return this._svgDispatcherMap&&this._svgDispatcherMap.get(t)||[]},e.prototype._svgResourceChanged=function(t){return this._svgMapName!==t},e.prototype._useSVG=function(t){var r=Il.getGeoResource(t);if(r&&r.type==="geoSVG"){var n=r.useGraphic(this.uid);this._svgGroup.add(n.root),this._svgGraphicRecord=n,this._svgMapName=t}},e.prototype._freeSVG=function(){var t=this._svgMapName;if(t!=null){var r=Il.getGeoResource(t);r&&r.type==="geoSVG"&&r.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},e.prototype._updateController=function(t,r,n){var i=t.coordinateSystem,a=this._controller,s=this._controllerHost;s.zoomLimit=t.get("scaleLimit"),s.zoom=i.getZoom(),a.enable(t.get("roam")||!1);var o=t.mainType;function l(){var u={type:"geoRoam",componentType:o};return u[o+"Id"]=t.id,u}a.off("pan").on("pan",function(u){this._mouseDownFlag=!1,FP(s,u.dx,u.dy),n.dispatchAction(Ne(l(),{dx:u.dx,dy:u.dy,animation:{duration:0}}))},this),a.off("zoom").on("zoom",function(u){this._mouseDownFlag=!1,zP(s,u.scale,u.originX,u.originY),n.dispatchAction(Ne(l(),{totalZoom:s.zoom,zoom:u.scale,originX:u.originX,originY:u.originY,animation:{duration:0}}))},this),a.setPointerChecker(function(u,c,h){return i.containPoint([c,h])&&!Hw(u,n,t)})},e.prototype.resetForLabelLayout=function(){this.group.traverse(function(t){var r=t.getTextContent();r&&(r.ignore=VQ(r).ignore)})},e.prototype._updateMapSelectHandler=function(t,r,n,i){var a=this;r.off("mousedown"),r.off("click"),t.get("selectedMode")&&(r.on("mousedown",function(){a._mouseDownFlag=!0}),r.on("click",function(s){a._mouseDownFlag&&(a._mouseDownFlag=!1)}))},e}();function h9(e,t,r,n){var i=n.getModel("itemStyle"),a=n.getModel(["emphasis","itemStyle"]),s=n.getModel(["blur","itemStyle"]),o=n.getModel(["select","itemStyle"]),l=Tx(i),u=Tx(a),c=Tx(o),h=Tx(s),f=e.data;if(f){var d=f.getItemVisual(r,"style"),v=f.getItemVisual(r,"decal");e.isVisualEncodedByVisualMap&&d.fill&&(l.fill=d.fill),v&&(l.decal=pp(v,e.api))}t.setStyle(l),t.style.strokeNoScale=!0,t.ensureState("emphasis").style=u,t.ensureState("select").style=c,t.ensureState("blur").style=h,Qh(t)}function f9(e,t,r,n,i,a,s){var o=e.data,l=e.isGeo,u=o&&isNaN(o.get(o.mapDimension("value"),a)),c=o&&o.getItemLayout(a);if(l||u||c&&c.showLabel){var h=l?r:a,f=void 0;(!o||a>=0)&&(f=i);var d=s?{normal:{align:"center",verticalAlign:"middle"}}:null;oi(t,zn(n),{labelFetcher:f,labelDataIndex:h,defaultText:r},d);var v=t.getTextContent();if(v&&(VQ(v).ignore=v.ignore,t.textConfig&&s)){var m=t.getBoundingRect().clone();t.textConfig.layoutRect=m,t.textConfig.position=[(s[0]-m.x)/m.width*100+"%",(s[1]-m.y)/m.height*100+"%"]}t.disableLabelAnimation=!0}else t.removeTextContent(),t.removeTextConfig(),t.disableLabelAnimation=null}function d9(e,t,r,n,i,a){e.data?e.data.setItemGraphicEl(a,t):It(t).eventData={componentType:"geo",componentIndex:i.componentIndex,geoIndex:i.componentIndex,name:r,region:n&&n.option||{}}}function p9(e,t,r,n,i){e.data||cf({el:t,componentModel:i,itemName:r,itemTooltipOption:n.get("tooltip")})}function v9(e,t,r,n,i){t.highDownSilentOnTouch=!!i.get("selectedMode");var a=n.getModel("emphasis"),s=a.get("focus");return qr(t,s,a.get("blurScope"),a.get("disabled")),e.isGeo&&n2e(t,i,r),s}function g9(e,t,r){var n=[],i;function a(){i=[]}function s(){i.length&&(n.push(i),i=[])}var o=t({polygonStart:a,polygonEnd:s,lineStart:a,lineEnd:s,point:function(l,u){isFinite(l)&&isFinite(u)&&i.push([l,u])},sphere:function(){}});return!r&&o.polygonStart(),q(e,function(l){o.lineStart();for(var u=0;u<l.length;u++)o.point(l[u][0],l[u][1]);o.lineEnd()}),!r&&o.polygonEnd(),n}var SNe=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i,a){if(!(a&&a.type==="mapToggleSelect"&&a.from===this.uid)){var s=this.group;if(s.removeAll(),!r.getHostGeoModel()){if(this._mapDraw&&a&&a.type==="geoRoam"&&this._mapDraw.resetForLabelLayout(),a&&a.type==="geoRoam"&&a.componentType==="series"&&a.seriesId===r.id){var o=this._mapDraw;o&&s.add(o.group)}else if(r.needsDrawMap){var o=this._mapDraw||new UQ(i);s.add(o.group),o.draw(r,n,i,this,a),this._mapDraw=o}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;r.get("showLegendSymbol")&&n.getComponent("legend")&&this._renderSymbols(r,n,i)}}},t.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},t.prototype._renderSymbols=function(r,n,i){var a=r.originalData,s=this.group;a.each(a.mapDimension("value"),function(o,l){if(!isNaN(o)){var u=a.getItemLayout(l);if(!(!u||!u.point)){var c=u.point,h=u.offset,f=new jo({style:{fill:r.getData().getVisual("style").fill},shape:{cx:c[0]+h*9,cy:c[1],r:3},silent:!0,z2:8+(h?0:Rp+1)});if(!h){var d=r.mainSeries.getData(),v=a.getName(l),m=d.indexOfName(v),y=a.getItemModel(l),b=y.getModel("label"),S=d.getItemGraphicEl(m);oi(f,zn(y),{labelFetcher:{getFormattedLabel:function(w,k){return r.getFormattedLabel(m,k)}},defaultText:v}),f.disableLabelAnimation=!0,b.get("position")||f.setTextConfig({position:"bottom"}),S.onHoverStateChange=function(w){CS(f,w)}}s.add(f)}}})},t.type="map",t}(xr),_Ne=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.needsDrawMap=!1,r.seriesGroup=[],r.getTooltipPosition=function(n){if(n!=null){var i=this.getData().getName(n),a=this.coordinateSystem,s=a.getRegion(i);return s&&a.dataToPoint(s.getCenter())}},r}return t.prototype.getInitialData=function(r){for(var n=Qp(this,{coordDimensions:["value"],encodeDefaulter:Lt(tP,this)}),i=ct(),a=[],s=0,o=n.count();s<o;s++){var l=n.getName(s);i.set(l,s)}var u=Il.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return q(u.regions,function(c){var h=c.name,f=i.get(h),d=c.properties&&c.properties.echartsStyle,v;f==null?(v={name:h},a.push(v)):v=n.getRawDataItem(f),d&&Ot(v,d)}),n.appendData(a),n},t.prototype.getHostGeoModel=function(){var r=this.option.geoIndex;return r!=null?this.ecModel.getComponent("geo",r):null},t.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},t.prototype.getRawValue=function(r){var n=this.getData();return n.get(n.mapDimension("value"),r)},t.prototype.getRegionModel=function(r){var n=this.getData();return n.getItemModel(n.indexOfName(r))},t.prototype.formatTooltip=function(r,n,i){for(var a=this.getData(),s=this.getRawValue(r),o=a.getName(r),l=this.seriesGroup,u=[],c=0;c<l.length;c++){var h=l[c].originalData.indexOfName(o),f=a.mapDimension("value");isNaN(l[c].originalData.get(f,h))||u.push(l[c].name)}return jn("section",{header:u.join(", "),noHeader:!u.length,blocks:[jn("nameValue",{name:o,value:s})]})},t.prototype.setZoom=function(r){this.option.zoom=r},t.prototype.setCenter=function(r){this.option.center=r},t.prototype.getLegendIcon=function(r){var n=r.icon||"roundRect",i=dn(n,0,0,r.itemWidth,r.itemHeight,r.itemStyle.fill);return i.setStyle(r.itemStyle),i.style.stroke="none",n.indexOf("empty")>-1&&(i.style.stroke=i.style.fill,i.style.fill="#fff",i.style.lineWidth=2),i},t.type="series.map",t.dependencies=["geo"],t.layoutMode="box",t.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},t}(Cr);function wNe(e,t){var r={};return q(e,function(n){n.each(n.mapDimension("value"),function(i,a){var s="ec-"+n.getName(a);r[s]=r[s]||[],isNaN(i)||r[s].push(i)})}),e[0].map(e[0].mapDimension("value"),function(n,i){for(var a="ec-"+e[0].getName(i),s=0,o=1/0,l=-1/0,u=r[a].length,c=0;c<u;c++)o=Math.min(o,r[a][c]),l=Math.max(l,r[a][c]),s+=r[a][c];var h;return t==="min"?h=o:t==="max"?h=l:t==="average"?h=s/u:h=s,u===0?NaN:h})}function TNe(e){var t={};e.eachSeriesByType("map",function(r){var n=r.getHostGeoModel(),i=n?"o"+n.id:"i"+r.getMapType();(t[i]=t[i]||[]).push(r)}),q(t,function(r,n){for(var i=wNe(Fe(r,function(s){return s.getData()}),r[0].get("mapValueCalculation")),a=0;a<r.length;a++)r[a].originalData=r[a].getData();for(var a=0;a<r.length;a++)r[a].seriesGroup=r,r[a].needsDrawMap=a===0&&!r[a].getHostGeoModel(),r[a].setData(i.cloneShallow()),r[a].mainSeries=r[0]})}function CNe(e){var t={};e.eachSeriesByType("map",function(r){var n=r.getMapType();if(!(r.getHostGeoModel()||t[n])){var i={};q(r.seriesGroup,function(s){var o=s.coordinateSystem,l=s.originalData;s.get("showLegendSymbol")&&e.getComponent("legend")&&l.each(l.mapDimension("value"),function(u,c){var h=l.getName(c),f=o.getRegion(h);if(!(!f||isNaN(u))){var d=i[h]||0,v=o.dataToPoint(f.getCenter());i[h]=d+1,l.setItemLayout(c,{point:v,offset:d})}})});var a=r.getData();a.each(function(s){var o=a.getName(s),l=a.getItemLayout(s)||{};l.showLabel=!i[o],a.setItemLayout(s,l)}),t[n]=!0}})}var m9=qn,cy=function(e){_e(t,e);function t(r){var n=e.call(this)||this;return n.type="view",n.dimensions=["x","y"],n._roamTransformable=new hl,n._rawTransformable=new hl,n.name=r,n}return t.prototype.setBoundingRect=function(r,n,i,a){return this._rect=new jt(r,n,i,a),this._rect},t.prototype.getBoundingRect=function(){return this._rect},t.prototype.setViewRect=function(r,n,i,a){this._transformTo(r,n,i,a),this._viewRect=new jt(r,n,i,a)},t.prototype._transformTo=function(r,n,i,a){var s=this.getBoundingRect(),o=this._rawTransformable;o.transform=s.calculateTransform(new jt(r,n,i,a));var l=o.parent;o.parent=null,o.decomposeTransform(),o.parent=l,this._updateTransform()},t.prototype.setCenter=function(r,n){r&&(this._center=[Ze(r[0],n.getWidth()),Ze(r[1],n.getHeight())],this._updateCenterAndZoom())},t.prototype.setZoom=function(r){r=r||1;var n=this.zoomLimit;n&&(n.max!=null&&(r=Math.min(n.max,r)),n.min!=null&&(r=Math.max(n.min,r))),this._zoom=r,this._updateCenterAndZoom()},t.prototype.getDefaultCenter=function(){var r=this.getBoundingRect(),n=r.x+r.width/2,i=r.y+r.height/2;return[n,i]},t.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},t.prototype.getZoom=function(){return this._zoom||1},t.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},t.prototype._updateCenterAndZoom=function(){var r=this._rawTransformable.getLocalTransform(),n=this._roamTransformable,i=this.getDefaultCenter(),a=this.getCenter(),s=this.getZoom();a=qn([],a,r),i=qn([],i,r),n.originX=a[0],n.originY=a[1],n.x=i[0]-a[0],n.y=i[1]-a[1],n.scaleX=n.scaleY=s,this._updateTransform()},t.prototype._updateTransform=function(){var r=this._roamTransformable,n=this._rawTransformable;n.parent=r,r.updateTransform(),n.updateTransform(),uw(this.transform||(this.transform=[]),n.transform||ua()),this._rawTransform=n.getLocalTransform(),this.invTransform=this.invTransform||[],uf(this.invTransform,this.transform),this.decomposeTransform()},t.prototype.getTransformInfo=function(){var r=this._rawTransformable,n=this._roamTransformable,i=new hl;return i.transform=n.transform,i.decomposeTransform(),{roam:{x:i.x,y:i.y,scaleX:i.scaleX,scaleY:i.scaleY},raw:{x:r.x,y:r.y,scaleX:r.scaleX,scaleY:r.scaleY}}},t.prototype.getViewRect=function(){return this._viewRect},t.prototype.getViewRectAfterRoam=function(){var r=this.getBoundingRect().clone();return r.applyTransform(this.transform),r},t.prototype.dataToPoint=function(r,n,i){var a=n?this._rawTransform:this.transform;return i=i||[],a?m9(i,r,a):di(i,r)},t.prototype.pointToData=function(r){var n=this.invTransform;return n?m9([],r,n):[r[0],r[1]]},t.prototype.convertToPixel=function(r,n,i){var a=y9(n);return a===this?a.dataToPoint(i):null},t.prototype.convertFromPixel=function(r,n,i){var a=y9(n);return a===this?a.pointToData(i):null},t.prototype.containPoint=function(r){return this.getViewRectAfterRoam().contain(r[0],r[1])},t.dimensions=["x","y"],t}(hl);function y9(e){var t=e.seriesModel;return t?t.coordinateSystem:null}var ENe={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},GQ=["lng","lat"],ND=function(e){_e(t,e);function t(r,n,i){var a=e.call(this,r)||this;a.dimensions=GQ,a.type="geo",a._nameCoordMap=ct(),a.map=n;var s=i.projection,o=Il.load(n,i.nameMap,i.nameProperty),l=Il.getGeoResource(n);a.resourceType=l?l.type:null;var u=a.regions=o.regions,c=ENe[l.type];a._regionsMap=o.regionsMap,a.regions=o.regions,a.projection=s;var h;if(s)for(var f=0;f<u.length;f++){var d=u[f].getBoundingRect(s);h=h||d.clone(),h.union(d)}else h=o.boundingRect;return a.setBoundingRect(h.x,h.y,h.width,h.height),a.aspectScale=s?1:Mt(i.aspectScale,c.aspectScale),a._invertLongitute=s?!1:c.invertLongitute,a}return t.prototype._transformTo=function(r,n,i,a){var s=this.getBoundingRect(),o=this._invertLongitute;s=s.clone(),o&&(s.y=-s.y-s.height);var l=this._rawTransformable;l.transform=s.calculateTransform(new jt(r,n,i,a));var u=l.parent;l.parent=null,l.decomposeTransform(),l.parent=u,o&&(l.scaleY=-l.scaleY),this._updateTransform()},t.prototype.getRegion=function(r){return this._regionsMap.get(r)},t.prototype.getRegionByCoord=function(r){for(var n=this.regions,i=0;i<n.length;i++){var a=n[i];if(a.type==="geoJSON"&&a.contain(r))return n[i]}},t.prototype.addGeoCoord=function(r,n){this._nameCoordMap.set(r,n)},t.prototype.getGeoCoord=function(r){var n=this._regionsMap.get(r);return this._nameCoordMap.get(r)||n&&n.getCenter()},t.prototype.dataToPoint=function(r,n,i){if(Je(r)&&(r=this.getGeoCoord(r)),r){var a=this.projection;return a&&(r=a.project(r)),r&&this.projectedToPoint(r,n,i)}},t.prototype.pointToData=function(r){var n=this.projection;return n&&(r=n.unproject(r)),r&&this.pointToProjected(r)},t.prototype.pointToProjected=function(r){return e.prototype.pointToData.call(this,r)},t.prototype.projectedToPoint=function(r,n,i){return e.prototype.dataToPoint.call(this,r,n,i)},t.prototype.convertToPixel=function(r,n,i){var a=x9(n);return a===this?a.dataToPoint(i):null},t.prototype.convertFromPixel=function(r,n,i){var a=x9(n);return a===this?a.pointToData(i):null},t}(cy);cn(ND,cy);function x9(e){var t=e.geoModel,r=e.seriesModel;return t?t.coordinateSystem:r?r.coordinateSystem||(r.getReferringComponents("geo",bn).models[0]||{}).coordinateSystem:null}function b9(e,t){var r=e.get("boundingCoords");if(r!=null){var n=r[0],i=r[1];if(isFinite(n[0])&&isFinite(n[1])&&isFinite(i[0])&&isFinite(i[1])){var a=this.projection;if(a){var s=n[0],o=n[1],l=i[0],u=i[1];n=[1/0,1/0],i=[-1/0,-1/0];var c=function(I,L,N,z){for(var B=N-I,H=z-L,G=0;G<=100;G++){var $=G/100,W=a.project([I+B*$,L+H*$]);ul(n,n,W),cl(i,i,W)}};c(s,o,l,o),c(l,o,l,u),c(l,u,s,u),c(s,u,l,o)}this.setBoundingRect(n[0],n[1],i[0]-n[0],i[1]-n[1])}}var h=this.getBoundingRect(),f=e.get("layoutCenter"),d=e.get("layoutSize"),v=t.getWidth(),m=t.getHeight(),y=h.width/h.height*this.aspectScale,b=!1,S,w;f&&d&&(S=[Ze(f[0],v),Ze(f[1],m)],w=Ze(d,Math.min(v,m)),!isNaN(S[0])&&!isNaN(S[1])&&!isNaN(w)&&(b=!0));var k;if(b)k={},y>1?(k.width=w,k.height=w/y):(k.height=w,k.width=w*y),k.y=S[1]-k.height/2,k.x=S[0]-k.width/2;else{var M=e.getBoxLayoutParams();M.aspect=y,k=Sn(M,{width:v,height:m})}this.setViewRect(k.x,k.y,k.width,k.height),this.setCenter(e.get("center"),t),this.setZoom(e.get("zoom"))}function ANe(e,t){q(t.get("geoCoord"),function(r,n){e.addGeoCoord(n,r)})}var kNe=function(){function e(){this.dimensions=GQ}return e.prototype.create=function(t,r){var n=[];function i(s){return{nameProperty:s.get("nameProperty"),aspectScale:s.get("aspectScale"),projection:s.get("projection")}}t.eachComponent("geo",function(s,o){var l=s.get("map"),u=new ND(l+o,l,Ne({nameMap:s.get("nameMap")},i(s)));u.zoomLimit=s.get("scaleLimit"),n.push(u),s.coordinateSystem=u,u.model=s,u.resize=b9,u.resize(s,r)}),t.eachSeries(function(s){var o=s.get("coordinateSystem");if(o==="geo"){var l=s.get("geoIndex")||0;s.coordinateSystem=n[l]}});var a={};return t.eachSeriesByType("map",function(s){if(!s.getHostGeoModel()){var o=s.getMapType();a[o]=a[o]||[],a[o].push(s)}}),q(a,function(s,o){var l=Fe(s,function(c){return c.get("nameMap")}),u=new ND(o,o,Ne({nameMap:sw(l)},i(s[0])));u.zoomLimit=On.apply(null,Fe(s,function(c){return c.get("scaleLimit")})),n.push(u),u.resize=b9,u.resize(s[0],r),q(s,function(c){c.coordinateSystem=u,ANe(u,c)})}),n},e.prototype.getFilledRegions=function(t,r,n,i){for(var a=(t||[]).slice(),s=ct(),o=0;o<a.length;o++)s.set(a[o].name,a[o]);var l=Il.load(r,n,i);return q(l.regions,function(u){var c=u.name,h=s.get(c),f=u.properties&&u.properties.echartsStyle;h||(h={name:c},a.push(h)),f&&Ot(h,f)}),a},e}(),WQ=new kNe,INe=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.init=function(r,n,i){var a=Il.getGeoResource(r.map);if(a&&a.type==="geoJSON"){var s=r.itemStyle=r.itemStyle||{};"color"in s||(s.color="#eee")}this.mergeDefaultAndTheme(r,i),qh(r,"label",["show"])},t.prototype.optionUpdated=function(){var r=this,n=this.option;n.regions=WQ.getFilledRegions(n.regions,n.map,n.nameMap,n.nameProperty);var i={};this._optionModelMap=ls(n.regions||[],function(a,s){var o=s.name;return o&&(a.set(o,new ur(s,r,r.ecModel)),s.selected&&(i[o]=!0)),a},ct()),n.selectedMap||(n.selectedMap=i)},t.prototype.getRegionModel=function(r){return this._optionModelMap.get(r)||new ur(null,this,this.ecModel)},t.prototype.getFormattedLabel=function(r,n){var i=this.getRegionModel(r),a=n==="normal"?i.get(["label","formatter"]):i.get(["emphasis","label","formatter"]),s={name:r};if(vt(a))return s.status=n,a(s);if(Je(a))return a.replace("{a}",r??"")},t.prototype.setZoom=function(r){this.option.zoom=r},t.prototype.setCenter=function(r){this.option.center=r},t.prototype.select=function(r){var n=this.option,i=n.selectedMode;if(i){i!=="multiple"&&(n.selectedMap=null);var a=n.selectedMap||(n.selectedMap={});a[r]=!0}},t.prototype.unSelect=function(r){var n=this.option.selectedMap;n&&(n[r]=!1)},t.prototype.toggleSelected=function(r){this[this.isSelected(r)?"unSelect":"select"](r)},t.prototype.isSelected=function(r){var n=this.option.selectedMap;return!!(n&&n[r])},t.type="geo",t.layoutMode="box",t.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},t}(Yt);function S9(e,t){return e.pointToProjected?e.pointToProjected(t):e.pointToData(t)}function HP(e,t,r,n){var i=e.getZoom(),a=e.getCenter(),s=t.zoom,o=e.projectedToPoint?e.projectedToPoint(a):e.dataToPoint(a);if(t.dx!=null&&t.dy!=null&&(o[0]-=t.dx,o[1]-=t.dy,e.setCenter(S9(e,o),n)),s!=null){if(r){var l=r.min||0,u=r.max||1/0;s=Math.max(Math.min(i*s,u),l)/i}e.scaleX*=s,e.scaleY*=s;var c=(t.originX-e.x)*(s-1),h=(t.originY-e.y)*(s-1);e.x-=c,e.y-=h,e.updateTransform(),e.setCenter(S9(e,o),n),e.setZoom(s*i)}return{center:e.getCenter(),zoom:e.getZoom()}}var DNe=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.focusBlurEnabled=!0,r}return t.prototype.init=function(r,n){this._api=n},t.prototype.render=function(r,n,i,a){if(this._model=r,!r.get("show")){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;return}this._mapDraw||(this._mapDraw=new UQ(i));var s=this._mapDraw;s.draw(r,n,i,this,a),s.group.on("click",this._handleRegionClick,this),s.group.silent=r.get("silent"),this.group.add(s.group),this.updateSelectStatus(r,n,i)},t.prototype._handleRegionClick=function(r){var n;Sh(r.target,function(i){return(n=It(i).eventData)!=null},!0),n&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:n.name})},t.prototype.updateSelectStatus=function(r,n,i){var a=this;this._mapDraw.group.traverse(function(s){var o=It(s).eventData;if(o)return a._model.isSelected(o.name)?i.enterSelect(s):i.leaveSelect(s),!0})},t.prototype.findHighDownDispatchers=function(r){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(r,this._model)},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},t.type="geo",t}(Nr);function MNe(e,t,r){Il.registerMap(e,t,r)}function $Q(e){e.registerCoordinateSystem("geo",WQ),e.registerComponentModel(INe),e.registerComponentView(DNe),e.registerImpl("registerMap",MNe),e.registerImpl("getMap",function(r){return Il.getMapForUser(r)});function t(r,n){n.update="geo:updateSelectStatus",e.registerAction(n,function(i,a){var s={},o=[];return a.eachComponent({mainType:"geo",query:i},function(l){l[r](i.name);var u=l.coordinateSystem;q(u.regions,function(h){s[h.name]=l.isSelected(h.name)||!1});var c=[];q(s,function(h,f){s[f]&&c.push(f)}),o.push({geoIndex:l.componentIndex,name:c})}),{selected:s,allSelected:o,name:i.name}})}t("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),t("select",{type:"geoSelect",event:"geoselected"}),t("unSelect",{type:"geoUnSelect",event:"geounselected"}),e.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(r,n,i){var a=r.componentType||"series";n.eachComponent({mainType:a,query:r},function(s){var o=s.coordinateSystem;if(o.type==="geo"){var l=HP(o,r,s.get("scaleLimit"),i);s.setCenter&&s.setCenter(l.center),s.setZoom&&s.setZoom(l.zoom),a==="series"&&q(s.seriesGroup,function(u){u.setCenter(l.center),u.setZoom(l.zoom)})}})})}function LNe(e){Wt($Q),e.registerChartView(SNe),e.registerSeriesModel(_Ne),e.registerLayout(CNe),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,TNe),GK("map",e.registerAction)}function NNe(e){var t=e;t.hierNode={defaultAncestor:null,ancestor:t,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var r=[t],n,i;n=r.pop();)if(i=n.children,n.isExpand&&i.length)for(var a=i.length,s=a-1;s>=0;s--){var o=i[s];o.hierNode={defaultAncestor:null,ancestor:o,prelim:0,modifier:0,change:0,shift:0,i:s,thread:null},r.push(o)}}function PNe(e,t){var r=e.isExpand?e.children:[],n=e.parentNode.children,i=e.hierNode.i?n[e.hierNode.i-1]:null;if(r.length){BNe(e);var a=(r[0].hierNode.prelim+r[r.length-1].hierNode.prelim)/2;i?(e.hierNode.prelim=i.hierNode.prelim+t(e,i),e.hierNode.modifier=e.hierNode.prelim-a):e.hierNode.prelim=a}else i&&(e.hierNode.prelim=i.hierNode.prelim+t(e,i));e.parentNode.hierNode.defaultAncestor=FNe(e,i,e.parentNode.hierNode.defaultAncestor||n[0],t)}function RNe(e){var t=e.hierNode.prelim+e.parentNode.hierNode.modifier;e.setLayout({x:t},!0),e.hierNode.modifier+=e.parentNode.hierNode.modifier}function _9(e){return arguments.length?e:HNe}function Ig(e,t){return e-=Math.PI/2,{x:t*Math.cos(e),y:t*Math.sin(e)}}function ONe(e,t){return Sn(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function BNe(e){for(var t=e.children,r=t.length,n=0,i=0;--r>=0;){var a=t[r];a.hierNode.prelim+=n,a.hierNode.modifier+=n,i+=a.hierNode.change,n+=a.hierNode.shift+i}}function FNe(e,t,r,n){if(t){for(var i=e,a=e,s=a.parentNode.children[0],o=t,l=i.hierNode.modifier,u=a.hierNode.modifier,c=s.hierNode.modifier,h=o.hierNode.modifier;o=VE(o),a=UE(a),o&&a;){i=VE(i),s=UE(s),i.hierNode.ancestor=e;var f=o.hierNode.prelim+h-a.hierNode.prelim-u+n(o,a);f>0&&(jNe(zNe(o,e,r),e,f),u+=f,l+=f),h+=o.hierNode.modifier,u+=a.hierNode.modifier,l+=i.hierNode.modifier,c+=s.hierNode.modifier}o&&!VE(i)&&(i.hierNode.thread=o,i.hierNode.modifier+=h-l),a&&!UE(s)&&(s.hierNode.thread=a,s.hierNode.modifier+=u-c,r=e)}return r}function VE(e){var t=e.children;return t.length&&e.isExpand?t[t.length-1]:e.hierNode.thread}function UE(e){var t=e.children;return t.length&&e.isExpand?t[0]:e.hierNode.thread}function zNe(e,t,r){return e.hierNode.ancestor.parentNode===t.parentNode?e.hierNode.ancestor:r}function jNe(e,t,r){var n=r/(t.hierNode.i-e.hierNode.i);t.hierNode.change-=n,t.hierNode.shift+=r,t.hierNode.modifier+=r,t.hierNode.prelim+=r,e.hierNode.change+=n}function HNe(e,t){return e.parentNode===t.parentNode?1:2}var VNe=function(){function e(){this.parentPoint=[],this.childPoints=[]}return e}(),UNe=function(e){_e(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new VNe},t.prototype.buildPath=function(r,n){var i=n.childPoints,a=i.length,s=n.parentPoint,o=i[0],l=i[a-1];if(a===1){r.moveTo(s[0],s[1]),r.lineTo(o[0],o[1]);return}var u=n.orient,c=u==="TB"||u==="BT"?0:1,h=1-c,f=Ze(n.forkPosition,1),d=[];d[c]=s[c],d[h]=s[h]+(l[h]-s[h])*f,r.moveTo(s[0],s[1]),r.lineTo(d[0],d[1]),r.moveTo(o[0],o[1]),d[c]=o[c],r.lineTo(d[0],d[1]),d[c]=l[c],r.lineTo(d[0],d[1]),r.lineTo(l[0],l[1]);for(var v=1;v<a-1;v++){var m=i[v];r.moveTo(m[0],m[1]),d[c]=m[c],r.lineTo(d[0],d[1])}},t}(qt),GNe=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r._mainGroup=new Ct,r}return t.prototype.init=function(r,n){this._controller=new uy(n.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},t.prototype.render=function(r,n,i){var a=r.getData(),s=r.layoutInfo,o=this._mainGroup,l=r.get("layout");l==="radial"?(o.x=s.x+s.width/2,o.y=s.y+s.height/2):(o.x=s.x,o.y=s.y),this._updateViewCoordSys(r,i),this._updateController(r,n,i);var u=this._data;a.diff(u).add(function(c){w9(a,c)&&T9(a,c,null,o,r)}).update(function(c,h){var f=u.getItemGraphicEl(h);if(!w9(a,c)){f&&E9(u,h,f,o,r);return}T9(a,c,f,o,r)}).remove(function(c){var h=u.getItemGraphicEl(c);h&&E9(u,c,h,o,r)}).execute(),this._nodeScaleRatio=r.get("nodeScaleRatio"),this._updateNodeAndLinkScale(r),r.get("expandAndCollapse")===!0&&a.eachItemGraphicEl(function(c,h){c.off("click").on("click",function(){i.dispatchAction({type:"treeExpandAndCollapse",seriesId:r.id,dataIndex:h})})}),this._data=a},t.prototype._updateViewCoordSys=function(r,n){var i=r.getData(),a=[];i.each(function(h){var f=i.getItemLayout(h);f&&!isNaN(f.x)&&!isNaN(f.y)&&a.push([+f.x,+f.y])});var s=[],o=[];yw(a,s,o);var l=this._min,u=this._max;o[0]-s[0]===0&&(s[0]=l?l[0]:s[0]-1,o[0]=u?u[0]:o[0]+1),o[1]-s[1]===0&&(s[1]=l?l[1]:s[1]-1,o[1]=u?u[1]:o[1]+1);var c=r.coordinateSystem=new cy;c.zoomLimit=r.get("scaleLimit"),c.setBoundingRect(s[0],s[1],o[0]-s[0],o[1]-s[1]),c.setCenter(r.get("center"),n),c.setZoom(r.get("zoom")),this.group.attr({x:c.x,y:c.y,scaleX:c.scaleX,scaleY:c.scaleY}),this._min=s,this._max=o},t.prototype._updateController=function(r,n,i){var a=this,s=this._controller,o=this._controllerHost,l=this.group;s.setPointerChecker(function(u,c,h){var f=l.getBoundingRect();return f.applyTransform(l.transform),f.contain(c,h)&&!Hw(u,i,r)}),s.enable(r.get("roam")),o.zoomLimit=r.get("scaleLimit"),o.zoom=r.coordinateSystem.getZoom(),s.off("pan").off("zoom").on("pan",function(u){FP(o,u.dx,u.dy),i.dispatchAction({seriesId:r.id,type:"treeRoam",dx:u.dx,dy:u.dy})}).on("zoom",function(u){zP(o,u.scale,u.originX,u.originY),i.dispatchAction({seriesId:r.id,type:"treeRoam",zoom:u.scale,originX:u.originX,originY:u.originY}),a._updateNodeAndLinkScale(r),i.updateLabelLayout()})},t.prototype._updateNodeAndLinkScale=function(r){var n=r.getData(),i=this._getNodeGlobalScale(r);n.eachItemGraphicEl(function(a,s){a.setSymbolScale(i)})},t.prototype._getNodeGlobalScale=function(r){var n=r.coordinateSystem;if(n.type!=="view")return 1;var i=this._nodeScaleRatio,a=n.scaleX||1,s=n.getZoom(),o=(s-1)*i+1;return o/a},t.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},t.type="tree",t}(xr);function w9(e,t){var r=e.getItemLayout(t);return r&&!isNaN(r.x)&&!isNaN(r.y)}function T9(e,t,r,n,i){var a=!r,s=e.tree.getNodeByDataIndex(t),o=s.getModel(),l=s.getVisual("style").fill,u=s.isExpand===!1&&s.children.length!==0?l:"#fff",c=e.tree.root,h=s.parentNode===c?s:s.parentNode||s,f=e.getItemGraphicEl(h.dataIndex),d=h.getLayout(),v=f?{x:f.__oldX,y:f.__oldY,rawX:f.__radialOldRawX,rawY:f.__radialOldRawY}:d,m=s.getLayout();a?(r=new ny(e,t,null,{symbolInnerColor:u,useNameLabel:!0}),r.x=v.x,r.y=v.y):r.updateData(e,t,null,{symbolInnerColor:u,useNameLabel:!0}),r.__radialOldRawX=r.__radialRawX,r.__radialOldRawY=r.__radialRawY,r.__radialRawX=m.rawX,r.__radialRawY=m.rawY,n.add(r),e.setItemGraphicEl(t,r),r.__oldX=r.x,r.__oldY=r.y,sr(r,{x:m.x,y:m.y},i);var y=r.getSymbolPath();if(i.get("layout")==="radial"){var b=c.children[0],S=b.getLayout(),w=b.children.length,k=void 0,M=void 0;if(m.x===S.x&&s.isExpand===!0&&b.children.length){var I={x:(b.children[0].getLayout().x+b.children[w-1].getLayout().x)/2,y:(b.children[0].getLayout().y+b.children[w-1].getLayout().y)/2};k=Math.atan2(I.y-S.y,I.x-S.x),k<0&&(k=Math.PI*2+k),M=I.x<S.x,M&&(k=k-Math.PI)}else k=Math.atan2(m.y-S.y,m.x-S.x),k<0&&(k=Math.PI*2+k),s.children.length===0||s.children.length!==0&&s.isExpand===!1?(M=m.x<S.x,M&&(k=k-Math.PI)):(M=m.x>S.x,M||(k=k-Math.PI));var L=M?"left":"right",N=o.getModel("label"),z=N.get("rotate"),B=z*(Math.PI/180),H=y.getTextContent();H&&(y.setTextConfig({position:N.get("position")||L,rotation:z==null?-k:B,origin:"center"}),H.setStyle("verticalAlign","middle"))}var G=o.get(["emphasis","focus"]),$=G==="relative"?up(s.getAncestorsIndices(),s.getDescendantIndices()):G==="ancestor"?s.getAncestorsIndices():G==="descendant"?s.getDescendantIndices():null;$&&(It(r).focus=$),WNe(i,s,c,r,v,d,m,n),r.__edge&&(r.onHoverStateChange=function(W){if(W!=="blur"){var X=s.parentNode&&e.getItemGraphicEl(s.parentNode.dataIndex);X&&X.hoverState===q0||CS(r.__edge,W)}})}function WNe(e,t,r,n,i,a,s,o){var l=t.getModel(),u=e.get("edgeShape"),c=e.get("layout"),h=e.getOrient(),f=e.get(["lineStyle","curveness"]),d=e.get("edgeForkPosition"),v=l.getModel("lineStyle").getLineStyle(),m=n.__edge;if(u==="curve")t.parentNode&&t.parentNode!==r&&(m||(m=n.__edge=new Bp({shape:PD(c,h,f,i,i)})),sr(m,{shape:PD(c,h,f,a,s)},e));else if(u==="polyline"&&c==="orthogonal"&&t!==r&&t.children&&t.children.length!==0&&t.isExpand===!0){for(var y=t.children,b=[],S=0;S<y.length;S++){var w=y[S].getLayout();b.push([w.x,w.y])}m||(m=n.__edge=new UNe({shape:{parentPoint:[s.x,s.y],childPoints:[[s.x,s.y]],orient:h,forkPosition:d}})),sr(m,{shape:{parentPoint:[s.x,s.y],childPoints:b}},e)}m&&!(u==="polyline"&&!t.isExpand)&&(m.useStyle(yt({strokeNoScale:!0,fill:null},v)),si(m,l,"lineStyle"),Qh(m),o.add(m))}function C9(e,t,r,n,i){var a=t.tree.root,s=YQ(a,e),o=s.source,l=s.sourceLayout,u=t.getItemGraphicEl(e.dataIndex);if(u){var c=t.getItemGraphicEl(o.dataIndex),h=c.__edge,f=u.__edge||(o.isExpand===!1||o.children.length===1?h:void 0),d=n.get("edgeShape"),v=n.get("layout"),m=n.get("orient"),y=n.get(["lineStyle","curveness"]);f&&(d==="curve"?Qu(f,{shape:PD(v,m,y,l,l),style:{opacity:0}},n,{cb:function(){r.remove(f)},removeOpt:i}):d==="polyline"&&n.get("layout")==="orthogonal"&&Qu(f,{shape:{parentPoint:[l.x,l.y],childPoints:[[l.x,l.y]]},style:{opacity:0}},n,{cb:function(){r.remove(f)},removeOpt:i}))}}function YQ(e,t){for(var r=t.parentNode===e?t:t.parentNode||t,n;n=r.getLayout(),n==null;)r=r.parentNode===e?r:r.parentNode||r;return{source:r,sourceLayout:n}}function E9(e,t,r,n,i){var a=e.tree.getNodeByDataIndex(t),s=e.tree.root,o=YQ(s,a).sourceLayout,l={duration:i.get("animationDurationUpdate"),easing:i.get("animationEasingUpdate")};Qu(r,{x:o.x+1,y:o.y+1},i,{cb:function(){n.remove(r),e.setItemGraphicEl(t,null)},removeOpt:l}),r.fadeOut(null,e.hostModel,{fadeLabel:!0,animation:l}),a.children.forEach(function(u){C9(u,e,n,i,l)}),C9(a,e,n,i,l)}function PD(e,t,r,n,i){var a,s,o,l,u,c,h,f;if(e==="radial"){u=n.rawX,h=n.rawY,c=i.rawX,f=i.rawY;var d=Ig(u,h),v=Ig(u,h+(f-h)*r),m=Ig(c,f+(h-f)*r),y=Ig(c,f);return{x1:d.x||0,y1:d.y||0,x2:y.x||0,y2:y.y||0,cpx1:v.x||0,cpy1:v.y||0,cpx2:m.x||0,cpy2:m.y||0}}else u=n.x,h=n.y,c=i.x,f=i.y,(t==="LR"||t==="RL")&&(a=u+(c-u)*r,s=h,o=c+(u-c)*r,l=f),(t==="TB"||t==="BT")&&(a=u,s=h+(f-h)*r,o=c,l=f+(h-f)*r);return{x1:u,y1:h,x2:c,y2:f,cpx1:a,cpy1:s,cpx2:o,cpy2:l}}var ns=tr();function XQ(e){var t=e.mainData,r=e.datas;r||(r={main:t},e.datasAttr={main:"data"}),e.datas=e.mainData=null,qQ(t,r,e),q(r,function(n){q(t.TRANSFERABLE_METHODS,function(i){n.wrapMethod(i,Lt($Ne,e))})}),t.wrapMethod("cloneShallow",Lt(XNe,e)),q(t.CHANGABLE_METHODS,function(n){t.wrapMethod(n,Lt(YNe,e))}),Si(r[t.dataType]===t)}function $Ne(e,t){if(ZNe(this)){var r=Ne({},ns(this).datas);r[this.dataType]=t,qQ(t,r,e)}else VP(t,this.dataType,ns(this).mainData,e);return t}function YNe(e,t){return e.struct&&e.struct.update(),t}function XNe(e,t){return q(ns(t).datas,function(r,n){r!==t&&VP(r.cloneShallow(),n,t,e)}),t}function qNe(e){var t=ns(this).mainData;return e==null||t==null?t:ns(t).datas[e]}function KNe(){var e=ns(this).mainData;return e==null?[{data:e}]:Fe(Kt(ns(e).datas),function(t){return{type:t,data:ns(e).datas[t]}})}function ZNe(e){return ns(e).mainData===e}function qQ(e,t,r){ns(e).datas={},q(t,function(n,i){VP(n,i,e,r)})}function VP(e,t,r,n){ns(r).datas[t]=e,ns(e).mainData=r,e.dataType=t,n.struct&&(e[n.structAttr]=n.struct,n.struct[n.datasAttr[t]]=e),e.getLinkedData=qNe,e.getLinkedDataAll=KNe}var QNe=function(){function e(t,r){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=t||"",this.hostTree=r}return e.prototype.isRemoved=function(){return this.dataIndex<0},e.prototype.eachNode=function(t,r,n){vt(t)&&(n=r,r=t,t=null),t=t||{},Je(t)&&(t={order:t});var i=t.order||"preorder",a=this[t.attr||"children"],s;i==="preorder"&&(s=r.call(n,this));for(var o=0;!s&&o<a.length;o++)a[o].eachNode(t,r,n);i==="postorder"&&r.call(n,this)},e.prototype.updateDepthAndHeight=function(t){var r=0;this.depth=t;for(var n=0;n<this.children.length;n++){var i=this.children[n];i.updateDepthAndHeight(t+1),i.height>r&&(r=i.height)}this.height=r+1},e.prototype.getNodeById=function(t){if(this.getId()===t)return this;for(var r=0,n=this.children,i=n.length;r<i;r++){var a=n[r].getNodeById(t);if(a)return a}},e.prototype.contains=function(t){if(t===this)return!0;for(var r=0,n=this.children,i=n.length;r<i;r++){var a=n[r].contains(t);if(a)return a}},e.prototype.getAncestors=function(t){for(var r=[],n=t?this:this.parentNode;n;)r.push(n),n=n.parentNode;return r.reverse(),r},e.prototype.getAncestorsIndices=function(){for(var t=[],r=this;r;)t.push(r.dataIndex),r=r.parentNode;return t.reverse(),t},e.prototype.getDescendantIndices=function(){var t=[];return this.eachNode(function(r){t.push(r.dataIndex)}),t},e.prototype.getValue=function(t){var r=this.hostTree.data;return r.getStore().get(r.getDimensionIndex(t||"value"),this.dataIndex)},e.prototype.setLayout=function(t,r){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,t,r)},e.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},e.prototype.getModel=function(t){if(!(this.dataIndex<0)){var r=this.hostTree,n=r.data.getItemModel(this.dataIndex);return n.getModel(t)}},e.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},e.prototype.setVisual=function(t,r){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,t,r)},e.prototype.getVisual=function(t){return this.hostTree.data.getItemVisual(this.dataIndex,t)},e.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},e.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},e.prototype.getChildIndex=function(){if(this.parentNode){for(var t=this.parentNode.children,r=0;r<t.length;++r)if(t[r]===this)return r;return-1}return-1},e.prototype.isAncestorOf=function(t){for(var r=t.parentNode;r;){if(r===this)return!0;r=r.parentNode}return!1},e.prototype.isDescendantOf=function(t){return t!==this&&t.isAncestorOf(this)},e}(),UP=function(){function e(t){this.type="tree",this._nodes=[],this.hostModel=t}return e.prototype.eachNode=function(t,r,n){this.root.eachNode(t,r,n)},e.prototype.getNodeByDataIndex=function(t){var r=this.data.getRawIndex(t);return this._nodes[r]},e.prototype.getNodeById=function(t){return this.root.getNodeById(t)},e.prototype.update=function(){for(var t=this.data,r=this._nodes,n=0,i=r.length;n<i;n++)r[n].dataIndex=-1;for(var n=0,i=t.count();n<i;n++)r[t.getRawIndex(n)].dataIndex=n},e.prototype.clearLayouts=function(){this.data.clearItemLayouts()},e.createTree=function(t,r,n){var i=new e(r),a=[],s=1;o(t);function o(c,h){var f=c.value;s=Math.max(s,Oe(f)?f.length:1),a.push(c);var d=new QNe(En(c.name,""),i);h?JNe(d,h):i.root=d,i._nodes.push(d);var v=c.children;if(v)for(var m=0;m<v.length;m++)o(v[m],d)}i.root.updateDepthAndHeight(0);var l=qp(a,{coordDimensions:["value"],dimensionsCount:s}).dimensions,u=new xi(l,r);return u.initData(a),n&&n(u),XQ({mainData:u,struct:i,structAttr:"tree"}),i.update(),i},e}();function JNe(e,t){var r=t.children;e.parentNode!==t&&(r.push(e),e.parentNode=t)}function v0(e,t,r){if(e&&Ut(t,e.type)>=0){var n=r.getData().tree.root,i=e.targetNode;if(Je(i)&&(i=n.getNodeById(i)),i&&n.contains(i))return{node:i};var a=e.targetNodeId;if(a!=null&&(i=n.getNodeById(a)))return{node:i}}}function KQ(e){for(var t=[];e;)e=e.parentNode,e&&t.push(e);return t.reverse()}function GP(e,t){var r=KQ(e);return Ut(r,t)>=0}function Uw(e,t){for(var r=[];e;){var n=e.dataIndex;r.push({name:e.name,dataIndex:n,value:t.getRawValue(n)}),e=e.parentNode}return r.reverse(),r}var ePe=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.hasSymbolVisual=!0,r.ignoreStyleOnData=!0,r}return t.prototype.getInitialData=function(r){var n={name:r.name,children:r.data},i=r.leaves||{},a=new ur(i,this,this.ecModel),s=UP.createTree(n,this,o);function o(h){h.wrapMethod("getItemModel",function(f,d){var v=s.getNodeByDataIndex(d);return v&&v.children.length&&v.isExpand||(f.parentModel=a),f})}var l=0;s.eachNode("preorder",function(h){h.depth>l&&(l=h.depth)});var u=r.expandAndCollapse,c=u&&r.initialTreeDepth>=0?r.initialTreeDepth:l;return s.root.eachNode("preorder",function(h){var f=h.hostTree.data.getRawDataItem(h.dataIndex);h.isExpand=f&&f.collapsed!=null?!f.collapsed:h.depth<=c}),s.data},t.prototype.getOrient=function(){var r=this.get("orient");return r==="horizontal"?r="LR":r==="vertical"&&(r="TB"),r},t.prototype.setZoom=function(r){this.option.zoom=r},t.prototype.setCenter=function(r){this.option.center=r},t.prototype.formatTooltip=function(r,n,i){for(var a=this.getData().tree,s=a.root.children[0],o=a.getNodeByDataIndex(r),l=o.getValue(),u=o.name;o&&o!==s;)u=o.parentNode.name+"."+u,o=o.parentNode;return jn("nameValue",{name:u,value:l,noValue:isNaN(l)||l==null})},t.prototype.getDataParams=function(r){var n=e.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(r);return n.treeAncestors=Uw(i,this),n.collapsed=!i.isExpand,n},t.type="series.tree",t.layoutMode="box",t.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},t}(Cr);function tPe(e,t,r){for(var n=[e],i=[],a;a=n.pop();)if(i.push(a),a.isExpand){var s=a.children;if(s.length)for(var o=0;o<s.length;o++)n.push(s[o])}for(;a=i.pop();)t(a,r)}function sg(e,t){for(var r=[e],n;n=r.pop();)if(t(n),n.isExpand){var i=n.children;if(i.length)for(var a=i.length-1;a>=0;a--)r.push(i[a])}}function rPe(e,t){e.eachSeriesByType("tree",function(r){nPe(r,t)})}function nPe(e,t){var r=ONe(e,t);e.layoutInfo=r;var n=e.get("layout"),i=0,a=0,s=null;n==="radial"?(i=2*Math.PI,a=Math.min(r.height,r.width)/2,s=_9(function(w,k){return(w.parentNode===k.parentNode?1:2)/w.depth})):(i=r.width,a=r.height,s=_9());var o=e.getData().tree.root,l=o.children[0];if(l){NNe(o),tPe(l,PNe,s),o.hierNode.modifier=-l.hierNode.prelim,sg(l,RNe);var u=l,c=l,h=l;sg(l,function(w){var k=w.getLayout().x;k<u.getLayout().x&&(u=w),k>c.getLayout().x&&(c=w),w.depth>h.depth&&(h=w)});var f=u===c?1:s(u,c)/2,d=f-u.getLayout().x,v=0,m=0,y=0,b=0;if(n==="radial")v=i/(c.getLayout().x+f+d),m=a/(h.depth-1||1),sg(l,function(w){y=(w.getLayout().x+d)*v,b=(w.depth-1)*m;var k=Ig(y,b);w.setLayout({x:k.x,y:k.y,rawX:y,rawY:b},!0)});else{var S=e.getOrient();S==="RL"||S==="LR"?(m=a/(c.getLayout().x+f+d),v=i/(h.depth-1||1),sg(l,function(w){b=(w.getLayout().x+d)*m,y=S==="LR"?(w.depth-1)*v:i-(w.depth-1)*v,w.setLayout({x:y,y:b},!0)})):(S==="TB"||S==="BT")&&(v=i/(c.getLayout().x+f+d),m=a/(h.depth-1||1),sg(l,function(w){y=(w.getLayout().x+d)*v,b=S==="TB"?(w.depth-1)*m:a-(w.depth-1)*m,w.setLayout({x:y,y:b},!0)}))}}}function iPe(e){e.eachSeriesByType("tree",function(t){var r=t.getData(),n=r.tree;n.eachNode(function(i){var a=i.getModel(),s=a.getModel("itemStyle").getItemStyle(),o=r.ensureUniqueItemVisual(i.dataIndex,"style");Ne(o,s)})})}function aPe(e){e.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(t,r){r.eachComponent({mainType:"series",subType:"tree",query:t},function(n){var i=t.dataIndex,a=n.getData().tree,s=a.getNodeByDataIndex(i);s.isExpand=!s.isExpand})}),e.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(t,r,n){r.eachComponent({mainType:"series",subType:"tree",query:t},function(i){var a=i.coordinateSystem,s=HP(a,t,void 0,n);i.setCenter&&i.setCenter(s.center),i.setZoom&&i.setZoom(s.zoom)})})}function sPe(e){e.registerChartView(GNe),e.registerSeriesModel(ePe),e.registerLayout(rPe),e.registerVisual(iPe),aPe(e)}var A9=["treemapZoomToNode","treemapRender","treemapMove"];function oPe(e){for(var t=0;t<A9.length;t++)e.registerAction({type:A9[t],update:"updateView"},ln);e.registerAction({type:"treemapRootToNode",update:"updateView"},function(r,n){n.eachComponent({mainType:"series",subType:"treemap",query:r},i);function i(a,s){var o=["treemapZoomToNode","treemapRootToNode"],l=v0(r,o,a);if(l){var u=a.getViewRoot();u&&(r.direction=GP(u,l.node)?"rollUp":"drillDown"),a.resetViewRoot(l.node)}}})}function ZQ(e){var t=e.getData(),r=t.tree,n={};r.eachNode(function(i){for(var a=i;a&&a.depth>1;)a=a.parentNode;var s=oD(e.ecModel,a.name||a.dataIndex+"",n);i.setVisual("decal",s)})}var lPe=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.preventUsingHoverLayer=!0,r}return t.prototype.getInitialData=function(r,n){var i={name:r.name,children:r.data};QQ(i);var a=r.levels||[],s=this.designatedVisualItemStyle={},o=new ur({itemStyle:s},this,n);a=r.levels=uPe(a,n);var l=Fe(a||[],function(h){return new ur(h,o,n)},this),u=UP.createTree(i,this,c);function c(h){h.wrapMethod("getItemModel",function(f,d){var v=u.getNodeByDataIndex(d),m=v?l[v.depth]:null;return f.parentModel=m||o,f})}return u.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.formatTooltip=function(r,n,i){var a=this.getData(),s=this.getRawValue(r),o=a.getName(r);return jn("nameValue",{name:o,value:s})},t.prototype.getDataParams=function(r){var n=e.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(r);return n.treeAncestors=Uw(i,this),n.treePathInfo=n.treeAncestors,n},t.prototype.setLayoutInfo=function(r){this.layoutInfo=this.layoutInfo||{},Ne(this.layoutInfo,r)},t.prototype.mapIdToIndex=function(r){var n=this._idIndexMap;n||(n=this._idIndexMap=ct(),this._idIndexMapCount=0);var i=n.get(r);return i==null&&n.set(r,i=this._idIndexMapCount++),i},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(r){r?this._viewRoot=r:r=this._viewRoot;var n=this.getRawData().tree.root;(!r||r!==n&&!n.contains(r))&&(this._viewRoot=n)},t.prototype.enableAriaDecal=function(){ZQ(this)},t.type="series.treemap",t.layoutMode="box",t.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"",zoomToNodeRatio:.32*.32,scaleLimit:null,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}},emphasis:{itemStyle:{color:"rgba(0,0,0,0.9)"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},t}(Cr);function QQ(e){var t=0;q(e.children,function(n){QQ(n);var i=n.value;Oe(i)&&(i=i[0]),t+=i});var r=e.value;Oe(r)&&(r=r[0]),(r==null||isNaN(r))&&(r=t),r<0&&(r=0),Oe(e.value)?e.value[0]=r:e.value=r}function uPe(e,t){var r=Tr(t.get("color")),n=Tr(t.get(["aria","decal","decals"]));if(r){e=e||[];var i,a;q(e,function(o){var l=new ur(o),u=l.get("color"),c=l.get("decal");(l.get(["itemStyle","color"])||u&&u!=="none")&&(i=!0),(l.get(["itemStyle","decal"])||c&&c!=="none")&&(a=!0)});var s=e[0]||(e[0]={});return i||(s.color=r.slice()),!a&&n&&(s.decal=n.slice()),e}}var cPe=8,k9=8,GE=5,hPe=function(){function e(t){this.group=new Ct,t.add(this.group)}return e.prototype.render=function(t,r,n,i){var a=t.getModel("breadcrumb"),s=this.group;if(s.removeAll(),!(!a.get("show")||!n)){var o=a.getModel("itemStyle"),l=a.getModel("emphasis"),u=o.getModel("textStyle"),c=l.getModel(["itemStyle","textStyle"]),h={pos:{left:a.get("left"),right:a.get("right"),top:a.get("top"),bottom:a.get("bottom")},box:{width:r.getWidth(),height:r.getHeight()},emptyItemWidth:a.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(n,h,u),this._renderContent(t,h,o,l,u,c,i),Iw(s,h.pos,h.box)}},e.prototype._prepare=function(t,r,n){for(var i=t;i;i=i.parentNode){var a=En(i.getModel().get("name"),""),s=n.getTextRect(a),o=Math.max(s.width+cPe*2,r.emptyItemWidth);r.totalWidth+=o+k9,r.renderList.push({node:i,text:a,width:o})}},e.prototype._renderContent=function(t,r,n,i,a,s,o){for(var l=0,u=r.emptyItemWidth,c=t.get(["breadcrumb","height"]),h=nEe(r.pos,r.box),f=r.totalWidth,d=r.renderList,v=i.getModel("itemStyle").getItemStyle(),m=d.length-1;m>=0;m--){var y=d[m],b=y.node,S=y.width,w=y.text;f>h.width&&(f-=S-u,S=u,w=null);var k=new wi({shape:{points:fPe(l,0,S,c,m===d.length-1,m===0)},style:yt(n.getItemStyle(),{lineJoin:"bevel"}),textContent:new Qt({style:Ir(a,{text:w})}),textConfig:{position:"inside"},z2:Rp*1e4,onclick:Lt(o,b)});k.disableLabelAnimation=!0,k.getTextContent().ensureState("emphasis").style=Ir(s,{text:w}),k.ensureState("emphasis").style=v,qr(k,i.get("focus"),i.get("blurScope"),i.get("disabled")),this.group.add(k),dPe(k,t,b),l+=S+k9}},e.prototype.remove=function(){this.group.removeAll()},e}();function fPe(e,t,r,n,i,a){var s=[[i?e:e-GE,t],[e+r,t],[e+r,t+n],[i?e:e-GE,t+n]];return!a&&s.splice(2,0,[e+r+GE,t+n/2]),!i&&s.push([e,t+n/2]),s}function dPe(e,t,r){It(e).eventData={componentType:"series",componentSubType:"treemap",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:r&&r.dataIndex,name:r&&r.name},treePathInfo:r&&Uw(r,t)}}var pPe=function(){function e(){this._storage=[],this._elExistsMap={}}return e.prototype.add=function(t,r,n,i,a){return this._elExistsMap[t.id]?!1:(this._elExistsMap[t.id]=!0,this._storage.push({el:t,target:r,duration:n,delay:i,easing:a}),!0)},e.prototype.finished=function(t){return this._finishedCallback=t,this},e.prototype.start=function(){for(var t=this,r=this._storage.length,n=function(){r--,r<=0&&(t._storage.length=0,t._elExistsMap={},t._finishedCallback&&t._finishedCallback())},i=0,a=this._storage.length;i<a;i++){var s=this._storage[i];s.el.animateTo(s.target,{duration:s.duration,delay:s.delay,easing:s.easing,setToFinal:!0,done:n,aborted:n})}return this},e}();function vPe(){return new pPe}var RD=Ct,I9=Jt,D9=3,M9="label",L9="upperLabel",gPe=Rp*10,mPe=Rp*2,yPe=Rp*3,rh=Zh([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),N9=function(e){var t=rh(e);return t.stroke=t.fill=t.lineWidth=null,t},qS=tr(),xPe=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r._state="ready",r._storage=og(),r}return t.prototype.render=function(r,n,i,a){var s=n.findComponents({mainType:"series",subType:"treemap",query:a});if(!(Ut(s,r)<0)){this.seriesModel=r,this.api=i,this.ecModel=n;var o=["treemapZoomToNode","treemapRootToNode"],l=v0(a,o,r),u=a&&a.type,c=r.layoutInfo,h=!this._oldTree,f=this._storage,d=u==="treemapRootToNode"&&l&&f?{rootNodeGroup:f.nodeGroup[l.node.getRawIndex()],direction:a.direction}:null,v=this._giveContainerGroup(c),m=r.get("animation"),y=this._doRender(v,r,d);m&&!h&&(!u||u==="treemapZoomToNode"||u==="treemapRootToNode")?this._doAnimation(v,y,r,d):y.renderFinally(),this._resetController(i),this._renderBreadcrumb(r,i,l)}},t.prototype._giveContainerGroup=function(r){var n=this._containerGroup;return n||(n=this._containerGroup=new RD,this._initEvents(n),this.group.add(n)),n.x=r.x,n.y=r.y,n},t.prototype._doRender=function(r,n,i){var a=n.getData().tree,s=this._oldTree,o=og(),l=og(),u=this._storage,c=[];function h(S,w,k,M){return bPe(n,l,u,i,o,c,S,w,k,M)}m(a.root?[a.root]:[],s&&s.root?[s.root]:[],r,a===s||!s,0);var f=y(u);if(this._oldTree=a,this._storage=l,this._controllerHost){var d=this.seriesModel.layoutInfo,v=a.root.getLayout();v.width===d.width&&v.height===d.height&&(this._controllerHost.zoom=1)}return{lastsForAnimation:o,willDeleteEls:f,renderFinally:b};function m(S,w,k,M,I){M?(w=S,q(S,function(z,B){!z.isRemoved()&&N(B,B)})):new El(w,S,L,L).add(N).update(N).remove(Lt(N,null)).execute();function L(z){return z.getId()}function N(z,B){var H=z!=null?S[z]:null,G=B!=null?w[B]:null,$=h(H,G,k,I);$&&m(H&&H.viewChildren||[],G&&G.viewChildren||[],$,M,I+1)}}function y(S){var w=og();return S&&q(S,function(k,M){var I=w[M];q(k,function(L){L&&(I.push(L),qS(L).willDelete=!0)})}),w}function b(){q(f,function(S){q(S,function(w){w.parent&&w.parent.remove(w)})}),q(c,function(S){S.invisible=!0,S.dirty()})}},t.prototype._doAnimation=function(r,n,i,a){var s=i.get("animationDurationUpdate"),o=i.get("animationEasing"),l=(vt(s)?0:s)||0,u=(vt(o)?null:o)||"cubicOut",c=vPe();q(n.willDeleteEls,function(h,f){q(h,function(d,v){if(!d.invisible){var m=d.parent,y,b=qS(m);if(a&&a.direction==="drillDown")y=m===a.rootNodeGroup?{shape:{x:0,y:0,width:b.nodeWidth,height:b.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var S=0,w=0;b.willDelete||(S=b.nodeWidth/2,w=b.nodeHeight/2),y=f==="nodeGroup"?{x:S,y:w,style:{opacity:0}}:{shape:{x:S,y:w,width:0,height:0},style:{opacity:0}}}y&&c.add(d,y,l,0,u)}})}),q(this._storage,function(h,f){q(h,function(d,v){var m=n.lastsForAnimation[f][v],y={};m&&(d instanceof Ct?m.oldX!=null&&(y.x=d.x,y.y=d.y,d.x=m.oldX,d.y=m.oldY):(m.oldShape&&(y.shape=Ne({},d.shape),d.setShape(m.oldShape)),m.fadein?(d.setStyle("opacity",0),y.style={opacity:1}):d.style.opacity!==1&&(y.style={opacity:1})),c.add(d,y,l,0,u))})},this),this._state="animating",c.finished(rt(function(){this._state="ready",n.renderFinally()},this)).start()},t.prototype._resetController=function(r){var n=this._controller,i=this._controllerHost;i||(this._controllerHost={target:this.group},i=this._controllerHost),n||(n=this._controller=new uy(r.getZr()),n.enable(this.seriesModel.get("roam")),i.zoomLimit=this.seriesModel.get("scaleLimit"),i.zoom=this.seriesModel.get("zoom"),n.on("pan",rt(this._onPan,this)),n.on("zoom",rt(this._onZoom,this)));var a=new jt(0,0,r.getWidth(),r.getHeight());n.setPointerChecker(function(s,o,l){return a.contain(o,l)})},t.prototype._clearController=function(){var r=this._controller;this._controllerHost=null,r&&(r.dispose(),r=null)},t.prototype._onPan=function(r){if(this._state!=="animating"&&(Math.abs(r.dx)>D9||Math.abs(r.dy)>D9)){var n=this.seriesModel.getData().tree.root;if(!n)return;var i=n.getLayout();if(!i)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:i.x+r.dx,y:i.y+r.dy,width:i.width,height:i.height}})}},t.prototype._onZoom=function(r){var n=r.originX,i=r.originY,a=r.scale;if(this._state!=="animating"){var s=this.seriesModel.getData().tree.root;if(!s)return;var o=s.getLayout();if(!o)return;var l=new jt(o.x,o.y,o.width,o.height),u=null,c=this._controllerHost;u=c.zoomLimit;var h=c.zoom=c.zoom||1;if(h*=a,u){var f=u.min||0,d=u.max||1/0;h=Math.max(Math.min(d,h),f)}var v=h/c.zoom;c.zoom=h;var m=this.seriesModel.layoutInfo;n-=m.x,i-=m.y;var y=ua();Vs(y,y,[-n,-i]),cw(y,y,[v,v]),Vs(y,y,[n,i]),l.applyTransform(y),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:l.x,y:l.y,width:l.width,height:l.height}})}},t.prototype._initEvents=function(r){var n=this;r.on("click",function(i){if(n._state==="ready"){var a=n.seriesModel.get("nodeClick",!0);if(a){var s=n.findTarget(i.offsetX,i.offsetY);if(s){var o=s.node;if(o.getLayout().isLeafRoot)n._rootToNode(s);else if(a==="zoomToNode")n._zoomToNode(s);else if(a==="link"){var l=o.hostTree.data.getItemModel(o.dataIndex),u=l.get("link",!0),c=l.get("target",!0)||"blank";u&&MS(u,c)}}}}},this)},t.prototype._renderBreadcrumb=function(r,n,i){var a=this;i||(i=r.get("leafDepth",!0)!=null?{node:r.getViewRoot()}:this.findTarget(n.getWidth()/2,n.getHeight()/2),i||(i={node:r.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new hPe(this.group))).render(r,n,i.node,function(s){a._state!=="animating"&&(GP(r.getViewRoot(),s)?a._rootToNode({node:s}):a._zoomToNode({node:s}))})},t.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=og(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},t.prototype.dispose=function(){this._clearController()},t.prototype._zoomToNode=function(r){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:r.node})},t.prototype._rootToNode=function(r){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:r.node})},t.prototype.findTarget=function(r,n){var i,a=this.seriesModel.getViewRoot();return a.eachNode({attr:"viewChildren",order:"preorder"},function(s){var o=this._storage.background[s.getRawIndex()];if(o){var l=o.transformCoordToLocal(r,n),u=o.shape;if(u.x<=l[0]&&l[0]<=u.x+u.width&&u.y<=l[1]&&l[1]<=u.y+u.height)i={node:s,offsetX:l[0],offsetY:l[1]};else return!1}},this),i},t.type="treemap",t}(xr);function og(){return{nodeGroup:[],background:[],content:[]}}function bPe(e,t,r,n,i,a,s,o,l,u){if(!s)return;var c=s.getLayout(),h=e.getData(),f=s.getModel();if(h.setItemGraphicEl(s.dataIndex,null),!c||!c.isInView)return;var d=c.width,v=c.height,m=c.borderWidth,y=c.invisible,b=s.getRawIndex(),S=o&&o.getRawIndex(),w=s.viewChildren,k=c.upperHeight,M=w&&w.length,I=f.getModel("itemStyle"),L=f.getModel(["emphasis","itemStyle"]),N=f.getModel(["blur","itemStyle"]),z=f.getModel(["select","itemStyle"]),B=I.get("borderRadius")||0,H=pe("nodeGroup",RD);if(!H)return;if(l.add(H),H.x=c.x||0,H.y=c.y||0,H.markRedraw(),qS(H).nodeWidth=d,qS(H).nodeHeight=v,c.isAboveViewRoot)return H;var G=pe("background",I9,u,mPe);G&&re(H,G,M&&c.upperLabelHeight);var $=f.getModel("emphasis"),W=$.get("focus"),X=$.get("blurScope"),ee=$.get("disabled"),le=W==="ancestor"?s.getAncestorsIndices():W==="descendant"?s.getDescendantIndices():W;if(M)r0(H)&&xh(H,!1),G&&(xh(G,!ee),h.setItemGraphicEl(s.dataIndex,G),JI(G,le,X));else{var ie=pe("content",I9,u,yPe);ie&&me(H,ie),G.disableMorphing=!0,G&&r0(G)&&xh(G,!1),xh(H,!ee),h.setItemGraphicEl(s.dataIndex,H);var fe=f.getShallow("cursor");fe&&ie.attr("cursor",fe),JI(H,le,X)}return H;function re(Pe,Te,Ve){var ze=It(Te);if(ze.dataIndex=s.dataIndex,ze.seriesIndex=e.seriesIndex,Te.setShape({x:0,y:0,width:d,height:v,r:B}),y)J(Te);else{Te.invisible=!1;var $e=s.getVisual("style"),ce=$e.stroke,ve=N9(I);ve.fill=ce;var Ae=rh(L);Ae.fill=L.get("borderColor");var Le=rh(N);Le.fill=N.get("borderColor");var Ge=rh(z);if(Ge.fill=z.get("borderColor"),Ve){var nt=d-2*m;te(Te,ce,$e.opacity,{x:m,y:0,width:nt,height:k})}else Te.removeTextContent();Te.setStyle(ve),Te.ensureState("emphasis").style=Ae,Te.ensureState("blur").style=Le,Te.ensureState("select").style=Ge,Qh(Te)}Pe.add(Te)}function me(Pe,Te){var Ve=It(Te);Ve.dataIndex=s.dataIndex,Ve.seriesIndex=e.seriesIndex;var ze=Math.max(d-2*m,0),$e=Math.max(v-2*m,0);if(Te.culling=!0,Te.setShape({x:m,y:m,width:ze,height:$e,r:B}),y)J(Te);else{Te.invisible=!1;var ce=s.getVisual("style"),ve=ce.fill,Ae=N9(I);Ae.fill=ve,Ae.decal=ce.decal;var Le=rh(L),Ge=rh(N),nt=rh(z);te(Te,ve,ce.opacity,null),Te.setStyle(Ae),Te.ensureState("emphasis").style=Le,Te.ensureState("blur").style=Ge,Te.ensureState("select").style=nt,Qh(Te)}Pe.add(Te)}function J(Pe){!Pe.invisible&&a.push(Pe)}function te(Pe,Te,Ve,ze){var $e=f.getModel(ze?L9:M9),ce=En(f.get("name"),null),ve=$e.getShallow("show");oi(Pe,zn(f,ze?L9:M9),{defaultText:ve?ce:null,inheritColor:Te,defaultOpacity:Ve,labelFetcher:e,labelDataIndex:s.dataIndex});var Ae=Pe.getTextContent();if(Ae){var Le=Ae.style,Ge=lw(Le.padding||0);ze&&(Pe.setTextConfig({layoutRect:ze}),Ae.disableLabelLayout=!0),Ae.beforeUpdate=function(){var lt=Math.max((ze?ze.width:Pe.shape.width)-Ge[1]-Ge[3],0),He=Math.max((ze?ze.height:Pe.shape.height)-Ge[0]-Ge[2],0);(Le.width!==lt||Le.height!==He)&&Ae.setStyle({width:lt,height:He})},Le.truncateMinChar=2,Le.lineOverflow="truncate",ue(Le,ze,c);var nt=Ae.getState("emphasis");ue(nt?nt.style:null,ze,c)}}function ue(Pe,Te,Ve){var ze=Pe?Pe.text:null;if(!Te&&Ve.isLeafRoot&&ze!=null){var $e=e.get("drillDownIcon",!0);Pe.text=$e?$e+" "+ze:ze}}function pe(Pe,Te,Ve,ze){var $e=S!=null&&r[Pe][S],ce=i[Pe];return $e?(r[Pe][S]=null,Se(ce,$e)):y||($e=new Te,$e instanceof us&&($e.z2=SPe(Ve,ze)),je(ce,$e)),t[Pe][b]=$e}function Se(Pe,Te){var Ve=Pe[b]={};Te instanceof RD?(Ve.oldX=Te.x,Ve.oldY=Te.y):Ve.oldShape=Ne({},Te.shape)}function je(Pe,Te){var Ve=Pe[b]={},ze=s.parentNode,$e=Te instanceof Ct;if(ze&&(!n||n.direction==="drillDown")){var ce=0,ve=0,Ae=i.background[ze.getRawIndex()];!n&&Ae&&Ae.oldShape&&(ce=Ae.oldShape.width,ve=Ae.oldShape.height),$e?(Ve.oldX=0,Ve.oldY=ve):Ve.oldShape={x:ce,y:ve,width:0,height:0}}Ve.fadein=!$e}}function SPe(e,t){return e*gPe+t}var g0=q,_Pe=St,KS=-1,Fn=function(){function e(t){var r=t.mappingMethod,n=t.type,i=this.option=_t(t);this.type=n,this.mappingMethod=r,this._normalizeData=CPe[r];var a=e.visualHandlers[n];this.applyVisual=a.applyVisual,this.getColorMapper=a.getColorMapper,this._normalizedToVisual=a._normalizedToVisual[r],r==="piecewise"?(WE(i),wPe(i)):r==="category"?i.categories?TPe(i):WE(i,!0):(Si(r!=="linear"||i.dataExtent),WE(i))}return e.prototype.mapValueToVisual=function(t){var r=this._normalizeData(t);return this._normalizedToVisual(r,t)},e.prototype.getNormalizer=function(){return rt(this._normalizeData,this)},e.listVisualTypes=function(){return Kt(e.visualHandlers)},e.isValidType=function(t){return e.visualHandlers.hasOwnProperty(t)},e.eachVisual=function(t,r,n){St(t)?q(t,r,n):r.call(n,t)},e.mapVisual=function(t,r,n){var i,a=Oe(t)?[]:St(t)?{}:(i=!0,null);return e.eachVisual(t,function(s,o){var l=r.call(n,s,o);i?a=l:a[o]=l}),a},e.retrieveVisuals=function(t){var r={},n;return t&&g0(e.visualHandlers,function(i,a){t.hasOwnProperty(a)&&(r[a]=t[a],n=!0)}),n?r:null},e.prepareVisualTypes=function(t){if(Oe(t))t=t.slice();else if(_Pe(t)){var r=[];g0(t,function(n,i){r.push(i)}),t=r}else return[];return t.sort(function(n,i){return i==="color"&&n!=="color"&&n.indexOf("color")===0?1:-1}),t},e.dependsOn=function(t,r){return r==="color"?!!(t&&t.indexOf(r)===0):t===r},e.findPieceIndex=function(t,r,n){for(var i,a=1/0,s=0,o=r.length;s<o;s++){var l=r[s].value;if(l!=null){if(l===t||Je(l)&&l===t+"")return s;n&&f(l,s)}}for(var s=0,o=r.length;s<o;s++){var u=r[s],c=u.interval,h=u.close;if(c){if(c[0]===-1/0){if(Ex(h[1],t,c[1]))return s}else if(c[1]===1/0){if(Ex(h[0],c[0],t))return s}else if(Ex(h[0],c[0],t)&&Ex(h[1],t,c[1]))return s;n&&f(c[0],s),n&&f(c[1],s)}}if(n)return t===1/0?r.length-1:t===-1/0?0:i;function f(d,v){var m=Math.abs(d-t);m<a&&(a=m,i=v)}},e.visualHandlers={color:{applyVisual:lg("color"),getColorMapper:function(){var t=this.option;return rt(t.mappingMethod==="category"?function(r,n){return!n&&(r=this._normalizeData(r)),Dg.call(this,r)}:function(r,n,i){var a=!!i;return!n&&(r=this._normalizeData(r)),i=am(r,t.parsedVisual,i),a?i:Fs(i,"rgba")},this)},_normalizedToVisual:{linear:function(t){return Fs(am(t,this.option.parsedVisual),"rgba")},category:Dg,piecewise:function(t,r){var n=BD.call(this,r);return n==null&&(n=Fs(am(t,this.option.parsedVisual),"rgba")),n},fixed:nh}},colorHue:Cx(function(t,r){return Od(t,r)}),colorSaturation:Cx(function(t,r){return Od(t,null,r)}),colorLightness:Cx(function(t,r){return Od(t,null,null,r)}),colorAlpha:Cx(function(t,r){return Zm(t,r)}),decal:{applyVisual:lg("decal"),_normalizedToVisual:{linear:null,category:Dg,piecewise:null,fixed:null}},opacity:{applyVisual:lg("opacity"),_normalizedToVisual:OD([0,1])},liftZ:{applyVisual:lg("liftZ"),_normalizedToVisual:{linear:nh,category:nh,piecewise:nh,fixed:nh}},symbol:{applyVisual:function(t,r,n){var i=this.mapValueToVisual(t);n("symbol",i)},_normalizedToVisual:{linear:P9,category:Dg,piecewise:function(t,r){var n=BD.call(this,r);return n==null&&(n=P9.call(this,t)),n},fixed:nh}},symbolSize:{applyVisual:lg("symbolSize"),_normalizedToVisual:OD([0,1])}},e}();function wPe(e){var t=e.pieceList;e.hasSpecialVisual=!1,q(t,function(r,n){r.originIndex=n,r.visual!=null&&(e.hasSpecialVisual=!0)})}function TPe(e){var t=e.categories,r=e.categoryMap={},n=e.visual;if(g0(t,function(s,o){r[s]=o}),!Oe(n)){var i=[];St(n)?g0(n,function(s,o){var l=r[o];i[l??KS]=s}):i[KS]=n,n=JQ(e,i)}for(var a=t.length-1;a>=0;a--)n[a]==null&&(delete r[t[a]],t.pop())}function WE(e,t){var r=e.visual,n=[];St(r)?g0(r,function(a){n.push(a)}):r!=null&&n.push(r);var i={color:1,symbol:1};!t&&n.length===1&&!i.hasOwnProperty(e.type)&&(n[1]=n[0]),JQ(e,n)}function Cx(e){return{applyVisual:function(t,r,n){var i=this.mapValueToVisual(t);n("color",e(r("color"),i))},_normalizedToVisual:OD([0,1])}}function P9(e){var t=this.option.visual;return t[Math.round(pr(e,[0,1],[0,t.length-1],!0))]||{}}function lg(e){return function(t,r,n){n(e,this.mapValueToVisual(t))}}function Dg(e){var t=this.option.visual;return t[this.option.loop&&e!==KS?e%t.length:e]}function nh(){return this.option.visual[0]}function OD(e){return{linear:function(t){return pr(t,e,this.option.visual,!0)},category:Dg,piecewise:function(t,r){var n=BD.call(this,r);return n==null&&(n=pr(t,e,this.option.visual,!0)),n},fixed:nh}}function BD(e){var t=this.option,r=t.pieceList;if(t.hasSpecialVisual){var n=Fn.findPieceIndex(e,r),i=r[n];if(i&&i.visual)return i.visual[this.type]}}function JQ(e,t){return e.visual=t,e.type==="color"&&(e.parsedVisual=Fe(t,function(r){var n=zi(r);return n||[0,0,0,1]})),t}var CPe={linear:function(e){return pr(e,this.option.dataExtent,[0,1],!0)},piecewise:function(e){var t=this.option.pieceList,r=Fn.findPieceIndex(e,t,!0);if(r!=null)return pr(r,[0,t.length-1],[0,1],!0)},category:function(e){var t=this.option.categories?this.option.categoryMap[e]:e;return t??KS},fixed:ln};function Ex(e,t,r){return e?t<=r:t<r}var EPe="itemStyle",eJ=tr();const APe={seriesType:"treemap",reset:function(e){var t=e.getData().tree,r=t.root;r.isRemoved()||tJ(r,{},e.getViewRoot().getAncestors(),e)}};function tJ(e,t,r,n){var i=e.getModel(),a=e.getLayout(),s=e.hostTree.data;if(!(!a||a.invisible||!a.isInView)){var o=i.getModel(EPe),l=kPe(o,t,n),u=s.ensureUniqueItemVisual(e.dataIndex,"style"),c=o.get("borderColor"),h=o.get("borderColorSaturation"),f;h!=null&&(f=R9(l),c=IPe(h,f)),u.stroke=c;var d=e.viewChildren;if(!d||!d.length)f=R9(l),u.fill=f;else{var v=DPe(e,i,a,o,l,d);q(d,function(m,y){if(m.depth>=r.length||m===r[m.depth]){var b=MPe(i,l,m,y,v,n);tJ(m,b,r,n)}})}}}function kPe(e,t,r){var n=Ne({},t),i=r.designatedVisualItemStyle;return q(["color","colorAlpha","colorSaturation"],function(a){i[a]=t[a];var s=e.get(a);i[a]=null,s!=null&&(n[a]=s)}),n}function R9(e){var t=$E(e,"color");if(t){var r=$E(e,"colorAlpha"),n=$E(e,"colorSaturation");return n&&(t=Od(t,null,null,n)),r&&(t=Zm(t,r)),t}}function IPe(e,t){return t!=null?Od(t,null,null,e):null}function $E(e,t){var r=e[t];if(r!=null&&r!=="none")return r}function DPe(e,t,r,n,i,a){if(!(!a||!a.length)){var s=YE(t,"color")||i.color!=null&&i.color!=="none"&&(YE(t,"colorAlpha")||YE(t,"colorSaturation"));if(s){var o=t.get("visualMin"),l=t.get("visualMax"),u=r.dataExtent.slice();o!=null&&o<u[0]&&(u[0]=o),l!=null&&l>u[1]&&(u[1]=l);var c=t.get("colorMappingBy"),h={type:s.name,dataExtent:u,visual:s.range};h.type==="color"&&(c==="index"||c==="id")?(h.mappingMethod="category",h.loop=!0):h.mappingMethod="linear";var f=new Fn(h);return eJ(f).drColorMappingBy=c,f}}}function YE(e,t){var r=e.get(t);return Oe(r)&&r.length?{name:t,range:r}:null}function MPe(e,t,r,n,i,a){var s=Ne({},t);if(i){var o=i.type,l=o==="color"&&eJ(i).drColorMappingBy,u=l==="index"?n:l==="id"?a.mapIdToIndex(r.getId()):r.getValue(e.get("visualDimension"));s[o]=i.mapValueToVisual(u)}return s}var m0=Math.max,ZS=Math.min,O9=On,WP=q,rJ=["itemStyle","borderWidth"],LPe=["itemStyle","gapWidth"],NPe=["upperLabel","show"],PPe=["upperLabel","height"];const RPe={seriesType:"treemap",reset:function(e,t,r,n){var i=r.getWidth(),a=r.getHeight(),s=e.option,o=Sn(e.getBoxLayoutParams(),{width:r.getWidth(),height:r.getHeight()}),l=s.size||[],u=Ze(O9(o.width,l[0]),i),c=Ze(O9(o.height,l[1]),a),h=n&&n.type,f=["treemapZoomToNode","treemapRootToNode"],d=v0(n,f,e),v=h==="treemapRender"||h==="treemapMove"?n.rootRect:null,m=e.getViewRoot(),y=KQ(m);if(h!=="treemapMove"){var b=h==="treemapZoomToNode"?HPe(e,d,m,u,c):v?[v.width,v.height]:[u,c],S=s.sort;S&&S!=="asc"&&S!=="desc"&&(S="desc");var w={squareRatio:s.squareRatio,sort:S,leafDepth:s.leafDepth};m.hostTree.clearLayouts();var k={x:0,y:0,width:b[0],height:b[1],area:b[0]*b[1]};m.setLayout(k),nJ(m,w,!1,0),k=m.getLayout(),WP(y,function(I,L){var N=(y[L+1]||m).getValue();I.setLayout(Ne({dataExtent:[N,N],borderWidth:0,upperHeight:0},k))})}var M=e.getData().tree.root;M.setLayout(VPe(o,v,d),!0),e.setLayoutInfo(o),iJ(M,new jt(-o.x,-o.y,i,a),y,m,0)}};function nJ(e,t,r,n){var i,a;if(!e.isRemoved()){var s=e.getLayout();i=s.width,a=s.height;var o=e.getModel(),l=o.get(rJ),u=o.get(LPe)/2,c=aJ(o),h=Math.max(l,c),f=l-u,d=h-u;e.setLayout({borderWidth:l,upperHeight:h,upperLabelHeight:c},!0),i=m0(i-2*f,0),a=m0(a-f-d,0);var v=i*a,m=OPe(e,o,v,t,r,n);if(m.length){var y={x:f,y:d,width:i,height:a},b=ZS(i,a),S=1/0,w=[];w.area=0;for(var k=0,M=m.length;k<M;){var I=m[k];w.push(I),w.area+=I.getLayout().area;var L=jPe(w,b,t.squareRatio);L<=S?(k++,S=L):(w.area-=w.pop().getLayout().area,B9(w,b,y,u,!1),b=ZS(y.width,y.height),w.length=w.area=0,S=1/0)}if(w.length&&B9(w,b,y,u,!0),!r){var N=o.get("childrenVisibleMin");N!=null&&v<N&&(r=!0)}for(var k=0,M=m.length;k<M;k++)nJ(m[k],t,r,n+1)}}}function OPe(e,t,r,n,i,a){var s=e.children||[],o=n.sort;o!=="asc"&&o!=="desc"&&(o=null);var l=n.leafDepth!=null&&n.leafDepth<=a;if(i&&!l)return e.viewChildren=[];s=lr(s,function(d){return!d.isRemoved()}),FPe(s,o);var u=zPe(t,s,o);if(u.sum===0)return e.viewChildren=[];if(u.sum=BPe(t,r,u.sum,o,s),u.sum===0)return e.viewChildren=[];for(var c=0,h=s.length;c<h;c++){var f=s[c].getValue()/u.sum*r;s[c].setLayout({area:f})}return l&&(s.length&&e.setLayout({isLeafRoot:!0},!0),s.length=0),e.viewChildren=s,e.setLayout({dataExtent:u.dataExtent},!0),s}function BPe(e,t,r,n,i){if(!n)return r;for(var a=e.get("visibleMin"),s=i.length,o=s,l=s-1;l>=0;l--){var u=i[n==="asc"?s-l-1:l].getValue();u/r*t<a&&(o=l,r-=u)}return n==="asc"?i.splice(0,s-o):i.splice(o,s-o),r}function FPe(e,t){return t&&e.sort(function(r,n){var i=t==="asc"?r.getValue()-n.getValue():n.getValue()-r.getValue();return i===0?t==="asc"?r.dataIndex-n.dataIndex:n.dataIndex-r.dataIndex:i}),e}function zPe(e,t,r){for(var n=0,i=0,a=t.length;i<a;i++)n+=t[i].getValue();var s=e.get("visualDimension"),o;return!t||!t.length?o=[NaN,NaN]:s==="value"&&r?(o=[t[t.length-1].getValue(),t[0].getValue()],r==="asc"&&o.reverse()):(o=[1/0,-1/0],WP(t,function(l){var u=l.getValue(s);u<o[0]&&(o[0]=u),u>o[1]&&(o[1]=u)})),{sum:n,dataExtent:o}}function jPe(e,t,r){for(var n=0,i=1/0,a=0,s=void 0,o=e.length;a<o;a++)s=e[a].getLayout().area,s&&(s<i&&(i=s),s>n&&(n=s));var l=e.area*e.area,u=t*t*r;return l?m0(u*n/l,l/(u*i)):1/0}function B9(e,t,r,n,i){var a=t===r.width?0:1,s=1-a,o=["x","y"],l=["width","height"],u=r[o[a]],c=t?e.area/t:0;(i||c>r[l[s]])&&(c=r[l[s]]);for(var h=0,f=e.length;h<f;h++){var d=e[h],v={},m=c?d.getLayout().area/c:0,y=v[l[s]]=m0(c-2*n,0),b=r[o[a]]+r[l[a]]-u,S=h===f-1||b<m?b:m,w=v[l[a]]=m0(S-2*n,0);v[o[s]]=r[o[s]]+ZS(n,y/2),v[o[a]]=u+ZS(n,w/2),u+=S,d.setLayout(v,!0)}r[o[s]]+=c,r[l[s]]-=c}function HPe(e,t,r,n,i){var a=(t||{}).node,s=[n,i];if(!a||a===r)return s;for(var o,l=n*i,u=l*e.option.zoomToNodeRatio;o=a.parentNode;){for(var c=0,h=o.children,f=0,d=h.length;f<d;f++)c+=h[f].getValue();var v=a.getValue();if(v===0)return s;u*=c/v;var m=o.getModel(),y=m.get(rJ),b=Math.max(y,aJ(m));u+=4*y*y+(3*y+b)*Math.pow(u,.5),u>GI&&(u=GI),a=o}u<l&&(u=l);var S=Math.pow(u/l,.5);return[n*S,i*S]}function VPe(e,t,r){if(t)return{x:t.x,y:t.y};var n={x:0,y:0};if(!r)return n;var i=r.node,a=i.getLayout();if(!a)return n;for(var s=[a.width/2,a.height/2],o=i;o;){var l=o.getLayout();s[0]+=l.x,s[1]+=l.y,o=o.parentNode}return{x:e.width/2-s[0],y:e.height/2-s[1]}}function iJ(e,t,r,n,i){var a=e.getLayout(),s=r[i],o=s&&s===e;if(!(s&&!o||i===r.length&&e!==n)){e.setLayout({isInView:!0,invisible:!o&&!t.intersect(a),isAboveViewRoot:o},!0);var l=new jt(t.x-a.x,t.y-a.y,t.width,t.height);WP(e.viewChildren||[],function(u){iJ(u,l,r,n,i+1)})}}function aJ(e){return e.get(NPe)?e.get(PPe):0}function UPe(e){e.registerSeriesModel(lPe),e.registerChartView(xPe),e.registerVisual(APe),e.registerLayout(RPe),oPe(e)}function GPe(e){var t=e.findComponents({mainType:"legend"});!t||!t.length||e.eachSeriesByType("graph",function(r){var n=r.getCategoriesData(),i=r.getGraph(),a=i.data,s=n.mapArray(n.getName);a.filterSelf(function(o){var l=a.getItemModel(o),u=l.getShallow("category");if(u!=null){ar(u)&&(u=s[u]);for(var c=0;c<t.length;c++)if(!t[c].isSelected(u))return!1}return!0})})}function WPe(e){var t={};e.eachSeriesByType("graph",function(r){var n=r.getCategoriesData(),i=r.getData(),a={};n.each(function(s){var o=n.getName(s);a["ec-"+o]=s;var l=n.getItemModel(s),u=l.getModel("itemStyle").getItemStyle();u.fill||(u.fill=r.getColorFromPalette(o,t)),n.setItemVisual(s,"style",u);for(var c=["symbol","symbolSize","symbolKeepAspect"],h=0;h<c.length;h++){var f=l.getShallow(c[h],!0);f!=null&&n.setItemVisual(s,c[h],f)}}),n.count()&&i.each(function(s){var o=i.getItemModel(s),l=o.getShallow("category");if(l!=null){Je(l)&&(l=a["ec-"+l]);var u=n.getItemVisual(l,"style"),c=i.ensureUniqueItemVisual(s,"style");Ne(c,u);for(var h=["symbol","symbolSize","symbolKeepAspect"],f=0;f<h.length;f++)i.setItemVisual(s,h[f],n.getItemVisual(l,h[f]))}})})}function Ax(e){return e instanceof Array||(e=[e,e]),e}function $Pe(e){e.eachSeriesByType("graph",function(t){var r=t.getGraph(),n=t.getEdgeData(),i=Ax(t.get("edgeSymbol")),a=Ax(t.get("edgeSymbolSize"));n.setVisual("fromSymbol",i&&i[0]),n.setVisual("toSymbol",i&&i[1]),n.setVisual("fromSymbolSize",a&&a[0]),n.setVisual("toSymbolSize",a&&a[1]),n.setVisual("style",t.getModel("lineStyle").getLineStyle()),n.each(function(s){var o=n.getItemModel(s),l=r.getEdgeByIndex(s),u=Ax(o.getShallow("symbol",!0)),c=Ax(o.getShallow("symbolSize",!0)),h=o.getModel("lineStyle").getLineStyle(),f=n.ensureUniqueItemVisual(s,"style");switch(Ne(f,h),f.stroke){case"source":{var d=l.node1.getVisual("style");f.stroke=d&&d.fill;break}case"target":{var d=l.node2.getVisual("style");f.stroke=d&&d.fill;break}}u[0]&&l.setVisual("fromSymbol",u[0]),u[1]&&l.setVisual("toSymbol",u[1]),c[0]&&l.setVisual("fromSymbolSize",c[0]),c[1]&&l.setVisual("toSymbolSize",c[1])})})}var FD="-->",Gw=function(e){return e.get("autoCurveness")||null},sJ=function(e,t){var r=Gw(e),n=20,i=[];if(ar(r))n=r;else if(Oe(r)){e.__curvenessList=r;return}t>n&&(n=t);var a=n%2?n+2:n+3;i=[];for(var s=0;s<a;s++)i.push((s%2?s+1:s)/10*(s%2?-1:1));e.__curvenessList=i},y0=function(e,t,r){var n=[e.id,e.dataIndex].join("."),i=[t.id,t.dataIndex].join(".");return[r.uid,n,i].join(FD)},oJ=function(e){var t=e.split(FD);return[t[0],t[2],t[1]].join(FD)},YPe=function(e,t){var r=y0(e.node1,e.node2,t);return t.__edgeMap[r]},XPe=function(e,t){var r=zD(y0(e.node1,e.node2,t),t),n=zD(y0(e.node2,e.node1,t),t);return r+n},zD=function(e,t){var r=t.__edgeMap;return r[e]?r[e].length:0};function qPe(e){Gw(e)&&(e.__curvenessList=[],e.__edgeMap={},sJ(e))}function KPe(e,t,r,n){if(Gw(r)){var i=y0(e,t,r),a=r.__edgeMap,s=a[oJ(i)];a[i]&&!s?a[i].isForward=!0:s&&a[i]&&(s.isForward=!0,a[i].isForward=!1),a[i]=a[i]||[],a[i].push(n)}}function $P(e,t,r,n){var i=Gw(t),a=Oe(i);if(!i)return null;var s=YPe(e,t);if(!s)return null;for(var o=-1,l=0;l<s.length;l++)if(s[l]===r){o=l;break}var u=XPe(e,t);sJ(t,u),e.lineStyle=e.lineStyle||{};var c=y0(e.node1,e.node2,t),h=t.__curvenessList,f=a||u%2?0:1;if(s.isForward)return h[f+o];var d=oJ(c),v=zD(d,t),m=h[o+v+f];return n?a?i&&i[0]===0?(v+f)%2?m:-m:((v%2?0:1)+f)%2?m:-m:(v+f)%2?m:-m:h[o+v+f]}function lJ(e){var t=e.coordinateSystem;if(!(t&&t.type!=="view")){var r=e.getGraph();r.eachNode(function(n){var i=n.getModel();n.setLayout([+i.get("x"),+i.get("y")])}),YP(r,e)}}function YP(e,t){e.eachEdge(function(r,n){var i=Os(r.getModel().get(["lineStyle","curveness"]),-$P(r,t,n,!0),0),a=Io(r.node1.getLayout()),s=Io(r.node2.getLayout()),o=[a,s];+i&&o.push([(a[0]+s[0])/2-(a[1]-s[1])*i,(a[1]+s[1])/2-(s[0]-a[0])*i]),r.setLayout(o)})}function ZPe(e,t){e.eachSeriesByType("graph",function(r){var n=r.get("layout"),i=r.coordinateSystem;if(i&&i.type!=="view"){var a=r.getData(),s=[];q(i.dimensions,function(f){s=s.concat(a.mapDimensionsAll(f))});for(var o=0;o<a.count();o++){for(var l=[],u=!1,c=0;c<s.length;c++){var h=a.get(s[c],o);isNaN(h)||(u=!0),l.push(h)}u?a.setItemLayout(o,i.dataToPoint(l)):a.setItemLayout(o,[NaN,NaN])}YP(a.graph,r)}else(!n||n==="none")&&lJ(r)})}function Mg(e){var t=e.coordinateSystem;if(t.type!=="view")return 1;var r=e.option.nodeScaleRatio,n=t.scaleX,i=t.getZoom(),a=(i-1)*r+1;return a/n}function Lg(e){var t=e.getVisual("symbolSize");return t instanceof Array&&(t=(t[0]+t[1])/2),+t}var F9=Math.PI,XE=[];function XP(e,t,r,n){var i=e.coordinateSystem;if(!(i&&i.type!=="view")){var a=i.getBoundingRect(),s=e.getData(),o=s.graph,l=a.width/2+a.x,u=a.height/2+a.y,c=Math.min(a.width,a.height)/2,h=s.count();if(s.setLayout({cx:l,cy:u}),!!h){if(r){var f=i.pointToData(n),d=f[0],v=f[1],m=[d-l,v-u];lf(m,m),rm(m,m,c),r.setLayout([l+m[0],u+m[1]],!0);var y=e.get(["circular","rotateLabel"]);uJ(r,y,l,u)}QPe[t](e,o,s,c,l,u,h),o.eachEdge(function(b,S){var w=Os(b.getModel().get(["lineStyle","curveness"]),$P(b,e,S),0),k=Io(b.node1.getLayout()),M=Io(b.node2.getLayout()),I,L=(k[0]+M[0])/2,N=(k[1]+M[1])/2;+w&&(w*=3,I=[l*w+L*(1-w),u*w+N*(1-w)]),b.setLayout([k,M,I])})}}}var QPe={value:function(e,t,r,n,i,a,s){var o=0,l=r.getSum("value"),u=Math.PI*2/(l||s);t.eachNode(function(c){var h=c.getValue("value"),f=u*(l?h:1)/2;o+=f,c.setLayout([n*Math.cos(o)+i,n*Math.sin(o)+a]),o+=f})},symbolSize:function(e,t,r,n,i,a,s){var o=0;XE.length=s;var l=Mg(e);t.eachNode(function(h){var f=Lg(h);isNaN(f)&&(f=2),f<0&&(f=0),f*=l;var d=Math.asin(f/2/n);isNaN(d)&&(d=F9/2),XE[h.dataIndex]=d,o+=d*2});var u=(2*F9-o)/s/2,c=0;t.eachNode(function(h){var f=u+XE[h.dataIndex];c+=f,(!h.getLayout()||!h.getLayout().fixed)&&h.setLayout([n*Math.cos(c)+i,n*Math.sin(c)+a]),c+=f})}};function uJ(e,t,r,n){var i=e.getGraphicEl();if(i){var a=e.getModel(),s=a.get(["label","rotate"])||0,o=i.getSymbolPath();if(t){var l=e.getLayout(),u=Math.atan2(l[1]-n,l[0]-r);u<0&&(u=Math.PI*2+u);var c=l[0]<r;c&&(u=u-Math.PI);var h=c?"left":"right";o.setTextConfig({rotation:-u,position:h,origin:"center"});var f=o.ensureState("emphasis");Ne(f.textConfig||(f.textConfig={}),{position:h})}else o.setTextConfig({rotation:s*=Math.PI/180})}}function JPe(e){e.eachSeriesByType("graph",function(t){t.get("layout")==="circular"&&XP(t,"symbolSize")})}var Xf=pS;function eRe(e,t,r){for(var n=e,i=t,a=r.rect,s=a.width,o=a.height,l=[a.x+s/2,a.y+o/2],u=r.gravity==null?.1:r.gravity,c=0;c<n.length;c++){var h=n[c];h.p||(h.p=uc(s*(Math.random()-.5)+l[0],o*(Math.random()-.5)+l[1])),h.pp=Io(h.p),h.edges=null}var f=r.friction==null?.6:r.friction,d=f,v,m;return{warmUp:function(){d=f*.8},setFixed:function(y){n[y].fixed=!0},setUnfixed:function(y){n[y].fixed=!1},beforeStep:function(y){v=y},afterStep:function(y){m=y},step:function(y){v&&v(n,i);for(var b=[],S=n.length,w=0;w<i.length;w++){var k=i[w];if(!k.ignoreForceLayout){var M=k.n1,I=k.n2;Su(b,I.p,M.p);var L=Xm(b)-k.d,N=I.w/(M.w+I.w);isNaN(N)&&(N=0),lf(b,b),!M.fixed&&Xf(M.p,M.p,b,N*L*d),!I.fixed&&Xf(I.p,I.p,b,-(1-N)*L*d)}}for(var w=0;w<S;w++){var z=n[w];z.fixed||(Su(b,l,z.p),Xf(z.p,z.p,b,u*d))}for(var w=0;w<S;w++)for(var M=n[w],B=w+1;B<S;B++){var I=n[B];Su(b,I.p,M.p);var L=Xm(b);L===0&&(gX(b,Math.random()-.5,Math.random()-.5),L=1);var H=(M.rep+I.rep)/L/L;!M.fixed&&Xf(M.pp,M.pp,b,H),!I.fixed&&Xf(I.pp,I.pp,b,-H)}for(var G=[],w=0;w<S;w++){var z=n[w];z.fixed||(Su(G,z.p,z.pp),Xf(z.p,z.p,G,d),di(z.pp,z.p))}d=d*.992;var $=d<.01;m&&m(n,i,$),y&&y($)}}}function tRe(e){e.eachSeriesByType("graph",function(t){var r=t.coordinateSystem;if(!(r&&r.type!=="view"))if(t.get("layout")==="force"){var n=t.preservedPoints||{},i=t.getGraph(),a=i.data,s=i.edgeData,o=t.getModel("force"),l=o.get("initLayout");t.preservedPoints?a.each(function(w){var k=a.getId(w);a.setItemLayout(w,n[k]||[NaN,NaN])}):!l||l==="none"?lJ(t):l==="circular"&&XP(t,"value");var u=a.getDataExtent("value"),c=s.getDataExtent("value"),h=o.get("repulsion"),f=o.get("edgeLength"),d=Oe(h)?h:[h,h],v=Oe(f)?f:[f,f];v=[v[1],v[0]];var m=a.mapArray("value",function(w,k){var M=a.getItemLayout(k),I=pr(w,u,d);return isNaN(I)&&(I=(d[0]+d[1])/2),{w:I,rep:I,fixed:a.getItemModel(k).get("fixed"),p:!M||isNaN(M[0])||isNaN(M[1])?null:M}}),y=s.mapArray("value",function(w,k){var M=i.getEdgeByIndex(k),I=pr(w,c,v);isNaN(I)&&(I=(v[0]+v[1])/2);var L=M.getModel(),N=Os(M.getModel().get(["lineStyle","curveness"]),-$P(M,t,k,!0),0);return{n1:m[M.node1.dataIndex],n2:m[M.node2.dataIndex],d:I,curveness:N,ignoreForceLayout:L.get("ignoreForceLayout")}}),b=r.getBoundingRect(),S=eRe(m,y,{rect:b,gravity:o.get("gravity"),friction:o.get("friction")});S.beforeStep(function(w,k){for(var M=0,I=w.length;M<I;M++)w[M].fixed&&di(w[M].p,i.getNodeByIndex(M).getLayout())}),S.afterStep(function(w,k,M){for(var I=0,L=w.length;I<L;I++)w[I].fixed||i.getNodeByIndex(I).setLayout(w[I].p),n[a.getId(I)]=w[I].p;for(var I=0,L=k.length;I<L;I++){var N=k[I],z=i.getEdgeByIndex(I),B=N.n1.p,H=N.n2.p,G=z.getLayout();G=G?G.slice():[],G[0]=G[0]||[],G[1]=G[1]||[],di(G[0],B),di(G[1],H),+N.curveness&&(G[2]=[(B[0]+H[0])/2-(B[1]-H[1])*N.curveness,(B[1]+H[1])/2-(H[0]-B[0])*N.curveness]),z.setLayout(G)}}),t.forceLayout=S,t.preservedPoints=n,S.step()}else t.forceLayout=null})}function rRe(e,t,r){var n=Ne(e.getBoxLayoutParams(),{aspect:r});return Sn(n,{width:t.getWidth(),height:t.getHeight()})}function nRe(e,t){var r=[];return e.eachSeriesByType("graph",function(n){var i=n.get("coordinateSystem");if(!i||i==="view"){var a=n.getData(),s=a.mapArray(function(y){var b=a.getItemModel(y);return[+b.get("x"),+b.get("y")]}),o=[],l=[];yw(s,o,l),l[0]-o[0]===0&&(l[0]+=1,o[0]-=1),l[1]-o[1]===0&&(l[1]+=1,o[1]-=1);var u=(l[0]-o[0])/(l[1]-o[1]),c=rRe(n,t,u);isNaN(u)&&(o=[c.x,c.y],l=[c.x+c.width,c.y+c.height]);var h=l[0]-o[0],f=l[1]-o[1],d=c.width,v=c.height,m=n.coordinateSystem=new cy;m.zoomLimit=n.get("scaleLimit"),m.setBoundingRect(o[0],o[1],h,f),m.setViewRect(c.x,c.y,d,v),m.setCenter(n.get("center"),t),m.setZoom(n.get("zoom")),r.push(m)}}),r}var z9=An.prototype,qE=Bp.prototype,cJ=function(){function e(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return e}();(function(e){_e(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t})(cJ);function KE(e){return isNaN(+e.cpx1)||isNaN(+e.cpy1)}var iRe=function(e){_e(t,e);function t(r){var n=e.call(this,r)||this;return n.type="ec-line",n}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new cJ},t.prototype.buildPath=function(r,n){KE(n)?z9.buildPath.call(this,r,n):qE.buildPath.call(this,r,n)},t.prototype.pointAt=function(r){return KE(this.shape)?z9.pointAt.call(this,r):qE.pointAt.call(this,r)},t.prototype.tangentAt=function(r){var n=this.shape,i=KE(n)?[n.x2-n.x1,n.y2-n.y1]:qE.tangentAt.call(this,r);return lf(i,i)},t}(qt),ZE=["fromSymbol","toSymbol"];function j9(e){return"_"+e+"Type"}function H9(e,t,r){var n=t.getItemVisual(r,e);if(!n||n==="none")return n;var i=t.getItemVisual(r,e+"Size"),a=t.getItemVisual(r,e+"Rotate"),s=t.getItemVisual(r,e+"Offset"),o=t.getItemVisual(r,e+"KeepAspect"),l=Xp(i),u=df(s||0,l);return n+l+u+(a||"")+(o||"")}function V9(e,t,r){var n=t.getItemVisual(r,e);if(!(!n||n==="none")){var i=t.getItemVisual(r,e+"Size"),a=t.getItemVisual(r,e+"Rotate"),s=t.getItemVisual(r,e+"Offset"),o=t.getItemVisual(r,e+"KeepAspect"),l=Xp(i),u=df(s||0,l),c=dn(n,-l[0]/2+u[0],-l[1]/2+u[1],l[0],l[1],null,o);return c.__specifiedRotation=a==null||isNaN(a)?void 0:+a*Math.PI/180||0,c.name=e,c}}function aRe(e){var t=new iRe({name:"line",subPixelOptimize:!0});return jD(t.shape,e),t}function jD(e,t){e.x1=t[0][0],e.y1=t[0][1],e.x2=t[1][0],e.y2=t[1][1],e.percent=1;var r=t[2];r?(e.cpx1=r[0],e.cpy1=r[1]):(e.cpx1=NaN,e.cpy1=NaN)}var qP=function(e){_e(t,e);function t(r,n,i){var a=e.call(this)||this;return a._createLine(r,n,i),a}return t.prototype._createLine=function(r,n,i){var a=r.hostModel,s=r.getItemLayout(n),o=aRe(s);o.shape.percent=0,Br(o,{shape:{percent:1}},a,n),this.add(o),q(ZE,function(l){var u=V9(l,r,n);this.add(u),this[j9(l)]=H9(l,r,n)},this),this._updateCommonStl(r,n,i)},t.prototype.updateData=function(r,n,i){var a=r.hostModel,s=this.childOfName("line"),o=r.getItemLayout(n),l={shape:{}};jD(l.shape,o),sr(s,l,a,n),q(ZE,function(u){var c=H9(u,r,n),h=j9(u);if(this[h]!==c){this.remove(this.childOfName(u));var f=V9(u,r,n);this.add(f)}this[h]=c},this),this._updateCommonStl(r,n,i)},t.prototype.getLinePath=function(){return this.childAt(0)},t.prototype._updateCommonStl=function(r,n,i){var a=r.hostModel,s=this.childOfName("line"),o=i&&i.emphasisLineStyle,l=i&&i.blurLineStyle,u=i&&i.selectLineStyle,c=i&&i.labelStatesModels,h=i&&i.emphasisDisabled,f=i&&i.focus,d=i&&i.blurScope;if(!i||r.hasItemOption){var v=r.getItemModel(n),m=v.getModel("emphasis");o=m.getModel("lineStyle").getLineStyle(),l=v.getModel(["blur","lineStyle"]).getLineStyle(),u=v.getModel(["select","lineStyle"]).getLineStyle(),h=m.get("disabled"),f=m.get("focus"),d=m.get("blurScope"),c=zn(v)}var y=r.getItemVisual(n,"style"),b=y.stroke;s.useStyle(y),s.style.fill=null,s.style.strokeNoScale=!0,s.ensureState("emphasis").style=o,s.ensureState("blur").style=l,s.ensureState("select").style=u,q(ZE,function(I){var L=this.childOfName(I);if(L){L.setColor(b),L.style.opacity=y.opacity;for(var N=0;N<Vi.length;N++){var z=Vi[N],B=s.getState(z);if(B){var H=B.style||{},G=L.ensureState(z),$=G.style||(G.style={});H.stroke!=null&&($[L.__isEmptyBrush?"stroke":"fill"]=H.stroke),H.opacity!=null&&($.opacity=H.opacity)}}L.markRedraw()}},this);var S=a.getRawValue(n);oi(this,c,{labelDataIndex:n,labelFetcher:{getFormattedLabel:function(I,L){return a.getFormattedLabel(I,L,r.dataType)}},inheritColor:b||"#000",defaultOpacity:y.opacity,defaultText:(S==null?r.getName(n):isFinite(S)?rn(S):S)+""});var w=this.getTextContent();if(w){var k=c.normal;w.__align=w.style.align,w.__verticalAlign=w.style.verticalAlign,w.__position=k.get("position")||"middle";var M=k.get("distance");Oe(M)||(M=[M,M]),w.__labelDistance=M}this.setTextConfig({position:null,local:!0,inside:!1}),qr(this,f,d,h)},t.prototype.highlight=function(){Tl(this)},t.prototype.downplay=function(){Cl(this)},t.prototype.updateLayout=function(r,n){this.setLinePoints(r.getItemLayout(n))},t.prototype.setLinePoints=function(r){var n=this.childOfName("line");jD(n.shape,r),n.dirty()},t.prototype.beforeUpdate=function(){var r=this,n=r.childOfName("fromSymbol"),i=r.childOfName("toSymbol"),a=r.getTextContent();if(!n&&!i&&(!a||a.ignore))return;for(var s=1,o=this.parent;o;)o.scaleX&&(s/=o.scaleX),o=o.parent;var l=r.childOfName("line");if(!this.__dirty&&!l.__dirty)return;var u=l.shape.percent,c=l.pointAt(0),h=l.pointAt(u),f=Su([],h,c);lf(f,f);function d(B,H){var G=B.__specifiedRotation;if(G==null){var $=l.tangentAt(H);B.attr("rotation",(H===1?-1:1)*Math.PI/2-Math.atan2($[1],$[0]))}else B.attr("rotation",G)}if(n&&(n.setPosition(c),d(n,0),n.scaleX=n.scaleY=s*u,n.markRedraw()),i&&(i.setPosition(h),d(i,1),i.scaleX=i.scaleY=s*u,i.markRedraw()),a&&!a.ignore){a.x=a.y=0,a.originX=a.originY=0;var v=void 0,m=void 0,y=a.__labelDistance,b=y[0]*s,S=y[1]*s,w=u/2,k=l.tangentAt(w),M=[k[1],-k[0]],I=l.pointAt(w);M[1]>0&&(M[0]=-M[0],M[1]=-M[1]);var L=k[0]<0?-1:1;if(a.__position!=="start"&&a.__position!=="end"){var N=-Math.atan2(k[1],k[0]);h[0]<c[0]&&(N=Math.PI+N),a.rotation=N}var z=void 0;switch(a.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":z=-S,m="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":z=S,m="top";break;default:z=0,m="middle"}switch(a.__position){case"end":a.x=f[0]*b+h[0],a.y=f[1]*S+h[1],v=f[0]>.8?"left":f[0]<-.8?"right":"center",m=f[1]>.8?"top":f[1]<-.8?"bottom":"middle";break;case"start":a.x=-f[0]*b+c[0],a.y=-f[1]*S+c[1],v=f[0]>.8?"right":f[0]<-.8?"left":"center",m=f[1]>.8?"bottom":f[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":a.x=b*L+c[0],a.y=c[1]+z,v=k[0]<0?"right":"left",a.originX=-b*L,a.originY=-z;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":a.x=I[0],a.y=I[1]+z,v="center",a.originY=-z;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":a.x=-b*L+h[0],a.y=h[1]+z,v=k[0]>=0?"right":"left",a.originX=b*L,a.originY=-z;break}a.scaleX=a.scaleY=s,a.setStyle({verticalAlign:a.__verticalAlign||m,align:a.__align||v})}},t}(Ct),KP=function(){function e(t){this.group=new Ct,this._LineCtor=t||qP}return e.prototype.updateData=function(t){var r=this;this._progressiveEls=null;var n=this,i=n.group,a=n._lineData;n._lineData=t,a||i.removeAll();var s=U9(t);t.diff(a).add(function(o){r._doAdd(t,o,s)}).update(function(o,l){r._doUpdate(a,t,l,o,s)}).remove(function(o){i.remove(a.getItemGraphicEl(o))}).execute()},e.prototype.updateLayout=function(){var t=this._lineData;t&&t.eachItemGraphicEl(function(r,n){r.updateLayout(t,n)},this)},e.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=U9(t),this._lineData=null,this.group.removeAll()},e.prototype.incrementalUpdate=function(t,r){this._progressiveEls=[];function n(o){!o.isGroup&&!sRe(o)&&(o.incremental=!0,o.ensureState("emphasis").hoverLayer=!0)}for(var i=t.start;i<t.end;i++){var a=r.getItemLayout(i);if(QE(a)){var s=new this._LineCtor(r,i,this._seriesScope);s.traverse(n),this.group.add(s),r.setItemGraphicEl(i,s),this._progressiveEls.push(s)}}},e.prototype.remove=function(){this.group.removeAll()},e.prototype.eachRendered=function(t){hc(this._progressiveEls||this.group,t)},e.prototype._doAdd=function(t,r,n){var i=t.getItemLayout(r);if(QE(i)){var a=new this._LineCtor(t,r,n);t.setItemGraphicEl(r,a),this.group.add(a)}},e.prototype._doUpdate=function(t,r,n,i,a){var s=t.getItemGraphicEl(n);if(!QE(r.getItemLayout(i))){this.group.remove(s);return}s?s.updateData(r,i,a):s=new this._LineCtor(r,i,a),r.setItemGraphicEl(i,s),this.group.add(s)},e}();function sRe(e){return e.animators&&e.animators.length>0}function U9(e){var t=e.hostModel,r=t.getModel("emphasis");return{lineStyle:t.getModel("lineStyle").getLineStyle(),emphasisLineStyle:r.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:t.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:t.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:r.get("disabled"),blurScope:r.get("blurScope"),focus:r.get("focus"),labelStatesModels:zn(t)}}function G9(e){return isNaN(e[0])||isNaN(e[1])}function QE(e){return e&&!G9(e[0])&&!G9(e[1])}var JE=[],eA=[],tA=[],qf=$n,rA=zu,W9=Math.abs;function $9(e,t,r){for(var n=e[0],i=e[1],a=e[2],s=1/0,o,l=r*r,u=.1,c=.1;c<=.9;c+=.1){JE[0]=qf(n[0],i[0],a[0],c),JE[1]=qf(n[1],i[1],a[1],c);var h=W9(rA(JE,t)-l);h<s&&(s=h,o=c)}for(var f=0;f<32;f++){var d=o+u;eA[0]=qf(n[0],i[0],a[0],o),eA[1]=qf(n[1],i[1],a[1],o),tA[0]=qf(n[0],i[0],a[0],d),tA[1]=qf(n[1],i[1],a[1],d);var h=rA(eA,t)-l;if(W9(h)<.01)break;var v=rA(tA,t)-l;u/=2,h<0?v>=0?o=o+u:o=o-u:v>=0?o=o-u:o=o+u}return o}function nA(e,t){var r=[],n=qm,i=[[],[],[]],a=[[],[]],s=[];t/=2,e.eachEdge(function(o,l){var u=o.getLayout(),c=o.getVisual("fromSymbol"),h=o.getVisual("toSymbol");u.__original||(u.__original=[Io(u[0]),Io(u[1])],u[2]&&u.__original.push(Io(u[2])));var f=u.__original;if(u[2]!=null){if(di(i[0],f[0]),di(i[1],f[2]),di(i[2],f[1]),c&&c!=="none"){var d=Lg(o.node1),v=$9(i,f[0],d*t);n(i[0][0],i[1][0],i[2][0],v,r),i[0][0]=r[3],i[1][0]=r[4],n(i[0][1],i[1][1],i[2][1],v,r),i[0][1]=r[3],i[1][1]=r[4]}if(h&&h!=="none"){var d=Lg(o.node2),v=$9(i,f[1],d*t);n(i[0][0],i[1][0],i[2][0],v,r),i[1][0]=r[1],i[2][0]=r[2],n(i[0][1],i[1][1],i[2][1],v,r),i[1][1]=r[1],i[2][1]=r[2]}di(u[0],i[0]),di(u[1],i[2]),di(u[2],i[1])}else{if(di(a[0],f[0]),di(a[1],f[1]),Su(s,a[1],a[0]),lf(s,s),c&&c!=="none"){var d=Lg(o.node1);pS(a[0],a[0],s,d*t)}if(h&&h!=="none"){var d=Lg(o.node2);pS(a[1],a[1],s,-d*t)}di(u[0],a[0]),di(u[1],a[1])}})}function Y9(e){return e.type==="view"}var oRe=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.init=function(r,n){var i=new iy,a=new KP,s=this.group;this._controller=new uy(n.getZr()),this._controllerHost={target:s},s.add(i.group),s.add(a.group),this._symbolDraw=i,this._lineDraw=a,this._firstRender=!0},t.prototype.render=function(r,n,i){var a=this,s=r.coordinateSystem;this._model=r;var o=this._symbolDraw,l=this._lineDraw,u=this.group;if(Y9(s)){var c={x:s.x,y:s.y,scaleX:s.scaleX,scaleY:s.scaleY};this._firstRender?u.attr(c):sr(u,c,r)}nA(r.getGraph(),Mg(r));var h=r.getData();o.updateData(h);var f=r.getEdgeData();l.updateData(f),this._updateNodeAndLinkScale(),this._updateController(r,n,i),clearTimeout(this._layoutTimeout);var d=r.forceLayout,v=r.get(["force","layoutAnimation"]);d&&this._startForceLayoutIteration(d,v);var m=r.get("layout");h.graph.eachNode(function(w){var k=w.dataIndex,M=w.getGraphicEl(),I=w.getModel();if(M){M.off("drag").off("dragend");var L=I.get("draggable");L&&M.on("drag",function(z){switch(m){case"force":d.warmUp(),!a._layouting&&a._startForceLayoutIteration(d,v),d.setFixed(k),h.setItemLayout(k,[M.x,M.y]);break;case"circular":h.setItemLayout(k,[M.x,M.y]),w.setLayout({fixed:!0},!0),XP(r,"symbolSize",w,[z.offsetX,z.offsetY]),a.updateLayout(r);break;case"none":default:h.setItemLayout(k,[M.x,M.y]),YP(r.getGraph(),r),a.updateLayout(r);break}}).on("dragend",function(){d&&d.setUnfixed(k)}),M.setDraggable(L,!!I.get("cursor"));var N=I.get(["emphasis","focus"]);N==="adjacency"&&(It(M).focus=w.getAdjacentDataIndices())}}),h.graph.eachEdge(function(w){var k=w.getGraphicEl(),M=w.getModel().get(["emphasis","focus"]);k&&M==="adjacency"&&(It(k).focus={edge:[w.dataIndex],node:[w.node1.dataIndex,w.node2.dataIndex]})});var y=r.get("layout")==="circular"&&r.get(["circular","rotateLabel"]),b=h.getLayout("cx"),S=h.getLayout("cy");h.graph.eachNode(function(w){uJ(w,y,b,S)}),this._firstRender=!1},t.prototype.dispose=function(){this.remove(),this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype._startForceLayoutIteration=function(r,n){var i=this;(function a(){r.step(function(s){i.updateLayout(i._model),(i._layouting=!s)&&(n?i._layoutTimeout=setTimeout(a,16):a())})})()},t.prototype._updateController=function(r,n,i){var a=this,s=this._controller,o=this._controllerHost,l=this.group;if(s.setPointerChecker(function(u,c,h){var f=l.getBoundingRect();return f.applyTransform(l.transform),f.contain(c,h)&&!Hw(u,i,r)}),!Y9(r.coordinateSystem)){s.disable();return}s.enable(r.get("roam")),o.zoomLimit=r.get("scaleLimit"),o.zoom=r.coordinateSystem.getZoom(),s.off("pan").off("zoom").on("pan",function(u){FP(o,u.dx,u.dy),i.dispatchAction({seriesId:r.id,type:"graphRoam",dx:u.dx,dy:u.dy})}).on("zoom",function(u){zP(o,u.scale,u.originX,u.originY),i.dispatchAction({seriesId:r.id,type:"graphRoam",zoom:u.scale,originX:u.originX,originY:u.originY}),a._updateNodeAndLinkScale(),nA(r.getGraph(),Mg(r)),a._lineDraw.updateLayout(),i.updateLabelLayout()})},t.prototype._updateNodeAndLinkScale=function(){var r=this._model,n=r.getData(),i=Mg(r);n.eachItemGraphicEl(function(a,s){a&&a.setSymbolScale(i)})},t.prototype.updateLayout=function(r){nA(r.getGraph(),Mg(r)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},t.prototype.remove=function(){clearTimeout(this._layoutTimeout),this._layouting=!1,this._layoutTimeout=null,this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},t.type="graph",t}(xr);function Kf(e){return"_EC_"+e}var lRe=function(){function e(t){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=t||!1}return e.prototype.isDirected=function(){return this._directed},e.prototype.addNode=function(t,r){t=t==null?""+r:""+t;var n=this._nodesMap;if(!n[Kf(t)]){var i=new ih(t,r);return i.hostGraph=this,this.nodes.push(i),n[Kf(t)]=i,i}},e.prototype.getNodeByIndex=function(t){var r=this.data.getRawIndex(t);return this.nodes[r]},e.prototype.getNodeById=function(t){return this._nodesMap[Kf(t)]},e.prototype.addEdge=function(t,r,n){var i=this._nodesMap,a=this._edgesMap;if(ar(t)&&(t=this.nodes[t]),ar(r)&&(r=this.nodes[r]),t instanceof ih||(t=i[Kf(t)]),r instanceof ih||(r=i[Kf(r)]),!(!t||!r)){var s=t.id+"-"+r.id,o=new hJ(t,r,n);return o.hostGraph=this,this._directed&&(t.outEdges.push(o),r.inEdges.push(o)),t.edges.push(o),t!==r&&r.edges.push(o),this.edges.push(o),a[s]=o,o}},e.prototype.getEdgeByIndex=function(t){var r=this.edgeData.getRawIndex(t);return this.edges[r]},e.prototype.getEdge=function(t,r){t instanceof ih&&(t=t.id),r instanceof ih&&(r=r.id);var n=this._edgesMap;return this._directed?n[t+"-"+r]:n[t+"-"+r]||n[r+"-"+t]},e.prototype.eachNode=function(t,r){for(var n=this.nodes,i=n.length,a=0;a<i;a++)n[a].dataIndex>=0&&t.call(r,n[a],a)},e.prototype.eachEdge=function(t,r){for(var n=this.edges,i=n.length,a=0;a<i;a++)n[a].dataIndex>=0&&n[a].node1.dataIndex>=0&&n[a].node2.dataIndex>=0&&t.call(r,n[a],a)},e.prototype.breadthFirstTraverse=function(t,r,n,i){if(r instanceof ih||(r=this._nodesMap[Kf(r)]),!!r){for(var a=n==="out"?"outEdges":n==="in"?"inEdges":"edges",s=0;s<this.nodes.length;s++)this.nodes[s].__visited=!1;if(!t.call(i,r,null))for(var o=[r];o.length;)for(var l=o.shift(),u=l[a],s=0;s<u.length;s++){var c=u[s],h=c.node1===l?c.node2:c.node1;if(!h.__visited){if(t.call(i,h,l))return;o.push(h),h.__visited=!0}}}},e.prototype.update=function(){for(var t=this.data,r=this.edgeData,n=this.nodes,i=this.edges,a=0,s=n.length;a<s;a++)n[a].dataIndex=-1;for(var a=0,s=t.count();a<s;a++)n[t.getRawIndex(a)].dataIndex=a;r.filterSelf(function(o){var l=i[r.getRawIndex(o)];return l.node1.dataIndex>=0&&l.node2.dataIndex>=0});for(var a=0,s=i.length;a<s;a++)i[a].dataIndex=-1;for(var a=0,s=r.count();a<s;a++)i[r.getRawIndex(a)].dataIndex=a},e.prototype.clone=function(){for(var t=new e(this._directed),r=this.nodes,n=this.edges,i=0;i<r.length;i++)t.addNode(r[i].id,r[i].dataIndex);for(var i=0;i<n.length;i++){var a=n[i];t.addEdge(a.node1.id,a.node2.id,a.dataIndex)}return t},e}(),ih=function(){function e(t,r){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=t??"",this.dataIndex=r??-1}return e.prototype.degree=function(){return this.edges.length},e.prototype.inDegree=function(){return this.inEdges.length},e.prototype.outDegree=function(){return this.outEdges.length},e.prototype.getModel=function(t){if(!(this.dataIndex<0)){var r=this.hostGraph,n=r.data.getItemModel(this.dataIndex);return n.getModel(t)}},e.prototype.getAdjacentDataIndices=function(){for(var t={edge:[],node:[]},r=0;r<this.edges.length;r++){var n=this.edges[r];n.dataIndex<0||(t.edge.push(n.dataIndex),t.node.push(n.node1.dataIndex,n.node2.dataIndex))}return t},e.prototype.getTrajectoryDataIndices=function(){for(var t=ct(),r=ct(),n=0;n<this.edges.length;n++){var i=this.edges[n];if(!(i.dataIndex<0)){t.set(i.dataIndex,!0);for(var a=[i.node1],s=[i.node2],o=0;o<a.length;){var l=a[o];o++,r.set(l.dataIndex,!0);for(var u=0;u<l.inEdges.length;u++)t.set(l.inEdges[u].dataIndex,!0),a.push(l.inEdges[u].node1)}for(o=0;o<s.length;){var c=s[o];o++,r.set(c.dataIndex,!0);for(var u=0;u<c.outEdges.length;u++)t.set(c.outEdges[u].dataIndex,!0),s.push(c.outEdges[u].node2)}}}return{edge:t.keys(),node:r.keys()}},e}(),hJ=function(){function e(t,r,n){this.dataIndex=-1,this.node1=t,this.node2=r,this.dataIndex=n??-1}return e.prototype.getModel=function(t){if(!(this.dataIndex<0)){var r=this.hostGraph,n=r.edgeData.getItemModel(this.dataIndex);return n.getModel(t)}},e.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},e.prototype.getTrajectoryDataIndices=function(){var t=ct(),r=ct();t.set(this.dataIndex,!0);for(var n=[this.node1],i=[this.node2],a=0;a<n.length;){var s=n[a];a++,r.set(s.dataIndex,!0);for(var o=0;o<s.inEdges.length;o++)t.set(s.inEdges[o].dataIndex,!0),n.push(s.inEdges[o].node1)}for(a=0;a<i.length;){var l=i[a];a++,r.set(l.dataIndex,!0);for(var o=0;o<l.outEdges.length;o++)t.set(l.outEdges[o].dataIndex,!0),i.push(l.outEdges[o].node2)}return{edge:t.keys(),node:r.keys()}},e}();function fJ(e,t){return{getValue:function(r){var n=this[e][t];return n.getStore().get(n.getDimensionIndex(r||"value"),this.dataIndex)},setVisual:function(r,n){this.dataIndex>=0&&this[e][t].setItemVisual(this.dataIndex,r,n)},getVisual:function(r){return this[e][t].getItemVisual(this.dataIndex,r)},setLayout:function(r,n){this.dataIndex>=0&&this[e][t].setItemLayout(this.dataIndex,r,n)},getLayout:function(){return this[e][t].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[e][t].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[e][t].getRawIndex(this.dataIndex)}}}cn(ih,fJ("hostGraph","data"));cn(hJ,fJ("hostGraph","edgeData"));function dJ(e,t,r,n,i){for(var a=new lRe(n),s=0;s<e.length;s++)a.addNode(On(e[s].id,e[s].name,s),s);for(var o=[],l=[],u=0,s=0;s<t.length;s++){var c=t[s],h=c.source,f=c.target;a.addEdge(h,f,u)&&(l.push(c),o.push(On(En(c.id,null),h+" > "+f)),u++)}var d=r.get("coordinateSystem"),v;if(d==="cartesian2d"||d==="polar")v=Vo(e,r);else{var m=Wp.get(d),y=m?m.dimensions||[]:[];Ut(y,"value")<0&&y.concat(["value"]);var b=qp(e,{coordDimensions:y,encodeDefine:r.getEncode()}).dimensions;v=new xi(b,r),v.initData(e)}var S=new xi(["value"],r);return S.initData(l,o),i&&i(v,S),XQ({mainData:v,struct:a,structAttr:"graph",datas:{node:v,edge:S},datasAttr:{node:"data",edge:"edgeData"}}),a.update(),a}var uRe=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.hasSymbolVisual=!0,r}return t.prototype.init=function(r){e.prototype.init.apply(this,arguments);var n=this;function i(){return n._categoriesData}this.legendVisualProvider=new ly(i,i),this.fillDataTextStyle(r.edges||r.links),this._updateCategoriesData()},t.prototype.mergeOption=function(r){e.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(r.edges||r.links),this._updateCategoriesData()},t.prototype.mergeDefaultAndTheme=function(r){e.prototype.mergeDefaultAndTheme.apply(this,arguments),qh(r,"edgeLabel",["show"])},t.prototype.getInitialData=function(r,n){var i=r.edges||r.links||[],a=r.data||r.nodes||[],s=this;if(a&&i){qPe(this);var o=dJ(a,i,this,!0,l);return q(o.edges,function(u){KPe(u.node1,u.node2,this,u.dataIndex)},this),o.data}function l(u,c){u.wrapMethod("getItemModel",function(v){var m=s._categoriesModels,y=v.getShallow("category"),b=m[y];return b&&(b.parentModel=v.parentModel,v.parentModel=b),v});var h=ur.prototype.getModel;function f(v,m){var y=h.call(this,v,m);return y.resolveParentPath=d,y}c.wrapMethod("getItemModel",function(v){return v.resolveParentPath=d,v.getModel=f,v});function d(v){if(v&&(v[0]==="label"||v[1]==="label")){var m=v.slice();return v[0]==="label"?m[0]="edgeLabel":v[1]==="label"&&(m[1]="edgeLabel"),m}return v}}},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.getCategoriesData=function(){return this._categoriesData},t.prototype.formatTooltip=function(r,n,i){if(i==="edge"){var a=this.getData(),s=this.getDataParams(r,i),o=a.graph.getEdgeByIndex(r),l=a.getName(o.node1.dataIndex),u=a.getName(o.node2.dataIndex),c=[];return l!=null&&c.push(l),u!=null&&c.push(u),jn("nameValue",{name:c.join(" > "),value:s.value,noValue:s.value==null})}var h=PK({series:this,dataIndex:r,multipleSeries:n});return h},t.prototype._updateCategoriesData=function(){var r=Fe(this.option.categories||[],function(i){return i.value!=null?i:Ne({value:0},i)}),n=new xi(["value"],this);n.initData(r),this._categoriesData=n,this._categoriesModels=n.mapArray(function(i){return n.getItemModel(i)})},t.prototype.setZoom=function(r){this.option.zoom=r},t.prototype.setCenter=function(r){this.option.center=r},t.prototype.isAnimationEnabled=function(){return e.prototype.isAnimationEnabled.call(this)&&!(this.get("layout")==="force"&&this.get(["force","layoutAnimation"]))},t.type="series.graph",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},t}(Cr),cRe={type:"graphRoam",event:"graphRoam",update:"none"};function hRe(e){e.registerChartView(oRe),e.registerSeriesModel(uRe),e.registerProcessor(GPe),e.registerVisual(WPe),e.registerVisual($Pe),e.registerLayout(ZPe),e.registerLayout(e.PRIORITY.VISUAL.POST_CHART_LAYOUT,JPe),e.registerLayout(tRe),e.registerCoordinateSystem("graphView",{dimensions:cy.dimensions,create:nRe}),e.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},ln),e.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},ln),e.registerAction(cRe,function(t,r,n){r.eachComponent({mainType:"series",query:t},function(i){var a=i.coordinateSystem,s=HP(a,t,void 0,n);i.setCenter&&i.setCenter(s.center),i.setZoom&&i.setZoom(s.zoom)})})}var fRe=function(){function e(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0}return e}(),dRe=function(e){_e(t,e);function t(r){var n=e.call(this,r)||this;return n.type="pointer",n}return t.prototype.getDefaultShape=function(){return new fRe},t.prototype.buildPath=function(r,n){var i=Math.cos,a=Math.sin,s=n.r,o=n.width,l=n.angle,u=n.x-i(l)*o*(o>=s/3?1:2),c=n.y-a(l)*o*(o>=s/3?1:2);l=n.angle-Math.PI/2,r.moveTo(u,c),r.lineTo(n.x+i(l)*o,n.y+a(l)*o),r.lineTo(n.x+i(n.angle)*s,n.y+a(n.angle)*s),r.lineTo(n.x-i(l)*o,n.y-a(l)*o),r.lineTo(u,c)},t}(qt);function pRe(e,t){var r=e.get("center"),n=t.getWidth(),i=t.getHeight(),a=Math.min(n,i),s=Ze(r[0],t.getWidth()),o=Ze(r[1],t.getHeight()),l=Ze(e.get("radius"),a/2);return{cx:s,cy:o,r:l}}function kx(e,t){var r=e==null?"":e+"";return t&&(Je(t)?r=t.replace("{value}",r):vt(t)&&(r=t(e))),r}var vRe=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i){this.group.removeAll();var a=r.get(["axisLine","lineStyle","color"]),s=pRe(r,i);this._renderMain(r,n,i,a,s),this._data=r.getData()},t.prototype.dispose=function(){},t.prototype._renderMain=function(r,n,i,a,s){var o=this.group,l=r.get("clockwise"),u=-r.get("startAngle")/180*Math.PI,c=-r.get("endAngle")/180*Math.PI,h=r.getModel("axisLine"),f=h.get("roundCap"),d=f?$S:_i,v=h.get("show"),m=h.getModel("lineStyle"),y=m.get("width"),b=[u,c];LN(b,!l),u=b[0],c=b[1];for(var S=c-u,w=u,k=[],M=0;v&&M<a.length;M++){var I=Math.min(Math.max(a[M][0],0),1);c=u+S*I;var L=new d({shape:{startAngle:w,endAngle:c,cx:s.cx,cy:s.cy,clockwise:l,r0:s.r-y,r:s.r},silent:!0});L.setStyle({fill:a[M][1]}),L.setStyle(m.getLineStyle(["color","width"])),k.push(L),w=c}k.reverse(),q(k,function(z){return o.add(z)});var N=function(z){if(z<=0)return a[0][1];var B;for(B=0;B<a.length;B++)if(a[B][0]>=z&&(B===0?0:a[B-1][0])<z)return a[B][1];return a[B-1][1]};this._renderTicks(r,n,i,N,s,u,c,l,y),this._renderTitleAndDetail(r,n,i,N,s),this._renderAnchor(r,s),this._renderPointer(r,n,i,N,s,u,c,l,y)},t.prototype._renderTicks=function(r,n,i,a,s,o,l,u,c){for(var h=this.group,f=s.cx,d=s.cy,v=s.r,m=+r.get("min"),y=+r.get("max"),b=r.getModel("splitLine"),S=r.getModel("axisTick"),w=r.getModel("axisLabel"),k=r.get("splitNumber"),M=S.get("splitNumber"),I=Ze(b.get("length"),v),L=Ze(S.get("length"),v),N=o,z=(l-o)/k,B=z/M,H=b.getModel("lineStyle").getLineStyle(),G=S.getModel("lineStyle").getLineStyle(),$=b.get("distance"),W,X,ee=0;ee<=k;ee++){if(W=Math.cos(N),X=Math.sin(N),b.get("show")){var le=$?$+c:c,ie=new An({shape:{x1:W*(v-le)+f,y1:X*(v-le)+d,x2:W*(v-I-le)+f,y2:X*(v-I-le)+d},style:H,silent:!0});H.stroke==="auto"&&ie.setStyle({stroke:a(ee/k)}),h.add(ie)}if(w.get("show")){var le=w.get("distance")+$,fe=kx(rn(ee/k*(y-m)+m),w.get("formatter")),re=a(ee/k),me=W*(v-I-le)+f,J=X*(v-I-le)+d,te=w.get("rotate"),ue=0;te==="radial"?(ue=-N+2*Math.PI,ue>Math.PI/2&&(ue+=Math.PI)):te==="tangential"?ue=-N-Math.PI/2:ar(te)&&(ue=te*Math.PI/180),ue===0?h.add(new Qt({style:Ir(w,{text:fe,x:me,y:J,verticalAlign:X<-.8?"top":X>.8?"bottom":"middle",align:W<-.4?"left":W>.4?"right":"center"},{inheritColor:re}),silent:!0})):h.add(new Qt({style:Ir(w,{text:fe,x:me,y:J,verticalAlign:"middle",align:"center"},{inheritColor:re}),silent:!0,originX:me,originY:J,rotation:ue}))}if(S.get("show")&&ee!==k){var le=S.get("distance");le=le?le+c:c;for(var pe=0;pe<=M;pe++){W=Math.cos(N),X=Math.sin(N);var Se=new An({shape:{x1:W*(v-le)+f,y1:X*(v-le)+d,x2:W*(v-L-le)+f,y2:X*(v-L-le)+d},silent:!0,style:G});G.stroke==="auto"&&Se.setStyle({stroke:a((ee+pe/M)/k)}),h.add(Se),N+=B}N-=B}else N+=z}},t.prototype._renderPointer=function(r,n,i,a,s,o,l,u,c){var h=this.group,f=this._data,d=this._progressEls,v=[],m=r.get(["pointer","show"]),y=r.getModel("progress"),b=y.get("show"),S=r.getData(),w=S.mapDimension("value"),k=+r.get("min"),M=+r.get("max"),I=[k,M],L=[o,l];function N(B,H){var G=S.getItemModel(B),$=G.getModel("pointer"),W=Ze($.get("width"),s.r),X=Ze($.get("length"),s.r),ee=r.get(["pointer","icon"]),le=$.get("offsetCenter"),ie=Ze(le[0],s.r),fe=Ze(le[1],s.r),re=$.get("keepAspect"),me;return ee?me=dn(ee,ie-W/2,fe-X,W,X,null,re):me=new dRe({shape:{angle:-Math.PI/2,width:W,r:X,x:ie,y:fe}}),me.rotation=-(H+Math.PI/2),me.x=s.cx,me.y=s.cy,me}function z(B,H){var G=y.get("roundCap"),$=G?$S:_i,W=y.get("overlap"),X=W?y.get("width"):c/S.count(),ee=W?s.r-X:s.r-(B+1)*X,le=W?s.r:s.r-B*X,ie=new $({shape:{startAngle:o,endAngle:H,cx:s.cx,cy:s.cy,clockwise:u,r0:ee,r:le}});return W&&(ie.z2=pr(S.get(w,B),[k,M],[100,0],!0)),ie}(b||m)&&(S.diff(f).add(function(B){var H=S.get(w,B);if(m){var G=N(B,o);Br(G,{rotation:-((isNaN(+H)?L[0]:pr(H,I,L,!0))+Math.PI/2)},r),h.add(G),S.setItemGraphicEl(B,G)}if(b){var $=z(B,o),W=y.get("clip");Br($,{shape:{endAngle:pr(H,I,L,W)}},r),h.add($),KI(r.seriesIndex,S.dataType,B,$),v[B]=$}}).update(function(B,H){var G=S.get(w,B);if(m){var $=f.getItemGraphicEl(H),W=$?$.rotation:o,X=N(B,W);X.rotation=W,sr(X,{rotation:-((isNaN(+G)?L[0]:pr(G,I,L,!0))+Math.PI/2)},r),h.add(X),S.setItemGraphicEl(B,X)}if(b){var ee=d[H],le=ee?ee.shape.endAngle:o,ie=z(B,le),fe=y.get("clip");sr(ie,{shape:{endAngle:pr(G,I,L,fe)}},r),h.add(ie),KI(r.seriesIndex,S.dataType,B,ie),v[B]=ie}}).execute(),S.each(function(B){var H=S.getItemModel(B),G=H.getModel("emphasis"),$=G.get("focus"),W=G.get("blurScope"),X=G.get("disabled");if(m){var ee=S.getItemGraphicEl(B),le=S.getItemVisual(B,"style"),ie=le.fill;if(ee instanceof Vn){var fe=ee.style;ee.useStyle(Ne({image:fe.image,x:fe.x,y:fe.y,width:fe.width,height:fe.height},le))}else ee.useStyle(le),ee.type!=="pointer"&&ee.setColor(ie);ee.setStyle(H.getModel(["pointer","itemStyle"]).getItemStyle()),ee.style.fill==="auto"&&ee.setStyle("fill",a(pr(S.get(w,B),I,[0,1],!0))),ee.z2EmphasisLift=0,si(ee,H),qr(ee,$,W,X)}if(b){var re=v[B];re.useStyle(S.getItemVisual(B,"style")),re.setStyle(H.getModel(["progress","itemStyle"]).getItemStyle()),re.z2EmphasisLift=0,si(re,H),qr(re,$,W,X)}}),this._progressEls=v)},t.prototype._renderAnchor=function(r,n){var i=r.getModel("anchor"),a=i.get("show");if(a){var s=i.get("size"),o=i.get("icon"),l=i.get("offsetCenter"),u=i.get("keepAspect"),c=dn(o,n.cx-s/2+Ze(l[0],n.r),n.cy-s/2+Ze(l[1],n.r),s,s,null,u);c.z2=i.get("showAbove")?1:0,c.setStyle(i.getModel("itemStyle").getItemStyle()),this.group.add(c)}},t.prototype._renderTitleAndDetail=function(r,n,i,a,s){var o=this,l=r.getData(),u=l.mapDimension("value"),c=+r.get("min"),h=+r.get("max"),f=new Ct,d=[],v=[],m=r.isAnimationEnabled(),y=r.get(["pointer","showAbove"]);l.diff(this._data).add(function(b){d[b]=new Qt({silent:!0}),v[b]=new Qt({silent:!0})}).update(function(b,S){d[b]=o._titleEls[S],v[b]=o._detailEls[S]}).execute(),l.each(function(b){var S=l.getItemModel(b),w=l.get(u,b),k=new Ct,M=a(pr(w,[c,h],[0,1],!0)),I=S.getModel("title");if(I.get("show")){var L=I.get("offsetCenter"),N=s.cx+Ze(L[0],s.r),z=s.cy+Ze(L[1],s.r),B=d[b];B.attr({z2:y?0:2,style:Ir(I,{x:N,y:z,text:l.getName(b),align:"center",verticalAlign:"middle"},{inheritColor:M})}),k.add(B)}var H=S.getModel("detail");if(H.get("show")){var G=H.get("offsetCenter"),$=s.cx+Ze(G[0],s.r),W=s.cy+Ze(G[1],s.r),X=Ze(H.get("width"),s.r),ee=Ze(H.get("height"),s.r),le=r.get(["progress","show"])?l.getItemVisual(b,"style").fill:M,B=v[b],ie=H.get("formatter");B.attr({z2:y?0:2,style:Ir(H,{x:$,y:W,text:kx(w,ie),width:isNaN(X)?null:X,height:isNaN(ee)?null:ee,align:"center",verticalAlign:"middle"},{inheritColor:le})}),Hq(B,{normal:H},w,function(re){return kx(re,ie)}),m&&Vq(B,b,l,r,{getFormattedLabel:function(re,me,J,te,ue,pe){return kx(pe?pe.interpolatedValue:w,ie)}}),k.add(B)}f.add(k)}),this.group.add(f),this._titleEls=d,this._detailEls=v},t.type="gauge",t}(xr),gRe=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.visualStyleAccessPath="itemStyle",r}return t.prototype.getInitialData=function(r,n){return Qp(this,["value"])},t.type="series.gauge",t.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},t}(Cr);function mRe(e){e.registerChartView(vRe),e.registerSeriesModel(gRe)}var yRe=["itemStyle","opacity"],xRe=function(e){_e(t,e);function t(r,n){var i=e.call(this)||this,a=i,s=new Ai,o=new Qt;return a.setTextContent(o),i.setTextGuideLine(s),i.updateData(r,n,!0),i}return t.prototype.updateData=function(r,n,i){var a=this,s=r.hostModel,o=r.getItemModel(n),l=r.getItemLayout(n),u=o.getModel("emphasis"),c=o.get(yRe);c=c??1,i||Gs(a),a.useStyle(r.getItemVisual(n,"style")),a.style.lineJoin="round",i?(a.setShape({points:l.points}),a.style.opacity=0,Br(a,{style:{opacity:c}},s,n)):sr(a,{style:{opacity:c},shape:{points:l.points}},s,n),si(a,o),this._updateLabel(r,n),qr(this,u.get("focus"),u.get("blurScope"),u.get("disabled"))},t.prototype._updateLabel=function(r,n){var i=this,a=this.getTextGuideLine(),s=i.getTextContent(),o=r.hostModel,l=r.getItemModel(n),u=r.getItemLayout(n),c=u.label,h=r.getItemVisual(n,"style"),f=h.fill;oi(s,zn(l),{labelFetcher:r.hostModel,labelDataIndex:n,defaultOpacity:h.opacity,defaultText:r.getName(n)},{normal:{align:c.textAlign,verticalAlign:c.verticalAlign}}),i.setTextConfig({local:!0,inside:!!c.inside,insideStroke:f,outsideFill:f});var d=c.linePoints;a.setShape({points:d}),i.textGuideLineConfig={anchor:d?new zt(d[0][0],d[0][1]):null},sr(s,{style:{x:c.x,y:c.y}},o,n),s.attr({rotation:c.rotation,originX:c.x,originY:c.y,z2:10}),AP(i,kP(l),{stroke:f})},t}(wi),bRe=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.ignoreLabelLineUpdate=!0,r}return t.prototype.render=function(r,n,i){var a=r.getData(),s=this._data,o=this.group;a.diff(s).add(function(l){var u=new xRe(a,l);a.setItemGraphicEl(l,u),o.add(u)}).update(function(l,u){var c=s.getItemGraphicEl(u);c.updateData(a,l),o.add(c),a.setItemGraphicEl(l,c)}).remove(function(l){var u=s.getItemGraphicEl(l);n0(u,r,l)}).execute(),this._data=a},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.prototype.dispose=function(){},t.type="funnel",t}(xr),SRe=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.init=function(r){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new ly(rt(this.getData,this),rt(this.getRawData,this)),this._defaultLabelLine(r)},t.prototype.getInitialData=function(r,n){return Qp(this,{coordDimensions:["value"],encodeDefaulter:Lt(tP,this)})},t.prototype._defaultLabelLine=function(r){qh(r,"labelLine",["show"]);var n=r.labelLine,i=r.emphasis.labelLine;n.show=n.show&&r.label.show,i.show=i.show&&r.emphasis.label.show},t.prototype.getDataParams=function(r){var n=this.getData(),i=e.prototype.getDataParams.call(this,r),a=n.mapDimension("value"),s=n.getSum(a);return i.percent=s?+(n.get(a,r)/s*100).toFixed(2):0,i.$vars.push("percent"),i},t.type="series.funnel",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},t}(Cr);function _Re(e,t){return Sn(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function wRe(e,t){for(var r=e.mapDimension("value"),n=e.mapArray(r,function(l){return l}),i=[],a=t==="ascending",s=0,o=e.count();s<o;s++)i[s]=s;return vt(t)?i.sort(t):t!=="none"&&i.sort(function(l,u){return a?n[l]-n[u]:n[u]-n[l]}),i}function TRe(e){var t=e.hostModel,r=t.get("orient");e.each(function(n){var i=e.getItemModel(n),a=i.getModel("label"),s=a.get("position"),o=i.getModel("labelLine"),l=e.getItemLayout(n),u=l.points,c=s==="inner"||s==="inside"||s==="center"||s==="insideLeft"||s==="insideRight",h,f,d,v;if(c)s==="insideLeft"?(f=(u[0][0]+u[3][0])/2+5,d=(u[0][1]+u[3][1])/2,h="left"):s==="insideRight"?(f=(u[1][0]+u[2][0])/2-5,d=(u[1][1]+u[2][1])/2,h="right"):(f=(u[0][0]+u[1][0]+u[2][0]+u[3][0])/4,d=(u[0][1]+u[1][1]+u[2][1]+u[3][1])/4,h="center"),v=[[f,d],[f,d]];else{var m=void 0,y=void 0,b=void 0,S=void 0,w=o.get("length");s==="left"?(m=(u[3][0]+u[0][0])/2,y=(u[3][1]+u[0][1])/2,b=m-w,f=b-5,h="right"):s==="right"?(m=(u[1][0]+u[2][0])/2,y=(u[1][1]+u[2][1])/2,b=m+w,f=b+5,h="left"):s==="top"?(m=(u[3][0]+u[0][0])/2,y=(u[3][1]+u[0][1])/2,S=y-w,d=S-5,h="center"):s==="bottom"?(m=(u[1][0]+u[2][0])/2,y=(u[1][1]+u[2][1])/2,S=y+w,d=S+5,h="center"):s==="rightTop"?(m=r==="horizontal"?u[3][0]:u[1][0],y=r==="horizontal"?u[3][1]:u[1][1],r==="horizontal"?(S=y-w,d=S-5,h="center"):(b=m+w,f=b+5,h="top")):s==="rightBottom"?(m=u[2][0],y=u[2][1],r==="horizontal"?(S=y+w,d=S+5,h="center"):(b=m+w,f=b+5,h="bottom")):s==="leftTop"?(m=u[0][0],y=r==="horizontal"?u[0][1]:u[1][1],r==="horizontal"?(S=y-w,d=S-5,h="center"):(b=m-w,f=b-5,h="right")):s==="leftBottom"?(m=r==="horizontal"?u[1][0]:u[3][0],y=r==="horizontal"?u[1][1]:u[2][1],r==="horizontal"?(S=y+w,d=S+5,h="center"):(b=m-w,f=b-5,h="right")):(m=(u[1][0]+u[2][0])/2,y=(u[1][1]+u[2][1])/2,r==="horizontal"?(S=y+w,d=S+5,h="center"):(b=m+w,f=b+5,h="left")),r==="horizontal"?(b=m,f=b):(S=y,d=S),v=[[m,y],[b,S]]}l.label={linePoints:v,x:f,y:d,verticalAlign:"middle",textAlign:h,inside:c}})}function CRe(e,t){e.eachSeriesByType("funnel",function(r){var n=r.getData(),i=n.mapDimension("value"),a=r.get("sort"),s=_Re(r,t),o=r.get("orient"),l=s.width,u=s.height,c=wRe(n,a),h=s.x,f=s.y,d=o==="horizontal"?[Ze(r.get("minSize"),u),Ze(r.get("maxSize"),u)]:[Ze(r.get("minSize"),l),Ze(r.get("maxSize"),l)],v=n.getDataExtent(i),m=r.get("min"),y=r.get("max");m==null&&(m=Math.min(v[0],0)),y==null&&(y=v[1]);var b=r.get("funnelAlign"),S=r.get("gap"),w=o==="horizontal"?l:u,k=(w-S*(n.count()-1))/n.count(),M=function(W,X){if(o==="horizontal"){var ee=n.get(i,W)||0,le=pr(ee,[m,y],d,!0),ie=void 0;switch(b){case"top":ie=f;break;case"center":ie=f+(u-le)/2;break;case"bottom":ie=f+(u-le);break}return[[X,ie],[X,ie+le]]}var fe=n.get(i,W)||0,re=pr(fe,[m,y],d,!0),me;switch(b){case"left":me=h;break;case"center":me=h+(l-re)/2;break;case"right":me=h+l-re;break}return[[me,X],[me+re,X]]};a==="ascending"&&(k=-k,S=-S,o==="horizontal"?h+=l:f+=u,c=c.reverse());for(var I=0;I<c.length;I++){var L=c[I],N=c[I+1],z=n.getItemModel(L);if(o==="horizontal"){var B=z.get(["itemStyle","width"]);B==null?B=k:(B=Ze(B,l),a==="ascending"&&(B=-B));var H=M(L,h),G=M(N,h+B);h+=B+S,n.setItemLayout(L,{points:H.concat(G.slice().reverse())})}else{var $=z.get(["itemStyle","height"]);$==null?$=k:($=Ze($,u),a==="ascending"&&($=-$));var H=M(L,f),G=M(N,f+$);f+=$+S,n.setItemLayout(L,{points:H.concat(G.slice().reverse())})}}TRe(n)})}function ERe(e){e.registerChartView(bRe),e.registerSeriesModel(SRe),e.registerLayout(CRe),e.registerProcessor(oy("funnel"))}var ARe=.3,kRe=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r._dataGroup=new Ct,r._initialized=!1,r}return t.prototype.init=function(){this.group.add(this._dataGroup)},t.prototype.render=function(r,n,i,a){this._progressiveEls=null;var s=this._dataGroup,o=r.getData(),l=this._data,u=r.coordinateSystem,c=u.dimensions,h=q9(r);o.diff(l).add(f).update(d).remove(v).execute();function f(y){var b=X9(o,s,y,c,u);iA(b,o,y,h)}function d(y,b){var S=l.getItemGraphicEl(b),w=pJ(o,y,c,u);o.setItemGraphicEl(y,S),sr(S,{shape:{points:w}},r,y),Gs(S),iA(S,o,y,h)}function v(y){var b=l.getItemGraphicEl(y);s.remove(b)}if(!this._initialized){this._initialized=!0;var m=IRe(u,r,function(){setTimeout(function(){s.removeClipPath()})});s.setClipPath(m)}this._data=o},t.prototype.incrementalPrepareRender=function(r,n,i){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},t.prototype.incrementalRender=function(r,n,i){for(var a=n.getData(),s=n.coordinateSystem,o=s.dimensions,l=q9(n),u=this._progressiveEls=[],c=r.start;c<r.end;c++){var h=X9(a,this._dataGroup,c,o,s);h.incremental=!0,iA(h,a,c,l),u.push(h)}},t.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},t.type="parallel",t}(xr);function IRe(e,t,r){var n=e.model,i=e.getRect(),a=new Jt({shape:{x:i.x,y:i.y,width:i.width,height:i.height}}),s=n.get("layout")==="horizontal"?"width":"height";return a.setShape(s,0),Br(a,{shape:{width:i.width,height:i.height}},t,r),a}function pJ(e,t,r,n){for(var i=[],a=0;a<r.length;a++){var s=r[a],o=e.get(e.mapDimension(s),t);DRe(o,n.getAxis(s).type)||i.push(n.dataToPoint(o,s))}return i}function X9(e,t,r,n,i){var a=pJ(e,r,n,i),s=new Ai({shape:{points:a},z2:10});return t.add(s),e.setItemGraphicEl(r,s),s}function q9(e){var t=e.get("smooth",!0);return t===!0&&(t=ARe),t=Ro(t),lp(t)&&(t=0),{smooth:t}}function iA(e,t,r,n){e.useStyle(t.getItemVisual(r,"style")),e.style.fill=null,e.setShape("smooth",n.smooth);var i=t.getItemModel(r),a=i.getModel("emphasis");si(e,i,"lineStyle"),qr(e,a.get("focus"),a.get("blurScope"),a.get("disabled"))}function DRe(e,t){return t==="category"?e==null:e==null||isNaN(e)}var MRe=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.visualStyleAccessPath="lineStyle",r.visualDrawType="stroke",r}return t.prototype.getInitialData=function(r,n){return Vo(null,this,{useEncodeDefaulter:rt(LRe,null,this)})},t.prototype.getRawIndicesByActiveState=function(r){var n=this.coordinateSystem,i=this.getData(),a=[];return n.eachActiveState(i,function(s,o){r===s&&a.push(i.getRawIndex(o))}),a},t.type="series.parallel",t.dependencies=["parallel"],t.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},t}(Cr);function LRe(e){var t=e.ecModel.getComponent("parallel",e.get("parallelIndex"));if(t){var r={};return q(t.dimensions,function(n){var i=NRe(n);r[n]=i}),r}}function NRe(e){return+e.replace("dim","")}var PRe=["lineStyle","opacity"],RRe={seriesType:"parallel",reset:function(e,t){var r=e.coordinateSystem,n={normal:e.get(["lineStyle","opacity"]),active:e.get("activeOpacity"),inactive:e.get("inactiveOpacity")};return{progress:function(i,a){r.eachActiveState(a,function(s,o){var l=n[s];if(s==="normal"&&a.hasItemOption){var u=a.getItemModel(o).get(PRe,!0);u!=null&&(l=u)}var c=a.ensureUniqueItemVisual(o,"style");c.opacity=l},i.start,i.end)}}}};function ORe(e){BRe(e),FRe(e)}function BRe(e){if(!e.parallel){var t=!1;q(e.series,function(r){r&&r.type==="parallel"&&(t=!0)}),t&&(e.parallel=[{}])}}function FRe(e){var t=Tr(e.parallelAxis);q(t,function(r){if(St(r)){var n=r.parallelIndex||0,i=Tr(e.parallel)[n];i&&i.parallelAxisDefault&&Ot(r,i.parallelAxisDefault,!1)}})}var zRe=5,jRe=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i){this._model=r,this._api=i,this._handlers||(this._handlers={},q(HRe,function(a,s){i.getZr().on(s,this._handlers[s]=rt(a,this))},this)),Yp(this,"_throttledDispatchExpand",r.get("axisExpandRate"),"fixRate")},t.prototype.dispose=function(r,n){o0(this,"_throttledDispatchExpand"),q(this._handlers,function(i,a){n.getZr().off(a,i)}),this._handlers=null},t.prototype._throttledDispatchExpand=function(r){this._dispatchExpand(r)},t.prototype._dispatchExpand=function(r){r&&this._api.dispatchAction(Ne({type:"parallelAxisExpand"},r))},t.type="parallel",t}(Nr),HRe={mousedown:function(e){aA(this,"click")&&(this._mouseDownPoint=[e.offsetX,e.offsetY])},mouseup:function(e){var t=this._mouseDownPoint;if(aA(this,"click")&&t){var r=[e.offsetX,e.offsetY],n=Math.pow(t[0]-r[0],2)+Math.pow(t[1]-r[1],2);if(n>zRe)return;var i=this._model.coordinateSystem.getSlidedAxisExpandWindow([e.offsetX,e.offsetY]);i.behavior!=="none"&&this._dispatchExpand({axisExpandWindow:i.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(e){if(!(this._mouseDownPoint||!aA(this,"mousemove"))){var t=this._model,r=t.coordinateSystem.getSlidedAxisExpandWindow([e.offsetX,e.offsetY]),n=r.behavior;n==="jump"&&this._throttledDispatchExpand.debounceNextCall(t.get("axisExpandDebounce")),this._throttledDispatchExpand(n==="none"?null:{axisExpandWindow:r.axisExpandWindow,animation:n==="jump"?null:{duration:0}})}}};function aA(e,t){var r=e._model;return r.get("axisExpandable")&&r.get("axisExpandTriggerOn")===t}var VRe=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.init=function(){e.prototype.init.apply(this,arguments),this.mergeOption({})},t.prototype.mergeOption=function(r){var n=this.option;r&&Ot(n,r,!0),this._initDimensions()},t.prototype.contains=function(r,n){var i=r.get("parallelIndex");return i!=null&&n.getComponent("parallel",i)===this},t.prototype.setAxisExpand=function(r){q(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(n){r.hasOwnProperty(n)&&(this.option[n]=r[n])},this)},t.prototype._initDimensions=function(){var r=this.dimensions=[],n=this.parallelAxisIndex=[],i=lr(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(a){return(a.get("parallelIndex")||0)===this.componentIndex},this);q(i,function(a){r.push("dim"+a.get("dim")),n.push(a.componentIndex)})},t.type="parallel",t.dependencies=["parallelAxis"],t.layoutMode="box",t.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},t}(Yt),URe=function(e){_e(t,e);function t(r,n,i,a,s){var o=e.call(this,r,n,i)||this;return o.type=a||"value",o.axisIndex=s,o}return t.prototype.isHorizontal=function(){return this.coordinateSystem.getModel().get("layout")!=="horizontal"},t}(ps);function gf(e,t,r,n,i,a){e=e||0;var s=r[1]-r[0];if(i!=null&&(i=Zf(i,[0,s])),a!=null&&(a=Math.max(a,i??0)),n==="all"){var o=Math.abs(t[1]-t[0]);o=Zf(o,[0,s]),i=a=Zf(o,[i,a]),n=0}t[0]=Zf(t[0],r),t[1]=Zf(t[1],r);var l=sA(t,n);t[n]+=e;var u=i||0,c=r.slice();l.sign<0?c[0]+=u:c[1]-=u,t[n]=Zf(t[n],c);var h;return h=sA(t,n),i!=null&&(h.sign!==l.sign||h.span<i)&&(t[1-n]=t[n]+l.sign*i),h=sA(t,n),a!=null&&h.span>a&&(t[1-n]=t[n]+h.sign*a),t}function sA(e,t){var r=e[t]-e[1-t];return{span:Math.abs(r),sign:r>0?-1:r<0?1:t?-1:1}}function Zf(e,t){return Math.min(t[1]!=null?t[1]:1/0,Math.max(t[0]!=null?t[0]:-1/0,e))}var oA=q,vJ=Math.min,gJ=Math.max,K9=Math.floor,GRe=Math.ceil,Z9=rn,WRe=Math.PI,$Re=function(){function e(t,r,n){this.type="parallel",this._axesMap=ct(),this._axesLayout={},this.dimensions=t.dimensions,this._model=t,this._init(t,r,n)}return e.prototype._init=function(t,r,n){var i=t.dimensions,a=t.parallelAxisIndex;oA(i,function(s,o){var l=a[o],u=r.getComponent("parallelAxis",l),c=this._axesMap.set(s,new URe(s,ry(u),[0,0],u.get("type"),l)),h=c.type==="category";c.onBand=h&&u.get("boundaryGap"),c.inverse=u.get("inverse"),u.axis=c,c.model=u,c.coordinateSystem=u.coordinateSystem=this},this)},e.prototype.update=function(t,r){this._updateAxesFromSeries(this._model,t)},e.prototype.containPoint=function(t){var r=this._makeLayoutInfo(),n=r.axisBase,i=r.layoutBase,a=r.pixelDimIndex,s=t[1-a],o=t[a];return s>=n&&s<=n+r.axisLength&&o>=i&&o<=i+r.layoutLength},e.prototype.getModel=function(){return this._model},e.prototype._updateAxesFromSeries=function(t,r){r.eachSeries(function(n){if(t.contains(n,r)){var i=n.getData();oA(this.dimensions,function(a){var s=this._axesMap.get(a);s.scale.unionExtentFromData(i,i.mapDimension(a)),ef(s.scale,s.model)},this)}},this)},e.prototype.resize=function(t,r){this._rect=Sn(t.getBoxLayoutParams(),{width:r.getWidth(),height:r.getHeight()}),this._layoutAxes()},e.prototype.getRect=function(){return this._rect},e.prototype._makeLayoutInfo=function(){var t=this._model,r=this._rect,n=["x","y"],i=["width","height"],a=t.get("layout"),s=a==="horizontal"?0:1,o=r[i[s]],l=[0,o],u=this.dimensions.length,c=Ix(t.get("axisExpandWidth"),l),h=Ix(t.get("axisExpandCount")||0,[0,u]),f=t.get("axisExpandable")&&u>3&&u>h&&h>1&&c>0&&o>0,d=t.get("axisExpandWindow"),v;if(d)v=Ix(d[1]-d[0],l),d[1]=d[0]+v;else{v=Ix(c*(h-1),l);var m=t.get("axisExpandCenter")||K9(u/2);d=[c*m-v/2],d[1]=d[0]+v}var y=(o-v)/(u-h);y<3&&(y=0);var b=[K9(Z9(d[0]/c,1))+1,GRe(Z9(d[1]/c,1))-1],S=y/c*d[0];return{layout:a,pixelDimIndex:s,layoutBase:r[n[s]],layoutLength:o,axisBase:r[n[1-s]],axisLength:r[i[1-s]],axisExpandable:f,axisExpandWidth:c,axisCollapseWidth:y,axisExpandWindow:d,axisCount:u,winInnerIndices:b,axisExpandWindow0Pos:S}},e.prototype._layoutAxes=function(){var t=this._rect,r=this._axesMap,n=this.dimensions,i=this._makeLayoutInfo(),a=i.layout;r.each(function(s){var o=[0,i.axisLength],l=s.inverse?1:0;s.setExtent(o[l],o[1-l])}),oA(n,function(s,o){var l=(i.axisExpandable?XRe:YRe)(o,i),u={horizontal:{x:l.position,y:i.axisLength},vertical:{x:0,y:l.position}},c={horizontal:WRe/2,vertical:0},h=[u[a].x+t.x,u[a].y+t.y],f=c[a],d=ua();cc(d,d,f),Vs(d,d,h),this._axesLayout[s]={position:h,rotation:f,transform:d,axisNameAvailableWidth:l.axisNameAvailableWidth,axisLabelShow:l.axisLabelShow,nameTruncateMaxWidth:l.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},e.prototype.getAxis=function(t){return this._axesMap.get(t)},e.prototype.dataToPoint=function(t,r){return this.axisCoordToPoint(this._axesMap.get(r).dataToCoord(t),r)},e.prototype.eachActiveState=function(t,r,n,i){n==null&&(n=0),i==null&&(i=t.count());var a=this._axesMap,s=this.dimensions,o=[],l=[];q(s,function(y){o.push(t.mapDimension(y)),l.push(a.get(y).model)});for(var u=this.hasAxisBrushed(),c=n;c<i;c++){var h=void 0;if(!u)h="normal";else{h="active";for(var f=t.getValues(o,c),d=0,v=s.length;d<v;d++){var m=l[d].getActiveState(f[d]);if(m==="inactive"){h="inactive";break}}}r(h,c)}},e.prototype.hasAxisBrushed=function(){for(var t=this.dimensions,r=this._axesMap,n=!1,i=0,a=t.length;i<a;i++)r.get(t[i]).model.getActiveState()!=="normal"&&(n=!0);return n},e.prototype.axisCoordToPoint=function(t,r){var n=this._axesLayout[r];return zs([t,0],n.transform)},e.prototype.getAxisLayout=function(t){return _t(this._axesLayout[t])},e.prototype.getSlidedAxisExpandWindow=function(t){var r=this._makeLayoutInfo(),n=r.pixelDimIndex,i=r.axisExpandWindow.slice(),a=i[1]-i[0],s=[0,r.axisExpandWidth*(r.axisCount-1)];if(!this.containPoint(t))return{behavior:"none",axisExpandWindow:i};var o=t[n]-r.layoutBase-r.axisExpandWindow0Pos,l,u="slide",c=r.axisCollapseWidth,h=this._model.get("axisExpandSlideTriggerArea"),f=h[0]!=null;if(c)f&&c&&o<a*h[0]?(u="jump",l=o-a*h[2]):f&&c&&o>a*(1-h[0])?(u="jump",l=o-a*(1-h[2])):(l=o-a*h[1])>=0&&(l=o-a*(1-h[1]))<=0&&(l=0),l*=r.axisExpandWidth/c,l?gf(l,i,s,"all"):u="none";else{var d=i[1]-i[0],v=s[1]*o/d;i=[gJ(0,v-d/2)],i[1]=vJ(s[1],i[0]+d),i[0]=i[1]-d}return{axisExpandWindow:i,behavior:u}},e}();function Ix(e,t){return vJ(gJ(e,t[0]),t[1])}function YRe(e,t){var r=t.layoutLength/(t.axisCount-1);return{position:r*e,axisNameAvailableWidth:r,axisLabelShow:!0}}function XRe(e,t){var r=t.layoutLength,n=t.axisExpandWidth,i=t.axisCount,a=t.axisCollapseWidth,s=t.winInnerIndices,o,l=a,u=!1,c;return e<s[0]?(o=e*a,c=a):e<=s[1]?(o=t.axisExpandWindow0Pos+e*n-t.axisExpandWindow[0],l=n,u=!0):(o=r-(i-1-e)*a,c=a),{position:o,axisNameAvailableWidth:l,axisLabelShow:u,nameTruncateMaxWidth:c}}function qRe(e,t){var r=[];return e.eachComponent("parallel",function(n,i){var a=new $Re(n,e,t);a.name="parallel_"+i,a.resize(n,t),n.coordinateSystem=a,a.model=n,r.push(a)}),e.eachSeries(function(n){if(n.get("coordinateSystem")==="parallel"){var i=n.getReferringComponents("parallel",bn).models[0];n.coordinateSystem=i.coordinateSystem}}),r}var KRe={create:qRe},HD=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.activeIntervals=[],r}return t.prototype.getAreaSelectStyle=function(){return Zh([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},t.prototype.setActiveIntervals=function(r){var n=this.activeIntervals=_t(r);if(n)for(var i=n.length-1;i>=0;i--)Sa(n[i])},t.prototype.getActiveState=function(r){var n=this.activeIntervals;if(!n.length)return"normal";if(r==null||isNaN(+r))return"inactive";if(n.length===1){var i=n[0];if(i[0]<=r&&r<=i[1])return"active"}else for(var a=0,s=n.length;a<s;a++)if(n[a][0]<=r&&r<=n[a][1])return"active";return"inactive"},t}(Yt);cn(HD,Zp);var tf=!0,x0=Math.min,mp=Math.max,ZRe=Math.pow,QRe=1e4,JRe=6,eOe=6,Q9="globalPan",tOe={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},rOe={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},J9={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},nOe=0,ZP=function(e){_e(t,e);function t(r){var n=e.call(this)||this;return n._track=[],n._covers=[],n._handlers={},n._zr=r,n.group=new Ct,n._uid="brushController_"+nOe++,q(cOe,function(i,a){this._handlers[a]=rt(i,this)},n),n}return t.prototype.enableBrush=function(r){return this._brushType&&this._doDisableBrush(),r.brushType&&this._doEnableBrush(r),this},t.prototype._doEnableBrush=function(r){var n=this._zr;this._enableGlobalPan||YLe(n,Q9,this._uid),q(this._handlers,function(i,a){n.on(a,i)}),this._brushType=r.brushType,this._brushOption=Ot(_t(J9),r,!0)},t.prototype._doDisableBrush=function(){var r=this._zr;XLe(r,Q9,this._uid),q(this._handlers,function(n,i){r.off(i,n)}),this._brushType=this._brushOption=null},t.prototype.setPanels=function(r){if(r&&r.length){var n=this._panels={};q(r,function(i){n[i.panelId]=_t(i)})}else this._panels=null;return this},t.prototype.mount=function(r){r=r||{},this._enableGlobalPan=r.enableGlobalPan;var n=this.group;return this._zr.add(n),n.attr({x:r.x||0,y:r.y||0,rotation:r.rotation||0,scaleX:r.scaleX||1,scaleY:r.scaleY||1}),this._transform=n.getLocalTransform(),this},t.prototype.updateCovers=function(r){r=Fe(r,function(f){return Ot(_t(J9),f,!0)});var n="\0-brush-index-",i=this._covers,a=this._covers=[],s=this,o=this._creatingCover;return new El(i,r,u,l).add(c).update(c).remove(h).execute(),this;function l(f,d){return(f.id!=null?f.id:n+d)+"-"+f.brushType}function u(f,d){return l(f.__brushOption,d)}function c(f,d){var v=r[f];if(d!=null&&i[d]===o)a[f]=i[d];else{var m=a[f]=d!=null?(i[d].__brushOption=v,i[d]):yJ(s,mJ(s,v));QP(s,m)}}function h(f){i[f]!==o&&s.group.remove(i[f])}},t.prototype.unmount=function(){return this.enableBrush(!1),VD(this),this._zr.remove(this.group),this},t.prototype.dispose=function(){this.unmount(),this.off()},t}(cs);function mJ(e,t){var r=Ww[t.brushType].createCover(e,t);return r.__brushOption=t,bJ(r,t),e.group.add(r),r}function yJ(e,t){var r=JP(t);return r.endCreating&&(r.endCreating(e,t),bJ(t,t.__brushOption)),t}function xJ(e,t){var r=t.__brushOption;JP(t).updateCoverShape(e,t,r.range,r)}function bJ(e,t){var r=t.z;r==null&&(r=QRe),e.traverse(function(n){n.z=r,n.z2=r})}function QP(e,t){JP(t).updateCommon(e,t),xJ(e,t)}function JP(e){return Ww[e.__brushOption.brushType]}function eR(e,t,r){var n=e._panels;if(!n)return tf;var i,a=e._transform;return q(n,function(s){s.isTargetByCursor(t,r,a)&&(i=s)}),i}function SJ(e,t){var r=e._panels;if(!r)return tf;var n=t.__brushOption.panelId;return n!=null?r[n]:tf}function VD(e){var t=e._covers,r=t.length;return q(t,function(n){e.group.remove(n)},e),t.length=0,!!r}function rf(e,t){var r=Fe(e._covers,function(n){var i=n.__brushOption,a=_t(i.range);return{brushType:i.brushType,panelId:i.panelId,range:a}});e.trigger("brush",{areas:r,isEnd:!!t.isEnd,removeOnClick:!!t.removeOnClick})}function iOe(e){var t=e._track;if(!t.length)return!1;var r=t[t.length-1],n=t[0],i=r[0]-n[0],a=r[1]-n[1],s=ZRe(i*i+a*a,.5);return s>JRe}function _J(e){var t=e.length-1;return t<0&&(t=0),[e[0],e[t]]}function wJ(e,t,r,n){var i=new Ct;return i.add(new Jt({name:"main",style:tR(r),silent:!0,draggable:!0,cursor:"move",drift:Lt(ej,e,t,i,["n","s","w","e"]),ondragend:Lt(rf,t,{isEnd:!0})})),q(n,function(a){i.add(new Jt({name:a.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:Lt(ej,e,t,i,a),ondragend:Lt(rf,t,{isEnd:!0})}))}),i}function TJ(e,t,r,n){var i=n.brushStyle.lineWidth||0,a=mp(i,eOe),s=r[0][0],o=r[1][0],l=s-i/2,u=o-i/2,c=r[0][1],h=r[1][1],f=c-a+i/2,d=h-a+i/2,v=c-s,m=h-o,y=v+i,b=m+i;Ko(e,t,"main",s,o,v,m),n.transformable&&(Ko(e,t,"w",l,u,a,b),Ko(e,t,"e",f,u,a,b),Ko(e,t,"n",l,u,y,a),Ko(e,t,"s",l,d,y,a),Ko(e,t,"nw",l,u,a,a),Ko(e,t,"ne",f,u,a,a),Ko(e,t,"sw",l,d,a,a),Ko(e,t,"se",f,d,a,a))}function UD(e,t){var r=t.__brushOption,n=r.transformable,i=t.childAt(0);i.useStyle(tR(r)),i.attr({silent:!n,cursor:n?"move":"default"}),q([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(a){var s=t.childOfName(a.join("")),o=a.length===1?GD(e,a[0]):sOe(e,a);s&&s.attr({silent:!n,invisible:!n,cursor:n?rOe[o]+"-resize":null})})}function Ko(e,t,r,n,i,a,s){var o=t.childOfName(r);o&&o.setShape(lOe(rR(e,t,[[n,i],[n+a,i+s]])))}function tR(e){return yt({strokeNoScale:!0},e.brushStyle)}function CJ(e,t,r,n){var i=[x0(e,r),x0(t,n)],a=[mp(e,r),mp(t,n)];return[[i[0],a[0]],[i[1],a[1]]]}function aOe(e){return Vu(e.group)}function GD(e,t){var r={w:"left",e:"right",n:"top",s:"bottom"},n={left:"w",right:"e",top:"n",bottom:"s"},i=ww(r[t],aOe(e));return n[i]}function sOe(e,t){var r=[GD(e,t[0]),GD(e,t[1])];return(r[0]==="e"||r[0]==="w")&&r.reverse(),r.join("")}function ej(e,t,r,n,i,a){var s=r.__brushOption,o=e.toRectRange(s.range),l=EJ(t,i,a);q(n,function(u){var c=tOe[u];o[c[0]][c[1]]+=l[c[0]]}),s.range=e.fromRectRange(CJ(o[0][0],o[1][0],o[0][1],o[1][1])),QP(t,r),rf(t,{isEnd:!1})}function oOe(e,t,r,n){var i=t.__brushOption.range,a=EJ(e,r,n);q(i,function(s){s[0]+=a[0],s[1]+=a[1]}),QP(e,t),rf(e,{isEnd:!1})}function EJ(e,t,r){var n=e.group,i=n.transformCoordToLocal(t,r),a=n.transformCoordToLocal(0,0);return[i[0]-a[0],i[1]-a[1]]}function rR(e,t,r){var n=SJ(e,t);return n&&n!==tf?n.clipPath(r,e._transform):_t(r)}function lOe(e){var t=x0(e[0][0],e[1][0]),r=x0(e[0][1],e[1][1]),n=mp(e[0][0],e[1][0]),i=mp(e[0][1],e[1][1]);return{x:t,y:r,width:n-t,height:i-r}}function uOe(e,t,r){if(!(!e._brushType||hOe(e,t.offsetX,t.offsetY))){var n=e._zr,i=e._covers,a=eR(e,t,r);if(!e._dragging)for(var s=0;s<i.length;s++){var o=i[s].__brushOption;if(a&&(a===tf||o.panelId===a.panelId)&&Ww[o.brushType].contain(i[s],r[0],r[1]))return}a&&n.setCursorStyle("crosshair")}}function WD(e){var t=e.event;t.preventDefault&&t.preventDefault()}function $D(e,t,r){return e.childOfName("main").contain(t,r)}function AJ(e,t,r,n){var i=e._creatingCover,a=e._creatingPanel,s=e._brushOption,o;if(e._track.push(r.slice()),iOe(e)||i){if(a&&!i){s.brushMode==="single"&&VD(e);var l=_t(s);l.brushType=tj(l.brushType,a),l.panelId=a===tf?null:a.panelId,i=e._creatingCover=mJ(e,l),e._covers.push(i)}if(i){var u=Ww[tj(e._brushType,a)],c=i.__brushOption;c.range=u.getCreatingRange(rR(e,i,e._track)),n&&(yJ(e,i),u.updateCommon(e,i)),xJ(e,i),o={isEnd:n}}}else n&&s.brushMode==="single"&&s.removeOnClick&&eR(e,t,r)&&VD(e)&&(o={isEnd:n,removeOnClick:!0});return o}function tj(e,t){return e==="auto"?t.defaultBrushType:e}var cOe={mousedown:function(e){if(this._dragging)rj(this,e);else if(!e.target||!e.target.draggable){WD(e);var t=this.group.transformCoordToLocal(e.offsetX,e.offsetY);this._creatingCover=null;var r=this._creatingPanel=eR(this,e,t);r&&(this._dragging=!0,this._track=[t.slice()])}},mousemove:function(e){var t=e.offsetX,r=e.offsetY,n=this.group.transformCoordToLocal(t,r);if(uOe(this,e,n),this._dragging){WD(e);var i=AJ(this,e,n,!1);i&&rf(this,i)}},mouseup:function(e){rj(this,e)}};function rj(e,t){if(e._dragging){WD(t);var r=t.offsetX,n=t.offsetY,i=e.group.transformCoordToLocal(r,n),a=AJ(e,t,i,!0);e._dragging=!1,e._track=[],e._creatingCover=null,a&&rf(e,a)}}function hOe(e,t,r){var n=e._zr;return t<0||t>n.getWidth()||r<0||r>n.getHeight()}var Ww={lineX:nj(0),lineY:nj(1),rect:{createCover:function(e,t){function r(n){return n}return wJ({toRectRange:r,fromRectRange:r},e,t,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(e){var t=_J(e);return CJ(t[1][0],t[1][1],t[0][0],t[0][1])},updateCoverShape:function(e,t,r,n){TJ(e,t,r,n)},updateCommon:UD,contain:$D},polygon:{createCover:function(e,t){var r=new Ct;return r.add(new Ai({name:"main",style:tR(t),silent:!0})),r},getCreatingRange:function(e){return e},endCreating:function(e,t){t.remove(t.childAt(0)),t.add(new wi({name:"main",draggable:!0,drift:Lt(oOe,e,t),ondragend:Lt(rf,e,{isEnd:!0})}))},updateCoverShape:function(e,t,r,n){t.childAt(0).setShape({points:rR(e,t,r)})},updateCommon:UD,contain:$D}};function nj(e){return{createCover:function(t,r){return wJ({toRectRange:function(n){var i=[n,[0,100]];return e&&i.reverse(),i},fromRectRange:function(n){return n[e]}},t,r,[[["w"],["e"]],[["n"],["s"]]][e])},getCreatingRange:function(t){var r=_J(t),n=x0(r[0][e],r[1][e]),i=mp(r[0][e],r[1][e]);return[n,i]},updateCoverShape:function(t,r,n,i){var a,s=SJ(t,r);if(s!==tf&&s.getLinearBrushOtherExtent)a=s.getLinearBrushOtherExtent(e);else{var o=t._zr;a=[0,[o.getWidth(),o.getHeight()][1-e]]}var l=[n,a];e&&l.reverse(),TJ(t,r,l,i)},updateCommon:UD,contain:$D}}function kJ(e){return e=nR(e),function(t){return UN(t,e)}}function IJ(e,t){return e=nR(e),function(r){var n=t??r,i=n?e.width:e.height,a=n?e.x:e.y;return[a,a+(i||0)]}}function DJ(e,t,r){var n=nR(e);return function(i,a){return n.contain(a[0],a[1])&&!Hw(i,t,r)}}function nR(e){return jt.create(e)}var fOe=["axisLine","axisTickLabel","axisName"],dOe=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.init=function(r,n){e.prototype.init.apply(this,arguments),(this._brushController=new ZP(n.getZr())).on("brush",rt(this._onBrush,this))},t.prototype.render=function(r,n,i,a){if(!pOe(r,n,a)){this.axisModel=r,this.api=i,this.group.removeAll();var s=this._axisGroup;if(this._axisGroup=new Ct,this.group.add(this._axisGroup),!!r.get("show")){var o=gOe(r,n),l=o.coordinateSystem,u=r.getAreaSelectStyle(),c=u.width,h=r.axis.dim,f=l.getAxisLayout(h),d=Ne({strokeContainThreshold:c},f),v=new ji(r,d);q(fOe,v.add,v),this._axisGroup.add(v.getGroup()),this._refreshBrushController(d,u,r,o,c,i),J0(s,this._axisGroup,r)}}},t.prototype._refreshBrushController=function(r,n,i,a,s,o){var l=i.axis.getExtent(),u=l[1]-l[0],c=Math.min(30,Math.abs(u)*.1),h=jt.create({x:l[0],y:-s/2,width:u,height:s});h.x-=c,h.width+=2*c,this._brushController.mount({enableGlobalPan:!0,rotation:r.rotation,x:r.position[0],y:r.position[1]}).setPanels([{panelId:"pl",clipPath:kJ(h),isTargetByCursor:DJ(h,o,a),getLinearBrushOtherExtent:IJ(h,0)}]).enableBrush({brushType:"lineX",brushStyle:n,removeOnClick:!0}).updateCovers(vOe(i))},t.prototype._onBrush=function(r){var n=r.areas,i=this.axisModel,a=i.axis,s=Fe(n,function(o){return[a.coordToData(o.range[0],!0),a.coordToData(o.range[1],!0)]});(!i.option.realtime===r.isEnd||r.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:i.id,intervals:s})},t.prototype.dispose=function(){this._brushController.dispose()},t.type="parallelAxis",t}(Nr);function pOe(e,t,r){return r&&r.type==="axisAreaSelect"&&t.findComponents({mainType:"parallelAxis",query:r})[0]===e}function vOe(e){var t=e.axis;return Fe(e.activeIntervals,function(r){return{brushType:"lineX",panelId:"pl",range:[t.dataToCoord(r[0],!0),t.dataToCoord(r[1],!0)]}})}function gOe(e,t){return t.getComponent("parallel",e.get("parallelIndex"))}var mOe={type:"axisAreaSelect",event:"axisAreaSelected"};function yOe(e){e.registerAction(mOe,function(t,r){r.eachComponent({mainType:"parallelAxis",query:t},function(n){n.axis.model.setActiveIntervals(t.intervals)})}),e.registerAction("parallelAxisExpand",function(t,r){r.eachComponent({mainType:"parallel",query:t},function(n){n.setAxisExpand(t)})})}var xOe={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function MJ(e){e.registerComponentView(jRe),e.registerComponentModel(VRe),e.registerCoordinateSystem("parallel",KRe),e.registerPreprocessor(ORe),e.registerComponentModel(HD),e.registerComponentView(dOe),gp(e,"parallel",HD,xOe),yOe(e)}function bOe(e){Wt(MJ),e.registerChartView(kRe),e.registerSeriesModel(MRe),e.registerVisual(e.PRIORITY.VISUAL.BRUSH,RRe)}var SOe=function(){function e(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0}return e}(),_Oe=function(e){_e(t,e);function t(r){return e.call(this,r)||this}return t.prototype.getDefaultShape=function(){return new SOe},t.prototype.buildPath=function(r,n){var i=n.extent;r.moveTo(n.x1,n.y1),r.bezierCurveTo(n.cpx1,n.cpy1,n.cpx2,n.cpy2,n.x2,n.y2),n.orient==="vertical"?(r.lineTo(n.x2+i,n.y2),r.bezierCurveTo(n.cpx2+i,n.cpy2,n.cpx1+i,n.cpy1,n.x1+i,n.y1)):(r.lineTo(n.x2,n.y2+i),r.bezierCurveTo(n.cpx2,n.cpy2+i,n.cpx1,n.cpy1+i,n.x1,n.y1+i)),r.closePath()},t.prototype.highlight=function(){Tl(this)},t.prototype.downplay=function(){Cl(this)},t}(qt),wOe=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r._focusAdjacencyDisabled=!1,r}return t.prototype.render=function(r,n,i){var a=this,s=r.getGraph(),o=this.group,l=r.layoutInfo,u=l.width,c=l.height,h=r.getData(),f=r.getData("edge"),d=r.get("orient");this._model=r,o.removeAll(),o.x=l.x,o.y=l.y,s.eachEdge(function(v){var m=new _Oe,y=It(m);y.dataIndex=v.dataIndex,y.seriesIndex=r.seriesIndex,y.dataType="edge";var b=v.getModel(),S=b.getModel("lineStyle"),w=S.get("curveness"),k=v.node1.getLayout(),M=v.node1.getModel(),I=M.get("localX"),L=M.get("localY"),N=v.node2.getLayout(),z=v.node2.getModel(),B=z.get("localX"),H=z.get("localY"),G=v.getLayout(),$,W,X,ee,le,ie,fe,re;m.shape.extent=Math.max(1,G.dy),m.shape.orient=d,d==="vertical"?($=(I!=null?I*u:k.x)+G.sy,W=(L!=null?L*c:k.y)+k.dy,X=(B!=null?B*u:N.x)+G.ty,ee=H!=null?H*c:N.y,le=$,ie=W*(1-w)+ee*w,fe=X,re=W*w+ee*(1-w)):($=(I!=null?I*u:k.x)+k.dx,W=(L!=null?L*c:k.y)+G.sy,X=B!=null?B*u:N.x,ee=(H!=null?H*c:N.y)+G.ty,le=$*(1-w)+X*w,ie=W,fe=$*w+X*(1-w),re=ee),m.setShape({x1:$,y1:W,x2:X,y2:ee,cpx1:le,cpy1:ie,cpx2:fe,cpy2:re}),m.useStyle(S.getItemStyle()),ij(m.style,d,v);var me=""+b.get("value"),J=zn(b,"edgeLabel");oi(m,J,{labelFetcher:{getFormattedLabel:function(pe,Se,je,Pe,Te,Ve){return r.getFormattedLabel(pe,Se,"edge",Pe,Os(Te,J.normal&&J.normal.get("formatter"),me),Ve)}},labelDataIndex:v.dataIndex,defaultText:me}),m.setTextConfig({position:"inside"});var te=b.getModel("emphasis");si(m,b,"lineStyle",function(pe){var Se=pe.getItemStyle();return ij(Se,d,v),Se}),o.add(m),f.setItemGraphicEl(v.dataIndex,m);var ue=te.get("focus");qr(m,ue==="adjacency"?v.getAdjacentDataIndices():ue==="trajectory"?v.getTrajectoryDataIndices():ue,te.get("blurScope"),te.get("disabled"))}),s.eachNode(function(v){var m=v.getLayout(),y=v.getModel(),b=y.get("localX"),S=y.get("localY"),w=y.getModel("emphasis"),k=y.get(["itemStyle","borderRadius"])||0,M=new Jt({shape:{x:b!=null?b*u:m.x,y:S!=null?S*c:m.y,width:m.dx,height:m.dy,r:k},style:y.getModel("itemStyle").getItemStyle(),z2:10});oi(M,zn(y),{labelFetcher:{getFormattedLabel:function(L,N){return r.getFormattedLabel(L,N,"node")}},labelDataIndex:v.dataIndex,defaultText:v.id}),M.disableLabelAnimation=!0,M.setStyle("fill",v.getVisual("color")),M.setStyle("decal",v.getVisual("style").decal),si(M,y),o.add(M),h.setItemGraphicEl(v.dataIndex,M),It(M).dataType="node";var I=w.get("focus");qr(M,I==="adjacency"?v.getAdjacentDataIndices():I==="trajectory"?v.getTrajectoryDataIndices():I,w.get("blurScope"),w.get("disabled"))}),h.eachItemGraphicEl(function(v,m){var y=h.getItemModel(m);y.get("draggable")&&(v.drift=function(b,S){a._focusAdjacencyDisabled=!0,this.shape.x+=b,this.shape.y+=S,this.dirty(),i.dispatchAction({type:"dragNode",seriesId:r.id,dataIndex:h.getRawIndex(m),localX:this.shape.x/u,localY:this.shape.y/c})},v.ondragend=function(){a._focusAdjacencyDisabled=!1},v.draggable=!0,v.cursor="move")}),!this._data&&r.isAnimationEnabled()&&o.setClipPath(TOe(o.getBoundingRect(),r,function(){o.removeClipPath()})),this._data=r.getData()},t.prototype.dispose=function(){},t.type="sankey",t}(xr);function ij(e,t,r){switch(e.fill){case"source":e.fill=r.node1.getVisual("color"),e.decal=r.node1.getVisual("style").decal;break;case"target":e.fill=r.node2.getVisual("color"),e.decal=r.node2.getVisual("style").decal;break;case"gradient":var n=r.node1.getVisual("color"),i=r.node2.getVisual("color");Je(n)&&Je(i)&&(e.fill=new Fp(0,0,+(t==="horizontal"),+(t==="vertical"),[{color:n,offset:0},{color:i,offset:1}]))}}function TOe(e,t,r){var n=new Jt({shape:{x:e.x-10,y:e.y-10,width:0,height:e.height+20}});return Br(n,{shape:{width:e.width+20}},t,r),n}var COe=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.getInitialData=function(r,n){var i=r.edges||r.links||[],a=r.data||r.nodes||[],s=r.levels||[];this.levelModels=[];for(var o=this.levelModels,l=0;l<s.length;l++)s[l].depth!=null&&s[l].depth>=0&&(o[s[l].depth]=new ur(s[l],this,n));var u=dJ(a,i,this,!0,c);return u.data;function c(h,f){h.wrapMethod("getItemModel",function(d,v){var m=d.parentModel,y=m.getData().getItemLayout(v);if(y){var b=y.depth,S=m.levelModels[b];S&&(d.parentModel=S)}return d}),f.wrapMethod("getItemModel",function(d,v){var m=d.parentModel,y=m.getGraph().getEdgeByIndex(v),b=y.node1.getLayout();if(b){var S=b.depth,w=m.levelModels[S];w&&(d.parentModel=w)}return d})}},t.prototype.setNodePosition=function(r,n){var i=this.option.data||this.option.nodes,a=i[r];a.localX=n[0],a.localY=n[1]},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.formatTooltip=function(r,n,i){function a(d){return isNaN(d)||d==null}if(i==="edge"){var s=this.getDataParams(r,i),o=s.data,l=s.value,u=o.source+" -- "+o.target;return jn("nameValue",{name:u,value:l,noValue:a(l)})}else{var c=this.getGraph().getNodeByIndex(r),h=c.getLayout().value,f=this.getDataParams(r,i).data.name;return jn("nameValue",{name:f!=null?f+"":null,value:h,noValue:a(h)})}},t.prototype.optionUpdated=function(){},t.prototype.getDataParams=function(r,n){var i=e.prototype.getDataParams.call(this,r,n);if(i.value==null&&n==="node"){var a=this.getGraph().getNodeByIndex(r),s=a.getLayout().value;i.value=s}return i},t.type="series.sankey",t.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},t}(Cr);function EOe(e,t){e.eachSeriesByType("sankey",function(r){var n=r.get("nodeWidth"),i=r.get("nodeGap"),a=AOe(r,t);r.layoutInfo=a;var s=a.width,o=a.height,l=r.getGraph(),u=l.nodes,c=l.edges;IOe(u);var h=lr(u,function(m){return m.getLayout().value===0}),f=h.length!==0?0:r.get("layoutIterations"),d=r.get("orient"),v=r.get("nodeAlign");kOe(u,c,n,i,s,o,f,d,v)})}function AOe(e,t){return Sn(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function kOe(e,t,r,n,i,a,s,o,l){DOe(e,t,r,i,a,o,l),POe(e,t,a,i,n,s,o),UOe(e,o)}function IOe(e){q(e,function(t){var r=Wu(t.outEdges,QS),n=Wu(t.inEdges,QS),i=t.getValue()||0,a=Math.max(r,n,i);t.setLayout({value:a},!0)})}function DOe(e,t,r,n,i,a,s){for(var o=[],l=[],u=[],c=[],h=0,f=0;f<t.length;f++)o[f]=1;for(var f=0;f<e.length;f++)l[f]=e[f].inEdges.length,l[f]===0&&u.push(e[f]);for(var d=-1;u.length;){for(var v=0;v<u.length;v++){var m=u[v],y=m.hostGraph.data.getRawDataItem(m.dataIndex),b=y.depth!=null&&y.depth>=0;b&&y.depth>d&&(d=y.depth),m.setLayout({depth:b?y.depth:h},!0),a==="vertical"?m.setLayout({dy:r},!0):m.setLayout({dx:r},!0);for(var S=0;S<m.outEdges.length;S++){var w=m.outEdges[S],k=t.indexOf(w);o[k]=0;var M=w.node2,I=e.indexOf(M);--l[I]===0&&c.indexOf(M)<0&&c.push(M)}}++h,u=c,c=[]}for(var f=0;f<o.length;f++)if(o[f]===1)throw new Error("Sankey is a DAG, the original data has cycle!");var L=d>h-1?d:h-1;s&&s!=="left"&&MOe(e,s,a,L);var N=a==="vertical"?(i-r)/L:(n-r)/L;NOe(e,N,a)}function LJ(e){var t=e.hostGraph.data.getRawDataItem(e.dataIndex);return t.depth!=null&&t.depth>=0}function MOe(e,t,r,n){if(t==="right"){for(var i=[],a=e,s=0;a.length;){for(var o=0;o<a.length;o++){var l=a[o];l.setLayout({skNodeHeight:s},!0);for(var u=0;u<l.inEdges.length;u++){var c=l.inEdges[u];i.indexOf(c.node1)<0&&i.push(c.node1)}}a=i,i=[],++s}q(e,function(h){LJ(h)||h.setLayout({depth:Math.max(0,n-h.getLayout().skNodeHeight)},!0)})}else t==="justify"&&LOe(e,n)}function LOe(e,t){q(e,function(r){!LJ(r)&&!r.outEdges.length&&r.setLayout({depth:t},!0)})}function NOe(e,t,r){q(e,function(n){var i=n.getLayout().depth*t;r==="vertical"?n.setLayout({y:i},!0):n.setLayout({x:i},!0)})}function POe(e,t,r,n,i,a,s){var o=ROe(e,s);OOe(o,t,r,n,i,s),lA(o,i,r,n,s);for(var l=1;a>0;a--)l*=.99,BOe(o,l,s),lA(o,i,r,n,s),VOe(o,l,s),lA(o,i,r,n,s)}function ROe(e,t){var r=[],n=t==="vertical"?"y":"x",i=$I(e,function(a){return a.getLayout()[n]});return i.keys.sort(function(a,s){return a-s}),q(i.keys,function(a){r.push(i.buckets.get(a))}),r}function OOe(e,t,r,n,i,a){var s=1/0;q(e,function(o){var l=o.length,u=0;q(o,function(h){u+=h.getLayout().value});var c=a==="vertical"?(n-(l-1)*i)/u:(r-(l-1)*i)/u;c<s&&(s=c)}),q(e,function(o){q(o,function(l,u){var c=l.getLayout().value*s;a==="vertical"?(l.setLayout({x:u},!0),l.setLayout({dx:c},!0)):(l.setLayout({y:u},!0),l.setLayout({dy:c},!0))})}),q(t,function(o){var l=+o.getValue()*s;o.setLayout({dy:l},!0)})}function lA(e,t,r,n,i){var a=i==="vertical"?"x":"y";q(e,function(s){s.sort(function(m,y){return m.getLayout()[a]-y.getLayout()[a]});for(var o,l,u,c=0,h=s.length,f=i==="vertical"?"dx":"dy",d=0;d<h;d++)l=s[d],u=c-l.getLayout()[a],u>0&&(o=l.getLayout()[a]+u,i==="vertical"?l.setLayout({x:o},!0):l.setLayout({y:o},!0)),c=l.getLayout()[a]+l.getLayout()[f]+t;var v=i==="vertical"?n:r;if(u=c-t-v,u>0){o=l.getLayout()[a]-u,i==="vertical"?l.setLayout({x:o},!0):l.setLayout({y:o},!0),c=o;for(var d=h-2;d>=0;--d)l=s[d],u=l.getLayout()[a]+l.getLayout()[f]+t-c,u>0&&(o=l.getLayout()[a]-u,i==="vertical"?l.setLayout({x:o},!0):l.setLayout({y:o},!0)),c=l.getLayout()[a]}})}function BOe(e,t,r){q(e.slice().reverse(),function(n){q(n,function(i){if(i.outEdges.length){var a=Wu(i.outEdges,FOe,r)/Wu(i.outEdges,QS);if(isNaN(a)){var s=i.outEdges.length;a=s?Wu(i.outEdges,zOe,r)/s:0}if(r==="vertical"){var o=i.getLayout().x+(a-ec(i,r))*t;i.setLayout({x:o},!0)}else{var l=i.getLayout().y+(a-ec(i,r))*t;i.setLayout({y:l},!0)}}})})}function FOe(e,t){return ec(e.node2,t)*e.getValue()}function zOe(e,t){return ec(e.node2,t)}function jOe(e,t){return ec(e.node1,t)*e.getValue()}function HOe(e,t){return ec(e.node1,t)}function ec(e,t){return t==="vertical"?e.getLayout().x+e.getLayout().dx/2:e.getLayout().y+e.getLayout().dy/2}function QS(e){return e.getValue()}function Wu(e,t,r){for(var n=0,i=e.length,a=-1;++a<i;){var s=+t(e[a],r);isNaN(s)||(n+=s)}return n}function VOe(e,t,r){q(e,function(n){q(n,function(i){if(i.inEdges.length){var a=Wu(i.inEdges,jOe,r)/Wu(i.inEdges,QS);if(isNaN(a)){var s=i.inEdges.length;a=s?Wu(i.inEdges,HOe,r)/s:0}if(r==="vertical"){var o=i.getLayout().x+(a-ec(i,r))*t;i.setLayout({x:o},!0)}else{var l=i.getLayout().y+(a-ec(i,r))*t;i.setLayout({y:l},!0)}}})})}function UOe(e,t){var r=t==="vertical"?"x":"y";q(e,function(n){n.outEdges.sort(function(i,a){return i.node2.getLayout()[r]-a.node2.getLayout()[r]}),n.inEdges.sort(function(i,a){return i.node1.getLayout()[r]-a.node1.getLayout()[r]})}),q(e,function(n){var i=0,a=0;q(n.outEdges,function(s){s.setLayout({sy:i},!0),i+=s.getLayout().dy}),q(n.inEdges,function(s){s.setLayout({ty:a},!0),a+=s.getLayout().dy})})}function GOe(e){e.eachSeriesByType("sankey",function(t){var r=t.getGraph(),n=r.nodes,i=r.edges;if(n.length){var a=1/0,s=-1/0;q(n,function(o){var l=o.getLayout().value;l<a&&(a=l),l>s&&(s=l)}),q(n,function(o){var l=new Fn({type:"color",mappingMethod:"linear",dataExtent:[a,s],visual:t.get("color")}),u=l.mapValueToVisual(o.getLayout().value),c=o.getModel().get(["itemStyle","color"]);c!=null?(o.setVisual("color",c),o.setVisual("style",{fill:c})):(o.setVisual("color",u),o.setVisual("style",{fill:u}))})}i.length&&q(i,function(o){var l=o.getModel().get("lineStyle");o.setVisual("style",l)})})}function WOe(e){e.registerChartView(wOe),e.registerSeriesModel(COe),e.registerLayout(EOe),e.registerVisual(GOe),e.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(t,r){r.eachComponent({mainType:"series",subType:"sankey",query:t},function(n){n.setNodePosition(t.dataIndex,[t.localX,t.localY])})})}var NJ=function(){function e(){}return e.prototype._hasEncodeRule=function(t){var r=this.getEncode();return r&&r.get(t)!=null},e.prototype.getInitialData=function(t,r){var n,i=r.getComponent("xAxis",this.get("xAxisIndex")),a=r.getComponent("yAxis",this.get("yAxisIndex")),s=i.get("type"),o=a.get("type"),l;s==="category"?(t.layout="horizontal",n=i.getOrdinalMeta(),l=!this._hasEncodeRule("x")):o==="category"?(t.layout="vertical",n=a.getOrdinalMeta(),l=!this._hasEncodeRule("y")):t.layout=t.layout||"horizontal";var u=["x","y"],c=t.layout==="horizontal"?0:1,h=this._baseAxisDim=u[c],f=u[1-c],d=[i,a],v=d[c].get("type"),m=d[1-c].get("type"),y=t.data;if(y&&l){var b=[];q(y,function(k,M){var I;Oe(k)?(I=k.slice(),k.unshift(M)):Oe(k.value)?(I=Ne({},k),I.value=I.value.slice(),k.value.unshift(M)):I=k,b.push(I)}),t.data=b}var S=this.defaultValueDimensions,w=[{name:h,type:HS(v),ordinalMeta:n,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:f,type:HS(m),dimsDef:S.slice()}];return Qp(this,{coordDimensions:w,dimensionsCount:S.length+1,encodeDefaulter:Lt(oK,w,this)})},e.prototype.getBaseAxis=function(){var t=this._baseAxisDim;return this.ecModel.getComponent(t+"Axis",this.get(t+"AxisIndex")).axis},e}(),PJ=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],r.visualDrawType="stroke",r}return t.type="series.boxplot",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},t}(Cr);cn(PJ,NJ,!0);var $Oe=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i){var a=r.getData(),s=this.group,o=this._data;this._data||s.removeAll();var l=r.get("layout")==="horizontal"?1:0;a.diff(o).add(function(u){if(a.hasValue(u)){var c=a.getItemLayout(u),h=aj(c,a,u,l,!0);a.setItemGraphicEl(u,h),s.add(h)}}).update(function(u,c){var h=o.getItemGraphicEl(c);if(!a.hasValue(u)){s.remove(h);return}var f=a.getItemLayout(u);h?(Gs(h),RJ(f,h,a,u)):h=aj(f,a,u,l),s.add(h),a.setItemGraphicEl(u,h)}).remove(function(u){var c=o.getItemGraphicEl(u);c&&s.remove(c)}).execute(),this._data=a},t.prototype.remove=function(r){var n=this.group,i=this._data;this._data=null,i&&i.eachItemGraphicEl(function(a){a&&n.remove(a)})},t.type="boxplot",t}(xr),YOe=function(){function e(){}return e}(),XOe=function(e){_e(t,e);function t(r){var n=e.call(this,r)||this;return n.type="boxplotBoxPath",n}return t.prototype.getDefaultShape=function(){return new YOe},t.prototype.buildPath=function(r,n){var i=n.points,a=0;for(r.moveTo(i[a][0],i[a][1]),a++;a<4;a++)r.lineTo(i[a][0],i[a][1]);for(r.closePath();a<i.length;a++)r.moveTo(i[a][0],i[a][1]),a++,r.lineTo(i[a][0],i[a][1])},t}(qt);function aj(e,t,r,n,i){var a=e.ends,s=new XOe({shape:{points:i?qOe(a,n,e):a}});return RJ(e,s,t,r,i),s}function RJ(e,t,r,n,i){var a=r.hostModel,s=hf[i?"initProps":"updateProps"];s(t,{shape:{points:e.ends}},a,n),t.useStyle(r.getItemVisual(n,"style")),t.style.strokeNoScale=!0,t.z2=100;var o=r.getItemModel(n),l=o.getModel("emphasis");si(t,o),qr(t,l.get("focus"),l.get("blurScope"),l.get("disabled"))}function qOe(e,t,r){return Fe(e,function(n){return n=n.slice(),n[t]=r.initBaseline,n})}var gm=q;function KOe(e){var t=ZOe(e);gm(t,function(r){var n=r.seriesModels;n.length&&(QOe(r),gm(n,function(i,a){JOe(i,r.boxOffsetList[a],r.boxWidthList[a])}))})}function ZOe(e){var t=[],r=[];return e.eachSeriesByType("boxplot",function(n){var i=n.getBaseAxis(),a=Ut(r,i);a<0&&(a=r.length,r[a]=i,t[a]={axis:i,seriesModels:[]}),t[a].seriesModels.push(n)}),t}function QOe(e){var t=e.axis,r=e.seriesModels,n=r.length,i=e.boxWidthList=[],a=e.boxOffsetList=[],s=[],o;if(t.type==="category")o=t.getBandWidth();else{var l=0;gm(r,function(v){l=Math.max(l,v.getData().count())});var u=t.getExtent();o=Math.abs(u[1]-u[0])/l}gm(r,function(v){var m=v.get("boxWidth");Oe(m)||(m=[m,m]),s.push([Ze(m[0],o)||0,Ze(m[1],o)||0])});var c=o*.8-2,h=c/n*.3,f=(c-h*(n-1))/n,d=f/2-c/2;gm(r,function(v,m){a.push(d),d+=h+f,i.push(Math.min(Math.max(f,s[m][0]),s[m][1]))})}function JOe(e,t,r){var n=e.coordinateSystem,i=e.getData(),a=r/2,s=e.get("layout")==="horizontal"?0:1,o=1-s,l=["x","y"],u=i.mapDimension(l[s]),c=i.mapDimensionsAll(l[o]);if(u==null||c.length<5)return;for(var h=0;h<i.count();h++){var f=i.get(u,h),d=w(f,c[2],h),v=w(f,c[0],h),m=w(f,c[1],h),y=w(f,c[3],h),b=w(f,c[4],h),S=[];k(S,m,!1),k(S,y,!0),S.push(v,m,b,y),M(S,v),M(S,b),M(S,d),i.setItemLayout(h,{initBaseline:d[o],ends:S})}function w(I,L,N){var z=i.get(L,N),B=[];B[s]=I,B[o]=z;var H;return isNaN(I)||isNaN(z)?H=[NaN,NaN]:(H=n.dataToPoint(B),H[s]+=t),H}function k(I,L,N){var z=L.slice(),B=L.slice();z[s]+=a,B[s]-=a,N?I.push(z,B):I.push(B,z)}function M(I,L){var N=L.slice(),z=L.slice();N[s]-=a,z[s]+=a,I.push(N,z)}}function e3e(e,t){t=t||{};for(var r=[],n=[],i=t.boundIQR,a=i==="none"||i===0,s=0;s<e.length;s++){var o=Sa(e[s].slice()),l=pb(o,.25),u=pb(o,.5),c=pb(o,.75),h=o[0],f=o[o.length-1],d=(i??1.5)*(c-l),v=a?h:Math.max(h,l-d),m=a?f:Math.min(f,c+d),y=t.itemNameFormatter,b=vt(y)?y({value:s}):Je(y)?y.replace("{value}",s+""):s+"";r.push([b,v,l,u,c,m]);for(var S=0;S<o.length;S++){var w=o[S];if(w<v||w>m){var k=[b,w];n.push(k)}}}return{boxData:r,outliers:n}}var t3e={type:"echarts:boxplot",transform:function(t){var r=t.upstream;if(r.sourceFormat!==Ti){var n="";vr(n)}var i=e3e(r.getRawData(),t.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:i.boxData},{data:i.outliers}]}};function r3e(e){e.registerSeriesModel(PJ),e.registerChartView($Oe),e.registerLayout(KOe),e.registerTransform(t3e)}var n3e=["itemStyle","borderColor"],i3e=["itemStyle","borderColor0"],a3e=["itemStyle","borderColorDoji"],s3e=["itemStyle","color"],o3e=["itemStyle","color0"];function iR(e,t){return t.get(e>0?s3e:o3e)}function aR(e,t){return t.get(e===0?a3e:e>0?n3e:i3e)}var l3e={seriesType:"candlestick",plan:$p(),performRawSeries:!0,reset:function(e,t){if(!t.isSeriesFiltered(e)){var r=e.pipelineContext.large;return!r&&{progress:function(n,i){for(var a;(a=n.next())!=null;){var s=i.getItemModel(a),o=i.getItemLayout(a).sign,l=s.getItemStyle();l.fill=iR(o,s),l.stroke=aR(o,s)||l.fill;var u=i.ensureUniqueItemVisual(a,"style");Ne(u,l)}}}}}},u3e=["color","borderColor"],c3e=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(r),this._isLargeDraw?this._renderLarge(r):this._renderNormal(r)},t.prototype.incrementalPrepareRender=function(r,n,i){this._clear(),this._updateDrawMode(r)},t.prototype.incrementalRender=function(r,n,i,a){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(r,n):this._incrementalRenderNormal(r,n)},t.prototype.eachRendered=function(r){hc(this._progressiveEls||this.group,r)},t.prototype._updateDrawMode=function(r){var n=r.pipelineContext.large;(this._isLargeDraw==null||n!==this._isLargeDraw)&&(this._isLargeDraw=n,this._clear())},t.prototype._renderNormal=function(r){var n=r.getData(),i=this._data,a=this.group,s=n.getLayout("isSimpleBox"),o=r.get("clip",!0),l=r.coordinateSystem,u=l.getArea&&l.getArea();this._data||a.removeAll(),n.diff(i).add(function(c){if(n.hasValue(c)){var h=n.getItemLayout(c);if(o&&sj(u,h))return;var f=uA(h,c,!0);Br(f,{shape:{points:h.ends}},r,c),cA(f,n,c,s),a.add(f),n.setItemGraphicEl(c,f)}}).update(function(c,h){var f=i.getItemGraphicEl(h);if(!n.hasValue(c)){a.remove(f);return}var d=n.getItemLayout(c);if(o&&sj(u,d)){a.remove(f);return}f?(sr(f,{shape:{points:d.ends}},r,c),Gs(f)):f=uA(d),cA(f,n,c,s),a.add(f),n.setItemGraphicEl(c,f)}).remove(function(c){var h=i.getItemGraphicEl(c);h&&a.remove(h)}).execute(),this._data=n},t.prototype._renderLarge=function(r){this._clear(),oj(r,this.group);var n=r.get("clip",!0)?ay(r.coordinateSystem,!1,r):null;n?this.group.setClipPath(n):this.group.removeClipPath()},t.prototype._incrementalRenderNormal=function(r,n){for(var i=n.getData(),a=i.getLayout("isSimpleBox"),s;(s=r.next())!=null;){var o=i.getItemLayout(s),l=uA(o);cA(l,i,s,a),l.incremental=!0,this.group.add(l),this._progressiveEls.push(l)}},t.prototype._incrementalRenderLarge=function(r,n){oj(n,this.group,this._progressiveEls,!0)},t.prototype.remove=function(r){this._clear()},t.prototype._clear=function(){this.group.removeAll(),this._data=null},t.type="candlestick",t}(xr),h3e=function(){function e(){}return e}(),f3e=function(e){_e(t,e);function t(r){var n=e.call(this,r)||this;return n.type="normalCandlestickBox",n}return t.prototype.getDefaultShape=function(){return new h3e},t.prototype.buildPath=function(r,n){var i=n.points;this.__simpleBox?(r.moveTo(i[4][0],i[4][1]),r.lineTo(i[6][0],i[6][1])):(r.moveTo(i[0][0],i[0][1]),r.lineTo(i[1][0],i[1][1]),r.lineTo(i[2][0],i[2][1]),r.lineTo(i[3][0],i[3][1]),r.closePath(),r.moveTo(i[4][0],i[4][1]),r.lineTo(i[5][0],i[5][1]),r.moveTo(i[6][0],i[6][1]),r.lineTo(i[7][0],i[7][1]))},t}(qt);function uA(e,t,r){var n=e.ends;return new f3e({shape:{points:r?d3e(n,e):n},z2:100})}function sj(e,t){for(var r=!0,n=0;n<t.ends.length;n++)if(e.contain(t.ends[n][0],t.ends[n][1])){r=!1;break}return r}function cA(e,t,r,n){var i=t.getItemModel(r);e.useStyle(t.getItemVisual(r,"style")),e.style.strokeNoScale=!0,e.__simpleBox=n,si(e,i);var a=t.getItemLayout(r).sign;q(e.states,function(o,l){var u=i.getModel(l),c=iR(a,u),h=aR(a,u)||c,f=o.style||(o.style={});c&&(f.fill=c),h&&(f.stroke=h)});var s=i.getModel("emphasis");qr(e,s.get("focus"),s.get("blurScope"),s.get("disabled"))}function d3e(e,t){return Fe(e,function(r){return r=r.slice(),r[1]=t.initBaseline,r})}var p3e=function(){function e(){}return e}(),hA=function(e){_e(t,e);function t(r){var n=e.call(this,r)||this;return n.type="largeCandlestickBox",n}return t.prototype.getDefaultShape=function(){return new p3e},t.prototype.buildPath=function(r,n){for(var i=n.points,a=0;a<i.length;)if(this.__sign===i[a++]){var s=i[a++];r.moveTo(s,i[a++]),r.lineTo(s,i[a++])}else a+=3},t}(qt);function oj(e,t,r,n){var i=e.getData(),a=i.getLayout("largePoints"),s=new hA({shape:{points:a},__sign:1,ignoreCoarsePointer:!0});t.add(s);var o=new hA({shape:{points:a},__sign:-1,ignoreCoarsePointer:!0});t.add(o);var l=new hA({shape:{points:a},__sign:0,ignoreCoarsePointer:!0});t.add(l),fA(1,s,e),fA(-1,o,e),fA(0,l,e),n&&(s.incremental=!0,o.incremental=!0),r&&r.push(s,o)}function fA(e,t,r,n){var i=aR(e,r)||iR(e,r),a=r.getModel("itemStyle").getItemStyle(u3e);t.useStyle(a),t.style.fill=null,t.style.stroke=i}var OJ=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],r}return t.prototype.getShadowDim=function(){return"open"},t.prototype.brushSelector=function(r,n,i){var a=n.getItemLayout(r);return a&&i.rect(a.brushRect)},t.type="series.candlestick",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},t}(Cr);cn(OJ,NJ,!0);function v3e(e){!e||!Oe(e.series)||q(e.series,function(t){St(t)&&t.type==="k"&&(t.type="candlestick")})}var g3e={seriesType:"candlestick",plan:$p(),reset:function(e){var t=e.coordinateSystem,r=e.getData(),n=m3e(e,r),i=0,a=1,s=["x","y"],o=r.getDimensionIndex(r.mapDimension(s[i])),l=Fe(r.mapDimensionsAll(s[a]),r.getDimensionIndex,r),u=l[0],c=l[1],h=l[2],f=l[3];if(r.setLayout({candleWidth:n,isSimpleBox:n<=1.3}),o<0||l.length<4)return;return{progress:e.pipelineContext.large?v:d};function d(m,y){for(var b,S=y.getStore();(b=m.next())!=null;){var w=S.get(o,b),k=S.get(u,b),M=S.get(c,b),I=S.get(h,b),L=S.get(f,b),N=Math.min(k,M),z=Math.max(k,M),B=le(N,w),H=le(z,w),G=le(I,w),$=le(L,w),W=[];ie(W,H,0),ie(W,B,1),W.push(re($),re(H),re(G),re(B));var X=y.getItemModel(b),ee=!!X.get(["itemStyle","borderColorDoji"]);y.setItemLayout(b,{sign:lj(S,b,k,M,c,ee),initBaseline:k>M?H[a]:B[a],ends:W,brushRect:fe(I,L,w)})}function le(me,J){var te=[];return te[i]=J,te[a]=me,isNaN(J)||isNaN(me)?[NaN,NaN]:t.dataToPoint(te)}function ie(me,J,te){var ue=J.slice(),pe=J.slice();ue[i]=mb(ue[i]+n/2,1,!1),pe[i]=mb(pe[i]-n/2,1,!0),te?me.push(ue,pe):me.push(pe,ue)}function fe(me,J,te){var ue=le(me,te),pe=le(J,te);return ue[i]-=n/2,pe[i]-=n/2,{x:ue[0],y:ue[1],width:n,height:pe[1]-ue[1]}}function re(me){return me[i]=mb(me[i],1),me}}function v(m,y){for(var b=wo(m.count*4),S=0,w,k=[],M=[],I,L=y.getStore(),N=!!e.get(["itemStyle","borderColorDoji"]);(I=m.next())!=null;){var z=L.get(o,I),B=L.get(u,I),H=L.get(c,I),G=L.get(h,I),$=L.get(f,I);if(isNaN(z)||isNaN(G)||isNaN($)){b[S++]=NaN,S+=3;continue}b[S++]=lj(L,I,B,H,c,N),k[i]=z,k[a]=G,w=t.dataToPoint(k,null,M),b[S++]=w?w[0]:NaN,b[S++]=w?w[1]:NaN,k[a]=$,w=t.dataToPoint(k,null,M),b[S++]=w?w[1]:NaN}y.setLayout("largePoints",b)}}};function lj(e,t,r,n,i,a){var s;return r>n?s=-1:r<n?s=1:s=a?0:t>0?e.get(i,t-1)<=n?1:-1:1,s}function m3e(e,t){var r=e.getBaseAxis(),n,i=r.type==="category"?r.getBandWidth():(n=r.getExtent(),Math.abs(n[1]-n[0])/t.count()),a=Ze(Mt(e.get("barMaxWidth"),i),i),s=Ze(Mt(e.get("barMinWidth"),1),i),o=e.get("barWidth");return o!=null?Ze(o,i):Math.max(Math.min(i/2,a),s)}function y3e(e){e.registerChartView(c3e),e.registerSeriesModel(OJ),e.registerPreprocessor(v3e),e.registerVisual(l3e),e.registerLayout(g3e)}function uj(e,t){var r=t.rippleEffectColor||t.color;e.eachChild(function(n){n.attr({z:t.z,zlevel:t.zlevel,style:{stroke:t.brushType==="stroke"?r:null,fill:t.brushType==="fill"?r:null}})})}var x3e=function(e){_e(t,e);function t(r,n){var i=e.call(this)||this,a=new ny(r,n),s=new Ct;return i.add(a),i.add(s),i.updateData(r,n),i}return t.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},t.prototype.startEffectAnimation=function(r){for(var n=r.symbolType,i=r.color,a=r.rippleNumber,s=this.childAt(1),o=0;o<a;o++){var l=dn(n,-1,-1,2,2,i);l.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var u=-o/a*r.period+r.effectOffset;l.animate("",!0).when(r.period,{scaleX:r.rippleScale/2,scaleY:r.rippleScale/2}).delay(u).start(),l.animateStyle(!0).when(r.period,{opacity:0}).delay(u).start(),s.add(l)}uj(s,r)},t.prototype.updateEffectAnimation=function(r){for(var n=this._effectCfg,i=this.childAt(1),a=["symbolType","period","rippleScale","rippleNumber"],s=0;s<a.length;s++){var o=a[s];if(n[o]!==r[o]){this.stopEffectAnimation(),this.startEffectAnimation(r);return}}uj(i,r)},t.prototype.highlight=function(){Tl(this)},t.prototype.downplay=function(){Cl(this)},t.prototype.getSymbolType=function(){var r=this.childAt(0);return r&&r.getSymbolType()},t.prototype.updateData=function(r,n){var i=this,a=r.hostModel;this.childAt(0).updateData(r,n);var s=this.childAt(1),o=r.getItemModel(n),l=r.getItemVisual(n,"symbol"),u=Xp(r.getItemVisual(n,"symbolSize")),c=r.getItemVisual(n,"style"),h=c&&c.fill,f=o.getModel("emphasis");s.setScale(u),s.traverse(function(y){y.setStyle("fill",h)});var d=df(r.getItemVisual(n,"symbolOffset"),u);d&&(s.x=d[0],s.y=d[1]);var v=r.getItemVisual(n,"symbolRotate");s.rotation=(v||0)*Math.PI/180||0;var m={};m.showEffectOn=a.get("showEffectOn"),m.rippleScale=o.get(["rippleEffect","scale"]),m.brushType=o.get(["rippleEffect","brushType"]),m.period=o.get(["rippleEffect","period"])*1e3,m.effectOffset=n/r.count(),m.z=a.getShallow("z")||0,m.zlevel=a.getShallow("zlevel")||0,m.symbolType=l,m.color=h,m.rippleEffectColor=o.get(["rippleEffect","color"]),m.rippleNumber=o.get(["rippleEffect","number"]),m.showEffectOn==="render"?(this._effectCfg?this.updateEffectAnimation(m):this.startEffectAnimation(m),this._effectCfg=m):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(y){y==="emphasis"?m.showEffectOn!=="render"&&i.startEffectAnimation(m):y==="normal"&&m.showEffectOn!=="render"&&i.stopEffectAnimation()}),this._effectCfg=m,qr(this,f.get("focus"),f.get("blurScope"),f.get("disabled"))},t.prototype.fadeOut=function(r){r&&r()},t}(Ct),b3e=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.init=function(){this._symbolDraw=new iy(x3e)},t.prototype.render=function(r,n,i){var a=r.getData(),s=this._symbolDraw;s.updateData(a,{clipShape:this._getClipShape(r)}),this.group.add(s.group)},t.prototype._getClipShape=function(r){var n=r.coordinateSystem,i=n&&n.getArea&&n.getArea();return r.get("clip",!0)?i:null},t.prototype.updateTransform=function(r,n,i){var a=r.getData();this.group.dirty();var s=sy("").reset(r,n,i);s.progress&&s.progress({start:0,end:a.count(),count:a.count()},a),this._symbolDraw.updateLayout()},t.prototype._updateGroupTransform=function(r){var n=r.coordinateSystem;n&&n.getRoamTransform&&(this.group.transform=xX(n.getRoamTransform()),this.group.decomposeTransform())},t.prototype.remove=function(r,n){this._symbolDraw&&this._symbolDraw.remove(!0)},t.type="effectScatter",t}(xr),S3e=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.hasSymbolVisual=!0,r}return t.prototype.getInitialData=function(r,n){return Vo(null,this,{useEncodeDefaulter:!0})},t.prototype.brushSelector=function(r,n,i){return i.point(n.getItemLayout(r))},t.type="series.effectScatter",t.dependencies=["grid","polar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},t}(Cr);function _3e(e){e.registerChartView(b3e),e.registerSeriesModel(S3e),e.registerLayout(sy("effectScatter"))}var BJ=function(e){_e(t,e);function t(r,n,i){var a=e.call(this)||this;return a.add(a.createLine(r,n,i)),a._updateEffectSymbol(r,n),a}return t.prototype.createLine=function(r,n,i){return new qP(r,n,i)},t.prototype._updateEffectSymbol=function(r,n){var i=r.getItemModel(n),a=i.getModel("effect"),s=a.get("symbolSize"),o=a.get("symbol");Oe(s)||(s=[s,s]);var l=r.getItemVisual(n,"style"),u=a.get("color")||l&&l.stroke,c=this.childAt(1);this._symbolType!==o&&(this.remove(c),c=dn(o,-.5,-.5,1,1,u),c.z2=100,c.culling=!0,this.add(c)),c&&(c.setStyle("shadowColor",u),c.setStyle(a.getItemStyle(["color"])),c.scaleX=s[0],c.scaleY=s[1],c.setColor(u),this._symbolType=o,this._symbolScale=s,this._updateEffectAnimation(r,a,n))},t.prototype._updateEffectAnimation=function(r,n,i){var a=this.childAt(1);if(a){var s=r.getItemLayout(i),o=n.get("period")*1e3,l=n.get("loop"),u=n.get("roundTrip"),c=n.get("constantSpeed"),h=On(n.get("delay"),function(d){return d/r.count()*o/3});if(a.ignore=!0,this._updateAnimationPoints(a,s),c>0&&(o=this._getLineLength(a)/c*1e3),o!==this._period||l!==this._loop||u!==this._roundTrip){a.stopAnimation();var f=void 0;vt(h)?f=h(i):f=h,a.__t>0&&(f=-o*a.__t),this._animateSymbol(a,o,f,l,u)}this._period=o,this._loop=l,this._roundTrip=u}},t.prototype._animateSymbol=function(r,n,i,a,s){if(n>0){r.__t=0;var o=this,l=r.animate("",a).when(s?n*2:n,{__t:s?2:1}).delay(i).during(function(){o._updateSymbolPosition(r)});a||l.done(function(){o.remove(r)}),l.start()}},t.prototype._getLineLength=function(r){return ll(r.__p1,r.__cp1)+ll(r.__cp1,r.__p2)},t.prototype._updateAnimationPoints=function(r,n){r.__p1=n[0],r.__p2=n[1],r.__cp1=n[2]||[(n[0][0]+n[1][0])/2,(n[0][1]+n[1][1])/2]},t.prototype.updateData=function(r,n,i){this.childAt(0).updateData(r,n,i),this._updateEffectSymbol(r,n)},t.prototype._updateSymbolPosition=function(r){var n=r.__p1,i=r.__p2,a=r.__cp1,s=r.__t<1?r.__t:2-r.__t,o=[r.x,r.y],l=o.slice(),u=$n,c=DI;o[0]=u(n[0],a[0],i[0],s),o[1]=u(n[1],a[1],i[1],s);var h=r.__t<1?c(n[0],a[0],i[0],s):c(i[0],a[0],n[0],1-s),f=r.__t<1?c(n[1],a[1],i[1],s):c(i[1],a[1],n[1],1-s);r.rotation=-Math.atan2(f,h)-Math.PI/2,(this._symbolType==="line"||this._symbolType==="rect"||this._symbolType==="roundRect")&&(r.__lastT!==void 0&&r.__lastT<r.__t?(r.scaleY=ll(l,o)*1.05,s===1&&(o[0]=l[0]+(o[0]-l[0])/2,o[1]=l[1]+(o[1]-l[1])/2)):r.__lastT===1?r.scaleY=2*ll(n,o):r.scaleY=this._symbolScale[1]),r.__lastT=r.__t,r.ignore=!1,r.x=o[0],r.y=o[1]},t.prototype.updateLayout=function(r,n){this.childAt(0).updateLayout(r,n);var i=r.getItemModel(n).getModel("effect");this._updateEffectAnimation(r,i,n)},t}(Ct),FJ=function(e){_e(t,e);function t(r,n,i){var a=e.call(this)||this;return a._createPolyline(r,n,i),a}return t.prototype._createPolyline=function(r,n,i){var a=r.getItemLayout(n),s=new Ai({shape:{points:a}});this.add(s),this._updateCommonStl(r,n,i)},t.prototype.updateData=function(r,n,i){var a=r.hostModel,s=this.childAt(0),o={shape:{points:r.getItemLayout(n)}};sr(s,o,a,n),this._updateCommonStl(r,n,i)},t.prototype._updateCommonStl=function(r,n,i){var a=this.childAt(0),s=r.getItemModel(n),o=i&&i.emphasisLineStyle,l=i&&i.focus,u=i&&i.blurScope,c=i&&i.emphasisDisabled;if(!i||r.hasItemOption){var h=s.getModel("emphasis");o=h.getModel("lineStyle").getLineStyle(),c=h.get("disabled"),l=h.get("focus"),u=h.get("blurScope")}a.useStyle(r.getItemVisual(n,"style")),a.style.fill=null,a.style.strokeNoScale=!0;var f=a.ensureState("emphasis");f.style=o,qr(this,l,u,c)},t.prototype.updateLayout=function(r,n){var i=this.childAt(0);i.setShape("points",r.getItemLayout(n))},t}(Ct),w3e=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r._lastFrame=0,r._lastFramePercent=0,r}return t.prototype.createLine=function(r,n,i){return new FJ(r,n,i)},t.prototype._updateAnimationPoints=function(r,n){this._points=n;for(var i=[0],a=0,s=1;s<n.length;s++){var o=n[s-1],l=n[s];a+=ll(o,l),i.push(a)}if(a===0){this._length=0;return}for(var s=0;s<i.length;s++)i[s]/=a;this._offsets=i,this._length=a},t.prototype._getLineLength=function(){return this._length},t.prototype._updateSymbolPosition=function(r){var n=r.__t<1?r.__t:2-r.__t,i=this._points,a=this._offsets,s=i.length;if(a){var o=this._lastFrame,l;if(n<this._lastFramePercent){var u=Math.min(o+1,s-1);for(l=u;l>=0&&!(a[l]<=n);l--);l=Math.min(l,s-2)}else{for(l=o;l<s&&!(a[l]>n);l++);l=Math.min(l-1,s-2)}var c=(n-a[l])/(a[l+1]-a[l]),h=i[l],f=i[l+1];r.x=h[0]*(1-c)+c*f[0],r.y=h[1]*(1-c)+c*f[1];var d=r.__t<1?f[0]-h[0]:h[0]-f[0],v=r.__t<1?f[1]-h[1]:h[1]-f[1];r.rotation=-Math.atan2(v,d)-Math.PI/2,this._lastFrame=l,this._lastFramePercent=n,r.ignore=!1}},t}(BJ),T3e=function(){function e(){this.polyline=!1,this.curveness=0,this.segs=[]}return e}(),C3e=function(e){_e(t,e);function t(r){var n=e.call(this,r)||this;return n._off=0,n.hoverDataIdx=-1,n}return t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new T3e},t.prototype.buildPath=function(r,n){var i=n.segs,a=n.curveness,s;if(n.polyline)for(s=this._off;s<i.length;){var o=i[s++];if(o>0){r.moveTo(i[s++],i[s++]);for(var l=1;l<o;l++)r.lineTo(i[s++],i[s++])}}else for(s=this._off;s<i.length;){var u=i[s++],c=i[s++],h=i[s++],f=i[s++];if(r.moveTo(u,c),a>0){var d=(u+h)/2-(c-f)*a,v=(c+f)/2-(h-u)*a;r.quadraticCurveTo(d,v,h,f)}else r.lineTo(h,f)}this.incremental&&(this._off=s,this.notClear=!0)},t.prototype.findDataIndex=function(r,n){var i=this.shape,a=i.segs,s=i.curveness,o=this.style.lineWidth;if(i.polyline)for(var l=0,u=0;u<a.length;){var c=a[u++];if(c>0)for(var h=a[u++],f=a[u++],d=1;d<c;d++){var v=a[u++],m=a[u++];if(fu(h,f,v,m,o,r,n))return l}l++}else for(var l=0,u=0;u<a.length;){var h=a[u++],f=a[u++],v=a[u++],m=a[u++];if(s>0){var y=(h+v)/2-(f-m)*s,b=(f+m)/2-(v-h)*s;if(cq(h,f,y,b,v,m,o,r,n))return l}else if(fu(h,f,v,m,o,r,n))return l;l++}return-1},t.prototype.contain=function(r,n){var i=this.transformCoordToLocal(r,n),a=this.getBoundingRect();if(r=i[0],n=i[1],a.contain(r,n)){var s=this.hoverDataIdx=this.findDataIndex(r,n);return s>=0}return this.hoverDataIdx=-1,!1},t.prototype.getBoundingRect=function(){var r=this._rect;if(!r){for(var n=this.shape,i=n.segs,a=1/0,s=1/0,o=-1/0,l=-1/0,u=0;u<i.length;){var c=i[u++],h=i[u++];a=Math.min(c,a),o=Math.max(c,o),s=Math.min(h,s),l=Math.max(h,l)}r=this._rect=new jt(a,s,o,l)}return r},t}(qt),E3e=function(){function e(){this.group=new Ct}return e.prototype.updateData=function(t){this._clear();var r=this._create();r.setShape({segs:t.getLayout("linesPoints")}),this._setCommon(r,t)},e.prototype.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clear()},e.prototype.incrementalUpdate=function(t,r){var n=this._newAdded[0],i=r.getLayout("linesPoints"),a=n&&n.shape.segs;if(a&&a.length<2e4){var s=a.length,o=new Float32Array(s+i.length);o.set(a),o.set(i,s),n.setShape({segs:o})}else{this._newAdded=[];var l=this._create();l.incremental=!0,l.setShape({segs:i}),this._setCommon(l,r),l.__startIndex=t.start}},e.prototype.remove=function(){this._clear()},e.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},e.prototype._create=function(){var t=new C3e({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(t),this.group.add(t),t},e.prototype._setCommon=function(t,r,n){var i=r.hostModel;t.setShape({polyline:i.get("polyline"),curveness:i.get(["lineStyle","curveness"])}),t.useStyle(i.getModel("lineStyle").getLineStyle()),t.style.strokeNoScale=!0;var a=r.getVisual("style");a&&a.stroke&&t.setStyle("stroke",a.stroke),t.setStyle("fill",null);var s=It(t);s.seriesIndex=i.seriesIndex,t.on("mousemove",function(o){s.dataIndex=null;var l=t.hoverDataIdx;l>0&&(s.dataIndex=l+t.__startIndex)})},e.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},e}(),zJ={seriesType:"lines",plan:$p(),reset:function(e){var t=e.coordinateSystem;if(t){var r=e.get("polyline"),n=e.pipelineContext.large;return{progress:function(i,a){var s=[];if(n){var o=void 0,l=i.end-i.start;if(r){for(var u=0,c=i.start;c<i.end;c++)u+=e.getLineCoordsCount(c);o=new Float32Array(l+u*2)}else o=new Float32Array(l*4);for(var h=0,f=[],c=i.start;c<i.end;c++){var d=e.getLineCoords(c,s);r&&(o[h++]=d);for(var v=0;v<d;v++)f=t.dataToPoint(s[v],!1,f),o[h++]=f[0],o[h++]=f[1]}a.setLayout("linesPoints",o)}else for(var c=i.start;c<i.end;c++){var m=a.getItemModel(c),d=e.getLineCoords(c,s),y=[];if(r)for(var b=0;b<d;b++)y.push(t.dataToPoint(s[b]));else{y[0]=t.dataToPoint(s[0]),y[1]=t.dataToPoint(s[1]);var S=m.get(["lineStyle","curveness"]);+S&&(y[2]=[(y[0][0]+y[1][0])/2-(y[0][1]-y[1][1])*S,(y[0][1]+y[1][1])/2-(y[1][0]-y[0][0])*S])}a.setItemLayout(c,y)}}}}}},A3e=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i){var a=r.getData(),s=this._updateLineDraw(a,r),o=r.get("zlevel"),l=r.get(["effect","trailLength"]),u=i.getZr(),c=u.painter.getType()==="svg";c||u.painter.getLayer(o).clear(!0),this._lastZlevel!=null&&!c&&u.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(r)&&l>0&&(c||u.configLayer(o,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(l/10+.9,1),0)})),s.updateData(a);var h=r.get("clip",!0)&&ay(r.coordinateSystem,!1,r);h?this.group.setClipPath(h):this.group.removeClipPath(),this._lastZlevel=o,this._finished=!0},t.prototype.incrementalPrepareRender=function(r,n,i){var a=r.getData(),s=this._updateLineDraw(a,r);s.incrementalPrepareUpdate(a),this._clearLayer(i),this._finished=!1},t.prototype.incrementalRender=function(r,n,i){this._lineDraw.incrementalUpdate(r,n.getData()),this._finished=r.end===n.getData().count()},t.prototype.eachRendered=function(r){this._lineDraw&&this._lineDraw.eachRendered(r)},t.prototype.updateTransform=function(r,n,i){var a=r.getData(),s=r.pipelineContext;if(!this._finished||s.large||s.progressiveRender)return{update:!0};var o=zJ.reset(r,n,i);o.progress&&o.progress({start:0,end:a.count(),count:a.count()},a),this._lineDraw.updateLayout(),this._clearLayer(i)},t.prototype._updateLineDraw=function(r,n){var i=this._lineDraw,a=this._showEffect(n),s=!!n.get("polyline"),o=n.pipelineContext,l=o.large;return(!i||a!==this._hasEffet||s!==this._isPolyline||l!==this._isLargeDraw)&&(i&&i.remove(),i=this._lineDraw=l?new E3e:new KP(s?a?w3e:FJ:a?BJ:qP),this._hasEffet=a,this._isPolyline=s,this._isLargeDraw=l),this.group.add(i.group),i},t.prototype._showEffect=function(r){return!!r.get(["effect","show"])},t.prototype._clearLayer=function(r){var n=r.getZr(),i=n.painter.getType()==="svg";!i&&this._lastZlevel!=null&&n.painter.getLayer(this._lastZlevel).clear(!0)},t.prototype.remove=function(r,n){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(n)},t.prototype.dispose=function(r,n){this.remove(r,n)},t.type="lines",t}(xr),k3e=typeof Uint32Array>"u"?Array:Uint32Array,I3e=typeof Float64Array>"u"?Array:Float64Array;function cj(e){var t=e.data;t&&t[0]&&t[0][0]&&t[0][0].coord&&(e.data=Fe(t,function(r){var n=[r[0].coord,r[1].coord],i={coords:n};return r[0].name&&(i.fromName=r[0].name),r[1].name&&(i.toName=r[1].name),sw([i,r[0],r[1]])}))}var D3e=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.visualStyleAccessPath="lineStyle",r.visualDrawType="stroke",r}return t.prototype.init=function(r){r.data=r.data||[],cj(r);var n=this._processFlatCoordsArray(r.data);this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset,n.flatCoords&&(r.data=new Float32Array(n.count)),e.prototype.init.apply(this,arguments)},t.prototype.mergeOption=function(r){if(cj(r),r.data){var n=this._processFlatCoordsArray(r.data);this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset,n.flatCoords&&(r.data=new Float32Array(n.count))}e.prototype.mergeOption.apply(this,arguments)},t.prototype.appendData=function(r){var n=this._processFlatCoordsArray(r.data);n.flatCoords&&(this._flatCoords?(this._flatCoords=up(this._flatCoords,n.flatCoords),this._flatCoordsOffset=up(this._flatCoordsOffset,n.flatCoordsOffset)):(this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset),r.data=new Float32Array(n.count)),this.getRawData().appendData(r.data)},t.prototype._getCoordsFromItemModel=function(r){var n=this.getData().getItemModel(r),i=n.option instanceof Array?n.option:n.getShallow("coords");return i},t.prototype.getLineCoordsCount=function(r){return this._flatCoordsOffset?this._flatCoordsOffset[r*2+1]:this._getCoordsFromItemModel(r).length},t.prototype.getLineCoords=function(r,n){if(this._flatCoordsOffset){for(var i=this._flatCoordsOffset[r*2],a=this._flatCoordsOffset[r*2+1],s=0;s<a;s++)n[s]=n[s]||[],n[s][0]=this._flatCoords[i+s*2],n[s][1]=this._flatCoords[i+s*2+1];return a}else{for(var o=this._getCoordsFromItemModel(r),s=0;s<o.length;s++)n[s]=n[s]||[],n[s][0]=o[s][0],n[s][1]=o[s][1];return o.length}},t.prototype._processFlatCoordsArray=function(r){var n=0;if(this._flatCoords&&(n=this._flatCoords.length),ar(r[0])){for(var i=r.length,a=new k3e(i),s=new I3e(i),o=0,l=0,u=0,c=0;c<i;){u++;var h=r[c++];a[l++]=o+n,a[l++]=h;for(var f=0;f<h;f++){var d=r[c++],v=r[c++];s[o++]=d,s[o++]=v}}return{flatCoordsOffset:new Uint32Array(a.buffer,0,l),flatCoords:s,count:u}}return{flatCoordsOffset:null,flatCoords:null,count:r.length}},t.prototype.getInitialData=function(r,n){var i=new xi(["value"],this);return i.hasItemOption=!1,i.initData(r.data,[],function(a,s,o,l){if(a instanceof Array)return NaN;i.hasItemOption=!0;var u=a.value;if(u!=null)return u instanceof Array?u[l]:u}),i},t.prototype.formatTooltip=function(r,n,i){var a=this.getData(),s=a.getItemModel(r),o=s.get("name");if(o)return o;var l=s.get("fromName"),u=s.get("toName"),c=[];return l!=null&&c.push(l),u!=null&&c.push(u),jn("nameValue",{name:c.join(" > ")})},t.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},t.prototype.getProgressive=function(){var r=this.option.progressive;return r??(this.option.large?1e4:this.get("progressive"))},t.prototype.getProgressiveThreshold=function(){var r=this.option.progressiveThreshold;return r??(this.option.large?2e4:this.get("progressiveThreshold"))},t.prototype.getZLevelKey=function(){var r=this.getModel("effect"),n=r.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:r.get("show")&&n>0?n+"":""},t.type="series.lines",t.dependencies=["grid","polar","geo","calendar"],t.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},t}(Cr);function Dx(e){return e instanceof Array||(e=[e,e]),e}var M3e={seriesType:"lines",reset:function(e){var t=Dx(e.get("symbol")),r=Dx(e.get("symbolSize")),n=e.getData();n.setVisual("fromSymbol",t&&t[0]),n.setVisual("toSymbol",t&&t[1]),n.setVisual("fromSymbolSize",r&&r[0]),n.setVisual("toSymbolSize",r&&r[1]);function i(a,s){var o=a.getItemModel(s),l=Dx(o.getShallow("symbol",!0)),u=Dx(o.getShallow("symbolSize",!0));l[0]&&a.setItemVisual(s,"fromSymbol",l[0]),l[1]&&a.setItemVisual(s,"toSymbol",l[1]),u[0]&&a.setItemVisual(s,"fromSymbolSize",u[0]),u[1]&&a.setItemVisual(s,"toSymbolSize",u[1])}return{dataEach:n.hasItemOption?i:null}}};function L3e(e){e.registerChartView(A3e),e.registerSeriesModel(D3e),e.registerLayout(zJ),e.registerVisual(M3e)}var N3e=256,P3e=function(){function e(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var t=Hs.createCanvas();this.canvas=t}return e.prototype.update=function(t,r,n,i,a,s){var o=this._getBrush(),l=this._getGradient(a,"inRange"),u=this._getGradient(a,"outOfRange"),c=this.pointSize+this.blurSize,h=this.canvas,f=h.getContext("2d"),d=t.length;h.width=r,h.height=n;for(var v=0;v<d;++v){var m=t[v],y=m[0],b=m[1],S=m[2],w=i(S);f.globalAlpha=w,f.drawImage(o,y-c,b-c)}if(!h.width||!h.height)return h;for(var k=f.getImageData(0,0,h.width,h.height),M=k.data,I=0,L=M.length,N=this.minOpacity,z=this.maxOpacity,B=z-N;I<L;){var w=M[I+3]/256,H=Math.floor(w*(N3e-1))*4;if(w>0){var G=s(w)?l:u;w>0&&(w=w*B+N),M[I++]=G[H],M[I++]=G[H+1],M[I++]=G[H+2],M[I++]=G[H+3]*w*256}else I+=4}return f.putImageData(k,0,0),h},e.prototype._getBrush=function(){var t=this._brushCanvas||(this._brushCanvas=Hs.createCanvas()),r=this.pointSize+this.blurSize,n=r*2;t.width=n,t.height=n;var i=t.getContext("2d");return i.clearRect(0,0,n,n),i.shadowOffsetX=n,i.shadowBlur=this.blurSize,i.shadowColor="#000",i.beginPath(),i.arc(-r,r,this.pointSize,0,Math.PI*2,!0),i.closePath(),i.fill(),t},e.prototype._getGradient=function(t,r){for(var n=this._gradientPixels,i=n[r]||(n[r]=new Uint8ClampedArray(256*4)),a=[0,0,0,0],s=0,o=0;o<256;o++)t[r](o/255,!0,a),i[s++]=a[0],i[s++]=a[1],i[s++]=a[2],i[s++]=a[3];return i},e}();function R3e(e,t,r){var n=e[1]-e[0];t=Fe(t,function(s){return{interval:[(s.interval[0]-e[0])/n,(s.interval[1]-e[0])/n]}});var i=t.length,a=0;return function(s){var o;for(o=a;o<i;o++){var l=t[o].interval;if(l[0]<=s&&s<=l[1]){a=o;break}}if(o===i)for(o=a-1;o>=0;o--){var l=t[o].interval;if(l[0]<=s&&s<=l[1]){a=o;break}}return o>=0&&o<i&&r[o]}}function O3e(e,t){var r=e[1]-e[0];return t=[(t[0]-e[0])/r,(t[1]-e[0])/r],function(n){return n>=t[0]&&n<=t[1]}}function hj(e){var t=e.dimensions;return t[0]==="lng"&&t[1]==="lat"}var B3e=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i){var a;n.eachComponent("visualMap",function(o){o.eachTargetSeries(function(l){l===r&&(a=o)})}),this._progressiveEls=null,this.group.removeAll();var s=r.coordinateSystem;s.type==="cartesian2d"||s.type==="calendar"?this._renderOnCartesianAndCalendar(r,i,0,r.getData().count()):hj(s)&&this._renderOnGeo(s,r,a,i)},t.prototype.incrementalPrepareRender=function(r,n,i){this.group.removeAll()},t.prototype.incrementalRender=function(r,n,i,a){var s=n.coordinateSystem;s&&(hj(s)?this.render(n,i,a):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(n,a,r.start,r.end,!0)))},t.prototype.eachRendered=function(r){hc(this._progressiveEls||this.group,r)},t.prototype._renderOnCartesianAndCalendar=function(r,n,i,a,s){var o=r.coordinateSystem,l=pf(o,"cartesian2d"),u,c,h,f;if(l){var d=o.getAxis("x"),v=o.getAxis("y");u=d.getBandWidth()+.5,c=v.getBandWidth()+.5,h=d.scale.getExtent(),f=v.scale.getExtent()}for(var m=this.group,y=r.getData(),b=r.getModel(["emphasis","itemStyle"]).getItemStyle(),S=r.getModel(["blur","itemStyle"]).getItemStyle(),w=r.getModel(["select","itemStyle"]).getItemStyle(),k=r.get(["itemStyle","borderRadius"]),M=zn(r),I=r.getModel("emphasis"),L=I.get("focus"),N=I.get("blurScope"),z=I.get("disabled"),B=l?[y.mapDimension("x"),y.mapDimension("y"),y.mapDimension("value")]:[y.mapDimension("time"),y.mapDimension("value")],H=i;H<a;H++){var G=void 0,$=y.getItemVisual(H,"style");if(l){var W=y.get(B[0],H),X=y.get(B[1],H);if(isNaN(y.get(B[2],H))||isNaN(W)||isNaN(X)||W<h[0]||W>h[1]||X<f[0]||X>f[1])continue;var ee=o.dataToPoint([W,X]);G=new Jt({shape:{x:ee[0]-u/2,y:ee[1]-c/2,width:u,height:c},style:$})}else{if(isNaN(y.get(B[1],H)))continue;G=new Jt({z2:1,shape:o.dataToRect([y.get(B[0],H)]).contentShape,style:$})}if(y.hasItemOption){var le=y.getItemModel(H),ie=le.getModel("emphasis");b=ie.getModel("itemStyle").getItemStyle(),S=le.getModel(["blur","itemStyle"]).getItemStyle(),w=le.getModel(["select","itemStyle"]).getItemStyle(),k=le.get(["itemStyle","borderRadius"]),L=ie.get("focus"),N=ie.get("blurScope"),z=ie.get("disabled"),M=zn(le)}G.shape.r=k;var fe=r.getRawValue(H),re="-";fe&&fe[2]!=null&&(re=fe[2]+""),oi(G,M,{labelFetcher:r,labelDataIndex:H,defaultOpacity:$.opacity,defaultText:re}),G.ensureState("emphasis").style=b,G.ensureState("blur").style=S,G.ensureState("select").style=w,qr(G,L,N,z),G.incremental=s,s&&(G.states.emphasis.hoverLayer=!0),m.add(G),y.setItemGraphicEl(H,G),this._progressiveEls&&this._progressiveEls.push(G)}},t.prototype._renderOnGeo=function(r,n,i,a){var s=i.targetVisuals.inRange,o=i.targetVisuals.outOfRange,l=n.getData(),u=this._hmLayer||this._hmLayer||new P3e;u.blurSize=n.get("blurSize"),u.pointSize=n.get("pointSize"),u.minOpacity=n.get("minOpacity"),u.maxOpacity=n.get("maxOpacity");var c=r.getViewRect().clone(),h=r.getRoamTransform();c.applyTransform(h);var f=Math.max(c.x,0),d=Math.max(c.y,0),v=Math.min(c.width+c.x,a.getWidth()),m=Math.min(c.height+c.y,a.getHeight()),y=v-f,b=m-d,S=[l.mapDimension("lng"),l.mapDimension("lat"),l.mapDimension("value")],w=l.mapArray(S,function(L,N,z){var B=r.dataToPoint([L,N]);return B[0]-=f,B[1]-=d,B.push(z),B}),k=i.getExtent(),M=i.type==="visualMap.continuous"?O3e(k,i.option.range):R3e(k,i.getPieceList(),i.option.selected);u.update(w,y,b,s.color.getNormalizer(),{inRange:s.color.getColorMapper(),outOfRange:o.color.getColorMapper()},M);var I=new Vn({style:{width:y,height:b,x:f,y:d,image:u.canvas},silent:!0});this.group.add(I)},t.type="heatmap",t}(xr),F3e=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.getInitialData=function(r,n){return Vo(null,this,{generateCoord:"value"})},t.prototype.preventIncremental=function(){var r=Wp.get(this.get("coordinateSystem"));if(r&&r.dimensions)return r.dimensions[0]==="lng"&&r.dimensions[1]==="lat"},t.type="series.heatmap",t.dependencies=["grid","geo","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},t}(Cr);function z3e(e){e.registerChartView(B3e),e.registerSeriesModel(F3e)}var j3e=["itemStyle","borderWidth"],fj=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],dA=new jo,H3e=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i){var a=this.group,s=r.getData(),o=this._data,l=r.coordinateSystem,u=l.getBaseAxis(),c=u.isHorizontal(),h=l.master.getRect(),f={ecSize:{width:i.getWidth(),height:i.getHeight()},seriesModel:r,coordSys:l,coordSysExtent:[[h.x,h.x+h.width],[h.y,h.y+h.height]],isHorizontal:c,valueDim:fj[+c],categoryDim:fj[1-+c]};s.diff(o).add(function(v){if(s.hasValue(v)){var m=pj(s,v),y=dj(s,v,m,f),b=vj(s,f,y);s.setItemGraphicEl(v,b),a.add(b),mj(b,f,y)}}).update(function(v,m){var y=o.getItemGraphicEl(m);if(!s.hasValue(v)){a.remove(y);return}var b=pj(s,v),S=dj(s,v,b,f),w=WJ(s,S);y&&w!==y.__pictorialShapeStr&&(a.remove(y),s.setItemGraphicEl(v,null),y=null),y?X3e(y,f,S):y=vj(s,f,S,!0),s.setItemGraphicEl(v,y),y.__pictorialSymbolMeta=S,a.add(y),mj(y,f,S)}).remove(function(v){var m=o.getItemGraphicEl(v);m&&gj(o,v,m.__pictorialSymbolMeta.animationModel,m)}).execute();var d=r.get("clip",!0)?ay(r.coordinateSystem,!1,r):null;return d?a.setClipPath(d):a.removeClipPath(),this._data=s,this.group},t.prototype.remove=function(r,n){var i=this.group,a=this._data;r.get("animation")?a&&a.eachItemGraphicEl(function(s){gj(a,It(s).dataIndex,r,s)}):i.removeAll()},t.type="pictorialBar",t}(xr);function dj(e,t,r,n){var i=e.getItemLayout(t),a=r.get("symbolRepeat"),s=r.get("symbolClip"),o=r.get("symbolPosition")||"start",l=r.get("symbolRotate"),u=(l||0)*Math.PI/180||0,c=r.get("symbolPatternSize")||2,h=r.isAnimationEnabled(),f={dataIndex:t,layout:i,itemModel:r,symbolType:e.getItemVisual(t,"symbol")||"circle",style:e.getItemVisual(t,"style"),symbolClip:s,symbolRepeat:a,symbolRepeatDirection:r.get("symbolRepeatDirection"),symbolPatternSize:c,rotation:u,animationModel:h?r:null,hoverScale:h&&r.get(["emphasis","scale"]),z2:r.getShallow("z",!0)||0};V3e(r,a,i,n,f),U3e(e,t,i,a,s,f.boundingLength,f.pxSign,c,n,f),G3e(r,f.symbolScale,u,n,f);var d=f.symbolSize,v=df(r.get("symbolOffset"),d);return W3e(r,d,i,a,s,v,o,f.valueLineWidth,f.boundingLength,f.repeatCutLength,n,f),f}function V3e(e,t,r,n,i){var a=n.valueDim,s=e.get("symbolBoundingData"),o=n.coordSys.getOtherAxis(n.coordSys.getBaseAxis()),l=o.toGlobalCoord(o.dataToCoord(0)),u=1-+(r[a.wh]<=0),c;if(Oe(s)){var h=[pA(o,s[0])-l,pA(o,s[1])-l];h[1]<h[0]&&h.reverse(),c=h[u]}else s!=null?c=pA(o,s)-l:t?c=n.coordSysExtent[a.index][u]-l:c=r[a.wh];i.boundingLength=c,t&&(i.repeatCutLength=r[a.wh]);var f=a.xy==="x",d=o.inverse;i.pxSign=f&&!d||!f&&d?c>=0?1:-1:c>0?1:-1}function pA(e,t){return e.toGlobalCoord(e.dataToCoord(e.scale.parse(t)))}function U3e(e,t,r,n,i,a,s,o,l,u){var c=l.valueDim,h=l.categoryDim,f=Math.abs(r[h.wh]),d=e.getItemVisual(t,"symbolSize"),v;Oe(d)?v=d.slice():d==null?v=["100%","100%"]:v=[d,d],v[h.index]=Ze(v[h.index],f),v[c.index]=Ze(v[c.index],n?f:Math.abs(a)),u.symbolSize=v;var m=u.symbolScale=[v[0]/o,v[1]/o];m[c.index]*=(l.isHorizontal?-1:1)*s}function G3e(e,t,r,n,i){var a=e.get(j3e)||0;a&&(dA.attr({scaleX:t[0],scaleY:t[1],rotation:r}),dA.updateTransform(),a/=dA.getLineScale(),a*=t[n.valueDim.index]),i.valueLineWidth=a||0}function W3e(e,t,r,n,i,a,s,o,l,u,c,h){var f=c.categoryDim,d=c.valueDim,v=h.pxSign,m=Math.max(t[d.index]+o,0),y=m;if(n){var b=Math.abs(l),S=On(e.get("symbolMargin"),"15%")+"",w=!1;S.lastIndexOf("!")===S.length-1&&(w=!0,S=S.slice(0,S.length-1));var k=Ze(S,t[d.index]),M=Math.max(m+k*2,0),I=w?0:k*2,L=AN(n),N=L?n:yj((b+I)/M),z=b-N*m;k=z/2/(w?N:Math.max(N-1,1)),M=m+k*2,I=w?0:k*2,!L&&n!=="fixed"&&(N=u?yj((Math.abs(u)+I)/M):0),y=N*M-I,h.repeatTimes=N,h.symbolMargin=k}var B=v*(y/2),H=h.pathPosition=[];H[f.index]=r[f.wh]/2,H[d.index]=s==="start"?B:s==="end"?l-B:l/2,a&&(H[0]+=a[0],H[1]+=a[1]);var G=h.bundlePosition=[];G[f.index]=r[f.xy],G[d.index]=r[d.xy];var $=h.barRectShape=Ne({},r);$[d.wh]=v*Math.max(Math.abs(r[d.wh]),Math.abs(H[d.index]+B)),$[f.wh]=r[f.wh];var W=h.clipShape={};W[f.xy]=-r[f.xy],W[f.wh]=c.ecSize[f.wh],W[d.xy]=0,W[d.wh]=r[d.wh]}function jJ(e){var t=e.symbolPatternSize,r=dn(e.symbolType,-t/2,-t/2,t,t);return r.attr({culling:!0}),r.type!=="image"&&r.setStyle({strokeNoScale:!0}),r}function HJ(e,t,r,n){var i=e.__pictorialBundle,a=r.symbolSize,s=r.valueLineWidth,o=r.pathPosition,l=t.valueDim,u=r.repeatTimes||0,c=0,h=a[t.valueDim.index]+s+r.symbolMargin*2;for(sR(e,function(m){m.__pictorialAnimationIndex=c,m.__pictorialRepeatTimes=u,c<u?Hd(m,null,v(c),r,n):Hd(m,null,{scaleX:0,scaleY:0},r,n,function(){i.remove(m)}),c++});c<u;c++){var f=jJ(r);f.__pictorialAnimationIndex=c,f.__pictorialRepeatTimes=u,i.add(f);var d=v(c);Hd(f,{x:d.x,y:d.y,scaleX:0,scaleY:0},{scaleX:d.scaleX,scaleY:d.scaleY,rotation:d.rotation},r,n)}function v(m){var y=o.slice(),b=r.pxSign,S=m;return(r.symbolRepeatDirection==="start"?b>0:b<0)&&(S=u-1-m),y[l.index]=h*(S-u/2+.5)+o[l.index],{x:y[0],y:y[1],scaleX:r.symbolScale[0],scaleY:r.symbolScale[1],rotation:r.rotation}}}function VJ(e,t,r,n){var i=e.__pictorialBundle,a=e.__pictorialMainPath;a?Hd(a,null,{x:r.pathPosition[0],y:r.pathPosition[1],scaleX:r.symbolScale[0],scaleY:r.symbolScale[1],rotation:r.rotation},r,n):(a=e.__pictorialMainPath=jJ(r),i.add(a),Hd(a,{x:r.pathPosition[0],y:r.pathPosition[1],scaleX:0,scaleY:0,rotation:r.rotation},{scaleX:r.symbolScale[0],scaleY:r.symbolScale[1]},r,n))}function UJ(e,t,r){var n=Ne({},t.barRectShape),i=e.__pictorialBarRect;i?Hd(i,null,{shape:n},t,r):(i=e.__pictorialBarRect=new Jt({z2:2,shape:n,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),i.disableMorphing=!0,e.add(i))}function GJ(e,t,r,n){if(r.symbolClip){var i=e.__pictorialClipPath,a=Ne({},r.clipShape),s=t.valueDim,o=r.animationModel,l=r.dataIndex;if(i)sr(i,{shape:a},o,l);else{a[s.wh]=0,i=new Jt({shape:a}),e.__pictorialBundle.setClipPath(i),e.__pictorialClipPath=i;var u={};u[s.wh]=r.clipShape[s.wh],hf[n?"updateProps":"initProps"](i,{shape:u},o,l)}}}function pj(e,t){var r=e.getItemModel(t);return r.getAnimationDelayParams=$3e,r.isAnimationEnabled=Y3e,r}function $3e(e){return{index:e.__pictorialAnimationIndex,count:e.__pictorialRepeatTimes}}function Y3e(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function vj(e,t,r,n){var i=new Ct,a=new Ct;return i.add(a),i.__pictorialBundle=a,a.x=r.bundlePosition[0],a.y=r.bundlePosition[1],r.symbolRepeat?HJ(i,t,r):VJ(i,t,r),UJ(i,r,n),GJ(i,t,r,n),i.__pictorialShapeStr=WJ(e,r),i.__pictorialSymbolMeta=r,i}function X3e(e,t,r){var n=r.animationModel,i=r.dataIndex,a=e.__pictorialBundle;sr(a,{x:r.bundlePosition[0],y:r.bundlePosition[1]},n,i),r.symbolRepeat?HJ(e,t,r,!0):VJ(e,t,r,!0),UJ(e,r,!0),GJ(e,t,r,!0)}function gj(e,t,r,n){var i=n.__pictorialBarRect;i&&i.removeTextContent();var a=[];sR(n,function(s){a.push(s)}),n.__pictorialMainPath&&a.push(n.__pictorialMainPath),n.__pictorialClipPath&&(r=null),q(a,function(s){Qu(s,{scaleX:0,scaleY:0},r,t,function(){n.parent&&n.parent.remove(n)})}),e.setItemGraphicEl(t,null)}function WJ(e,t){return[e.getItemVisual(t.dataIndex,"symbol")||"none",!!t.symbolRepeat,!!t.symbolClip].join(":")}function sR(e,t,r){q(e.__pictorialBundle.children(),function(n){n!==e.__pictorialBarRect&&t.call(r,n)})}function Hd(e,t,r,n,i,a){t&&e.attr(t),n.symbolClip&&!i?r&&e.attr(r):r&&hf[i?"updateProps":"initProps"](e,r,n.animationModel,n.dataIndex,a)}function mj(e,t,r){var n=r.dataIndex,i=r.itemModel,a=i.getModel("emphasis"),s=a.getModel("itemStyle").getItemStyle(),o=i.getModel(["blur","itemStyle"]).getItemStyle(),l=i.getModel(["select","itemStyle"]).getItemStyle(),u=i.getShallow("cursor"),c=a.get("focus"),h=a.get("blurScope"),f=a.get("scale");sR(e,function(m){if(m instanceof Vn){var y=m.style;m.useStyle(Ne({image:y.image,x:y.x,y:y.y,width:y.width,height:y.height},r.style))}else m.useStyle(r.style);var b=m.ensureState("emphasis");b.style=s,f&&(b.scaleX=m.scaleX*1.1,b.scaleY=m.scaleY*1.1),m.ensureState("blur").style=o,m.ensureState("select").style=l,u&&(m.cursor=u),m.z2=r.z2});var d=t.valueDim.posDesc[+(r.boundingLength>0)],v=e.__pictorialBarRect;v.ignoreClip=!0,oi(v,zn(i),{labelFetcher:t.seriesModel,labelDataIndex:n,defaultText:vp(t.seriesModel.getData(),n),inheritColor:r.style.fill,defaultOpacity:r.style.opacity,defaultOutsidePosition:d}),qr(e,c,h,a.get("disabled"))}function yj(e){var t=Math.round(e);return Math.abs(e-t)<1e-4?t:Math.ceil(e)}var q3e=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.hasSymbolVisual=!0,r.defaultSymbol="roundRect",r}return t.prototype.getInitialData=function(r){return r.stack=null,e.prototype.getInitialData.apply(this,arguments)},t.type="series.pictorialBar",t.dependencies=["grid"],t.defaultOption=fc(d0.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",clip:!1,progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),t}(d0);function K3e(e){e.registerChartView(H3e),e.registerSeriesModel(q3e),e.registerLayout(e.PRIORITY.VISUAL.LAYOUT,Lt(kZ,"pictorialBar")),e.registerLayout(e.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,IZ("pictorialBar"))}var Z3e=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r._layers=[],r}return t.prototype.render=function(r,n,i){var a=r.getData(),s=this,o=this.group,l=r.getLayerSeries(),u=a.getLayout("layoutInfo"),c=u.rect,h=u.boundaryGap;o.x=0,o.y=c.y+h[0];function f(y){return y.name}var d=new El(this._layersSeries||[],l,f,f),v=[];d.add(rt(m,this,"add")).update(rt(m,this,"update")).remove(rt(m,this,"remove")).execute();function m(y,b,S){var w=s._layers;if(y==="remove"){o.remove(w[b]);return}for(var k=[],M=[],I,L=l[b].indices,N=0;N<L.length;N++){var z=a.getItemLayout(L[N]),B=z.x,H=z.y0,G=z.y;k.push(B,H),M.push(B,H+G),I=a.getItemVisual(L[N],"style")}var $,W=a.getItemLayout(L[0]),X=r.getModel("label"),ee=X.get("margin"),le=r.getModel("emphasis");if(y==="add"){var ie=v[b]=new Ct;$=new mQ({shape:{points:k,stackedOnPoints:M,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),ie.add($),o.add(ie),r.isAnimationEnabled()&&$.setClipPath(Q3e($.getBoundingRect(),r,function(){$.removeClipPath()}))}else{var ie=w[S];$=ie.childAt(0),o.add(ie),v[b]=ie,sr($,{shape:{points:k,stackedOnPoints:M}},r),Gs($)}oi($,zn(r),{labelDataIndex:L[N-1],defaultText:a.getName(L[N-1]),inheritColor:I.fill},{normal:{verticalAlign:"middle"}}),$.setTextConfig({position:null,local:!0});var fe=$.getTextContent();fe&&(fe.x=W.x-ee,fe.y=W.y0+W.y/2),$.useStyle(I),a.setItemGraphicEl(b,$),si($,r),qr($,le.get("focus"),le.get("blurScope"),le.get("disabled"))}this._layersSeries=l,this._layers=v},t.type="themeRiver",t}(xr);function Q3e(e,t,r){var n=new Jt({shape:{x:e.x-10,y:e.y-10,width:0,height:e.height+20}});return Br(n,{shape:{x:e.x-50,width:e.width+100,height:e.height+20}},t,r),n}var vA=2,J3e=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.init=function(r){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new ly(rt(this.getData,this),rt(this.getRawData,this))},t.prototype.fixData=function(r){var n=r.length,i={},a=$I(r,function(f){return i.hasOwnProperty(f[0]+"")||(i[f[0]+""]=-1),f[2]}),s=[];a.buckets.each(function(f,d){s.push({name:d,dataList:f})});for(var o=s.length,l=0;l<o;++l){for(var u=s[l].name,c=0;c<s[l].dataList.length;++c){var h=s[l].dataList[c][0]+"";i[h]=l}for(var h in i)i.hasOwnProperty(h)&&i[h]!==l&&(i[h]=l,r[n]=[h,0,u],n++)}return r},t.prototype.getInitialData=function(r,n){for(var i=this.getReferringComponents("singleAxis",bn).models[0],a=i.get("type"),s=lr(r.data,function(v){return v[2]!==void 0}),o=this.fixData(s||[]),l=[],u=this.nameMap=ct(),c=0,h=0;h<o.length;++h)l.push(o[h][vA]),u.get(o[h][vA])||(u.set(o[h][vA],c),c++);var f=qp(o,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:HS(a)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,d=new xi(f,this);return d.initData(o),d},t.prototype.getLayerSeries=function(){for(var r=this.getData(),n=r.count(),i=[],a=0;a<n;++a)i[a]=a;var s=r.mapDimension("single"),o=$I(i,function(u){return r.get("name",u)}),l=[];return o.buckets.each(function(u,c){u.sort(function(h,f){return r.get(s,h)-r.get(s,f)}),l.push({name:c,indices:u})}),l},t.prototype.getAxisTooltipData=function(r,n,i){Oe(r)||(r=r?[r]:[]);for(var a=this.getData(),s=this.getLayerSeries(),o=[],l=s.length,u,c=0;c<l;++c){for(var h=Number.MAX_VALUE,f=-1,d=s[c].indices.length,v=0;v<d;++v){var m=a.get(r[0],s[c].indices[v]),y=Math.abs(m-n);y<=h&&(u=m,h=y,f=s[c].indices[v])}o.push(f)}return{dataIndices:o,nestestValue:u}},t.prototype.formatTooltip=function(r,n,i){var a=this.getData(),s=a.getName(r),o=a.get(a.mapDimension("value"),r);return jn("nameValue",{name:s,value:o})},t.type="series.themeRiver",t.dependencies=["singleAxis"],t.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},t}(Cr);function e6e(e,t){e.eachSeriesByType("themeRiver",function(r){var n=r.getData(),i=r.coordinateSystem,a={},s=i.getRect();a.rect=s;var o=r.get("boundaryGap"),l=i.getAxis();if(a.boundaryGap=o,l.orient==="horizontal"){o[0]=Ze(o[0],s.height),o[1]=Ze(o[1],s.height);var u=s.height-o[0]-o[1];xj(n,r,u)}else{o[0]=Ze(o[0],s.width),o[1]=Ze(o[1],s.width);var c=s.width-o[0]-o[1];xj(n,r,c)}n.setLayout("layoutInfo",a)})}function xj(e,t,r){if(e.count())for(var n=t.coordinateSystem,i=t.getLayerSeries(),a=e.mapDimension("single"),s=e.mapDimension("value"),o=Fe(i,function(y){return Fe(y.indices,function(b){var S=n.dataToPoint(e.get(a,b));return S[1]=e.get(s,b),S})}),l=t6e(o),u=l.y0,c=r/l.max,h=i.length,f=i[0].indices.length,d,v=0;v<f;++v){d=u[v]*c,e.setItemLayout(i[0].indices[v],{layerIndex:0,x:o[0][v][0],y0:d,y:o[0][v][1]*c});for(var m=1;m<h;++m)d+=o[m-1][v][1]*c,e.setItemLayout(i[m].indices[v],{layerIndex:m,x:o[m][v][0],y0:d,y:o[m][v][1]*c})}}function t6e(e){for(var t=e.length,r=e[0].length,n=[],i=[],a=0,s=0;s<r;++s){for(var o=0,l=0;l<t;++l)o+=e[l][s][1];o>a&&(a=o),n.push(o)}for(var u=0;u<r;++u)i[u]=(a-n[u])/2;a=0;for(var c=0;c<r;++c){var h=n[c]+i[c];h>a&&(a=h)}return{y0:i,max:a}}function r6e(e){e.registerChartView(Z3e),e.registerSeriesModel(J3e),e.registerLayout(e6e),e.registerProcessor(oy("themeRiver"))}var n6e=2,i6e=4,bj=function(e){_e(t,e);function t(r,n,i,a){var s=e.call(this)||this;s.z2=n6e,s.textConfig={inside:!0},It(s).seriesIndex=n.seriesIndex;var o=new Qt({z2:i6e,silent:r.getModel().get(["label","silent"])});return s.setTextContent(o),s.updateData(!0,r,n,i,a),s}return t.prototype.updateData=function(r,n,i,a,s){this.node=n,n.piece=this,i=i||this._seriesModel,a=a||this._ecModel;var o=this;It(o).dataIndex=n.dataIndex;var l=n.getModel(),u=l.getModel("emphasis"),c=n.getLayout(),h=Ne({},c);h.label=null;var f=n.getVisual("style");f.lineJoin="bevel";var d=n.getVisual("decal");d&&(f.decal=pp(d,s));var v=Th(l.getModel("itemStyle"),h,!0);Ne(h,v),q(Vi,function(S){var w=o.ensureState(S),k=l.getModel([S,"itemStyle"]);w.style=k.getItemStyle();var M=Th(k,h);M&&(w.shape=M)}),r?(o.setShape(h),o.shape.r=c.r0,Br(o,{shape:{r:c.r}},i,n.dataIndex)):(sr(o,{shape:h},i),Gs(o)),o.useStyle(f),this._updateLabel(i);var m=l.getShallow("cursor");m&&o.attr("cursor",m),this._seriesModel=i||this._seriesModel,this._ecModel=a||this._ecModel;var y=u.get("focus"),b=y==="relative"?up(n.getAncestorsIndices(),n.getDescendantIndices()):y==="ancestor"?n.getAncestorsIndices():y==="descendant"?n.getDescendantIndices():y;qr(this,b,u.get("blurScope"),u.get("disabled"))},t.prototype._updateLabel=function(r){var n=this,i=this.node.getModel(),a=i.getModel("label"),s=this.node.getLayout(),o=s.endAngle-s.startAngle,l=(s.startAngle+s.endAngle)/2,u=Math.cos(l),c=Math.sin(l),h=this,f=h.getTextContent(),d=this.node.dataIndex,v=a.get("minAngle")/180*Math.PI,m=a.get("show")&&!(v!=null&&Math.abs(o)<v);f.ignore=!m,q(t0,function(b){var S=b==="normal"?i.getModel("label"):i.getModel([b,"label"]),w=b==="normal",k=w?f:f.ensureState(b),M=r.getFormattedLabel(d,b);w&&(M=M||n.node.name),k.style=Ir(S,{},null,b!=="normal",!0),M&&(k.style.text=M);var I=S.get("show");I!=null&&!w&&(k.ignore=!I);var L=y(S,"position"),N=w?h:h.states[b],z=N.style.fill;N.textConfig={outsideFill:S.get("color")==="inherit"?z:null,inside:L!=="outside"};var B,H=y(S,"distance")||0,G=y(S,"align"),$=y(S,"rotate"),W=Math.PI*.5,X=Math.PI*1.5,ee=_a($==="tangential"?Math.PI/2-l:l),le=ee>W&&!cp(ee-W)&&ee<X;L==="outside"?(B=s.r+H,G=le?"right":"left"):!G||G==="center"?(o===2*Math.PI&&s.r0===0?B=0:B=(s.r+s.r0)/2,G="center"):G==="left"?(B=s.r0+H,G=le?"right":"left"):G==="right"&&(B=s.r-H,G=le?"left":"right"),k.style.align=G,k.style.verticalAlign=y(S,"verticalAlign")||"middle",k.x=B*u+s.cx,k.y=B*c+s.cy;var ie=0;$==="radial"?ie=_a(-l)+(le?Math.PI:0):$==="tangential"?ie=_a(Math.PI/2-l)+(le?Math.PI:0):ar($)&&(ie=$*Math.PI/180),k.rotation=_a(ie)});function y(b,S){var w=b.get(S);return w??a.get(S)}f.dirtyStyle()},t}(_i),YD="sunburstRootToNode",Sj="sunburstHighlight",a6e="sunburstUnhighlight";function s6e(e){e.registerAction({type:YD,update:"updateView"},function(t,r){r.eachComponent({mainType:"series",subType:"sunburst",query:t},n);function n(i,a){var s=v0(t,[YD],i);if(s){var o=i.getViewRoot();o&&(t.direction=GP(o,s.node)?"rollUp":"drillDown"),i.resetViewRoot(s.node)}}}),e.registerAction({type:Sj,update:"none"},function(t,r,n){t=Ne({},t),r.eachComponent({mainType:"series",subType:"sunburst",query:t},i);function i(a){var s=v0(t,[Sj],a);s&&(t.dataIndex=s.node.dataIndex)}n.dispatchAction(Ne(t,{type:"highlight"}))}),e.registerAction({type:a6e,update:"updateView"},function(t,r,n){t=Ne({},t),n.dispatchAction(Ne(t,{type:"downplay"}))})}var o6e=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i,a){var s=this;this.seriesModel=r,this.api=i,this.ecModel=n;var o=r.getData(),l=o.tree.root,u=r.getViewRoot(),c=this.group,h=r.get("renderLabelForZeroData"),f=[];u.eachNode(function(S){f.push(S)});var d=this._oldChildren||[];v(f,d),b(l,u),this._initEvents(),this._oldChildren=f;function v(S,w){if(S.length===0&&w.length===0)return;new El(w,S,k,k).add(M).update(M).remove(Lt(M,null)).execute();function k(I){return I.getId()}function M(I,L){var N=I==null?null:S[I],z=L==null?null:w[L];m(N,z)}}function m(S,w){if(!h&&S&&!S.getValue()&&(S=null),S!==l&&w!==l){if(w&&w.piece)S?(w.piece.updateData(!1,S,r,n,i),o.setItemGraphicEl(S.dataIndex,w.piece)):y(w);else if(S){var k=new bj(S,r,n,i);c.add(k),o.setItemGraphicEl(S.dataIndex,k)}}}function y(S){S&&S.piece&&(c.remove(S.piece),S.piece=null)}function b(S,w){w.depth>0?(s.virtualPiece?s.virtualPiece.updateData(!1,S,r,n,i):(s.virtualPiece=new bj(S,r,n,i),c.add(s.virtualPiece)),w.piece.off("click"),s.virtualPiece.on("click",function(k){s._rootToNode(w.parentNode)})):s.virtualPiece&&(c.remove(s.virtualPiece),s.virtualPiece=null)}},t.prototype._initEvents=function(){var r=this;this.group.off("click"),this.group.on("click",function(n){var i=!1,a=r.seriesModel.getViewRoot();a.eachNode(function(s){if(!i&&s.piece&&s.piece===n.target){var o=s.getModel().get("nodeClick");if(o==="rootToNode")r._rootToNode(s);else if(o==="link"){var l=s.getModel(),u=l.get("link");if(u){var c=l.get("target",!0)||"_blank";MS(u,c)}}i=!0}})})},t.prototype._rootToNode=function(r){r!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:YD,from:this.uid,seriesId:this.seriesModel.id,targetNode:r})},t.prototype.containPoint=function(r,n){var i=n.getData(),a=i.getItemLayout(0);if(a){var s=r[0]-a.cx,o=r[1]-a.cy,l=Math.sqrt(s*s+o*o);return l<=a.r&&l>=a.r0}},t.type="sunburst",t}(xr),l6e=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.ignoreStyleOnData=!0,r}return t.prototype.getInitialData=function(r,n){var i={name:r.name,children:r.data};$J(i);var a=this._levelModels=Fe(r.levels||[],function(l){return new ur(l,this,n)},this),s=UP.createTree(i,this,o);function o(l){l.wrapMethod("getItemModel",function(u,c){var h=s.getNodeByDataIndex(c),f=a[h.depth];return f&&(u.parentModel=f),u})}return s.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.getDataParams=function(r){var n=e.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(r);return n.treePathInfo=Uw(i,this),n},t.prototype.getLevelModel=function(r){return this._levelModels&&this._levelModels[r.depth]},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(r){r?this._viewRoot=r:r=this._viewRoot;var n=this.getRawData().tree.root;(!r||r!==n&&!n.contains(r))&&(this._viewRoot=n)},t.prototype.enableAriaDecal=function(){ZQ(this)},t.type="series.sunburst",t.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},t}(Cr);function $J(e){var t=0;q(e.children,function(n){$J(n);var i=n.value;Oe(i)&&(i=i[0]),t+=i});var r=e.value;Oe(r)&&(r=r[0]),(r==null||isNaN(r))&&(r=t),r<0&&(r=0),Oe(e.value)?e.value[0]=r:e.value=r}var _j=Math.PI/180;function u6e(e,t,r){t.eachSeriesByType(e,function(n){var i=n.get("center"),a=n.get("radius");Oe(a)||(a=[0,a]),Oe(i)||(i=[i,i]);var s=r.getWidth(),o=r.getHeight(),l=Math.min(s,o),u=Ze(i[0],s),c=Ze(i[1],o),h=Ze(a[0],l/2),f=Ze(a[1],l/2),d=-n.get("startAngle")*_j,v=n.get("minAngle")*_j,m=n.getData().tree.root,y=n.getViewRoot(),b=y.depth,S=n.get("sort");S!=null&&YJ(y,S);var w=0;q(y.children,function(ee){!isNaN(ee.getValue())&&w++});var k=y.getValue(),M=Math.PI/(k||w)*2,I=y.depth>0,L=y.height-(I?-1:1),N=(f-h)/(L||1),z=n.get("clockwise"),B=n.get("stillShowZeroSum"),H=z?1:-1,G=function(ee,le){if(ee){var ie=le;if(ee!==m){var fe=ee.getValue(),re=k===0&&B?M:fe*M;re<v&&(re=v),ie=le+H*re;var me=ee.depth-b-(I?-1:1),J=h+N*me,te=h+N*(me+1),ue=n.getLevelModel(ee);if(ue){var pe=ue.get("r0",!0),Se=ue.get("r",!0),je=ue.get("radius",!0);je!=null&&(pe=je[0],Se=je[1]),pe!=null&&(J=Ze(pe,l/2)),Se!=null&&(te=Ze(Se,l/2))}ee.setLayout({angle:re,startAngle:le,endAngle:ie,clockwise:z,cx:u,cy:c,r0:J,r:te})}if(ee.children&&ee.children.length){var Pe=0;q(ee.children,function(Te){Pe+=G(Te,le+Pe)})}return ie-le}};if(I){var $=h,W=h+N,X=Math.PI*2;m.setLayout({angle:X,startAngle:d,endAngle:d+X,clockwise:z,cx:u,cy:c,r0:$,r:W})}G(y,d)})}function YJ(e,t){var r=e.children||[];e.children=c6e(r,t),r.length&&q(e.children,function(n){YJ(n,t)})}function c6e(e,t){if(vt(t)){var r=Fe(e,function(i,a){var s=i.getValue();return{params:{depth:i.depth,height:i.height,dataIndex:i.dataIndex,getValue:function(){return s}},index:a}});return r.sort(function(i,a){return t(i.params,a.params)}),Fe(r,function(i){return e[i.index]})}else{var n=t==="asc";return e.sort(function(i,a){var s=(i.getValue()-a.getValue())*(n?1:-1);return s===0?(i.dataIndex-a.dataIndex)*(n?-1:1):s})}}function h6e(e){var t={};function r(n,i,a){for(var s=n;s&&s.depth>1;)s=s.parentNode;var o=i.getColorFromPalette(s.name||s.dataIndex+"",t);return n.depth>1&&Je(o)&&(o=xS(o,(n.depth-1)/(a-1)*.5)),o}e.eachSeriesByType("sunburst",function(n){var i=n.getData(),a=i.tree;a.eachNode(function(s){var o=s.getModel(),l=o.getModel("itemStyle").getItemStyle();l.fill||(l.fill=r(s,n,a.root.height));var u=i.ensureUniqueItemVisual(s.dataIndex,"style");Ne(u,l)})})}function f6e(e){e.registerChartView(o6e),e.registerSeriesModel(l6e),e.registerLayout(Lt(u6e,"sunburst")),e.registerProcessor(Lt(oy,"sunburst")),e.registerVisual(h6e),s6e(e)}var wj={color:"fill",borderColor:"stroke"},d6e={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},vl=tr(),p6e=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},t.prototype.getInitialData=function(r,n){return Vo(null,this)},t.prototype.getDataParams=function(r,n,i){var a=e.prototype.getDataParams.call(this,r,n);return i&&(a.info=vl(i).info),a},t.type="series.custom",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},t}(Cr);function v6e(e,t){return t=t||[0,0],Fe(["x","y"],function(r,n){var i=this.getAxis(r),a=t[n],s=e[n]/2;return i.type==="category"?i.getBandWidth():Math.abs(i.dataToCoord(a-s)-i.dataToCoord(a+s))},this)}function g6e(e){var t=e.master.getRect();return{coordSys:{type:"cartesian2d",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(r){return e.dataToPoint(r)},size:rt(v6e,e)}}}function m6e(e,t){return t=t||[0,0],Fe([0,1],function(r){var n=t[r],i=e[r]/2,a=[],s=[];return a[r]=n-i,s[r]=n+i,a[1-r]=s[1-r]=t[1-r],Math.abs(this.dataToPoint(a)[r]-this.dataToPoint(s)[r])},this)}function y6e(e){var t=e.getBoundingRect();return{coordSys:{type:"geo",x:t.x,y:t.y,width:t.width,height:t.height,zoom:e.getZoom()},api:{coord:function(r){return e.dataToPoint(r)},size:rt(m6e,e)}}}function x6e(e,t){var r=this.getAxis(),n=t instanceof Array?t[0]:t,i=(e instanceof Array?e[0]:e)/2;return r.type==="category"?r.getBandWidth():Math.abs(r.dataToCoord(n-i)-r.dataToCoord(n+i))}function b6e(e){var t=e.getRect();return{coordSys:{type:"singleAxis",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(r){return e.dataToPoint(r)},size:rt(x6e,e)}}}function S6e(e,t){return t=t||[0,0],Fe(["Radius","Angle"],function(r,n){var i="get"+r+"Axis",a=this[i](),s=t[n],o=e[n]/2,l=a.type==="category"?a.getBandWidth():Math.abs(a.dataToCoord(s-o)-a.dataToCoord(s+o));return r==="Angle"&&(l=l*Math.PI/180),l},this)}function _6e(e){var t=e.getRadiusAxis(),r=e.getAngleAxis(),n=t.getExtent();return n[0]>n[1]&&n.reverse(),{coordSys:{type:"polar",cx:e.cx,cy:e.cy,r:n[1],r0:n[0]},api:{coord:function(i){var a=t.dataToRadius(i[0]),s=r.dataToAngle(i[1]),o=e.coordToPoint([a,s]);return o.push(a,s*Math.PI/180),o},size:rt(S6e,e)}}}function w6e(e){var t=e.getRect(),r=e.getRangeInfo();return{coordSys:{type:"calendar",x:t.x,y:t.y,width:t.width,height:t.height,cellWidth:e.getCellWidth(),cellHeight:e.getCellHeight(),rangeInfo:{start:r.start,end:r.end,weeks:r.weeks,dayCount:r.allDay}},api:{coord:function(n,i){return e.dataToPoint(n,i)}}}}function XJ(e,t,r,n){return e&&(e.legacy||e.legacy!==!1&&!r&&!n&&t!=="tspan"&&(t==="text"||ot(e,"text")))}function qJ(e,t,r){var n=e,i,a,s;if(t==="text")s=n;else{s={},ot(n,"text")&&(s.text=n.text),ot(n,"rich")&&(s.rich=n.rich),ot(n,"textFill")&&(s.fill=n.textFill),ot(n,"textStroke")&&(s.stroke=n.textStroke),ot(n,"fontFamily")&&(s.fontFamily=n.fontFamily),ot(n,"fontSize")&&(s.fontSize=n.fontSize),ot(n,"fontStyle")&&(s.fontStyle=n.fontStyle),ot(n,"fontWeight")&&(s.fontWeight=n.fontWeight),a={type:"text",style:s,silent:!0},i={};var o=ot(n,"textPosition");r?i.position=o?n.textPosition:"inside":o&&(i.position=n.textPosition),ot(n,"textPosition")&&(i.position=n.textPosition),ot(n,"textOffset")&&(i.offset=n.textOffset),ot(n,"textRotation")&&(i.rotation=n.textRotation),ot(n,"textDistance")&&(i.distance=n.textDistance)}return Tj(s,e),q(s.rich,function(l){Tj(l,l)}),{textConfig:i,textContent:a}}function Tj(e,t){t&&(t.font=t.textFont||t.font,ot(t,"textStrokeWidth")&&(e.lineWidth=t.textStrokeWidth),ot(t,"textAlign")&&(e.align=t.textAlign),ot(t,"textVerticalAlign")&&(e.verticalAlign=t.textVerticalAlign),ot(t,"textLineHeight")&&(e.lineHeight=t.textLineHeight),ot(t,"textWidth")&&(e.width=t.textWidth),ot(t,"textHeight")&&(e.height=t.textHeight),ot(t,"textBackgroundColor")&&(e.backgroundColor=t.textBackgroundColor),ot(t,"textPadding")&&(e.padding=t.textPadding),ot(t,"textBorderColor")&&(e.borderColor=t.textBorderColor),ot(t,"textBorderWidth")&&(e.borderWidth=t.textBorderWidth),ot(t,"textBorderRadius")&&(e.borderRadius=t.textBorderRadius),ot(t,"textBoxShadowColor")&&(e.shadowColor=t.textBoxShadowColor),ot(t,"textBoxShadowBlur")&&(e.shadowBlur=t.textBoxShadowBlur),ot(t,"textBoxShadowOffsetX")&&(e.shadowOffsetX=t.textBoxShadowOffsetX),ot(t,"textBoxShadowOffsetY")&&(e.shadowOffsetY=t.textBoxShadowOffsetY))}function Cj(e,t,r){var n=e;n.textPosition=n.textPosition||r.position||"inside",r.offset!=null&&(n.textOffset=r.offset),r.rotation!=null&&(n.textRotation=r.rotation),r.distance!=null&&(n.textDistance=r.distance);var i=n.textPosition.indexOf("inside")>=0,a=e.fill||"#000";Ej(n,t);var s=n.textFill==null;return i?s&&(n.textFill=r.insideFill||"#fff",!n.textStroke&&r.insideStroke&&(n.textStroke=r.insideStroke),!n.textStroke&&(n.textStroke=a),n.textStrokeWidth==null&&(n.textStrokeWidth=2)):(s&&(n.textFill=e.fill||r.outsideFill||"#000"),!n.textStroke&&r.outsideStroke&&(n.textStroke=r.outsideStroke)),n.text=t.text,n.rich=t.rich,q(t.rich,function(o){Ej(o,o)}),n}function Ej(e,t){t&&(ot(t,"fill")&&(e.textFill=t.fill),ot(t,"stroke")&&(e.textStroke=t.fill),ot(t,"lineWidth")&&(e.textStrokeWidth=t.lineWidth),ot(t,"font")&&(e.font=t.font),ot(t,"fontStyle")&&(e.fontStyle=t.fontStyle),ot(t,"fontWeight")&&(e.fontWeight=t.fontWeight),ot(t,"fontSize")&&(e.fontSize=t.fontSize),ot(t,"fontFamily")&&(e.fontFamily=t.fontFamily),ot(t,"align")&&(e.textAlign=t.align),ot(t,"verticalAlign")&&(e.textVerticalAlign=t.verticalAlign),ot(t,"lineHeight")&&(e.textLineHeight=t.lineHeight),ot(t,"width")&&(e.textWidth=t.width),ot(t,"height")&&(e.textHeight=t.height),ot(t,"backgroundColor")&&(e.textBackgroundColor=t.backgroundColor),ot(t,"padding")&&(e.textPadding=t.padding),ot(t,"borderColor")&&(e.textBorderColor=t.borderColor),ot(t,"borderWidth")&&(e.textBorderWidth=t.borderWidth),ot(t,"borderRadius")&&(e.textBorderRadius=t.borderRadius),ot(t,"shadowColor")&&(e.textBoxShadowColor=t.shadowColor),ot(t,"shadowBlur")&&(e.textBoxShadowBlur=t.shadowBlur),ot(t,"shadowOffsetX")&&(e.textBoxShadowOffsetX=t.shadowOffsetX),ot(t,"shadowOffsetY")&&(e.textBoxShadowOffsetY=t.shadowOffsetY),ot(t,"textShadowColor")&&(e.textShadowColor=t.textShadowColor),ot(t,"textShadowBlur")&&(e.textShadowBlur=t.textShadowBlur),ot(t,"textShadowOffsetX")&&(e.textShadowOffsetX=t.textShadowOffsetX),ot(t,"textShadowOffsetY")&&(e.textShadowOffsetY=t.textShadowOffsetY))}var KJ={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},Aj=Kt(KJ);ls(Po,function(e,t){return e[t]=1,e},{});Po.join(", ");var JS=["","style","shape","extra"],yp=tr();function oR(e,t,r,n,i){var a=e+"Animation",s=zp(e,n,i)||{},o=yp(t).userDuring;return s.duration>0&&(s.during=o?rt(k6e,{el:t,userDuring:o}):null,s.setToFinal=!0,s.scope=e),Ne(s,r[a]),s}function wb(e,t,r,n){n=n||{};var i=n.dataIndex,a=n.isInit,s=n.clearStyle,o=r.isAnimationEnabled(),l=yp(e),u=t.style;l.userDuring=t.during;var c={},h={};if(D6e(e,t,h),Ij("shape",t,h),Ij("extra",t,h),!a&&o&&(I6e(e,t,c),kj("shape",e,t,c),kj("extra",e,t,c),M6e(e,t,u,c)),h.style=u,T6e(e,h,s),E6e(e,t),o)if(a){var f={};q(JS,function(v){var m=v?t[v]:t;m&&m.enterFrom&&(v&&(f[v]=f[v]||{}),Ne(v?f[v]:f,m.enterFrom))});var d=oR("enter",e,t,r,i);d.duration>0&&e.animateFrom(f,d)}else C6e(e,t,i||0,r,c);ZJ(e,t),u?e.dirty():e.markRedraw()}function ZJ(e,t){for(var r=yp(e).leaveToProps,n=0;n<JS.length;n++){var i=JS[n],a=i?t[i]:t;a&&a.leaveTo&&(r||(r=yp(e).leaveToProps={}),i&&(r[i]=r[i]||{}),Ne(i?r[i]:r,a.leaveTo))}}function $w(e,t,r,n){if(e){var i=e.parent,a=yp(e).leaveToProps;if(a){var s=oR("update",e,t,r,0);s.done=function(){i.remove(e)},e.animateTo(a,s)}else i.remove(e)}}function Bh(e){return e==="all"}function T6e(e,t,r){var n=t.style;if(!e.isGroup&&n){if(r){e.useStyle({});for(var i=e.animators,a=0;a<i.length;a++){var s=i[a];s.targetName==="style"&&s.changeTarget(e.style)}}e.setStyle(n)}t&&(t.style=null,t&&e.attr(t),t.style=n)}function C6e(e,t,r,n,i){if(i){var a=oR("update",e,t,n,r);a.duration>0&&e.animateFrom(i,a)}}function E6e(e,t){ot(t,"silent")&&(e.silent=t.silent),ot(t,"ignore")&&(e.ignore=t.ignore),e instanceof us&&ot(t,"invisible")&&(e.invisible=t.invisible),e instanceof qt&&ot(t,"autoBatch")&&(e.autoBatch=t.autoBatch)}var ho={},A6e={setTransform:function(e,t){return ho.el[e]=t,this},getTransform:function(e){return ho.el[e]},setShape:function(e,t){var r=ho.el,n=r.shape||(r.shape={});return n[e]=t,r.dirtyShape&&r.dirtyShape(),this},getShape:function(e){var t=ho.el.shape;if(t)return t[e]},setStyle:function(e,t){var r=ho.el,n=r.style;return n&&(n[e]=t,r.dirtyStyle&&r.dirtyStyle()),this},getStyle:function(e){var t=ho.el.style;if(t)return t[e]},setExtra:function(e,t){var r=ho.el.extra||(ho.el.extra={});return r[e]=t,this},getExtra:function(e){var t=ho.el.extra;if(t)return t[e]}};function k6e(){var e=this,t=e.el;if(t){var r=yp(t).userDuring,n=e.userDuring;if(r!==n){e.el=e.userDuring=null;return}ho.el=t,n(A6e)}}function kj(e,t,r,n){var i=r[e];if(i){var a=t[e],s;if(a){var o=r.transition,l=i.transition;if(l)if(!s&&(s=n[e]={}),Bh(l))Ne(s,a);else for(var u=Tr(l),c=0;c<u.length;c++){var h=u[c],f=a[h];s[h]=f}else if(Bh(o)||Ut(o,e)>=0){!s&&(s=n[e]={});for(var d=Kt(a),c=0;c<d.length;c++){var h=d[c],f=a[h];L6e(i[h],f)&&(s[h]=f)}}}}}function Ij(e,t,r){var n=t[e];if(n)for(var i=r[e]={},a=Kt(n),s=0;s<a.length;s++){var o=a[s];i[o]=sm(n[o])}}function I6e(e,t,r){for(var n=t.transition,i=Bh(n)?Po:Tr(n||[]),a=0;a<i.length;a++){var s=i[a];if(!(s==="style"||s==="shape"||s==="extra")){var o=e[s];r[s]=o}}}function D6e(e,t,r){for(var n=0;n<Aj.length;n++){var i=Aj[n],a=KJ[i],s=t[i];s&&(r[a[0]]=s[0],r[a[1]]=s[1])}for(var n=0;n<Po.length;n++){var o=Po[n];t[o]!=null&&(r[o]=t[o])}}function M6e(e,t,r,n){if(r){var i=e.style,a;if(i){var s=r.transition,o=t.transition;if(s&&!Bh(s)){var l=Tr(s);!a&&(a=n.style={});for(var u=0;u<l.length;u++){var c=l[u],h=i[c];a[c]=h}}else if(e.getAnimationStyleProps&&(Bh(o)||Bh(s)||Ut(o,"style")>=0)){var f=e.getAnimationStyleProps(),d=f?f.style:null;if(d){!a&&(a=n.style={});for(var v=Kt(r),u=0;u<v.length;u++){var c=v[u];if(d[c]){var h=i[c];a[c]=h}}}}}}}function L6e(e,t){return ai(e)?e!==t:e!=null&&isFinite(e)}var QJ=tr(),N6e=["percent","easing","shape","style","extra"];function JJ(e){e.stopAnimation("keyframe"),e.attr(QJ(e))}function e_(e,t,r){if(!(!r.isAnimationEnabled()||!t)){if(Oe(t)){q(t,function(o){e_(e,o,r)});return}var n=t.keyframes,i=t.duration;if(r&&i==null){var a=zp("enter",r,0);i=a&&a.duration}if(!(!n||!i)){var s=QJ(e);q(JS,function(o){if(!(o&&!e[o])){var l;n.sort(function(u,c){return u.percent-c.percent}),q(n,function(u){var c=e.animators,h=o?u[o]:u;if(h){var f=Kt(h);if(o||(f=lr(f,function(m){return Ut(N6e,m)<0})),!!f.length){l||(l=e.animate(o,t.loop,!0),l.scope="keyframe");for(var d=0;d<c.length;d++)c[d]!==l&&c[d].targetName===l.targetName&&c[d].stopTracks(f);o&&(s[o]=s[o]||{});var v=o?s[o]:s;q(f,function(m){v[m]=((o?e[o]:e)||{})[m]}),l.whenWithKeys(i*u.percent,h,f,u.easing)}}}),l&&l.delay(t.delay||0).duration(i).start(t.easing)}})}}}var gl="emphasis",Eu="normal",lR="blur",uR="select",tc=[Eu,gl,lR,uR],gA={normal:["itemStyle"],emphasis:[gl,"itemStyle"],blur:[lR,"itemStyle"],select:[uR,"itemStyle"]},mA={normal:["label"],emphasis:[gl,"label"],blur:[lR,"label"],select:[uR,"label"]},P6e=["x","y"],R6e="e\0\0",Ba={normal:{},emphasis:{},blur:{},select:{}},O6e={cartesian2d:g6e,geo:y6e,single:b6e,polar:_6e,calendar:w6e};function XD(e){return e instanceof qt}function qD(e){return e instanceof us}function B6e(e,t){t.copyTransform(e),qD(t)&&qD(e)&&(t.setStyle(e.style),t.z=e.z,t.z2=e.z2,t.zlevel=e.zlevel,t.invisible=e.invisible,t.ignore=e.ignore,XD(t)&&XD(e)&&t.setShape(e.shape))}var F6e=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i,a){this._progressiveEls=null;var s=this._data,o=r.getData(),l=this.group,u=Dj(r,o,n,i);s||l.removeAll(),o.diff(s).add(function(h){yA(i,null,h,u(h,a),r,l,o)}).remove(function(h){var f=s.getItemGraphicEl(h);f&&$w(f,vl(f).option,r)}).update(function(h,f){var d=s.getItemGraphicEl(f);yA(i,d,h,u(h,a),r,l,o)}).execute();var c=r.get("clip",!0)?ay(r.coordinateSystem,!1,r):null;c?l.setClipPath(c):l.removeClipPath(),this._data=o},t.prototype.incrementalPrepareRender=function(r,n,i){this.group.removeAll(),this._data=null},t.prototype.incrementalRender=function(r,n,i,a,s){var o=n.getData(),l=Dj(n,o,i,a),u=this._progressiveEls=[];function c(d){d.isGroup||(d.incremental=!0,d.ensureState("emphasis").hoverLayer=!0)}for(var h=r.start;h<r.end;h++){var f=yA(null,null,h,l(h,s),n,this.group,o);f&&(f.traverse(c),u.push(f))}},t.prototype.eachRendered=function(r){hc(this._progressiveEls||this.group,r)},t.prototype.filterForExposedEvent=function(r,n,i,a){var s=n.element;if(s==null||i.name===s)return!0;for(;(i=i.__hostTarget||i.parent)&&i!==this.group;)if(i.name===s)return!0;return!1},t.type="custom",t}(xr);function cR(e){var t=e.type,r;if(t==="path"){var n=e.shape,i=n.width!=null&&n.height!=null?{x:n.x||0,y:n.y||0,width:n.width,height:n.height}:null,a=ree(n);r=Q0(a,null,i,n.layout||"center"),vl(r).customPathData=a}else if(t==="image")r=new Vn({}),vl(r).customImagePath=e.style.image;else if(t==="text")r=new Qt({});else if(t==="group")r=new Ct;else{if(t==="compoundPath")throw new Error('"compoundPath" is not supported yet.');var s=_w(t);if(!s){var o="";vr(o)}r=new s}return vl(r).customGraphicType=t,r.name=e.name,r.z2EmphasisLift=1,r.z2SelectLift=1,r}function hR(e,t,r,n,i,a,s){JJ(t);var o=i&&i.normal.cfg;o&&t.setTextConfig(o),n&&n.transition==null&&(n.transition=P6e);var l=n&&n.style;if(l){if(t.type==="text"){var u=l;ot(u,"textFill")&&(u.fill=u.textFill),ot(u,"textStroke")&&(u.stroke=u.textStroke)}var c=void 0,h=XD(t)?l.decal:null;e&&h&&(h.dirty=!0,c=pp(h,e)),l.__decalPattern=c}if(qD(t)&&l){var c=l.__decalPattern;c&&(l.decal=c)}wb(t,n,a,{dataIndex:r,isInit:s,clearStyle:!0}),e_(t,n.keyframeAnimation,a)}function eee(e,t,r,n,i){var a=t.isGroup?null:t,s=i&&i[e].cfg;if(a){var o=a.ensureState(e);if(n===!1){var l=a.getState(e);l&&(l.style=null)}else o.style=n||null;s&&(o.textConfig=s),Qh(a)}}function z6e(e,t,r){if(!e.isGroup){var n=e,i=r.currentZ,a=r.currentZLevel;n.z=i,n.zlevel=a;var s=t.z2;s!=null&&(n.z2=s||0);for(var o=0;o<tc.length;o++)j6e(n,t,tc[o])}}function j6e(e,t,r){var n=r===Eu,i=n?t:t_(t,r),a=i?i.z2:null,s;a!=null&&(s=n?e:e.ensureState(r),s.z2=a||0)}function Dj(e,t,r,n){var i=e.get("renderItem"),a=e.coordinateSystem,s={};a&&(s=a.prepareCustoms?a.prepareCustoms(a):O6e[a.type](a));for(var o=yt({getWidth:n.getWidth,getHeight:n.getHeight,getZr:n.getZr,getDevicePixelRatio:n.getDevicePixelRatio,value:k,style:I,ordinalRawValue:M,styleEmphasis:L,visual:B,barLayout:H,currentSeriesIndices:G,font:$},s.api||{}),l={context:{},seriesId:e.id,seriesName:e.name,seriesIndex:e.seriesIndex,coordSys:s.coordSys,dataInsideLength:t.count(),encode:H6e(e.getData())},u,c,h={},f={},d={},v={},m=0;m<tc.length;m++){var y=tc[m];d[y]=e.getModel(gA[y]),v[y]=e.getModel(mA[y])}function b(W){return W===u?c||(c=t.getItemModel(W)):t.getItemModel(W)}function S(W,X){return t.hasItemOption?W===u?h[X]||(h[X]=b(W).getModel(gA[X])):b(W).getModel(gA[X]):d[X]}function w(W,X){return t.hasItemOption?W===u?f[X]||(f[X]=b(W).getModel(mA[X])):b(W).getModel(mA[X]):v[X]}return function(W,X){return u=W,c=null,h={},f={},i&&i(yt({dataIndexInside:W,dataIndex:t.getRawIndex(W),actionType:X?X.type:null},l),o)};function k(W,X){return X==null&&(X=u),t.getStore().get(t.getDimensionIndex(W||0),X)}function M(W,X){X==null&&(X=u),W=W||0;var ee=t.getDimensionInfo(W);if(!ee){var le=t.getDimensionIndex(W);return le>=0?t.getStore().get(le,X):void 0}var ie=t.get(ee.name,X),fe=ee&&ee.ordinalMeta;return fe?fe.categories[ie]:ie}function I(W,X){X==null&&(X=u);var ee=t.getItemVisual(X,"style"),le=ee&&ee.fill,ie=ee&&ee.opacity,fe=S(X,Eu).getItemStyle();le!=null&&(fe.fill=le),ie!=null&&(fe.opacity=ie);var re={inheritColor:Je(le)?le:"#000"},me=w(X,Eu),J=Ir(me,null,re,!1,!0);J.text=me.getShallow("show")?Mt(e.getFormattedLabel(X,Eu),vp(t,X)):null;var te=IS(me,re,!1);return z(W,fe),fe=Cj(fe,J,te),W&&N(fe,W),fe.legacy=!0,fe}function L(W,X){X==null&&(X=u);var ee=S(X,gl).getItemStyle(),le=w(X,gl),ie=Ir(le,null,null,!0,!0);ie.text=le.getShallow("show")?Os(e.getFormattedLabel(X,gl),e.getFormattedLabel(X,Eu),vp(t,X)):null;var fe=IS(le,null,!0);return z(W,ee),ee=Cj(ee,ie,fe),W&&N(ee,W),ee.legacy=!0,ee}function N(W,X){for(var ee in X)ot(X,ee)&&(W[ee]=X[ee])}function z(W,X){W&&(W.textFill&&(X.textFill=W.textFill),W.textPosition&&(X.textPosition=W.textPosition))}function B(W,X){if(X==null&&(X=u),ot(wj,W)){var ee=t.getItemVisual(X,"style");return ee?ee[wj[W]]:null}if(ot(d6e,W))return t.getItemVisual(X,W)}function H(W){if(a.type==="cartesian2d"){var X=a.getBaseAxis();return gIe(yt({axis:X},W))}}function G(){return r.getCurrentSeriesIndices()}function $(W){return GN(W,r)}}function H6e(e){var t={};return q(e.dimensions,function(r){var n=e.getDimensionInfo(r);if(!n.isExtraCoord){var i=n.coordDim,a=t[i]=t[i]||[];a[n.coordDimIndex]=e.getDimensionIndex(r)}}),t}function yA(e,t,r,n,i,a,s){if(!n){a.remove(t);return}var o=fR(e,t,r,n,i,a);return o&&s.setItemGraphicEl(r,o),o&&qr(o,n.focus,n.blurScope,n.emphasisDisabled),o}function fR(e,t,r,n,i,a){var s=-1,o=t;t&&tee(t,n,i)&&(s=Ut(a.childrenRef(),t),t=null);var l=!t,u=t;u?u.clearStates():(u=cR(n),o&&B6e(o,u)),n.morph===!1?u.disableMorphing=!0:u.disableMorphing&&(u.disableMorphing=!1),Ba.normal.cfg=Ba.normal.conOpt=Ba.emphasis.cfg=Ba.emphasis.conOpt=Ba.blur.cfg=Ba.blur.conOpt=Ba.select.cfg=Ba.select.conOpt=null,Ba.isLegacy=!1,U6e(u,r,n,i,l,Ba),V6e(u,r,n,i,l),hR(e,u,r,n,Ba,i,l),ot(n,"info")&&(vl(u).info=n.info);for(var c=0;c<tc.length;c++){var h=tc[c];if(h!==Eu){var f=t_(n,h),d=dR(n,f,h);eee(h,u,f,d,Ba)}}return z6e(u,n,i),n.type==="group"&&G6e(e,u,r,n,i),s>=0?a.replaceAt(u,s):a.add(u),u}function tee(e,t,r){var n=vl(e),i=t.type,a=t.shape,s=t.style;return r.isUniversalTransitionEnabled()||i!=null&&i!==n.customGraphicType||i==="path"&&X6e(a)&&ree(a)!==n.customPathData||i==="image"&&ot(s,"image")&&s.image!==n.customImagePath}function V6e(e,t,r,n,i){var a=r.clipPath;if(a===!1)e&&e.getClipPath()&&e.removeClipPath();else if(a){var s=e.getClipPath();s&&tee(s,a,n)&&(s=null),s||(s=cR(a),e.setClipPath(s)),hR(null,s,t,a,null,n,i)}}function U6e(e,t,r,n,i,a){if(!e.isGroup){Mj(r,null,a),Mj(r,gl,a);var s=a.normal.conOpt,o=a.emphasis.conOpt,l=a.blur.conOpt,u=a.select.conOpt;if(s!=null||o!=null||u!=null||l!=null){var c=e.getTextContent();if(s===!1)c&&e.removeTextContent();else{s=a.normal.conOpt=s||{type:"text"},c?c.clearStates():(c=cR(s),e.setTextContent(c)),hR(null,c,t,s,null,n,i);for(var h=s&&s.style,f=0;f<tc.length;f++){var d=tc[f];if(d!==Eu){var v=a[d].conOpt;eee(d,c,v,dR(s,v,d),null)}}h?c.dirty():c.markRedraw()}}}}function Mj(e,t,r){var n=t?t_(e,t):e,i=t?dR(e,n,gl):e.style,a=e.type,s=n?n.textConfig:null,o=e.textContent,l=o?t?t_(o,t):o:null;if(i&&(r.isLegacy||XJ(i,a,!!s,!!l))){r.isLegacy=!0;var u=qJ(i,a,!t);!s&&u.textConfig&&(s=u.textConfig),!l&&u.textContent&&(l=u.textContent)}if(!t&&l){var c=l;!c.type&&(c.type="text")}var h=t?r[t]:r.normal;h.cfg=s,h.conOpt=l}function t_(e,t){return t?e?e[t]:null:e}function dR(e,t,r){var n=t&&t.style;return n==null&&r===gl&&e&&(n=e.styleEmphasis),n}function G6e(e,t,r,n,i){var a=n.children,s=a?a.length:0,o=n.$mergeChildren,l=o==="byName"||n.diffChildrenByName,u=o===!1;if(!(!s&&!l&&!u)){if(l){$6e({api:e,oldChildren:t.children()||[],newChildren:a||[],dataIndex:r,seriesModel:i,group:t});return}u&&t.removeAll();for(var c=0;c<s;c++){var h=a[c],f=t.childAt(c);h?(h.ignore==null&&(h.ignore=!1),fR(e,f,r,h,i,t)):f.ignore=!0}for(var d=t.childCount()-1;d>=c;d--){var v=t.childAt(d);W6e(t,v,i)}}}function W6e(e,t,r){t&&$w(t,vl(e).option,r)}function $6e(e){new El(e.oldChildren,e.newChildren,Lj,Lj,e).add(Nj).update(Nj).remove(Y6e).execute()}function Lj(e,t){var r=e&&e.name;return r??R6e+t}function Nj(e,t){var r=this.context,n=e!=null?r.newChildren[e]:null,i=t!=null?r.oldChildren[t]:null;fR(r.api,i,r.dataIndex,n,r.seriesModel,r.group)}function Y6e(e){var t=this.context,r=t.oldChildren[e];r&&$w(r,vl(r).option,t.seriesModel)}function ree(e){return e&&(e.pathData||e.d)}function X6e(e){return e&&(ot(e,"pathData")||ot(e,"d"))}function q6e(e){e.registerChartView(F6e),e.registerSeriesModel(p6e)}var uh=tr(),Pj=_t,xA=rt,pR=function(){function e(){this._dragging=!1,this.animationThreshold=15}return e.prototype.render=function(t,r,n,i){var a=r.get("value"),s=r.get("status");if(this._axisModel=t,this._axisPointerModel=r,this._api=n,!(!i&&this._lastValue===a&&this._lastStatus===s)){this._lastValue=a,this._lastStatus=s;var o=this._group,l=this._handle;if(!s||s==="hide"){o&&o.hide(),l&&l.hide();return}o&&o.show(),l&&l.show();var u={};this.makeElOption(u,a,t,r,n);var c=u.graphicKey;c!==this._lastGraphicKey&&this.clear(n),this._lastGraphicKey=c;var h=this._moveAnimation=this.determineAnimation(t,r);if(!o)o=this._group=new Ct,this.createPointerEl(o,u,t,r),this.createLabelEl(o,u,t,r),n.getZr().add(o);else{var f=Lt(Rj,r,h);this.updatePointerEl(o,u,f),this.updateLabelEl(o,u,f,r)}Bj(o,r,!0),this._renderHandle(a)}},e.prototype.remove=function(t){this.clear(t)},e.prototype.dispose=function(t){this.clear(t)},e.prototype.determineAnimation=function(t,r){var n=r.get("animation"),i=t.axis,a=i.type==="category",s=r.get("snap");if(!s&&!a)return!1;if(n==="auto"||n==null){var o=this.animationThreshold;if(a&&i.getBandWidth()>o)return!0;if(s){var l=OP(t).seriesDataCount,u=i.getExtent();return Math.abs(u[0]-u[1])/l>o}return!1}return n===!0},e.prototype.makeElOption=function(t,r,n,i,a){},e.prototype.createPointerEl=function(t,r,n,i){var a=r.pointer;if(a){var s=uh(t).pointerEl=new hf[a.type](Pj(r.pointer));t.add(s)}},e.prototype.createLabelEl=function(t,r,n,i){if(r.label){var a=uh(t).labelEl=new Qt(Pj(r.label));t.add(a),Oj(a,i)}},e.prototype.updatePointerEl=function(t,r,n){var i=uh(t).pointerEl;i&&r.pointer&&(i.setStyle(r.pointer.style),n(i,{shape:r.pointer.shape}))},e.prototype.updateLabelEl=function(t,r,n,i){var a=uh(t).labelEl;a&&(a.setStyle(r.label.style),n(a,{x:r.label.x,y:r.label.y}),Oj(a,i))},e.prototype._renderHandle=function(t){if(!(this._dragging||!this.updateHandleTransform)){var r=this._axisPointerModel,n=this._api.getZr(),i=this._handle,a=r.getModel("handle"),s=r.get("status");if(!a.get("show")||!s||s==="hide"){i&&n.remove(i),this._handle=null;return}var o;this._handle||(o=!0,i=this._handle=jp(a.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(u){wl(u.event)},onmousedown:xA(this._onHandleDragMove,this,0,0),drift:xA(this._onHandleDragMove,this),ondragend:xA(this._onHandleDragEnd,this)}),n.add(i)),Bj(i,r,!1),i.setStyle(a.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var l=a.get("size");Oe(l)||(l=[l,l]),i.scaleX=l[0]/2,i.scaleY=l[1]/2,Yp(this,"_doDispatchAxisPointer",a.get("throttle")||0,"fixRate"),this._moveHandleToValue(t,o)}},e.prototype._moveHandleToValue=function(t,r){Rj(this._axisPointerModel,!r&&this._moveAnimation,this._handle,bA(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},e.prototype._onHandleDragMove=function(t,r){var n=this._handle;if(n){this._dragging=!0;var i=this.updateHandleTransform(bA(n),[t,r],this._axisModel,this._axisPointerModel);this._payloadInfo=i,n.stopAnimation(),n.attr(bA(i)),uh(n).lastProp=null,this._doDispatchAxisPointer()}},e.prototype._doDispatchAxisPointer=function(){var t=this._handle;if(t){var r=this._payloadInfo,n=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:r.cursorPoint[0],y:r.cursorPoint[1],tooltipOption:r.tooltipOption,axesInfo:[{axisDim:n.axis.dim,axisIndex:n.componentIndex}]})}},e.prototype._onHandleDragEnd=function(){this._dragging=!1;var t=this._handle;if(t){var r=this._axisPointerModel.get("value");this._moveHandleToValue(r),this._api.dispatchAction({type:"hideTip"})}},e.prototype.clear=function(t){this._lastValue=null,this._lastStatus=null;var r=t.getZr(),n=this._group,i=this._handle;r&&n&&(this._lastGraphicKey=null,n&&r.remove(n),i&&r.remove(i),this._group=null,this._handle=null,this._payloadInfo=null),o0(this,"_doDispatchAxisPointer")},e.prototype.doClear=function(){},e.prototype.buildLabel=function(t,r,n){return n=n||0,{x:t[n],y:t[1-n],width:r[n],height:r[1-n]}},e}();function Rj(e,t,r,n){nee(uh(r).lastProp,n)||(uh(r).lastProp=n,t?sr(r,n,e):(r.stopAnimation(),r.attr(n)))}function nee(e,t){if(St(e)&&St(t)){var r=!0;return q(t,function(n,i){r=r&&nee(e[i],n)}),!!r}else return e===t}function Oj(e,t){e[t.get(["label","show"])?"show":"hide"]()}function bA(e){return{x:e.x||0,y:e.y||0,rotation:e.rotation||0}}function Bj(e,t,r){var n=t.get("z"),i=t.get("zlevel");e&&e.traverse(function(a){a.type!=="group"&&(n!=null&&(a.z=n),i!=null&&(a.zlevel=i),a.silent=r)})}function vR(e){var t=e.get("type"),r=e.getModel(t+"Style"),n;return t==="line"?(n=r.getLineStyle(),n.fill=null):t==="shadow"&&(n=r.getAreaStyle(),n.stroke=null),n}function iee(e,t,r,n,i){var a=r.get("value"),s=aee(a,t.axis,t.ecModel,r.get("seriesDataIndices"),{precision:r.get(["label","precision"]),formatter:r.get(["label","formatter"])}),o=r.getModel("label"),l=ff(o.get("padding")||0),u=o.getFont(),c=Y0(s,u),h=i.position,f=c.width+l[1]+l[3],d=c.height+l[0]+l[2],v=i.align;v==="right"&&(h[0]-=f),v==="center"&&(h[0]-=f/2);var m=i.verticalAlign;m==="bottom"&&(h[1]-=d),m==="middle"&&(h[1]-=d/2),K6e(h,f,d,n);var y=o.get("backgroundColor");(!y||y==="auto")&&(y=t.get(["axisLine","lineStyle","color"])),e.label={x:h[0],y:h[1],style:Ir(o,{text:s,font:u,fill:o.getTextColor(),padding:l,backgroundColor:y}),z2:10}}function K6e(e,t,r,n){var i=n.getWidth(),a=n.getHeight();e[0]=Math.min(e[0]+t,i)-t,e[1]=Math.min(e[1]+r,a)-r,e[0]=Math.max(e[0],0),e[1]=Math.max(e[1],0)}function aee(e,t,r,n,i){e=t.scale.parse(e);var a=t.scale.getLabel({value:e},{precision:i.precision}),s=i.formatter;if(s){var o={value:CP(t,{value:e}),axisDimension:t.dim,axisIndex:t.index,seriesData:[]};q(n,function(l){var u=r.getSeriesByIndex(l.seriesIndex),c=l.dataIndexInside,h=u&&u.getDataParams(c);h&&o.seriesData.push(h)}),Je(s)?a=s.replace("{value}",a):vt(s)&&(a=s(o))}return a}function gR(e,t,r){var n=ua();return cc(n,n,r.rotation),Vs(n,n,r.position),zs([e.dataToCoord(t),(r.labelOffset||0)+(r.labelDirection||1)*(r.labelMargin||0)],n)}function see(e,t,r,n,i,a){var s=ji.innerTextLayout(r.rotation,0,r.labelDirection);r.labelMargin=i.get(["label","margin"]),iee(t,n,i,a,{position:gR(n.axis,e,r),align:s.textAlign,verticalAlign:s.textVerticalAlign})}function mR(e,t,r){return r=r||0,{x1:e[r],y1:e[1-r],x2:t[r],y2:t[1-r]}}function oee(e,t,r){return r=r||0,{x:e[r],y:e[1-r],width:t[r],height:t[1-r]}}function Fj(e,t,r,n,i,a){return{cx:e,cy:t,r0:r,r:n,startAngle:i,endAngle:a,clockwise:!0}}var Z6e=function(e){_e(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.makeElOption=function(r,n,i,a,s){var o=i.axis,l=o.grid,u=a.get("type"),c=zj(l,o).getOtherAxis(o).getGlobalExtent(),h=o.toGlobalCoord(o.dataToCoord(n,!0));if(u&&u!=="none"){var f=vR(a),d=Q6e[u](o,h,c);d.style=f,r.graphicKey=d.type,r.pointer=d}var v=ID(l.model,i);see(n,r,v,i,a,s)},t.prototype.getHandleTransform=function(r,n,i){var a=ID(n.axis.grid.model,n,{labelInside:!1});a.labelMargin=i.get(["handle","margin"]);var s=gR(n.axis,r,a);return{x:s[0],y:s[1],rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(r,n,i,a){var s=i.axis,o=s.grid,l=s.getGlobalExtent(!0),u=zj(o,s).getOtherAxis(s).getGlobalExtent(),c=s.dim==="x"?0:1,h=[r.x,r.y];h[c]+=n[c],h[c]=Math.min(l[1],h[c]),h[c]=Math.max(l[0],h[c]);var f=(u[1]+u[0])/2,d=[f,f];d[c]=h[c];var v=[{verticalAlign:"middle"},{align:"center"}];return{x:h[0],y:h[1],rotation:r.rotation,cursorPoint:d,tooltipOption:v[c]}},t}(pR);function zj(e,t){var r={};return r[t.dim+"AxisIndex"]=t.index,e.getCartesian(r)}var Q6e={line:function(e,t,r){var n=mR([t,r[0]],[t,r[1]],jj(e));return{type:"Line",subPixelOptimize:!0,shape:n}},shadow:function(e,t,r){var n=Math.max(1,e.getBandWidth()),i=r[1]-r[0];return{type:"Rect",shape:oee([t-n/2,r[0]],[n,i],jj(e))}}};function jj(e){return e.dim==="x"?0:1}var J6e=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.type="axisPointer",t.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},t}(Yt),fl=tr(),e5e=q;function lee(e,t,r){if(!Xt.node){var n=t.getZr();fl(n).records||(fl(n).records={}),t5e(n,t);var i=fl(n).records[e]||(fl(n).records[e]={});i.handler=r}}function t5e(e,t){if(fl(e).initialized)return;fl(e).initialized=!0,r("click",Lt(Hj,"click")),r("mousemove",Lt(Hj,"mousemove")),r("globalout",n5e);function r(n,i){e.on(n,function(a){var s=i5e(t);e5e(fl(e).records,function(o){o&&i(o,a,s.dispatchAction)}),r5e(s.pendings,t)})}}function r5e(e,t){var r=e.showTip.length,n=e.hideTip.length,i;r?i=e.showTip[r-1]:n&&(i=e.hideTip[n-1]),i&&(i.dispatchAction=null,t.dispatchAction(i))}function n5e(e,t,r){e.handler("leave",null,r)}function Hj(e,t,r,n){t.handler(e,r,n)}function i5e(e){var t={showTip:[],hideTip:[]},r=function(n){var i=t[n.type];i?i.push(n):(n.dispatchAction=r,e.dispatchAction(n))};return{dispatchAction:r,pendings:t}}function KD(e,t){if(!Xt.node){var r=t.getZr(),n=(fl(r).records||{})[e];n&&(fl(r).records[e]=null)}}var a5e=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i){var a=n.getComponent("tooltip"),s=r.get("triggerOn")||a&&a.get("triggerOn")||"mousemove|click";lee("axisPointer",i,function(o,l,u){s!=="none"&&(o==="leave"||s.indexOf(o)>=0)&&u({type:"updateAxisPointer",currTrigger:o,x:l&&l.offsetX,y:l&&l.offsetY})})},t.prototype.remove=function(r,n){KD("axisPointer",n)},t.prototype.dispose=function(r,n){KD("axisPointer",n)},t.type="axisPointer",t}(Nr);function uee(e,t){var r=[],n=e.seriesIndex,i;if(n==null||!(i=t.getSeriesByIndex(n)))return{point:[]};var a=i.getData(),s=Kh(a,e);if(s==null||s<0||Oe(s))return{point:[]};var o=a.getItemGraphicEl(s),l=i.coordinateSystem;if(i.getTooltipPosition)r=i.getTooltipPosition(s)||[];else if(l&&l.dataToPoint)if(e.isStacked){var u=l.getBaseAxis(),c=l.getOtherAxis(u),h=c.dim,f=u.dim,d=h==="x"||h==="radius"?1:0,v=a.mapDimension(f),m=[];m[d]=a.get(v,s),m[1-d]=a.get(a.getCalculationInfo("stackResultDimension"),s),r=l.dataToPoint(m)||[]}else r=l.dataToPoint(a.getValues(Fe(l.dimensions,function(b){return a.mapDimension(b)}),s))||[];else if(o){var y=o.getBoundingRect().clone();y.applyTransform(o.transform),r=[y.x+y.width/2,y.y+y.height/2]}return{point:r,el:o}}var Vj=tr();function s5e(e,t,r){var n=e.currTrigger,i=[e.x,e.y],a=e,s=e.dispatchAction||rt(r.dispatchAction,r),o=t.getComponent("axisPointer").coordSysAxesInfo;if(o){Tb(i)&&(i=uee({seriesIndex:a.seriesIndex,dataIndex:a.dataIndex},t).point);var l=Tb(i),u=a.axesInfo,c=o.axesInfo,h=n==="leave"||Tb(i),f={},d={},v={list:[],map:{}},m={showPointer:Lt(l5e,d),showTooltip:Lt(u5e,v)};q(o.coordSysMap,function(b,S){var w=l||b.containPoint(i);q(o.coordSysAxesInfo[S],function(k,M){var I=k.axis,L=d5e(u,k);if(!h&&w&&(!u||L)){var N=L&&L.value;N==null&&!l&&(N=I.pointToData(i)),N!=null&&Uj(k,N,m,!1,f)}})});var y={};return q(c,function(b,S){var w=b.linkGroup;w&&!d[S]&&q(w.axesInfo,function(k,M){var I=d[M];if(k!==b&&I){var L=I.value;w.mapper&&(L=b.axis.scale.parse(w.mapper(L,Gj(k),Gj(b)))),y[b.key]=L}})}),q(y,function(b,S){Uj(c[S],b,m,!0,f)}),c5e(d,c,f),h5e(v,i,e,s),f5e(c,s,r),f}}function Uj(e,t,r,n,i){var a=e.axis;if(!(a.scale.isBlank()||!a.containData(t))){if(!e.involveSeries){r.showPointer(e,t);return}var s=o5e(t,e),o=s.payloadBatch,l=s.snapToValue;o[0]&&i.seriesIndex==null&&Ne(i,o[0]),!n&&e.snap&&a.containData(l)&&l!=null&&(t=l),r.showPointer(e,t,o),r.showTooltip(e,s,l)}}function o5e(e,t){var r=t.axis,n=r.dim,i=e,a=[],s=Number.MAX_VALUE,o=-1;return q(t.seriesModels,function(l,u){var c=l.getData().mapDimensionsAll(n),h,f;if(l.getAxisTooltipData){var d=l.getAxisTooltipData(c,e,r);f=d.dataIndices,h=d.nestestValue}else{if(f=l.getData().indicesOfNearest(c[0],e,r.type==="category"?.5:null),!f.length)return;h=l.getData().get(c[0],f[0])}if(!(h==null||!isFinite(h))){var v=e-h,m=Math.abs(v);m<=s&&((m<s||v>=0&&o<0)&&(s=m,o=v,i=h,a.length=0),q(f,function(y){a.push({seriesIndex:l.seriesIndex,dataIndexInside:y,dataIndex:l.getData().getRawIndex(y)})}))}}),{payloadBatch:a,snapToValue:i}}function l5e(e,t,r,n){e[t.key]={value:r,payloadBatch:n}}function u5e(e,t,r,n){var i=r.payloadBatch,a=t.axis,s=a.model,o=t.axisPointerModel;if(!(!t.triggerTooltip||!i.length)){var l=t.coordSys.model,u=p0(l),c=e.map[u];c||(c=e.map[u]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},e.list.push(c)),c.dataByAxis.push({axisDim:a.dim,axisIndex:s.componentIndex,axisType:s.type,axisId:s.id,value:n,valueLabelOpt:{precision:o.get(["label","precision"]),formatter:o.get(["label","formatter"])},seriesDataIndices:i.slice()})}}function c5e(e,t,r){var n=r.axesInfo=[];q(t,function(i,a){var s=i.axisPointerModel.option,o=e[a];o?(!i.useHandle&&(s.status="show"),s.value=o.value,s.seriesDataIndices=(o.payloadBatch||[]).slice()):!i.useHandle&&(s.status="hide"),s.status==="show"&&n.push({axisDim:i.axis.dim,axisIndex:i.axis.model.componentIndex,value:s.value})})}function h5e(e,t,r,n){if(Tb(t)||!e.list.length){n({type:"hideTip"});return}var i=((e.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};n({type:"showTip",escapeConnect:!0,x:t[0],y:t[1],tooltipOption:r.tooltipOption,position:r.position,dataIndexInside:i.dataIndexInside,dataIndex:i.dataIndex,seriesIndex:i.seriesIndex,dataByCoordSys:e.list})}function f5e(e,t,r){var n=r.getZr(),i="axisPointerLastHighlights",a=Vj(n)[i]||{},s=Vj(n)[i]={};q(e,function(u,c){var h=u.axisPointerModel.option;h.status==="show"&&u.triggerEmphasis&&q(h.seriesDataIndices,function(f){var d=f.seriesIndex+" | "+f.dataIndex;s[d]=f})});var o=[],l=[];q(a,function(u,c){!s[c]&&l.push(u)}),q(s,function(u,c){!a[c]&&o.push(u)}),l.length&&r.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:l}),o.length&&r.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:o})}function d5e(e,t){for(var r=0;r<(e||[]).length;r++){var n=e[r];if(t.axis.dim===n.axisDim&&t.axis.model.componentIndex===n.axisIndex)return n}}function Gj(e){var t=e.axis.model,r={},n=r.axisDim=e.axis.dim;return r.axisIndex=r[n+"AxisIndex"]=t.componentIndex,r.axisName=r[n+"AxisName"]=t.name,r.axisId=r[n+"AxisId"]=t.id,r}function Tb(e){return!e||e[0]==null||isNaN(e[0])||e[1]==null||isNaN(e[1])}function hy(e){vf.registerAxisPointerClass("CartesianAxisPointer",Z6e),e.registerComponentModel(J6e),e.registerComponentView(a5e),e.registerPreprocessor(function(t){if(t){(!t.axisPointer||t.axisPointer.length===0)&&(t.axisPointer={});var r=t.axisPointer.link;r&&!Oe(r)&&(t.axisPointer.link=[r])}}),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,function(t,r){t.getComponent("axisPointer").coordSysAxesInfo=wLe(t,r)}),e.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},s5e)}function p5e(e){Wt(BQ),Wt(hy)}var v5e=function(e){_e(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.makeElOption=function(r,n,i,a,s){var o=i.axis;o.dim==="angle"&&(this.animationThreshold=Math.PI/18);var l=o.polar,u=l.getOtherAxis(o),c=u.getExtent(),h=o.dataToCoord(n),f=a.get("type");if(f&&f!=="none"){var d=vR(a),v=m5e[f](o,l,h,c);v.style=d,r.graphicKey=v.type,r.pointer=v}var m=a.get(["label","margin"]),y=g5e(n,i,a,l,m);iee(r,i,a,s,y)},t}(pR);function g5e(e,t,r,n,i){var a=t.axis,s=a.dataToCoord(e),o=n.getAngleAxis().getExtent()[0];o=o/180*Math.PI;var l=n.getRadiusAxis().getExtent(),u,c,h;if(a.dim==="radius"){var f=ua();cc(f,f,o),Vs(f,f,[n.cx,n.cy]),u=zs([s,-i],f);var d=t.getModel("axisLabel").get("rotate")||0,v=ji.innerTextLayout(o,d*Math.PI/180,-1);c=v.textAlign,h=v.textVerticalAlign}else{var m=l[1];u=n.coordToPoint([m+i,s]);var y=n.cx,b=n.cy;c=Math.abs(u[0]-y)/m<.3?"center":u[0]>y?"left":"right",h=Math.abs(u[1]-b)/m<.3?"middle":u[1]>b?"top":"bottom"}return{position:u,align:c,verticalAlign:h}}var m5e={line:function(e,t,r,n){return e.dim==="angle"?{type:"Line",shape:mR(t.coordToPoint([n[0],r]),t.coordToPoint([n[1],r]))}:{type:"Circle",shape:{cx:t.cx,cy:t.cy,r}}},shadow:function(e,t,r,n){var i=Math.max(1,e.getBandWidth()),a=Math.PI/180;return e.dim==="angle"?{type:"Sector",shape:Fj(t.cx,t.cy,n[0],n[1],(-r-i/2)*a,(-r+i/2)*a)}:{type:"Sector",shape:Fj(t.cx,t.cy,r-i/2,r+i/2,0,Math.PI*2)}}},y5e=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.findAxisModel=function(r){var n,i=this.ecModel;return i.eachComponent(r,function(a){a.getCoordSysModel()===this&&(n=a)},this),n},t.type="polar",t.dependencies=["radiusAxis","angleAxis"],t.defaultOption={z:0,center:["50%","50%"],radius:"80%"},t}(Yt),yR=function(e){_e(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",bn).models[0]},t.type="polarAxis",t}(Yt);cn(yR,Zp);var x5e=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.type="angleAxis",t}(yR),b5e=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.type="radiusAxis",t}(yR),xR=function(e){_e(t,e);function t(r,n){return e.call(this,"radius",r,n)||this}return t.prototype.pointToData=function(r,n){return this.polar.pointToData(r,n)[this.dim==="radius"?0:1]},t}(ps);xR.prototype.dataToRadius=ps.prototype.dataToCoord;xR.prototype.radiusToData=ps.prototype.coordToData;var S5e=tr(),bR=function(e){_e(t,e);function t(r,n){return e.call(this,"angle",r,n||[0,360])||this}return t.prototype.pointToData=function(r,n){return this.polar.pointToData(r,n)[this.dim==="radius"?0:1]},t.prototype.calculateCategoryInterval=function(){var r=this,n=r.getLabelModel(),i=r.scale,a=i.getExtent(),s=i.count();if(a[1]-a[0]<1)return 0;var o=a[0],l=r.dataToCoord(o+1)-r.dataToCoord(o),u=Math.abs(l),c=Y0(o==null?"":o+"",n.getFont(),"center","top"),h=Math.max(c.height,7),f=h/u;isNaN(f)&&(f=1/0);var d=Math.max(0,Math.floor(f)),v=S5e(r.model),m=v.lastAutoInterval,y=v.lastTickCount;return m!=null&&y!=null&&Math.abs(m-d)<=1&&Math.abs(y-s)<=1&&m>d?d=m:(v.lastTickCount=s,v.lastAutoInterval=d),d},t}(ps);bR.prototype.dataToAngle=ps.prototype.dataToCoord;bR.prototype.angleToData=ps.prototype.coordToData;var cee=["radius","angle"],_5e=function(){function e(t){this.dimensions=cee,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new xR,this._angleAxis=new bR,this.axisPointerEnabled=!0,this.name=t||"",this._radiusAxis.polar=this._angleAxis.polar=this}return e.prototype.containPoint=function(t){var r=this.pointToCoord(t);return this._radiusAxis.contain(r[0])&&this._angleAxis.contain(r[1])},e.prototype.containData=function(t){return this._radiusAxis.containData(t[0])&&this._angleAxis.containData(t[1])},e.prototype.getAxis=function(t){var r="_"+t+"Axis";return this[r]},e.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},e.prototype.getAxesByScale=function(t){var r=[],n=this._angleAxis,i=this._radiusAxis;return n.scale.type===t&&r.push(n),i.scale.type===t&&r.push(i),r},e.prototype.getAngleAxis=function(){return this._angleAxis},e.prototype.getRadiusAxis=function(){return this._radiusAxis},e.prototype.getOtherAxis=function(t){var r=this._angleAxis;return t===r?this._radiusAxis:r},e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},e.prototype.getTooltipAxes=function(t){var r=t!=null&&t!=="auto"?this.getAxis(t):this.getBaseAxis();return{baseAxes:[r],otherAxes:[this.getOtherAxis(r)]}},e.prototype.dataToPoint=function(t,r){return this.coordToPoint([this._radiusAxis.dataToRadius(t[0],r),this._angleAxis.dataToAngle(t[1],r)])},e.prototype.pointToData=function(t,r){var n=this.pointToCoord(t);return[this._radiusAxis.radiusToData(n[0],r),this._angleAxis.angleToData(n[1],r)]},e.prototype.pointToCoord=function(t){var r=t[0]-this.cx,n=t[1]-this.cy,i=this.getAngleAxis(),a=i.getExtent(),s=Math.min(a[0],a[1]),o=Math.max(a[0],a[1]);i.inverse?s=o-360:o=s+360;var l=Math.sqrt(r*r+n*n);r/=l,n/=l;for(var u=Math.atan2(-n,r)/Math.PI*180,c=u<s?1:-1;u<s||u>o;)u+=c*360;return[l,u]},e.prototype.coordToPoint=function(t){var r=t[0],n=t[1]/180*Math.PI,i=Math.cos(n)*r+this.cx,a=-Math.sin(n)*r+this.cy;return[i,a]},e.prototype.getArea=function(){var t=this.getAngleAxis(),r=this.getRadiusAxis(),n=r.getExtent().slice();n[0]>n[1]&&n.reverse();var i=t.getExtent(),a=Math.PI/180,s=1e-4;return{cx:this.cx,cy:this.cy,r0:n[0],r:n[1],startAngle:-i[0]*a,endAngle:-i[1]*a,clockwise:t.inverse,contain:function(o,l){var u=o-this.cx,c=l-this.cy,h=u*u+c*c,f=this.r,d=this.r0;return f!==d&&h-s<=f*f&&h+s>=d*d}}},e.prototype.convertToPixel=function(t,r,n){var i=Wj(r);return i===this?this.dataToPoint(n):null},e.prototype.convertFromPixel=function(t,r,n){var i=Wj(r);return i===this?this.pointToData(n):null},e}();function Wj(e){var t=e.seriesModel,r=e.polarModel;return r&&r.coordinateSystem||t&&t.coordinateSystem}function w5e(e,t,r){var n=t.get("center"),i=r.getWidth(),a=r.getHeight();e.cx=Ze(n[0],i),e.cy=Ze(n[1],a);var s=e.getRadiusAxis(),o=Math.min(i,a)/2,l=t.get("radius");l==null?l=[0,"100%"]:Oe(l)||(l=[0,l]);var u=[Ze(l[0],o),Ze(l[1],o)];s.inverse?s.setExtent(u[1],u[0]):s.setExtent(u[0],u[1])}function T5e(e,t){var r=this,n=r.getAngleAxis(),i=r.getRadiusAxis();if(n.scale.setExtent(1/0,-1/0),i.scale.setExtent(1/0,-1/0),e.eachSeries(function(o){if(o.coordinateSystem===r){var l=o.getData();q(VS(l,"radius"),function(u){i.scale.unionExtentFromData(l,u)}),q(VS(l,"angle"),function(u){n.scale.unionExtentFromData(l,u)})}}),ef(n.scale,n.model),ef(i.scale,i.model),n.type==="category"&&!n.onBand){var a=n.getExtent(),s=360/n.scale.count();n.inverse?a[1]+=s:a[1]-=s,n.setExtent(a[0],a[1])}}function C5e(e){return e.mainType==="angleAxis"}function $j(e,t){var r;if(e.type=t.get("type"),e.scale=ry(t),e.onBand=t.get("boundaryGap")&&e.type==="category",e.inverse=t.get("inverse"),C5e(t)){e.inverse=e.inverse!==t.get("clockwise");var n=t.get("startAngle"),i=(r=t.get("endAngle"))!==null&&r!==void 0?r:n+(e.inverse?-360:360);e.setExtent(n,i)}t.axis=e,e.model=t}var E5e={dimensions:cee,create:function(e,t){var r=[];return e.eachComponent("polar",function(n,i){var a=new _5e(i+"");a.update=T5e;var s=a.getRadiusAxis(),o=a.getAngleAxis(),l=n.findAxisModel("radiusAxis"),u=n.findAxisModel("angleAxis");$j(s,l),$j(o,u),w5e(a,n,t),r.push(a),n.coordinateSystem=a,a.model=n}),e.eachSeries(function(n){if(n.get("coordinateSystem")==="polar"){var i=n.getReferringComponents("polar",bn).models[0];n.coordinateSystem=i.coordinateSystem}}),r}},A5e=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function Mx(e,t,r){t[1]>t[0]&&(t=t.slice().reverse());var n=e.coordToPoint([t[0],r]),i=e.coordToPoint([t[1],r]);return{x1:n[0],y1:n[1],x2:i[0],y2:i[1]}}function Lx(e){var t=e.getRadiusAxis();return t.inverse?0:1}function Yj(e){var t=e[0],r=e[e.length-1];t&&r&&Math.abs(Math.abs(t.coord-r.coord)-360)<1e-4&&e.pop()}var k5e=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.axisPointerClass="PolarAxisPointer",r}return t.prototype.render=function(r,n){if(this.group.removeAll(),!!r.get("show")){var i=r.axis,a=i.polar,s=a.getRadiusAxis().getExtent(),o=i.getTicksCoords(),l=i.getMinorTicksCoords(),u=Fe(i.getViewLabels(),function(c){c=_t(c);var h=i.scale,f=h.type==="ordinal"?h.getRawOrdinalNumber(c.tickValue):c.tickValue;return c.coord=i.dataToCoord(f),c});Yj(u),Yj(o),q(A5e,function(c){r.get([c,"show"])&&(!i.scale.isBlank()||c==="axisLine")&&I5e[c](this.group,r,a,o,l,s,u)},this)}},t.type="angleAxis",t}(vf),I5e={axisLine:function(e,t,r,n,i,a){var s=t.getModel(["axisLine","lineStyle"]),o=r.getAngleAxis(),l=Math.PI/180,u=o.getExtent(),c=Lx(r),h=c?0:1,f,d=Math.abs(u[1]-u[0])===360?"Circle":"Arc";a[h]===0?f=new hf[d]({shape:{cx:r.cx,cy:r.cy,r:a[c],startAngle:-u[0]*l,endAngle:-u[1]*l,clockwise:o.inverse},style:s.getLineStyle(),z2:1,silent:!0}):f=new Op({shape:{cx:r.cx,cy:r.cy,r:a[c],r0:a[h]},style:s.getLineStyle(),z2:1,silent:!0}),f.style.fill=null,e.add(f)},axisTick:function(e,t,r,n,i,a){var s=t.getModel("axisTick"),o=(s.get("inside")?-1:1)*s.get("length"),l=a[Lx(r)],u=Fe(n,function(c){return new An({shape:Mx(r,[l,l+o],c.coord)})});e.add(xa(u,{style:yt(s.getModel("lineStyle").getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])})}))},minorTick:function(e,t,r,n,i,a){if(i.length){for(var s=t.getModel("axisTick"),o=t.getModel("minorTick"),l=(s.get("inside")?-1:1)*o.get("length"),u=a[Lx(r)],c=[],h=0;h<i.length;h++)for(var f=0;f<i[h].length;f++)c.push(new An({shape:Mx(r,[u,u+l],i[h][f].coord)}));e.add(xa(c,{style:yt(o.getModel("lineStyle").getLineStyle(),yt(s.getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(e,t,r,n,i,a,s){var o=t.getCategories(!0),l=t.getModel("axisLabel"),u=l.get("margin"),c=t.get("triggerEvent");q(s,function(h,f){var d=l,v=h.tickValue,m=a[Lx(r)],y=r.coordToPoint([m+u,h.coord]),b=r.cx,S=r.cy,w=Math.abs(y[0]-b)/m<.3?"center":y[0]>b?"left":"right",k=Math.abs(y[1]-S)/m<.3?"middle":y[1]>S?"top":"bottom";if(o&&o[v]){var M=o[v];St(M)&&M.textStyle&&(d=new ur(M.textStyle,l,l.ecModel))}var I=new Qt({silent:ji.isLabelSilent(t),style:Ir(d,{x:y[0],y:y[1],fill:d.getTextColor()||t.get(["axisLine","lineStyle","color"]),text:h.formattedLabel,align:w,verticalAlign:k})});if(e.add(I),c){var L=ji.makeAxisEventDataBase(t);L.targetType="axisLabel",L.value=h.rawLabel,It(I).eventData=L}},this)},splitLine:function(e,t,r,n,i,a){var s=t.getModel("splitLine"),o=s.getModel("lineStyle"),l=o.get("color"),u=0;l=l instanceof Array?l:[l];for(var c=[],h=0;h<n.length;h++){var f=u++%l.length;c[f]=c[f]||[],c[f].push(new An({shape:Mx(r,a,n[h].coord)}))}for(var h=0;h<c.length;h++)e.add(xa(c[h],{style:yt({stroke:l[h%l.length]},o.getLineStyle()),silent:!0,z:t.get("z")}))},minorSplitLine:function(e,t,r,n,i,a){if(i.length){for(var s=t.getModel("minorSplitLine"),o=s.getModel("lineStyle"),l=[],u=0;u<i.length;u++)for(var c=0;c<i[u].length;c++)l.push(new An({shape:Mx(r,a,i[u][c].coord)}));e.add(xa(l,{style:o.getLineStyle(),silent:!0,z:t.get("z")}))}},splitArea:function(e,t,r,n,i,a){if(n.length){var s=t.getModel("splitArea"),o=s.getModel("areaStyle"),l=o.get("color"),u=0;l=l instanceof Array?l:[l];for(var c=[],h=Math.PI/180,f=-n[0].coord*h,d=Math.min(a[0],a[1]),v=Math.max(a[0],a[1]),m=t.get("clockwise"),y=1,b=n.length;y<=b;y++){var S=y===b?n[0].coord:n[y].coord,w=u++%l.length;c[w]=c[w]||[],c[w].push(new _i({shape:{cx:r.cx,cy:r.cy,r0:d,r:v,startAngle:f,endAngle:-S*h,clockwise:m},silent:!0})),f=-S*h}for(var y=0;y<c.length;y++)e.add(xa(c[y],{style:yt({fill:l[y%l.length]},o.getAreaStyle()),silent:!0}))}}},D5e=["axisLine","axisTickLabel","axisName"],M5e=["splitLine","splitArea","minorSplitLine"],L5e=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.axisPointerClass="PolarAxisPointer",r}return t.prototype.render=function(r,n){if(this.group.removeAll(),!!r.get("show")){var i=this._axisGroup,a=this._axisGroup=new Ct;this.group.add(a);var s=r.axis,o=s.polar,l=o.getAngleAxis(),u=s.getTicksCoords(),c=s.getMinorTicksCoords(),h=l.getExtent()[0],f=s.getExtent(),d=P5e(o,r,h),v=new ji(r,d);q(D5e,v.add,v),a.add(v.getGroup()),J0(i,a,r),q(M5e,function(m){r.get([m,"show"])&&!s.scale.isBlank()&&N5e[m](this.group,r,o,h,f,u,c)},this)}},t.type="radiusAxis",t}(vf),N5e={splitLine:function(e,t,r,n,i,a){var s=t.getModel("splitLine"),o=s.getModel("lineStyle"),l=o.get("color"),u=0,c=r.getAngleAxis(),h=Math.PI/180,f=c.getExtent(),d=Math.abs(f[1]-f[0])===360?"Circle":"Arc";l=l instanceof Array?l:[l];for(var v=[],m=0;m<a.length;m++){var y=u++%l.length;v[y]=v[y]||[],v[y].push(new hf[d]({shape:{cx:r.cx,cy:r.cy,r:Math.max(a[m].coord,0),startAngle:-f[0]*h,endAngle:-f[1]*h,clockwise:c.inverse}}))}for(var m=0;m<v.length;m++)e.add(xa(v[m],{style:yt({stroke:l[m%l.length],fill:null},o.getLineStyle()),silent:!0}))},minorSplitLine:function(e,t,r,n,i,a,s){if(s.length){for(var o=t.getModel("minorSplitLine"),l=o.getModel("lineStyle"),u=[],c=0;c<s.length;c++)for(var h=0;h<s[c].length;h++)u.push(new jo({shape:{cx:r.cx,cy:r.cy,r:s[c][h].coord}}));e.add(xa(u,{style:yt({fill:null},l.getLineStyle()),silent:!0}))}},splitArea:function(e,t,r,n,i,a){if(a.length){var s=t.getModel("splitArea"),o=s.getModel("areaStyle"),l=o.get("color"),u=0;l=l instanceof Array?l:[l];for(var c=[],h=a[0].coord,f=1;f<a.length;f++){var d=u++%l.length;c[d]=c[d]||[],c[d].push(new _i({shape:{cx:r.cx,cy:r.cy,r0:h,r:a[f].coord,startAngle:0,endAngle:Math.PI*2},silent:!0})),h=a[f].coord}for(var f=0;f<c.length;f++)e.add(xa(c[f],{style:yt({fill:l[f%l.length]},o.getAreaStyle()),silent:!0}))}}};function P5e(e,t,r){return{position:[e.cx,e.cy],rotation:r/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:t.getModel("axisLabel").get("rotate"),z2:1}}function hee(e){return e.get("stack")||"__ec_stack_"+e.seriesIndex}function fee(e,t){return t.dim+e.model.componentIndex}function R5e(e,t,r){var n={},i=O5e(lr(t.getSeriesByType(e),function(a){return!t.isSeriesFiltered(a)&&a.coordinateSystem&&a.coordinateSystem.type==="polar"}));t.eachSeriesByType(e,function(a){if(a.coordinateSystem.type==="polar"){var s=a.getData(),o=a.coordinateSystem,l=o.getBaseAxis(),u=fee(o,l),c=hee(a),h=i[u][c],f=h.offset,d=h.width,v=o.getOtherAxis(l),m=a.coordinateSystem.cx,y=a.coordinateSystem.cy,b=a.get("barMinHeight")||0,S=a.get("barMinAngle")||0;n[c]=n[c]||[];for(var w=s.mapDimension(v.dim),k=s.mapDimension(l.dim),M=Al(s,w),I=l.dim!=="radius"||!a.get("roundCap",!0),L=v.model,N=L.get("startValue"),z=v.dataToCoord(N||0),B=0,H=s.count();B<H;B++){var G=s.get(w,B),$=s.get(k,B),W=G>=0?"p":"n",X=z;M&&(n[c][$]||(n[c][$]={p:z,n:z}),X=n[c][$][W]);var ee=void 0,le=void 0,ie=void 0,fe=void 0;if(v.dim==="radius"){var re=v.dataToCoord(G)-z,me=l.dataToCoord($);Math.abs(re)<b&&(re=(re<0?-1:1)*b),ee=X,le=X+re,ie=me-f,fe=ie-d,M&&(n[c][$][W]=le)}else{var J=v.dataToCoord(G,I)-z,te=l.dataToCoord($);Math.abs(J)<S&&(J=(J<0?-1:1)*S),ee=te+f,le=ee+d,ie=X,fe=X+J,M&&(n[c][$][W]=fe)}s.setItemLayout(B,{cx:m,cy:y,r0:ee,r:le,startAngle:-ie*Math.PI/180,endAngle:-fe*Math.PI/180,clockwise:ie>=fe})}}})}function O5e(e){var t={};q(e,function(n,i){var a=n.getData(),s=n.coordinateSystem,o=s.getBaseAxis(),l=fee(s,o),u=o.getExtent(),c=o.type==="category"?o.getBandWidth():Math.abs(u[1]-u[0])/a.count(),h=t[l]||{bandWidth:c,remainedWidth:c,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},f=h.stacks;t[l]=h;var d=hee(n);f[d]||h.autoWidthCount++,f[d]=f[d]||{width:0,maxWidth:0};var v=Ze(n.get("barWidth"),c),m=Ze(n.get("barMaxWidth"),c),y=n.get("barGap"),b=n.get("barCategoryGap");v&&!f[d].width&&(v=Math.min(h.remainedWidth,v),f[d].width=v,h.remainedWidth-=v),m&&(f[d].maxWidth=m),y!=null&&(h.gap=y),b!=null&&(h.categoryGap=b)});var r={};return q(t,function(n,i){r[i]={};var a=n.stacks,s=n.bandWidth,o=Ze(n.categoryGap,s),l=Ze(n.gap,1),u=n.remainedWidth,c=n.autoWidthCount,h=(u-o)/(c+(c-1)*l);h=Math.max(h,0),q(a,function(m,y){var b=m.maxWidth;b&&b<h&&(b=Math.min(b,u),m.width&&(b=Math.min(b,m.width)),u-=b,m.width=b,c--)}),h=(u-o)/(c+(c-1)*l),h=Math.max(h,0);var f=0,d;q(a,function(m,y){m.width||(m.width=h),d=m,f+=m.width*(1+l)}),d&&(f-=d.width*l);var v=-f/2;q(a,function(m,y){r[i][y]=r[i][y]||{offset:v,width:m.width},v+=m.width*(1+l)})}),r}var B5e={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},F5e={splitNumber:5},z5e=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.type="polar",t}(Nr);function j5e(e){Wt(hy),vf.registerAxisPointerClass("PolarAxisPointer",v5e),e.registerCoordinateSystem("polar",E5e),e.registerComponentModel(y5e),e.registerComponentView(z5e),gp(e,"angle",x5e,B5e),gp(e,"radius",b5e,F5e),e.registerComponentView(k5e),e.registerComponentView(L5e),e.registerLayout(Lt(R5e,"bar"))}function ZD(e,t){t=t||{};var r=e.coordinateSystem,n=e.axis,i={},a=n.position,s=n.orient,o=r.getRect(),l=[o.x,o.x+o.width,o.y,o.y+o.height],u={horizontal:{top:l[2],bottom:l[3]},vertical:{left:l[0],right:l[1]}};i.position=[s==="vertical"?u.vertical[a]:l[0],s==="horizontal"?u.horizontal[a]:l[3]];var c={horizontal:0,vertical:1};i.rotation=Math.PI/2*c[s];var h={top:-1,bottom:1,right:1,left:-1};i.labelDirection=i.tickDirection=i.nameDirection=h[a],e.get(["axisTick","inside"])&&(i.tickDirection=-i.tickDirection),On(t.labelInside,e.get(["axisLabel","inside"]))&&(i.labelDirection=-i.labelDirection);var f=t.rotate;return f==null&&(f=e.get(["axisLabel","rotate"])),i.labelRotation=a==="top"?-f:f,i.z2=1,i}var H5e=["axisLine","axisTickLabel","axisName"],V5e=["splitArea","splitLine"],U5e=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.axisPointerClass="SingleAxisPointer",r}return t.prototype.render=function(r,n,i,a){var s=this.group;s.removeAll();var o=this._axisGroup;this._axisGroup=new Ct;var l=ZD(r),u=new ji(r,l);q(H5e,u.add,u),s.add(this._axisGroup),s.add(u.getGroup()),q(V5e,function(c){r.get([c,"show"])&&G5e[c](this,this.group,this._axisGroup,r)},this),J0(o,this._axisGroup,r),e.prototype.render.call(this,r,n,i,a)},t.prototype.remove=function(){PQ(this)},t.type="singleAxis",t}(vf),G5e={splitLine:function(e,t,r,n){var i=n.axis;if(!i.scale.isBlank()){var a=n.getModel("splitLine"),s=a.getModel("lineStyle"),o=s.get("color");o=o instanceof Array?o:[o];for(var l=s.get("width"),u=n.coordinateSystem.getRect(),c=i.isHorizontal(),h=[],f=0,d=i.getTicksCoords({tickModel:a}),v=[],m=[],y=0;y<d.length;++y){var b=i.toGlobalCoord(d[y].coord);c?(v[0]=b,v[1]=u.y,m[0]=b,m[1]=u.y+u.height):(v[0]=u.x,v[1]=b,m[0]=u.x+u.width,m[1]=b);var S=new An({shape:{x1:v[0],y1:v[1],x2:m[0],y2:m[1]},silent:!0});fp(S.shape,l);var w=f++%o.length;h[w]=h[w]||[],h[w].push(S)}for(var k=s.getLineStyle(["color"]),y=0;y<h.length;++y)t.add(xa(h[y],{style:yt({stroke:o[y%o.length]},k),silent:!0}))}},splitArea:function(e,t,r,n){NQ(e,r,n,n)}},Cb=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.getCoordSysModel=function(){return this},t.type="singleAxis",t.layoutMode="box",t.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},t}(Yt);cn(Cb,Zp.prototype);var W5e=function(e){_e(t,e);function t(r,n,i,a,s){var o=e.call(this,r,n,i)||this;return o.type=a||"value",o.position=s||"bottom",o}return t.prototype.isHorizontal=function(){var r=this.position;return r==="top"||r==="bottom"},t.prototype.pointToData=function(r,n){return this.coordinateSystem.pointToData(r)[0]},t}(ps),dee=["single"],$5e=function(){function e(t,r,n){this.type="single",this.dimension="single",this.dimensions=dee,this.axisPointerEnabled=!0,this.model=t,this._init(t,r,n)}return e.prototype._init=function(t,r,n){var i=this.dimension,a=new W5e(i,ry(t),[0,0],t.get("type"),t.get("position")),s=a.type==="category";a.onBand=s&&t.get("boundaryGap"),a.inverse=t.get("inverse"),a.orient=t.get("orient"),t.axis=a,a.model=t,a.coordinateSystem=this,this._axis=a},e.prototype.update=function(t,r){t.eachSeries(function(n){if(n.coordinateSystem===this){var i=n.getData();q(i.mapDimensionsAll(this.dimension),function(a){this._axis.scale.unionExtentFromData(i,a)},this),ef(this._axis.scale,this._axis.model)}},this)},e.prototype.resize=function(t,r){this._rect=Sn({left:t.get("left"),top:t.get("top"),right:t.get("right"),bottom:t.get("bottom"),width:t.get("width"),height:t.get("height")},{width:r.getWidth(),height:r.getHeight()}),this._adjustAxis()},e.prototype.getRect=function(){return this._rect},e.prototype._adjustAxis=function(){var t=this._rect,r=this._axis,n=r.isHorizontal(),i=n?[0,t.width]:[0,t.height],a=r.inverse?1:0;r.setExtent(i[a],i[1-a]),this._updateAxisTransform(r,n?t.x:t.y)},e.prototype._updateAxisTransform=function(t,r){var n=t.getExtent(),i=n[0]+n[1],a=t.isHorizontal();t.toGlobalCoord=a?function(s){return s+r}:function(s){return i-s+r},t.toLocalCoord=a?function(s){return s-r}:function(s){return i-s+r}},e.prototype.getAxis=function(){return this._axis},e.prototype.getBaseAxis=function(){return this._axis},e.prototype.getAxes=function(){return[this._axis]},e.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},e.prototype.containPoint=function(t){var r=this.getRect(),n=this.getAxis(),i=n.orient;return i==="horizontal"?n.contain(n.toLocalCoord(t[0]))&&t[1]>=r.y&&t[1]<=r.y+r.height:n.contain(n.toLocalCoord(t[1]))&&t[0]>=r.y&&t[0]<=r.y+r.height},e.prototype.pointToData=function(t){var r=this.getAxis();return[r.coordToData(r.toLocalCoord(t[r.orient==="horizontal"?0:1]))]},e.prototype.dataToPoint=function(t){var r=this.getAxis(),n=this.getRect(),i=[],a=r.orient==="horizontal"?0:1;return t instanceof Array&&(t=t[0]),i[a]=r.toGlobalCoord(r.dataToCoord(+t)),i[1-a]=a===0?n.y+n.height/2:n.x+n.width/2,i},e.prototype.convertToPixel=function(t,r,n){var i=Xj(r);return i===this?this.dataToPoint(n):null},e.prototype.convertFromPixel=function(t,r,n){var i=Xj(r);return i===this?this.pointToData(n):null},e}();function Xj(e){var t=e.seriesModel,r=e.singleAxisModel;return r&&r.coordinateSystem||t&&t.coordinateSystem}function Y5e(e,t){var r=[];return e.eachComponent("singleAxis",function(n,i){var a=new $5e(n,e,t);a.name="single_"+i,a.resize(n,t),n.coordinateSystem=a,r.push(a)}),e.eachSeries(function(n){if(n.get("coordinateSystem")==="singleAxis"){var i=n.getReferringComponents("singleAxis",bn).models[0];n.coordinateSystem=i&&i.coordinateSystem}}),r}var X5e={create:Y5e,dimensions:dee},qj=["x","y"],q5e=["width","height"],K5e=function(e){_e(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.makeElOption=function(r,n,i,a,s){var o=i.axis,l=o.coordinateSystem,u=SA(l,1-r_(o)),c=l.dataToPoint(n)[0],h=a.get("type");if(h&&h!=="none"){var f=vR(a),d=Z5e[h](o,c,u);d.style=f,r.graphicKey=d.type,r.pointer=d}var v=ZD(i);see(n,r,v,i,a,s)},t.prototype.getHandleTransform=function(r,n,i){var a=ZD(n,{labelInside:!1});a.labelMargin=i.get(["handle","margin"]);var s=gR(n.axis,r,a);return{x:s[0],y:s[1],rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(r,n,i,a){var s=i.axis,o=s.coordinateSystem,l=r_(s),u=SA(o,l),c=[r.x,r.y];c[l]+=n[l],c[l]=Math.min(u[1],c[l]),c[l]=Math.max(u[0],c[l]);var h=SA(o,1-l),f=(h[1]+h[0])/2,d=[f,f];return d[l]=c[l],{x:c[0],y:c[1],rotation:r.rotation,cursorPoint:d,tooltipOption:{verticalAlign:"middle"}}},t}(pR),Z5e={line:function(e,t,r){var n=mR([t,r[0]],[t,r[1]],r_(e));return{type:"Line",subPixelOptimize:!0,shape:n}},shadow:function(e,t,r){var n=e.getBandWidth(),i=r[1]-r[0];return{type:"Rect",shape:oee([t-n/2,r[0]],[n,i],r_(e))}}};function r_(e){return e.isHorizontal()?0:1}function SA(e,t){var r=e.getRect();return[r[qj[t]],r[qj[t]]+r[q5e[t]]]}var Q5e=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.type="single",t}(Nr);function J5e(e){Wt(hy),vf.registerAxisPointerClass("SingleAxisPointer",K5e),e.registerComponentView(Q5e),e.registerComponentView(U5e),e.registerComponentModel(Cb),gp(e,"single",Cb,Cb.defaultOption),e.registerCoordinateSystem("single",X5e)}var e4e=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.init=function(r,n,i){var a=Up(r);e.prototype.init.apply(this,arguments),Kj(r,a)},t.prototype.mergeOption=function(r){e.prototype.mergeOption.apply(this,arguments),Kj(this.option,r)},t.prototype.getCellSize=function(){return this.option.cellSize},t.type="calendar",t.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},t}(Yt);function Kj(e,t){var r=e.cellSize,n;Oe(r)?n=r:n=e.cellSize=[r,r],n.length===1&&(n[1]=n[0]);var i=Fe([0,1],function(a){return iEe(t,a)&&(n[a]="auto"),n[a]!=null&&n[a]!=="auto"});Ju(e,t,{type:"box",ignoreSize:i})}var t4e=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i){var a=this.group;a.removeAll();var s=r.coordinateSystem,o=s.getRangeInfo(),l=s.getOrient(),u=n.getLocaleModel();this._renderDayRect(r,o,a),this._renderLines(r,o,l,a),this._renderYearText(r,o,l,a),this._renderMonthText(r,u,l,a),this._renderWeekText(r,u,o,l,a)},t.prototype._renderDayRect=function(r,n,i){for(var a=r.coordinateSystem,s=r.getModel("itemStyle").getItemStyle(),o=a.getCellWidth(),l=a.getCellHeight(),u=n.start.time;u<=n.end.time;u=a.getNextNDay(u,1).time){var c=a.dataToRect([u],!1).tl,h=new Jt({shape:{x:c[0],y:c[1],width:o,height:l},cursor:"default",style:s});i.add(h)}},t.prototype._renderLines=function(r,n,i,a){var s=this,o=r.coordinateSystem,l=r.getModel(["splitLine","lineStyle"]).getLineStyle(),u=r.get(["splitLine","show"]),c=l.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var h=n.start,f=0;h.time<=n.end.time;f++){v(h.formatedDate),f===0&&(h=o.getDateInfo(n.start.y+"-"+n.start.m));var d=h.date;d.setMonth(d.getMonth()+1),h=o.getDateInfo(d)}v(o.getNextNDay(n.end.time,1).formatedDate);function v(m){s._firstDayOfMonth.push(o.getDateInfo(m)),s._firstDayPoints.push(o.dataToRect([m],!1).tl);var y=s._getLinePointsOfOneWeek(r,m,i);s._tlpoints.push(y[0]),s._blpoints.push(y[y.length-1]),u&&s._drawSplitline(y,l,a)}u&&this._drawSplitline(s._getEdgesPoints(s._tlpoints,c,i),l,a),u&&this._drawSplitline(s._getEdgesPoints(s._blpoints,c,i),l,a)},t.prototype._getEdgesPoints=function(r,n,i){var a=[r[0].slice(),r[r.length-1].slice()],s=i==="horizontal"?0:1;return a[0][s]=a[0][s]-n/2,a[1][s]=a[1][s]+n/2,a},t.prototype._drawSplitline=function(r,n,i){var a=new Ai({z2:20,shape:{points:r},style:n});i.add(a)},t.prototype._getLinePointsOfOneWeek=function(r,n,i){for(var a=r.coordinateSystem,s=a.getDateInfo(n),o=[],l=0;l<7;l++){var u=a.getNextNDay(s.time,l),c=a.dataToRect([u.time],!1);o[2*u.day]=c.tl,o[2*u.day+1]=c[i==="horizontal"?"bl":"tr"]}return o},t.prototype._formatterLabel=function(r,n){return Je(r)&&r?eEe(r,n):vt(r)?r(n):n.nameMap},t.prototype._yearTextPositionControl=function(r,n,i,a,s){var o=n[0],l=n[1],u=["center","bottom"];a==="bottom"?(l+=s,u=["center","top"]):a==="left"?o-=s:a==="right"?(o+=s,u=["center","top"]):l-=s;var c=0;return(a==="left"||a==="right")&&(c=Math.PI/2),{rotation:c,x:o,y:l,style:{align:u[0],verticalAlign:u[1]}}},t.prototype._renderYearText=function(r,n,i,a){var s=r.getModel("yearLabel");if(s.get("show")){var o=s.get("margin"),l=s.get("position");l||(l=i!=="horizontal"?"top":"left");var u=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],c=(u[0][0]+u[1][0])/2,h=(u[0][1]+u[1][1])/2,f=i==="horizontal"?0:1,d={top:[c,u[f][1]],bottom:[c,u[1-f][1]],left:[u[1-f][0],h],right:[u[f][0],h]},v=n.start.y;+n.end.y>+n.start.y&&(v=v+"-"+n.end.y);var m=s.get("formatter"),y={start:n.start.y,end:n.end.y,nameMap:v},b=this._formatterLabel(m,y),S=new Qt({z2:30,style:Ir(s,{text:b}),silent:s.get("silent")});S.attr(this._yearTextPositionControl(S,d[l],i,l,o)),a.add(S)}},t.prototype._monthTextPositionControl=function(r,n,i,a,s){var o="left",l="top",u=r[0],c=r[1];return i==="horizontal"?(c=c+s,n&&(o="center"),a==="start"&&(l="bottom")):(u=u+s,n&&(l="middle"),a==="start"&&(o="right")),{x:u,y:c,align:o,verticalAlign:l}},t.prototype._renderMonthText=function(r,n,i,a){var s=r.getModel("monthLabel");if(s.get("show")){var o=s.get("nameMap"),l=s.get("margin"),u=s.get("position"),c=s.get("align"),h=[this._tlpoints,this._blpoints];(!o||Je(o))&&(o&&(n=iD(o)||n),o=n.get(["time","monthAbbr"])||[]);var f=u==="start"?0:1,d=i==="horizontal"?0:1;l=u==="start"?-l:l;for(var v=c==="center",m=s.get("silent"),y=0;y<h[f].length-1;y++){var b=h[f][y].slice(),S=this._firstDayOfMonth[y];if(v){var w=this._firstDayPoints[y];b[d]=(w[d]+h[0][y+1][d])/2}var k=s.get("formatter"),M=o[+S.m-1],I={yyyy:S.y,yy:(S.y+"").slice(2),MM:S.m,M:+S.m,nameMap:M},L=this._formatterLabel(k,I),N=new Qt({z2:30,style:Ne(Ir(s,{text:L}),this._monthTextPositionControl(b,v,i,u,l)),silent:m});a.add(N)}}},t.prototype._weekTextPositionControl=function(r,n,i,a,s){var o="center",l="middle",u=r[0],c=r[1],h=i==="start";return n==="horizontal"?(u=u+a+(h?1:-1)*s[0]/2,o=h?"right":"left"):(c=c+a+(h?1:-1)*s[1]/2,l=h?"bottom":"top"),{x:u,y:c,align:o,verticalAlign:l}},t.prototype._renderWeekText=function(r,n,i,a,s){var o=r.getModel("dayLabel");if(o.get("show")){var l=r.coordinateSystem,u=o.get("position"),c=o.get("nameMap"),h=o.get("margin"),f=l.getFirstDayOfWeek();if(!c||Je(c)){c&&(n=iD(c)||n);var d=n.get(["time","dayOfWeekShort"]);c=d||Fe(n.get(["time","dayOfWeekAbbr"]),function(I){return I[0]})}var v=l.getNextNDay(i.end.time,7-i.lweek).time,m=[l.getCellWidth(),l.getCellHeight()];h=Ze(h,Math.min(m[1],m[0])),u==="start"&&(v=l.getNextNDay(i.start.time,-(7+i.fweek)).time,h=-h);for(var y=o.get("silent"),b=0;b<7;b++){var S=l.getNextNDay(v,b),w=l.dataToRect([S.time],!1).center,k=b;k=Math.abs((b+f)%7);var M=new Qt({z2:30,style:Ne(Ir(o,{text:c[k]}),this._weekTextPositionControl(w,a,u,h,m)),silent:y});s.add(M)}}},t.type="calendar",t}(Nr),_A=864e5,r4e=function(){function e(t,r,n){this.type="calendar",this.dimensions=e.dimensions,this.getDimensionsInfo=e.getDimensionsInfo,this._model=t}return e.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},e.prototype.getRangeInfo=function(){return this._rangeInfo},e.prototype.getModel=function(){return this._model},e.prototype.getRect=function(){return this._rect},e.prototype.getCellWidth=function(){return this._sw},e.prototype.getCellHeight=function(){return this._sh},e.prototype.getOrient=function(){return this._orient},e.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},e.prototype.getDateInfo=function(t){t=ka(t);var r=t.getFullYear(),n=t.getMonth()+1,i=n<10?"0"+n:""+n,a=t.getDate(),s=a<10?"0"+a:""+a,o=t.getDay();return o=Math.abs((o+7-this.getFirstDayOfWeek())%7),{y:r+"",m:i,d:s,day:o,time:t.getTime(),formatedDate:r+"-"+i+"-"+s,date:t}},e.prototype.getNextNDay=function(t,r){return r=r||0,r===0?this.getDateInfo(t):(t=new Date(this.getDateInfo(t).time),t.setDate(t.getDate()+r),this.getDateInfo(t))},e.prototype.update=function(t,r){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var n=this._rangeInfo.weeks||1,i=["width","height"],a=this._model.getCellSize().slice(),s=this._model.getBoxLayoutParams(),o=this._orient==="horizontal"?[n,7]:[7,n];q([0,1],function(h){c(a,h)&&(s[i[h]]=a[h]*o[h])});var l={width:r.getWidth(),height:r.getHeight()},u=this._rect=Sn(s,l);q([0,1],function(h){c(a,h)||(a[h]=u[i[h]]/o[h])});function c(h,f){return h[f]!=null&&h[f]!=="auto"}this._sw=a[0],this._sh=a[1]},e.prototype.dataToPoint=function(t,r){Oe(t)&&(t=t[0]),r==null&&(r=!0);var n=this.getDateInfo(t),i=this._rangeInfo,a=n.formatedDate;if(r&&!(n.time>=i.start.time&&n.time<i.end.time+_A))return[NaN,NaN];var s=n.day,o=this._getRangeInfo([i.start.time,a]).nthWeek;return this._orient==="vertical"?[this._rect.x+s*this._sw+this._sw/2,this._rect.y+o*this._sh+this._sh/2]:[this._rect.x+o*this._sw+this._sw/2,this._rect.y+s*this._sh+this._sh/2]},e.prototype.pointToData=function(t){var r=this.pointToDate(t);return r&&r.time},e.prototype.dataToRect=function(t,r){var n=this.dataToPoint(t,r);return{contentShape:{x:n[0]-(this._sw-this._lineWidth)/2,y:n[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:n,tl:[n[0]-this._sw/2,n[1]-this._sh/2],tr:[n[0]+this._sw/2,n[1]-this._sh/2],br:[n[0]+this._sw/2,n[1]+this._sh/2],bl:[n[0]-this._sw/2,n[1]+this._sh/2]}},e.prototype.pointToDate=function(t){var r=Math.floor((t[0]-this._rect.x)/this._sw)+1,n=Math.floor((t[1]-this._rect.y)/this._sh)+1,i=this._rangeInfo.range;return this._orient==="vertical"?this._getDateByWeeksAndDay(n,r-1,i):this._getDateByWeeksAndDay(r,n-1,i)},e.prototype.convertToPixel=function(t,r,n){var i=Zj(r);return i===this?i.dataToPoint(n):null},e.prototype.convertFromPixel=function(t,r,n){var i=Zj(r);return i===this?i.pointToData(n):null},e.prototype.containPoint=function(t){return console.warn("Not implemented."),!1},e.prototype._initRangeOption=function(){var t=this._model.get("range"),r;if(Oe(t)&&t.length===1&&(t=t[0]),Oe(t))r=t;else{var n=t.toString();if(/^\d{4}$/.test(n)&&(r=[n+"-01-01",n+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(n)){var i=this.getDateInfo(n),a=i.date;a.setMonth(a.getMonth()+1);var s=this.getNextNDay(a,-1);r=[i.formatedDate,s.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(n)&&(r=[n,n])}if(!r)return t;var o=this._getRangeInfo(r);return o.start.time>o.end.time&&r.reverse(),r},e.prototype._getRangeInfo=function(t){var r=[this.getDateInfo(t[0]),this.getDateInfo(t[1])],n;r[0].time>r[1].time&&(n=!0,r.reverse());var i=Math.floor(r[1].time/_A)-Math.floor(r[0].time/_A)+1,a=new Date(r[0].time),s=a.getDate(),o=r[1].date.getDate();a.setDate(s+i-1);var l=a.getDate();if(l!==o)for(var u=a.getTime()-r[1].time>0?1:-1;(l=a.getDate())!==o&&(a.getTime()-r[1].time)*u>0;)i-=u,a.setDate(l-u);var c=Math.floor((i+r[0].day+6)/7),h=n?-c+1:c-1;return n&&r.reverse(),{range:[r[0].formatedDate,r[1].formatedDate],start:r[0],end:r[1],allDay:i,weeks:c,nthWeek:h,fweek:r[0].day,lweek:r[1].day}},e.prototype._getDateByWeeksAndDay=function(t,r,n){var i=this._getRangeInfo(n);if(t>i.weeks||t===0&&r<i.fweek||t===i.weeks&&r>i.lweek)return null;var a=(t-1)*7-i.fweek+r,s=new Date(i.start.time);return s.setDate(+i.start.d+a),this.getDateInfo(s)},e.create=function(t,r){var n=[];return t.eachComponent("calendar",function(i){var a=new e(i);n.push(a),i.coordinateSystem=a}),t.eachSeries(function(i){i.get("coordinateSystem")==="calendar"&&(i.coordinateSystem=n[i.get("calendarIndex")||0])}),n},e.dimensions=["time","value"],e}();function Zj(e){var t=e.calendarModel,r=e.seriesModel,n=t?t.coordinateSystem:r?r.coordinateSystem:null;return n}function n4e(e){e.registerComponentModel(e4e),e.registerComponentView(t4e),e.registerCoordinateSystem("calendar",r4e)}function i4e(e,t){var r=e.existing;if(t.id=e.keyInfo.id,!t.type&&r&&(t.type=r.type),t.parentId==null){var n=t.parentOption;n?t.parentId=n.id:r&&(t.parentId=r.parentId)}t.parentOption=null}function Qj(e,t){var r;return q(t,function(n){e[n]!=null&&e[n]!=="auto"&&(r=!0)}),r}function a4e(e,t,r){var n=Ne({},r),i=e[t],a=r.$action||"merge";a==="merge"?i?(Ot(i,n,!0),Ju(i,n,{ignoreSize:!0}),rK(r,i),Nx(r,i),Nx(r,i,"shape"),Nx(r,i,"style"),Nx(r,i,"extra"),r.clipPath=i.clipPath):e[t]=n:a==="replace"?e[t]=n:a==="remove"&&i&&(e[t]=null)}var pee=["transition","enterFrom","leaveTo"],s4e=pee.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function Nx(e,t,r){if(r&&(!e[r]&&t[r]&&(e[r]={}),e=e[r],t=t[r]),!(!e||!t))for(var n=r?pee:s4e,i=0;i<n.length;i++){var a=n[i];e[a]==null&&t[a]!=null&&(e[a]=t[a])}}function o4e(e,t){if(e&&(e.hv=t.hv=[Qj(t,["left","right"]),Qj(t,["top","bottom"])],e.type==="group")){var r=e,n=t;r.width==null&&(r.width=n.width=0),r.height==null&&(r.height=n.height=0)}}var l4e=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.preventAutoZ=!0,r}return t.prototype.mergeOption=function(r,n){var i=this.option.elements;this.option.elements=null,e.prototype.mergeOption.call(this,r,n),this.option.elements=i},t.prototype.optionUpdated=function(r,n){var i=this.option,a=(n?i:r).elements,s=i.elements=n?[]:i.elements,o=[];this._flatten(a,o,null);var l=eq(s,o,"normalMerge"),u=this._elOptionsToUpdate=[];q(l,function(c,h){var f=c.newOption;f&&(u.push(f),i4e(c,f),a4e(s,h,f),o4e(s[h],f))},this),i.elements=lr(s,function(c){return c&&delete c.$action,c!=null})},t.prototype._flatten=function(r,n,i){q(r,function(a){if(a){i&&(a.parentOption=i),n.push(a);var s=a.children;s&&s.length&&this._flatten(s,n,a),delete a.children}},this)},t.prototype.useElOptionsToUpdate=function(){var r=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,r},t.type="graphic",t.defaultOption={elements:[]},t}(Yt),Jj={path:null,compoundPath:null,group:Ct,image:Vn,text:Qt},Ga=tr(),u4e=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.init=function(){this._elMap=ct()},t.prototype.render=function(r,n,i){r!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=r,this._updateElements(r),this._relocate(r,i)},t.prototype._updateElements=function(r){var n=r.useElOptionsToUpdate();if(n){var i=this._elMap,a=this.group,s=r.get("z"),o=r.get("zlevel");q(n,function(l){var u=En(l.id,null),c=u!=null?i.get(u):null,h=En(l.parentId,null),f=h!=null?i.get(h):a,d=l.type,v=l.style;d==="text"&&v&&l.hv&&l.hv[1]&&(v.textVerticalAlign=v.textBaseline=v.verticalAlign=v.align=null);var m=l.textContent,y=l.textConfig;if(v&&XJ(v,d,!!y,!!m)){var b=qJ(v,d,!0);!y&&b.textConfig&&(y=l.textConfig=b.textConfig),!m&&b.textContent&&(m=b.textContent)}var S=c4e(l),w=l.$action||"merge",k=w==="merge",M=w==="replace";if(k){var I=!c,L=c;I?L=eH(u,f,l.type,i):(L&&(Ga(L).isNew=!1),JJ(L)),L&&(wb(L,S,r,{isInit:I}),tH(L,l,s,o))}else if(M){Eb(c,l,i,r);var N=eH(u,f,l.type,i);N&&(wb(N,S,r,{isInit:!0}),tH(N,l,s,o))}else w==="remove"&&(ZJ(c,l),Eb(c,l,i,r));var z=i.get(u);if(z&&m)if(k){var B=z.getTextContent();B?B.attr(m):z.setTextContent(new Qt(m))}else M&&z.setTextContent(new Qt(m));if(z){var H=l.clipPath;if(H){var G=H.type,$=void 0,I=!1;if(k){var W=z.getClipPath();I=!W||Ga(W).type!==G,$=I?QD(G):W}else M&&(I=!0,$=QD(G));z.setClipPath($),wb($,H,r,{isInit:I}),e_($,H.keyframeAnimation,r)}var X=Ga(z);z.setTextConfig(y),X.option=l,h4e(z,r,l),cf({el:z,componentModel:r,itemName:z.name,itemTooltipOption:l.tooltip}),e_(z,l.keyframeAnimation,r)}})}},t.prototype._relocate=function(r,n){for(var i=r.option.elements,a=this.group,s=this._elMap,o=n.getWidth(),l=n.getHeight(),u=["x","y"],c=0;c<i.length;c++){var h=i[c],f=En(h.id,null),d=f!=null?s.get(f):null;if(!(!d||!d.isGroup)){var v=d.parent,m=v===a,y=Ga(d),b=Ga(v);y.width=Ze(y.option.width,m?o:b.width)||0,y.height=Ze(y.option.height,m?l:b.height)||0}}for(var c=i.length-1;c>=0;c--){var h=i[c],f=En(h.id,null),d=f!=null?s.get(f):null;if(d){var v=d.parent,b=Ga(v),S=v===a?{width:o,height:l}:{width:b.width,height:b.height},w={},k=Iw(d,h,S,null,{hv:h.hv,boundingMode:h.bounding},w);if(!Ga(d).isNew&&k){for(var M=h.transition,I={},L=0;L<u.length;L++){var N=u[L],z=w[N];M&&(Bh(M)||Ut(M,N)>=0)?I[N]=z:d[N]=z}sr(d,I,r,0)}else d.attr(w)}}},t.prototype._clear=function(){var r=this,n=this._elMap;n.each(function(i){Eb(i,Ga(i).option,n,r._lastGraphicModel)}),this._elMap=ct()},t.prototype.dispose=function(){this._clear()},t.type="graphic",t}(Nr);function QD(e){var t=ot(Jj,e)?Jj[e]:_w(e),r=new t({});return Ga(r).type=e,r}function eH(e,t,r,n){var i=QD(r);return t.add(i),n.set(e,i),Ga(i).id=e,Ga(i).isNew=!0,i}function Eb(e,t,r,n){var i=e&&e.parent;i&&(e.type==="group"&&e.traverse(function(a){Eb(a,t,r,n)}),$w(e,t,n),r.removeKey(Ga(e).id))}function tH(e,t,r,n){e.isGroup||q([["cursor",us.prototype.cursor],["zlevel",n||0],["z",r||0],["z2",0]],function(i){var a=i[0];ot(t,a)?e[a]=Mt(t[a],i[1]):e[a]==null&&(e[a]=i[1])}),q(Kt(t),function(i){if(i.indexOf("on")===0){var a=t[i];e[i]=vt(a)?a:null}}),ot(t,"draggable")&&(e.draggable=t.draggable),t.name!=null&&(e.name=t.name),t.id!=null&&(e.id=t.id)}function c4e(e){return e=Ne({},e),q(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(tK),function(t){delete e[t]}),e}function h4e(e,t,r){var n=It(e).eventData;!e.silent&&!e.ignore&&!n&&(n=It(e).eventData={componentType:"graphic",componentIndex:t.componentIndex,name:e.name}),n&&(n.info=r.info)}function f4e(e){e.registerComponentModel(l4e),e.registerComponentView(u4e),e.registerPreprocessor(function(t){var r=t.graphic;Oe(r)?!r[0]||!r[0].elements?t.graphic=[{elements:r}]:t.graphic=[t.graphic[0]]:r&&!r.elements&&(t.graphic=[{elements:[r]}])})}var rH=["x","y","radius","angle","single"],d4e=["cartesian2d","polar","singleAxis"];function p4e(e){var t=e.get("coordinateSystem");return Ut(d4e,t)>=0}function Au(e){return e+"Axis"}function v4e(e,t){var r=ct(),n=[],i=ct();e.eachComponent({mainType:"dataZoom",query:t},function(c){i.get(c.uid)||o(c)});var a;do a=!1,e.eachComponent("dataZoom",s);while(a);function s(c){!i.get(c.uid)&&l(c)&&(o(c),a=!0)}function o(c){i.set(c.uid,!0),n.push(c),u(c)}function l(c){var h=!1;return c.eachTargetAxis(function(f,d){var v=r.get(f);v&&v[d]&&(h=!0)}),h}function u(c){c.eachTargetAxis(function(h,f){(r.get(h)||r.set(h,[]))[f]=!0})}return n}function vee(e){var t=e.ecModel,r={infoList:[],infoMap:ct()};return e.eachTargetAxis(function(n,i){var a=t.getComponent(Au(n),i);if(a){var s=a.getCoordSysModel();if(s){var o=s.uid,l=r.infoMap.get(o);l||(l={model:s,axisModels:[]},r.infoList.push(l),r.infoMap.set(o,l)),l.axisModels.push(a)}}}),r}var wA=function(){function e(){this.indexList=[],this.indexMap=[]}return e.prototype.add=function(t){this.indexMap[t]||(this.indexList.push(t),this.indexMap[t]=!0)},e}(),b0=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r._autoThrottle=!0,r._noTarget=!0,r._rangePropMode=["percent","percent"],r}return t.prototype.init=function(r,n,i){var a=nH(r);this.settledOption=a,this.mergeDefaultAndTheme(r,i),this._doInit(a)},t.prototype.mergeOption=function(r){var n=nH(r);Ot(this.option,r,!0),Ot(this.settledOption,n,!0),this._doInit(n)},t.prototype._doInit=function(r){var n=this.option;this._setDefaultThrottle(r),this._updateRangeUse(r);var i=this.settledOption;q([["start","startValue"],["end","endValue"]],function(a,s){this._rangePropMode[s]==="value"&&(n[a[0]]=i[a[0]]=null)},this),this._resetTarget()},t.prototype._resetTarget=function(){var r=this.get("orient",!0),n=this._targetAxisInfoMap=ct(),i=this._fillSpecifiedTargetAxis(n);i?this._orient=r||this._makeAutoOrientByTargetAxis():(this._orient=r||"horizontal",this._fillAutoTargetAxisByOrient(n,this._orient)),this._noTarget=!0,n.each(function(a){a.indexList.length&&(this._noTarget=!1)},this)},t.prototype._fillSpecifiedTargetAxis=function(r){var n=!1;return q(rH,function(i){var a=this.getReferringComponents(Au(i),$Te);if(a.specified){n=!0;var s=new wA;q(a.models,function(o){s.add(o.componentIndex)}),r.set(i,s)}},this),n},t.prototype._fillAutoTargetAxisByOrient=function(r,n){var i=this.ecModel,a=!0;if(a){var s=n==="vertical"?"y":"x",o=i.findComponents({mainType:s+"Axis"});l(o,s)}if(a){var o=i.findComponents({mainType:"singleAxis",filter:function(c){return c.get("orient",!0)===n}});l(o,"single")}function l(u,c){var h=u[0];if(h){var f=new wA;if(f.add(h.componentIndex),r.set(c,f),a=!1,c==="x"||c==="y"){var d=h.getReferringComponents("grid",bn).models[0];d&&q(u,function(v){h.componentIndex!==v.componentIndex&&d===v.getReferringComponents("grid",bn).models[0]&&f.add(v.componentIndex)})}}}a&&q(rH,function(u){if(a){var c=i.findComponents({mainType:Au(u),filter:function(f){return f.get("type",!0)==="category"}});if(c[0]){var h=new wA;h.add(c[0].componentIndex),r.set(u,h),a=!1}}},this)},t.prototype._makeAutoOrientByTargetAxis=function(){var r;return this.eachTargetAxis(function(n){!r&&(r=n)},this),r==="y"?"vertical":"horizontal"},t.prototype._setDefaultThrottle=function(r){if(r.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var n=this.ecModel.option;this.option.throttle=n.animation&&n.animationDurationUpdate>0?100:20}},t.prototype._updateRangeUse=function(r){var n=this._rangePropMode,i=this.get("rangeMode");q([["start","startValue"],["end","endValue"]],function(a,s){var o=r[a[0]]!=null,l=r[a[1]]!=null;o&&!l?n[s]="percent":!o&&l?n[s]="value":i?n[s]=i[s]:o&&(n[s]="percent")})},t.prototype.noTarget=function(){return this._noTarget},t.prototype.getFirstTargetAxisModel=function(){var r;return this.eachTargetAxis(function(n,i){r==null&&(r=this.ecModel.getComponent(Au(n),i))},this),r},t.prototype.eachTargetAxis=function(r,n){this._targetAxisInfoMap.each(function(i,a){q(i.indexList,function(s){r.call(n,a,s)})})},t.prototype.getAxisProxy=function(r,n){var i=this.getAxisModel(r,n);if(i)return i.__dzAxisProxy},t.prototype.getAxisModel=function(r,n){var i=this._targetAxisInfoMap.get(r);if(i&&i.indexMap[n])return this.ecModel.getComponent(Au(r),n)},t.prototype.setRawRange=function(r){var n=this.option,i=this.settledOption;q([["start","startValue"],["end","endValue"]],function(a){(r[a[0]]!=null||r[a[1]]!=null)&&(n[a[0]]=i[a[0]]=r[a[0]],n[a[1]]=i[a[1]]=r[a[1]])},this),this._updateRangeUse(r)},t.prototype.setCalculatedRange=function(r){var n=this.option;q(["start","startValue","end","endValue"],function(i){n[i]=r[i]})},t.prototype.getPercentRange=function(){var r=this.findRepresentativeAxisProxy();if(r)return r.getDataPercentWindow()},t.prototype.getValueRange=function(r,n){if(r==null&&n==null){var i=this.findRepresentativeAxisProxy();if(i)return i.getDataValueWindow()}else return this.getAxisProxy(r,n).getDataValueWindow()},t.prototype.findRepresentativeAxisProxy=function(r){if(r)return r.__dzAxisProxy;for(var n,i=this._targetAxisInfoMap.keys(),a=0;a<i.length;a++)for(var s=i[a],o=this._targetAxisInfoMap.get(s),l=0;l<o.indexList.length;l++){var u=this.getAxisProxy(s,o.indexList[l]);if(u.hostedBy(this))return u;n||(n=u)}return n},t.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},t.prototype.getOrient=function(){return this._orient},t.type="dataZoom",t.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],t.defaultOption={z:4,filterMode:"filter",start:0,end:100},t}(Yt);function nH(e){var t={};return q(["start","end","startValue","endValue","throttle"],function(r){e.hasOwnProperty(r)&&(t[r]=e[r])}),t}var g4e=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.type="dataZoom.select",t}(b0),SR=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i,a){this.dataZoomModel=r,this.ecModel=n,this.api=i},t.type="dataZoom",t}(Nr),m4e=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.type="dataZoom.select",t}(SR),od=q,iH=Sa,y4e=function(){function e(t,r,n,i){this._dimName=t,this._axisIndex=r,this.ecModel=i,this._dataZoomModel=n}return e.prototype.hostedBy=function(t){return this._dataZoomModel===t},e.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},e.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},e.prototype.getTargetSeriesModels=function(){var t=[];return this.ecModel.eachSeries(function(r){if(p4e(r)){var n=Au(this._dimName),i=r.getReferringComponents(n,bn).models[0];i&&this._axisIndex===i.componentIndex&&t.push(r)}},this),t},e.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},e.prototype.getMinMaxSpan=function(){return _t(this._minMaxSpan)},e.prototype.calculateDataWindow=function(t){var r=this._dataExtent,n=this.getAxisModel(),i=n.axis.scale,a=this._dataZoomModel.getRangePropMode(),s=[0,100],o=[],l=[],u;od(["start","end"],function(f,d){var v=t[f],m=t[f+"Value"];a[d]==="percent"?(v==null&&(v=s[d]),m=i.parse(pr(v,s,r))):(u=!0,m=m==null?r[d]:i.parse(m),v=pr(m,r,s)),l[d]=m==null||isNaN(m)?r[d]:m,o[d]=v==null||isNaN(v)?s[d]:v}),iH(l),iH(o);var c=this._minMaxSpan;u?h(l,o,r,s,!1):h(o,l,s,r,!0);function h(f,d,v,m,y){var b=y?"Span":"ValueSpan";gf(0,f,v,"all",c["min"+b],c["max"+b]);for(var S=0;S<2;S++)d[S]=pr(f[S],v,m,!0),y&&(d[S]=i.parse(d[S]))}return{valueWindow:l,percentWindow:o}},e.prototype.reset=function(t){if(t===this._dataZoomModel){var r=this.getTargetSeriesModels();this._dataExtent=x4e(this,this._dimName,r),this._updateMinMaxSpan();var n=this.calculateDataWindow(t.settledOption);this._valueWindow=n.valueWindow,this._percentWindow=n.percentWindow,this._setAxisModel()}},e.prototype.filterData=function(t,r){if(t!==this._dataZoomModel)return;var n=this._dimName,i=this.getTargetSeriesModels(),a=t.get("filterMode"),s=this._valueWindow;if(a==="none")return;od(i,function(l){var u=l.getData(),c=u.mapDimensionsAll(n);if(c.length){if(a==="weakFilter"){var h=u.getStore(),f=Fe(c,function(d){return u.getDimensionIndex(d)},u);u.filterSelf(function(d){for(var v,m,y,b=0;b<c.length;b++){var S=h.get(f[b],d),w=!isNaN(S),k=S<s[0],M=S>s[1];if(w&&!k&&!M)return!0;w&&(y=!0),k&&(v=!0),M&&(m=!0)}return y&&v&&m})}else od(c,function(d){if(a==="empty")l.setData(u=u.map(d,function(m){return o(m)?m:NaN}));else{var v={};v[d]=s,u.selectRange(v)}});od(c,function(d){u.setApproximateExtent(s,d)})}});function o(l){return l>=s[0]&&l<=s[1]}},e.prototype._updateMinMaxSpan=function(){var t=this._minMaxSpan={},r=this._dataZoomModel,n=this._dataExtent;od(["min","max"],function(i){var a=r.get(i+"Span"),s=r.get(i+"ValueSpan");s!=null&&(s=this.getAxisModel().axis.scale.parse(s)),s!=null?a=pr(n[0]+s,n,[0,100],!0):a!=null&&(s=pr(a,[0,100],n,!0)-n[0]),t[i+"Span"]=a,t[i+"ValueSpan"]=s},this)},e.prototype._setAxisModel=function(){var t=this.getAxisModel(),r=this._percentWindow,n=this._valueWindow;if(r){var i=TN(n,[0,500]);i=Math.min(i,20);var a=t.axis.scale.rawExtentInfo;r[0]!==0&&a.setDeterminedMinMax("min",+n[0].toFixed(i)),r[1]!==100&&a.setDeterminedMinMax("max",+n[1].toFixed(i)),a.freeze()}},e}();function x4e(e,t,r){var n=[1/0,-1/0];od(r,function(s){FIe(n,s.getData(),t)});var i=e.getAxisModel(),a=NZ(i.axis.scale,i,n).calculate();return[a.min,a.max]}var b4e={getTargetSeries:function(e){function t(i){e.eachComponent("dataZoom",function(a){a.eachTargetAxis(function(s,o){var l=e.getComponent(Au(s),o);i(s,o,l,a)})})}t(function(i,a,s,o){s.__dzAxisProxy=null});var r=[];t(function(i,a,s,o){s.__dzAxisProxy||(s.__dzAxisProxy=new y4e(i,a,o,e),r.push(s.__dzAxisProxy))});var n=ct();return q(r,function(i){q(i.getTargetSeriesModels(),function(a){n.set(a.uid,a)})}),n},overallReset:function(e,t){e.eachComponent("dataZoom",function(r){r.eachTargetAxis(function(n,i){r.getAxisProxy(n,i).reset(r)}),r.eachTargetAxis(function(n,i){r.getAxisProxy(n,i).filterData(r,t)})}),e.eachComponent("dataZoom",function(r){var n=r.findRepresentativeAxisProxy();if(n){var i=n.getDataPercentWindow(),a=n.getDataValueWindow();r.setCalculatedRange({start:i[0],end:i[1],startValue:a[0],endValue:a[1]})}})}};function S4e(e){e.registerAction("dataZoom",function(t,r){var n=v4e(r,t);q(n,function(i){i.setRawRange({start:t.start,end:t.end,startValue:t.startValue,endValue:t.endValue})})})}var aH=!1;function _R(e){aH||(aH=!0,e.registerProcessor(e.PRIORITY.PROCESSOR.FILTER,b4e),S4e(e),e.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function _4e(e){e.registerComponentModel(g4e),e.registerComponentView(m4e),_R(e)}var Za=function(){function e(){}return e}(),gee={};function ld(e,t){gee[e]=t}function mee(e){return gee[e]}var w4e=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.optionUpdated=function(){e.prototype.optionUpdated.apply(this,arguments);var r=this.ecModel;q(this.option.feature,function(n,i){var a=mee(i);a&&(a.getDefaultOption&&(a.defaultOption=a.getDefaultOption(r)),Ot(n,a.defaultOption))})},t.type="toolbox",t.layoutMode={type:"box",ignoreSize:!0},t.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},t}(Yt);function T4e(e,t,r){var n=t.getBoxLayoutParams(),i=t.get("padding"),a={width:r.getWidth(),height:r.getHeight()},s=Sn(n,a,i);Ph(t.get("orient"),e,t.get("itemGap"),s.width,s.height),Iw(e,n,a,i)}function yee(e,t){var r=ff(t.get("padding")),n=t.getItemStyle(["color","opacity"]);return n.fill=t.get("backgroundColor"),e=new Jt({shape:{x:e.x-r[3],y:e.y-r[0],width:e.width+r[1]+r[3],height:e.height+r[0]+r[2],r:t.get("borderRadius")},style:n,silent:!0,z2:-1}),e}var C4e=function(e){_e(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.render=function(r,n,i,a){var s=this.group;if(s.removeAll(),!r.get("show"))return;var o=+r.get("itemSize"),l=r.get("orient")==="vertical",u=r.get("feature")||{},c=this._features||(this._features={}),h=[];q(u,function(v,m){h.push(m)}),new El(this._featureNames||[],h).add(f).update(f).remove(Lt(f,null)).execute(),this._featureNames=h;function f(v,m){var y=h[v],b=h[m],S=u[y],w=new ur(S,r,r.ecModel),k;if(a&&a.newTitle!=null&&a.featureName===y&&(S.title=a.newTitle),y&&!b){if(E4e(y))k={onclick:w.option.onclick,featureName:y};else{var M=mee(y);if(!M)return;k=new M}c[y]=k}else if(k=c[b],!k)return;k.uid=Vp("toolbox-feature"),k.model=w,k.ecModel=n,k.api=i;var I=k instanceof Za;if(!y&&b){I&&k.dispose&&k.dispose(n,i);return}if(!w.get("show")||I&&k.unusable){I&&k.remove&&k.remove(n,i);return}d(w,k,y),w.setIconStatus=function(L,N){var z=this.option,B=this.iconPaths;z.iconStatus=z.iconStatus||{},z.iconStatus[L]=N,B[L]&&(N==="emphasis"?Tl:Cl)(B[L])},k instanceof Za&&k.render&&k.render(w,n,i,a)}function d(v,m,y){var b=v.getModel("iconStyle"),S=v.getModel(["emphasis","iconStyle"]),w=m instanceof Za&&m.getIcons?m.getIcons():v.get("icon"),k=v.get("title")||{},M,I;Je(w)?(M={},M[y]=w):M=w,Je(k)?(I={},I[y]=k):I=k;var L=v.iconPaths={};q(M,function(N,z){var B=jp(N,{},{x:-o/2,y:-o/2,width:o,height:o});B.setStyle(b.getItemStyle());var H=B.ensureState("emphasis");H.style=S.getItemStyle();var G=new Qt({style:{text:I[z],align:S.get("textAlign"),borderRadius:S.get("textBorderRadius"),padding:S.get("textPadding"),fill:null,font:GN({fontStyle:S.get("textFontStyle"),fontFamily:S.get("textFontFamily"),fontSize:S.get("textFontSize"),fontWeight:S.get("textFontWeight")},n)},ignore:!0});B.setTextContent(G),cf({el:B,componentModel:r,itemName:z,formatterParamsExtra:{title:I[z]}}),B.__title=I[z],B.on("mouseover",function(){var $=S.getItemStyle(),W=l?r.get("right")==null&&r.get("left")!=="right"?"right":"left":r.get("bottom")==null&&r.get("top")!=="bottom"?"bottom":"top";G.setStyle({fill:S.get("textFill")||$.fill||$.stroke||"#000",backgroundColor:S.get("textBackgroundColor")}),B.setTextConfig({position:S.get("textPosition")||W}),G.ignore=!r.get("showTitle"),i.enterEmphasis(this)}).on("mouseout",function(){v.get(["iconStatus",z])!=="emphasis"&&i.leaveEmphasis(this),G.hide()}),(v.get(["iconStatus",z])==="emphasis"?Tl:Cl)(B),s.add(B),B.on("click",rt(m.onclick,m,n,i,z)),L[z]=B})}T4e(s,r,i),s.add(yee(s.getBoundingRect(),r)),l||s.eachChild(function(v){var m=v.__title,y=v.ensureState("emphasis"),b=y.textConfig||(y.textConfig={}),S=v.getTextContent(),w=S&&S.ensureState("emphasis");if(w&&!vt(w)&&m){var k=w.style||(w.style={}),M=Y0(m,Qt.makeFont(k)),I=v.x+s.x,L=v.y+s.y+o,N=!1;L+M.height>i.getHeight()&&(b.position="top",N=!0);var z=N?-5-M.height:o+10;I+M.width/2>i.getWidth()?(b.position=["100%",z],k.align="right"):I-M.width/2<0&&(b.position=[0,z],k.align="left")}})},t.prototype.updateView=function(r,n,i,a){q(this._features,function(s){s instanceof Za&&s.updateView&&s.updateView(s.model,n,i,a)})},t.prototype.remove=function(r,n){q(this._features,function(i){i instanceof Za&&i.remove&&i.remove(r,n)}),this.group.removeAll()},t.prototype.dispose=function(r,n){q(this._features,function(i){i instanceof Za&&i.dispose&&i.dispose(r,n)})},t.type="toolbox",t}(Nr);function E4e(e){return e.indexOf("my")===0}var A4e=function(e){_e(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.onclick=function(r,n){var i=this.model,a=i.get("name")||r.get("title.0.text")||"echarts",s=n.getZr().painter.getType()==="svg",o=s?"svg":i.get("type",!0)||"png",l=n.getConnectedDataURL({type:o,backgroundColor:i.get("backgroundColor",!0)||r.get("backgroundColor")||"#fff",connectedBackgroundColor:i.get("connectedBackgroundColor"),excludeComponents:i.get("excludeComponents"),pixelRatio:i.get("pixelRatio")}),u=Xt.browser;if(typeof MouseEvent=="function"&&(u.newEdge||!u.ie&&!u.edge)){var c=document.createElement("a");c.download=a+"."+o,c.target="_blank",c.href=l;var h=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});c.dispatchEvent(h)}else if(window.navigator.msSaveOrOpenBlob||s){var f=l.split(","),d=f[0].indexOf("base64")>-1,v=s?decodeURIComponent(f[1]):f[1];d&&(v=window.atob(v));var m=a+"."+o;if(window.navigator.msSaveOrOpenBlob){for(var y=v.length,b=new Uint8Array(y);y--;)b[y]=v.charCodeAt(y);var S=new Blob([b]);window.navigator.msSaveOrOpenBlob(S,m)}else{var w=document.createElement("iframe");document.body.appendChild(w);var k=w.contentWindow,M=k.document;M.open("image/svg+xml","replace"),M.write(v),M.close(),k.focus(),M.execCommand("SaveAs",!0,m),document.body.removeChild(w)}}else{var I=i.get("lang"),L='<body style="margin:0;"><img src="'+l+'" style="max-width:100%;" title="'+(I&&I[0]||"")+'" /></body>',N=window.open();N.document.write(L),N.document.title=a}},t.getDefaultOption=function(r){var n={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:r.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:r.getLocaleModel().get(["toolbox","saveAsImage","lang"])};return n},t}(Za),sH="__ec_magicType_stack__",k4e=[["line","bar"],["stack"]],I4e=function(e){_e(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.getIcons=function(){var r=this.model,n=r.get("icon"),i={};return q(r.get("type"),function(a){n[a]&&(i[a]=n[a])}),i},t.getDefaultOption=function(r){var n={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:r.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return n},t.prototype.onclick=function(r,n,i){var a=this.model,s=a.get(["seriesIndex",i]);if(oH[i]){var o={series:[]},l=function(h){var f=h.subType,d=h.id,v=oH[i](f,d,h,a);v&&(yt(v,h.option),o.series.push(v));var m=h.coordinateSystem;if(m&&m.type==="cartesian2d"&&(i==="line"||i==="bar")){var y=m.getAxesByScale("ordinal")[0];if(y){var b=y.dim,S=b+"Axis",w=h.getReferringComponents(S,bn).models[0],k=w.componentIndex;o[S]=o[S]||[];for(var M=0;M<=k;M++)o[S][k]=o[S][k]||{};o[S][k].boundaryGap=i==="bar"}}};q(k4e,function(h){Ut(h,i)>=0&&q(h,function(f){a.setIconStatus(f,"normal")})}),a.setIconStatus(i,"emphasis"),r.eachComponent({mainType:"series",query:s==null?null:{seriesIndex:s}},l);var u,c=i;i==="stack"&&(u=Ot({stack:a.option.title.tiled,tiled:a.option.title.stack},a.option.title),a.get(["iconStatus",i])!=="emphasis"&&(c="tiled")),n.dispatchAction({type:"changeMagicType",currentType:c,newOption:o,newTitle:u,featureName:"magicType"})}},t}(Za),oH={line:function(e,t,r,n){if(e==="bar")return Ot({id:t,type:"line",data:r.get("data"),stack:r.get("stack"),markPoint:r.get("markPoint"),markLine:r.get("markLine")},n.get(["option","line"])||{},!0)},bar:function(e,t,r,n){if(e==="line")return Ot({id:t,type:"bar",data:r.get("data"),stack:r.get("stack"),markPoint:r.get("markPoint"),markLine:r.get("markLine")},n.get(["option","bar"])||{},!0)},stack:function(e,t,r,n){var i=r.get("stack")===sH;if(e==="line"||e==="bar")return n.setIconStatus("stack",i?"normal":"emphasis"),Ot({id:t,stack:i?"":sH},n.get(["option","stack"])||{},!0)}};Ys({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(e,t){t.mergeOption(e.newOption)});var Yw=new Array(60).join("-"),xp="	";function D4e(e){var t={},r=[],n=[];return e.eachRawSeries(function(i){var a=i.coordinateSystem;if(a&&(a.type==="cartesian2d"||a.type==="polar")){var s=a.getBaseAxis();if(s.type==="category"){var o=s.dim+"_"+s.index;t[o]||(t[o]={categoryAxis:s,valueAxis:a.getOtherAxis(s),series:[]},n.push({axisDim:s.dim,axisIndex:s.index})),t[o].series.push(i)}else r.push(i)}else r.push(i)}),{seriesGroupByCategoryAxis:t,other:r,meta:n}}function M4e(e){var t=[];return q(e,function(r,n){var i=r.categoryAxis,a=r.valueAxis,s=a.dim,o=[" "].concat(Fe(r.series,function(d){return d.name})),l=[i.model.getCategories()];q(r.series,function(d){var v=d.getRawData();l.push(d.getRawData().mapArray(v.mapDimension(s),function(m){return m}))});for(var u=[o.join(xp)],c=0;c<l[0].length;c++){for(var h=[],f=0;f<l.length;f++)h.push(l[f][c]);u.push(h.join(xp))}t.push(u.join(`
`))}),t.join(`

`+Yw+`

`)}function L4e(e){return Fe(e,function(t){var r=t.getRawData(),n=[t.name],i=[];return r.each(r.dimensions,function(){for(var a=arguments.length,s=arguments[a-1],o=r.getName(s),l=0;l<a-1;l++)i[l]=arguments[l];n.push((o?o+xp:"")+i.join(xp))}),n.join(`
`)}).join(`

`+Yw+`

`)}function N4e(e){var t=D4e(e);return{value:lr([M4e(t.seriesGroupByCategoryAxis),L4e(t.other)],function(r){return!!r.replace(/[\n\t\s]/g,"")}).join(`

`+Yw+`

`),meta:t.meta}}function n_(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function P4e(e){var t=e.slice(0,e.indexOf(`
`));if(t.indexOf(xp)>=0)return!0}var JD=new RegExp("["+xp+"]+","g");function R4e(e){for(var t=e.split(/\n+/g),r=n_(t.shift()).split(JD),n=[],i=Fe(r,function(l){return{name:l,data:[]}}),a=0;a<t.length;a++){var s=n_(t[a]).split(JD);n.push(s.shift());for(var o=0;o<s.length;o++)i[o]&&(i[o].data[a]=s[o])}return{series:i,categories:n}}function O4e(e){for(var t=e.split(/\n+/g),r=n_(t.shift()),n=[],i=0;i<t.length;i++){var a=n_(t[i]);if(a){var s=a.split(JD),o="",l=void 0,u=!1;isNaN(s[0])?(u=!0,o=s[0],s=s.slice(1),n[i]={name:o,value:[]},l=n[i].value):l=n[i]=[];for(var c=0;c<s.length;c++)l.push(+s[c]);l.length===1&&(u?n[i].value=l[0]:n[i]=l[0])}}return{name:r,data:n}}function B4e(e,t){var r=e.split(new RegExp(`
*`+Yw+`
*`,"g")),n={series:[]};return q(r,function(i,a){if(P4e(i)){var s=R4e(i),o=t[a],l=o.axisDim+"Axis";o&&(n[l]=n[l]||[],n[l][o.axisIndex]={data:s.categories},n.series=n.series.concat(s.series))}else{var s=O4e(i);n.series.push(s)}}),n}var F4e=function(e){_e(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.onclick=function(r,n){setTimeout(function(){n.dispatchAction({type:"hideTip"})});var i=n.getDom(),a=this.model;this._dom&&i.removeChild(this._dom);var s=document.createElement("div");s.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",s.style.backgroundColor=a.get("backgroundColor")||"#fff";var o=document.createElement("h4"),l=a.get("lang")||[];o.innerHTML=l[0]||a.get("title"),o.style.cssText="margin:10px 20px",o.style.color=a.get("textColor");var u=document.createElement("div"),c=document.createElement("textarea");u.style.cssText="overflow:auto";var h=a.get("optionToContent"),f=a.get("contentToOption"),d=N4e(r);if(vt(h)){var v=h(n.getOption());Je(v)?u.innerHTML=v:Xh(v)&&u.appendChild(v)}else{c.readOnly=a.get("readOnly");var m=c.style;m.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",m.color=a.get("textColor"),m.borderColor=a.get("textareaBorderColor"),m.backgroundColor=a.get("textareaColor"),c.value=d.value,u.appendChild(c)}var y=d.meta,b=document.createElement("div");b.style.cssText="position:absolute;bottom:5px;left:0;right:0";var S="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",w=document.createElement("div"),k=document.createElement("div");S+=";background-color:"+a.get("buttonColor"),S+=";color:"+a.get("buttonTextColor");var M=this;function I(){i.removeChild(s),M._dom=null}II(w,"click",I),II(k,"click",function(){if(f==null&&h!=null||f!=null&&h==null){I();return}var L;try{vt(f)?L=f(u,n.getOption()):L=B4e(c.value,y)}catch(N){throw I(),new Error("Data view format error "+N)}L&&n.dispatchAction({type:"changeDataView",newOption:L}),I()}),w.innerHTML=l[1],k.innerHTML=l[2],k.style.cssText=w.style.cssText=S,!a.get("readOnly")&&b.appendChild(k),b.appendChild(w),s.appendChild(o),s.appendChild(u),s.appendChild(b),u.style.height=i.clientHeight-80+"px",i.appendChild(s),this._dom=s},t.prototype.remove=function(r,n){this._dom&&n.getDom().removeChild(this._dom)},t.prototype.dispose=function(r,n){this.remove(r,n)},t.getDefaultOption=function(r){var n={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:r.getLocaleModel().get(["toolbox","dataView","title"]),lang:r.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};return n},t}(Za);function z4e(e,t){return Fe(e,function(r,n){var i=t&&t[n];if(St(i)&&!Oe(i)){var a=St(r)&&!Oe(r);a||(r={value:r});var s=i.name!=null&&r.name==null;return r=yt(r,i),s&&delete r.name,r}else return r})}Ys({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(e,t){var r=[];q(e.newOption.series,function(n){var i=t.getSeriesByName(n.name)[0];if(!i)r.push(Ne({type:"scatter"},n));else{var a=i.get("data");r.push({name:n.name,data:z4e(n.data,a)})}}),t.mergeOption(yt({series:r},e.newOption))});var xee=q,bee=tr();function j4e(e,t){var r=wR(e);xee(t,function(n,i){for(var a=r.length-1;a>=0;a--){var s=r[a];if(s[i])break}if(a<0){var o=e.queryComponents({mainType:"dataZoom",subType:"select",id:i})[0];if(o){var l=o.getPercentRange();r[0][i]={dataZoomId:i,start:l[0],end:l[1]}}}}),r.push(t)}function H4e(e){var t=wR(e),r=t[t.length-1];t.length>1&&t.pop();var n={};return xee(r,function(i,a){for(var s=t.length-1;s>=0;s--)if(i=t[s][a],i){n[a]=i;break}}),n}function V4e(e){bee(e).snapshots=null}function U4e(e){return wR(e).length}function wR(e){var t=bee(e);return t.snapshots||(t.snapshots=[{}]),t.snapshots}var G4e=function(e){_e(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.onclick=function(r,n){V4e(r),n.dispatchAction({type:"restore",from:this.uid})},t.getDefaultOption=function(r){var n={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:r.getLocaleModel().get(["toolbox","restore","title"])};return n},t}(Za);Ys({type:"restore",event:"restore",update:"prepareAndUpdate"},function(e,t){t.resetOption("recreate")});var W4e=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],TR=function(){function e(t,r,n){var i=this;this._targetInfoList=[];var a=lH(r,t);q($4e,function(s,o){(!n||!n.include||Ut(n.include,o)>=0)&&s(a,i._targetInfoList)})}return e.prototype.setOutputRanges=function(t,r){return this.matchOutputRanges(t,r,function(n,i,a){if((n.coordRanges||(n.coordRanges=[])).push(i),!n.coordRange){n.coordRange=i;var s=TA[n.brushType](0,a,i);n.__rangeOffset={offset:fH[n.brushType](s.values,n.range,[1,1]),xyMinMax:s.xyMinMax}}}),t},e.prototype.matchOutputRanges=function(t,r,n){q(t,function(i){var a=this.findTargetInfo(i,r);a&&a!==!0&&q(a.coordSyses,function(s){var o=TA[i.brushType](1,s,i.range,!0);n(i,o.values,s,r)})},this)},e.prototype.setInputRanges=function(t,r){q(t,function(n){var i=this.findTargetInfo(n,r);if(n.range=n.range||[],i&&i!==!0){n.panelId=i.panelId;var a=TA[n.brushType](0,i.coordSys,n.coordRange),s=n.__rangeOffset;n.range=s?fH[n.brushType](a.values,s.offset,Y4e(a.xyMinMax,s.xyMinMax)):a.values}},this)},e.prototype.makePanelOpts=function(t,r){return Fe(this._targetInfoList,function(n){var i=n.getPanelRect();return{panelId:n.panelId,defaultBrushType:r?r(n):null,clipPath:kJ(i),isTargetByCursor:DJ(i,t,n.coordSysModel),getLinearBrushOtherExtent:IJ(i)}})},e.prototype.controlSeries=function(t,r,n){var i=this.findTargetInfo(t,n);return i===!0||i&&Ut(i.coordSyses,r.coordinateSystem)>=0},e.prototype.findTargetInfo=function(t,r){for(var n=this._targetInfoList,i=lH(r,t),a=0;a<n.length;a++){var s=n[a],o=t.panelId;if(o){if(s.panelId===o)return s}else for(var l=0;l<uH.length;l++)if(uH[l](i,s))return s}return!0},e}();function eM(e){return e[0]>e[1]&&e.reverse(),e}function lH(e,t){return lm(e,t,{includeMainTypes:W4e})}var $4e={grid:function(e,t){var r=e.xAxisModels,n=e.yAxisModels,i=e.gridModels,a=ct(),s={},o={};!r&&!n&&!i||(q(r,function(l){var u=l.axis.grid.model;a.set(u.id,u),s[u.id]=!0}),q(n,function(l){var u=l.axis.grid.model;a.set(u.id,u),o[u.id]=!0}),q(i,function(l){a.set(l.id,l),s[l.id]=!0,o[l.id]=!0}),a.each(function(l){var u=l.coordinateSystem,c=[];q(u.getCartesians(),function(h,f){(Ut(r,h.getAxis("x").model)>=0||Ut(n,h.getAxis("y").model)>=0)&&c.push(h)}),t.push({panelId:"grid--"+l.id,gridModel:l,coordSysModel:l,coordSys:c[0],coordSyses:c,getPanelRect:cH.grid,xAxisDeclared:s[l.id],yAxisDeclared:o[l.id]})}))},geo:function(e,t){q(e.geoModels,function(r){var n=r.coordinateSystem;t.push({panelId:"geo--"+r.id,geoModel:r,coordSysModel:r,coordSys:n,coordSyses:[n],getPanelRect:cH.geo})})}},uH=[function(e,t){var r=e.xAxisModel,n=e.yAxisModel,i=e.gridModel;return!i&&r&&(i=r.axis.grid.model),!i&&n&&(i=n.axis.grid.model),i&&i===t.gridModel},function(e,t){var r=e.geoModel;return r&&r===t.geoModel}],cH={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var e=this.coordSys,t=e.getBoundingRect().clone();return t.applyTransform(Vu(e)),t}},TA={lineX:Lt(hH,0),lineY:Lt(hH,1),rect:function(e,t,r,n){var i=e?t.pointToData([r[0][0],r[1][0]],n):t.dataToPoint([r[0][0],r[1][0]],n),a=e?t.pointToData([r[0][1],r[1][1]],n):t.dataToPoint([r[0][1],r[1][1]],n),s=[eM([i[0],a[0]]),eM([i[1],a[1]])];return{values:s,xyMinMax:s}},polygon:function(e,t,r,n){var i=[[1/0,-1/0],[1/0,-1/0]],a=Fe(r,function(s){var o=e?t.pointToData(s,n):t.dataToPoint(s,n);return i[0][0]=Math.min(i[0][0],o[0]),i[1][0]=Math.min(i[1][0],o[1]),i[0][1]=Math.max(i[0][1],o[0]),i[1][1]=Math.max(i[1][1],o[1]),o});return{values:a,xyMinMax:i}}};function hH(e,t,r,n){var i=r.getAxis(["x","y"][e]),a=eM(Fe([0,1],function(o){return t?i.coordToData(i.toLocalCoord(n[o]),!0):i.toGlobalCoord(i.dataToCoord(n[o]))})),s=[];return s[e]=a,s[1-e]=[NaN,NaN],{values:a,xyMinMax:s}}var fH={lineX:Lt(dH,0),lineY:Lt(dH,1),rect:function(e,t,r){return[[e[0][0]-r[0]*t[0][0],e[0][1]-r[0]*t[0][1]],[e[1][0]-r[1]*t[1][0],e[1][1]-r[1]*t[1][1]]]},polygon:function(e,t,r){return Fe(e,function(n,i){return[n[0]-r[0]*t[i][0],n[1]-r[1]*t[i][1]]})}};function dH(e,t,r,n){return[t[0]-n[e]*r[0],t[1]-n[e]*r[1]]}function Y4e(e,t){var r=pH(e),n=pH(t),i=[r[0]/n[0],r[1]/n[1]];return isNaN(i[0])&&(i[0]=1),isNaN(i[1])&&(i[1]=1),i}function pH(e){return e?[e[0][1]-e[0][0],e[1][1]-e[1][0]]:[NaN,NaN]}var tM=q,X4e=HTe("toolbox-dataZoom_"),q4e=function(e){_e(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.render=function(r,n,i,a){this._brushController||(this._brushController=new ZP(i.getZr()),this._brushController.on("brush",rt(this._onBrush,this)).mount()),Q4e(r,n,this,a,i),Z4e(r,n)},t.prototype.onclick=function(r,n,i){K4e[i].call(this)},t.prototype.remove=function(r,n){this._brushController&&this._brushController.unmount()},t.prototype.dispose=function(r,n){this._brushController&&this._brushController.dispose()},t.prototype._onBrush=function(r){var n=r.areas;if(!r.isEnd||!n.length)return;var i={},a=this.ecModel;this._brushController.updateCovers([]);var s=new TR(CR(this.model),a,{include:["grid"]});s.matchOutputRanges(n,a,function(u,c,h){if(h.type==="cartesian2d"){var f=u.brushType;f==="rect"?(o("x",h,c[0]),o("y",h,c[1])):o({lineX:"x",lineY:"y"}[f],h,c)}}),j4e(a,i),this._dispatchZoomAction(i);function o(u,c,h){var f=c.getAxis(u),d=f.model,v=l(u,d,a),m=v.findRepresentativeAxisProxy(d).getMinMaxSpan();(m.minValueSpan!=null||m.maxValueSpan!=null)&&(h=gf(0,h.slice(),f.scale.getExtent(),0,m.minValueSpan,m.maxValueSpan)),v&&(i[v.id]={dataZoomId:v.id,startValue:h[0],endValue:h[1]})}function l(u,c,h){var f;return h.eachComponent({mainType:"dataZoom",subType:"select"},function(d){var v=d.getAxisModel(u,c.componentIndex);v&&(f=d)}),f}},t.prototype._dispatchZoomAction=function(r){var n=[];tM(r,function(i,a){n.push(_t(i))}),n.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:n})},t.getDefaultOption=function(r){var n={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:r.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}};return n},t}(Za),K4e={zoom:function(){var e=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:e})},back:function(){this._dispatchZoomAction(H4e(this.ecModel))}};function CR(e){var t={xAxisIndex:e.get("xAxisIndex",!0),yAxisIndex:e.get("yAxisIndex",!0),xAxisId:e.get("xAxisId",!0),yAxisId:e.get("yAxisId",!0)};return t.xAxisIndex==null&&t.xAxisId==null&&(t.xAxisIndex="all"),t.yAxisIndex==null&&t.yAxisId==null&&(t.yAxisIndex="all"),t}function Z4e(e,t){e.setIconStatus("back",U4e(t)>1?"emphasis":"normal")}function Q4e(e,t,r,n,i){var a=r._isZoomActive;n&&n.type==="takeGlobalCursor"&&(a=n.key==="dataZoomSelect"?n.dataZoomSelectActive:!1),r._isZoomActive=a,e.setIconStatus("zoom",a?"emphasis":"normal");var s=new TR(CR(e),t,{include:["grid"]}),o=s.makePanelOpts(i,function(l){return l.xAxisDeclared&&!l.yAxisDeclared?"lineX":!l.xAxisDeclared&&l.yAxisDeclared?"lineY":"rect"});r._brushController.setPanels(o).enableBrush(a&&o.length?{brushType:"auto",brushStyle:e.getModel("brushStyle").getItemStyle()}:!1)}cEe("dataZoom",function(e){var t=e.getComponent("toolbox",0),r=["feature","dataZoom"];if(!t||t.get(r)==null)return;var n=t.getModel(r),i=[],a=CR(n),s=lm(e,a);tM(s.xAxisModels,function(l){return o(l,"xAxis","xAxisIndex")}),tM(s.yAxisModels,function(l){return o(l,"yAxis","yAxisIndex")});function o(l,u,c){var h=l.componentIndex,f={type:"select",$fromToolbox:!0,filterMode:n.get("filterMode",!0)||"filter",id:X4e+u+h};f[c]=h,i.push(f)}return i});function J4e(e){e.registerComponentModel(w4e),e.registerComponentView(C4e),ld("saveAsImage",A4e),ld("magicType",I4e),ld("dataView",F4e),ld("dataZoom",q4e),ld("restore",G4e),Wt(_4e)}var eBe=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.type="tooltip",t.dependencies=["axisPointer"],t.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},t}(Yt);function See(e){var t=e.get("confine");return t!=null?!!t:e.get("renderMode")==="richText"}function _ee(e){if(Xt.domSupported){for(var t=document.documentElement.style,r=0,n=e.length;r<n;r++)if(e[r]in t)return e[r]}}var wee=_ee(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),tBe=_ee(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function Tee(e,t){if(!e)return t;t=QN(t,!0);var r=e.indexOf(t);return e=r===-1?t:"-"+e.slice(0,r)+"-"+t,e.toLowerCase()}function rBe(e,t){var r=e.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(e);return r?r[t]:null}var nBe=Tee(tBe,"transition"),ER=Tee(wee,"transform"),iBe="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(Xt.transform3dSupported?"will-change:transform;":"");function aBe(e){return e=e==="left"?"right":e==="right"?"left":e==="top"?"bottom":"top",e}function sBe(e,t,r){if(!Je(r)||r==="inside")return"";var n=e.get("backgroundColor"),i=e.get("borderWidth");t=Jh(t);var a=aBe(r),s=Math.max(Math.round(i)*1.5,6),o="",l=ER+":",u;Ut(["left","right"],a)>-1?(o+="top:50%",l+="translateY(-50%) rotate("+(u=a==="left"?-225:-45)+"deg)"):(o+="left:50%",l+="translateX(-50%) rotate("+(u=a==="top"?225:45)+"deg)");var c=u*Math.PI/180,h=s+i,f=h*Math.abs(Math.cos(c))+h*Math.abs(Math.sin(c)),d=Math.round(((f-Math.SQRT2*i)/2+Math.SQRT2*i-(f-h)/2)*100)/100;o+=";"+a+":-"+d+"px";var v=t+" solid "+i+"px;",m=["position:absolute;width:"+s+"px;height:"+s+"px;z-index:-1;",o+";"+l+";","border-bottom:"+v,"border-right:"+v,"background-color:"+n+";"];return'<div style="'+m.join("")+'"></div>'}function oBe(e,t){var r="cubic-bezier(0.23,1,0.32,1)",n=" "+e/2+"s "+r,i="opacity"+n+",visibility"+n;return t||(n=" "+e+"s "+r,i+=Xt.transformSupported?","+ER+n:",left"+n+",top"+n),nBe+":"+i}function vH(e,t,r){var n=e.toFixed(0)+"px",i=t.toFixed(0)+"px";if(!Xt.transformSupported)return r?"top:"+i+";left:"+n+";":[["top",i],["left",n]];var a=Xt.transform3dSupported,s="translate"+(a?"3d":"")+"("+n+","+i+(a?",0":"")+")";return r?"top:0;left:0;"+ER+":"+s+";":[["top",0],["left",0],[wee,s]]}function lBe(e){var t=[],r=e.get("fontSize"),n=e.getTextColor();n&&t.push("color:"+n),t.push("font:"+e.getFont());var i=Mt(e.get("lineHeight"),Math.round(r*3/2));r&&t.push("line-height:"+i+"px");var a=e.get("textShadowColor"),s=e.get("textShadowBlur")||0,o=e.get("textShadowOffsetX")||0,l=e.get("textShadowOffsetY")||0;return a&&s&&t.push("text-shadow:"+o+"px "+l+"px "+s+"px "+a),q(["decoration","align"],function(u){var c=e.get(u);c&&t.push("text-"+u+":"+c)}),t.join(";")}function uBe(e,t,r){var n=[],i=e.get("transitionDuration"),a=e.get("backgroundColor"),s=e.get("shadowBlur"),o=e.get("shadowColor"),l=e.get("shadowOffsetX"),u=e.get("shadowOffsetY"),c=e.getModel("textStyle"),h=NK(e,"html"),f=l+"px "+u+"px "+s+"px "+o;return n.push("box-shadow:"+f),t&&i&&n.push(oBe(i,r)),a&&n.push("background-color:"+a),q(["width","color","radius"],function(d){var v="border-"+d,m=QN(v),y=e.get(m);y!=null&&n.push(v+":"+y+(d==="color"?"":"px"))}),n.push(lBe(c)),h!=null&&n.push("padding:"+ff(h).join("px ")+"px"),n.join(";")+";"}function gH(e,t,r,n,i){var a=t&&t.painter;if(r){var s=a&&a.getViewportRoot();s&&vwe(e,s,r,n,i)}else{e[0]=n,e[1]=i;var o=a&&a.getViewportRootOffset();o&&(e[0]+=o.offsetLeft,e[1]+=o.offsetTop)}e[2]=e[0]/t.getWidth(),e[3]=e[1]/t.getHeight()}var cBe=function(){function e(t,r){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,Xt.wxa)return null;var n=document.createElement("div");n.domBelongToZr=!0,this.el=n;var i=this._zr=t.getZr(),a=r.appendTo,s=a&&(Je(a)?document.querySelector(a):Xh(a)?a:vt(a)&&a(t.getDom()));gH(this._styleCoord,i,s,t.getWidth()/2,t.getHeight()/2),(s||t.getDom()).appendChild(n),this._api=t,this._container=s;var o=this;n.onmouseenter=function(){o._enterable&&(clearTimeout(o._hideTimeout),o._show=!0),o._inContent=!0},n.onmousemove=function(l){if(l=l||window.event,!o._enterable){var u=i.handler,c=i.painter.getViewportRoot();Ha(c,l,!0),u.dispatch("mousemove",l)}},n.onmouseleave=function(){o._inContent=!1,o._enterable&&o._show&&o.hideLater(o._hideDelay)}}return e.prototype.update=function(t){if(!this._container){var r=this._api.getDom(),n=rBe(r,"position"),i=r.style;i.position!=="absolute"&&n!=="absolute"&&(i.position="relative")}var a=t.get("alwaysShowContent");a&&this._moveIfResized(),this._alwaysShowContent=a,this.el.className=t.get("className")||""},e.prototype.show=function(t,r){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var n=this.el,i=n.style,a=this._styleCoord;n.innerHTML?i.cssText=iBe+uBe(t,!this._firstShow,this._longHide)+vH(a[0],a[1],!0)+("border-color:"+Jh(r)+";")+(t.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):i.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},e.prototype.setContent=function(t,r,n,i,a){var s=this.el;if(t==null){s.innerHTML="";return}var o="";if(Je(a)&&n.get("trigger")==="item"&&!See(n)&&(o=sBe(n,i,a)),Je(t))s.innerHTML=t+o;else if(t){s.innerHTML="",Oe(t)||(t=[t]);for(var l=0;l<t.length;l++)Xh(t[l])&&t[l].parentNode!==s&&s.appendChild(t[l]);if(o&&s.childNodes.length){var u=document.createElement("div");u.innerHTML=o,s.appendChild(u)}}},e.prototype.setEnterable=function(t){this._enterable=t},e.prototype.getSize=function(){var t=this.el;return t?[t.offsetWidth,t.offsetHeight]:[0,0]},e.prototype.moveTo=function(t,r){if(this.el){var n=this._styleCoord;if(gH(n,this._zr,this._container,t,r),n[0]!=null&&n[1]!=null){var i=this.el.style,a=vH(n[0],n[1]);q(a,function(s){i[s[0]]=s[1]})}}},e.prototype._moveIfResized=function(){var t=this._styleCoord[2],r=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),r*this._zr.getHeight())},e.prototype.hide=function(){var t=this,r=this.el.style;r.visibility="hidden",r.opacity="0",Xt.transform3dSupported&&(r.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return t._longHide=!0},500)},e.prototype.hideLater=function(t){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(rt(this.hide,this),t)):this.hide())},e.prototype.isShow=function(){return this._show},e.prototype.dispose=function(){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var t=this.el.parentNode;t&&t.removeChild(this.el),this.el=this._container=null},e}(),hBe=function(){function e(t){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=t.getZr(),yH(this._styleCoord,this._zr,t.getWidth()/2,t.getHeight()/2)}return e.prototype.update=function(t){var r=t.get("alwaysShowContent");r&&this._moveIfResized(),this._alwaysShowContent=r},e.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},e.prototype.setContent=function(t,r,n,i,a){var s=this;St(t)&&vr(""),this.el&&this._zr.remove(this.el);var o=n.getModel("textStyle");this.el=new Qt({style:{rich:r.richTextStyles,text:t,lineHeight:22,borderWidth:1,borderColor:i,textShadowColor:o.get("textShadowColor"),fill:n.get(["textStyle","color"]),padding:NK(n,"richText"),verticalAlign:"top",align:"left"},z:n.get("z")}),q(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(u){s.el.style[u]=n.get(u)}),q(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(u){s.el.style[u]=o.get(u)||0}),this._zr.add(this.el);var l=this;this.el.on("mouseover",function(){l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0}),this.el.on("mouseout",function(){l._enterable&&l._show&&l.hideLater(l._hideDelay),l._inContent=!1})},e.prototype.setEnterable=function(t){this._enterable=t},e.prototype.getSize=function(){var t=this.el,r=this.el.getBoundingRect(),n=mH(t.style);return[r.width+n.left+n.right,r.height+n.top+n.bottom]},e.prototype.moveTo=function(t,r){var n=this.el;if(n){var i=this._styleCoord;yH(i,this._zr,t,r),t=i[0],r=i[1];var a=n.style,s=lu(a.borderWidth||0),o=mH(a);n.x=t+s+o.left,n.y=r+s+o.top,n.markRedraw()}},e.prototype._moveIfResized=function(){var t=this._styleCoord[2],r=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),r*this._zr.getHeight())},e.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},e.prototype.hideLater=function(t){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(rt(this.hide,this),t)):this.hide())},e.prototype.isShow=function(){return this._show},e.prototype.dispose=function(){this._zr.remove(this.el)},e}();function lu(e){return Math.max(0,e)}function mH(e){var t=lu(e.shadowBlur||0),r=lu(e.shadowOffsetX||0),n=lu(e.shadowOffsetY||0);return{left:lu(t-r),right:lu(t+r),top:lu(t-n),bottom:lu(t+n)}}function yH(e,t,r,n){e[0]=r,e[1]=n,e[2]=e[0]/t.getWidth(),e[3]=e[1]/t.getHeight()}var fBe=new Jt({shape:{x:-1,y:-1,width:2,height:2}}),dBe=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.init=function(r,n){if(!(Xt.node||!n.getDom())){var i=r.getComponent("tooltip"),a=this._renderMode=XTe(i.get("renderMode"));this._tooltipContent=a==="richText"?new hBe(n):new cBe(n,{appendTo:i.get("appendToBody",!0)?"body":i.get("appendTo",!0)})}},t.prototype.render=function(r,n,i){if(!(Xt.node||!i.getDom())){this.group.removeAll(),this._tooltipModel=r,this._ecModel=n,this._api=i;var a=this._tooltipContent;a.update(r),a.setEnterable(r.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&r.get("transitionDuration")?Yp(this,"_updatePosition",50,"fixRate"):o0(this,"_updatePosition")}},t.prototype._initGlobalListener=function(){var r=this._tooltipModel,n=r.get("triggerOn");lee("itemTooltip",this._api,rt(function(i,a,s){n!=="none"&&(n.indexOf(i)>=0?this._tryShow(a,s):i==="leave"&&this._hide(s))},this))},t.prototype._keepShow=function(){var r=this._tooltipModel,n=this._ecModel,i=this._api,a=r.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&a!=="none"&&a!=="click"){var s=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!i.isDisposed()&&s.manuallyShowTip(r,n,i,{x:s._lastX,y:s._lastY,dataByCoordSys:s._lastDataByCoordSys})})}},t.prototype.manuallyShowTip=function(r,n,i,a){if(!(a.from===this.uid||Xt.node||!i.getDom())){var s=xH(a,i);this._ticket="";var o=a.dataByCoordSys,l=mBe(a,n,i);if(l){var u=l.el.getBoundingRect().clone();u.applyTransform(l.el.transform),this._tryShow({offsetX:u.x+u.width/2,offsetY:u.y+u.height/2,target:l.el,position:a.position,positionDefault:"bottom"},s)}else if(a.tooltip&&a.x!=null&&a.y!=null){var c=fBe;c.x=a.x,c.y=a.y,c.update(),It(c).tooltipConfig={name:null,option:a.tooltip},this._tryShow({offsetX:a.x,offsetY:a.y,target:c},s)}else if(o)this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,dataByCoordSys:o,tooltipOption:a.tooltipOption},s);else if(a.seriesIndex!=null){if(this._manuallyAxisShowTip(r,n,i,a))return;var h=uee(a,n),f=h.point[0],d=h.point[1];f!=null&&d!=null&&this._tryShow({offsetX:f,offsetY:d,target:h.el,position:a.position,positionDefault:"bottom"},s)}else a.x!=null&&a.y!=null&&(i.dispatchAction({type:"updateAxisPointer",x:a.x,y:a.y}),this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,target:i.getZr().findHover(a.x,a.y).target},s))}},t.prototype.manuallyHideTip=function(r,n,i,a){var s=this._tooltipContent;this._tooltipModel&&s.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,a.from!==this.uid&&this._hide(xH(a,i))},t.prototype._manuallyAxisShowTip=function(r,n,i,a){var s=a.seriesIndex,o=a.dataIndex,l=n.getComponent("axisPointer").coordSysAxesInfo;if(!(s==null||o==null||l==null)){var u=n.getSeriesByIndex(s);if(u){var c=u.getData(),h=ug([c.getItemModel(o),u,(u.coordinateSystem||{}).model],this._tooltipModel);if(h.get("trigger")==="axis")return i.dispatchAction({type:"updateAxisPointer",seriesIndex:s,dataIndex:o,position:a.position}),!0}}},t.prototype._tryShow=function(r,n){var i=r.target,a=this._tooltipModel;if(a){this._lastX=r.offsetX,this._lastY=r.offsetY;var s=r.dataByCoordSys;if(s&&s.length)this._showAxisTooltip(s,r);else if(i){var o=It(i);if(o.ssrType==="legend")return;this._lastDataByCoordSys=null;var l,u;Sh(i,function(c){if(It(c).dataIndex!=null)return l=c,!0;if(It(c).tooltipConfig!=null)return u=c,!0},!0),l?this._showSeriesItemTooltip(r,l,n):u?this._showComponentItemTooltip(r,u,n):this._hide(n)}else this._lastDataByCoordSys=null,this._hide(n)}},t.prototype._showOrMove=function(r,n){var i=r.get("showDelay");n=rt(n,this),clearTimeout(this._showTimout),i>0?this._showTimout=setTimeout(n,i):n()},t.prototype._showAxisTooltip=function(r,n){var i=this._ecModel,a=this._tooltipModel,s=[n.offsetX,n.offsetY],o=ug([n.tooltipOption],a),l=this._renderMode,u=[],c=jn("section",{blocks:[],noHeader:!0}),h=[],f=new uE;q(r,function(S){q(S.dataByAxis,function(w){var k=i.getComponent(w.axisDim+"Axis",w.axisIndex),M=w.value;if(!(!k||M==null)){var I=aee(M,k.axis,i,w.seriesDataIndices,w.valueLabelOpt),L=jn("section",{header:I,noHeader:!ts(I),sortBlocks:!0,blocks:[]});c.blocks.push(L),q(w.seriesDataIndices,function(N){var z=i.getSeriesByIndex(N.seriesIndex),B=N.dataIndexInside,H=z.getDataParams(B);if(!(H.dataIndex<0)){H.axisDim=w.axisDim,H.axisIndex=w.axisIndex,H.axisType=w.axisType,H.axisId=w.axisId,H.axisValue=CP(k.axis,{value:M}),H.axisValueLabel=I,H.marker=f.makeTooltipMarker("item",Jh(H.color),l);var G=s8(z.formatTooltip(B,!0,null)),$=G.frag;if($){var W=ug([z],a).get("valueFormatter");L.blocks.push(W?Ne({valueFormatter:W},$):$)}G.text&&h.push(G.text),u.push(H)}})}})}),c.blocks.reverse(),h.reverse();var d=n.position,v=o.get("order"),m=f8(c,f,l,v,i.get("useUTC"),o.get("textStyle"));m&&h.unshift(m);var y=l==="richText"?`

`:"<br/>",b=h.join(y);this._showOrMove(o,function(){this._updateContentNotChangedOnAxis(r,u)?this._updatePosition(o,d,s[0],s[1],this._tooltipContent,u):this._showTooltipContent(o,b,u,Math.random()+"",s[0],s[1],d,null,f)})},t.prototype._showSeriesItemTooltip=function(r,n,i){var a=this._ecModel,s=It(n),o=s.seriesIndex,l=a.getSeriesByIndex(o),u=s.dataModel||l,c=s.dataIndex,h=s.dataType,f=u.getData(h),d=this._renderMode,v=r.positionDefault,m=ug([f.getItemModel(c),u,l&&(l.coordinateSystem||{}).model],this._tooltipModel,v?{position:v}:null),y=m.get("trigger");if(!(y!=null&&y!=="item")){var b=u.getDataParams(c,h),S=new uE;b.marker=S.makeTooltipMarker("item",Jh(b.color),d);var w=s8(u.formatTooltip(c,!1,h)),k=m.get("order"),M=m.get("valueFormatter"),I=w.frag,L=I?f8(M?Ne({valueFormatter:M},I):I,S,d,k,a.get("useUTC"),m.get("textStyle")):w.text,N="item_"+u.name+"_"+c;this._showOrMove(m,function(){this._showTooltipContent(m,L,b,N,r.offsetX,r.offsetY,r.position,r.target,S)}),i({type:"showTip",dataIndexInside:c,dataIndex:f.getRawIndex(c),seriesIndex:o,from:this.uid})}},t.prototype._showComponentItemTooltip=function(r,n,i){var a=this._renderMode==="html",s=It(n),o=s.tooltipConfig,l=o.option||{},u=l.encodeHTMLContent;if(Je(l)){var c=l;l={content:c,formatter:c},u=!0}u&&a&&l.content&&(l=_t(l),l.content=gi(l.content));var h=[l],f=this._ecModel.getComponent(s.componentMainType,s.componentIndex);f&&h.push(f),h.push({formatter:l.content});var d=r.positionDefault,v=ug(h,this._tooltipModel,d?{position:d}:null),m=v.get("content"),y=Math.random()+"",b=new uE;this._showOrMove(v,function(){var S=_t(v.get("formatterParams")||{});this._showTooltipContent(v,m,S,y,r.offsetX,r.offsetY,r.position,n,b)}),i({type:"showTip",from:this.uid})},t.prototype._showTooltipContent=function(r,n,i,a,s,o,l,u,c){if(this._ticket="",!(!r.get("showContent")||!r.get("show"))){var h=this._tooltipContent;h.setEnterable(r.get("enterable"));var f=r.get("formatter");l=l||r.get("position");var d=n,v=this._getNearestPoint([s,o],i,r.get("trigger"),r.get("borderColor")),m=v.color;if(f)if(Je(f)){var y=r.ecModel.get("useUTC"),b=Oe(i)?i[0]:i,S=b&&b.axisType&&b.axisType.indexOf("time")>=0;d=f,S&&(d=ey(b.axisValue,d,y)),d=JN(d,i,!0)}else if(vt(f)){var w=rt(function(k,M){k===this._ticket&&(h.setContent(M,c,r,m,l),this._updatePosition(r,l,s,o,h,i,u))},this);this._ticket=a,d=f(i,a,w)}else d=f;h.setContent(d,c,r,m,l),h.show(r,m),this._updatePosition(r,l,s,o,h,i,u)}},t.prototype._getNearestPoint=function(r,n,i,a){if(i==="axis"||Oe(n))return{color:a||(this._renderMode==="html"?"#fff":"none")};if(!Oe(n))return{color:a||n.color||n.borderColor}},t.prototype._updatePosition=function(r,n,i,a,s,o,l){var u=this._api.getWidth(),c=this._api.getHeight();n=n||r.get("position");var h=s.getSize(),f=r.get("align"),d=r.get("verticalAlign"),v=l&&l.getBoundingRect().clone();if(l&&v.applyTransform(l.transform),vt(n)&&(n=n([i,a],o,s.el,v,{viewSize:[u,c],contentSize:h.slice()})),Oe(n))i=Ze(n[0],u),a=Ze(n[1],c);else if(St(n)){var m=n;m.width=h[0],m.height=h[1];var y=Sn(m,{width:u,height:c});i=y.x,a=y.y,f=null,d=null}else if(Je(n)&&l){var b=gBe(n,v,h,r.get("borderWidth"));i=b[0],a=b[1]}else{var b=pBe(i,a,s,u,c,f?null:20,d?null:20);i=b[0],a=b[1]}if(f&&(i-=bH(f)?h[0]/2:f==="right"?h[0]:0),d&&(a-=bH(d)?h[1]/2:d==="bottom"?h[1]:0),See(r)){var b=vBe(i,a,s,u,c);i=b[0],a=b[1]}s.moveTo(i,a)},t.prototype._updateContentNotChangedOnAxis=function(r,n){var i=this._lastDataByCoordSys,a=this._cbParamsList,s=!!i&&i.length===r.length;return s&&q(i,function(o,l){var u=o.dataByAxis||[],c=r[l]||{},h=c.dataByAxis||[];s=s&&u.length===h.length,s&&q(u,function(f,d){var v=h[d]||{},m=f.seriesDataIndices||[],y=v.seriesDataIndices||[];s=s&&f.value===v.value&&f.axisType===v.axisType&&f.axisId===v.axisId&&m.length===y.length,s&&q(m,function(b,S){var w=y[S];s=s&&b.seriesIndex===w.seriesIndex&&b.dataIndex===w.dataIndex}),a&&q(f.seriesDataIndices,function(b){var S=b.seriesIndex,w=n[S],k=a[S];w&&k&&k.data!==w.data&&(s=!1)})})}),this._lastDataByCoordSys=r,this._cbParamsList=n,!!s},t.prototype._hide=function(r){this._lastDataByCoordSys=null,r({type:"hideTip",from:this.uid})},t.prototype.dispose=function(r,n){Xt.node||!n.getDom()||(o0(this,"_updatePosition"),this._tooltipContent.dispose(),KD("itemTooltip",n))},t.type="tooltip",t}(Nr);function ug(e,t,r){var n=t.ecModel,i;r?(i=new ur(r,n,n),i=new ur(t.option,i,n)):i=t;for(var a=e.length-1;a>=0;a--){var s=e[a];s&&(s instanceof ur&&(s=s.get("tooltip",!0)),Je(s)&&(s={formatter:s}),s&&(i=new ur(s,i,n)))}return i}function xH(e,t){return e.dispatchAction||rt(t.dispatchAction,t)}function pBe(e,t,r,n,i,a,s){var o=r.getSize(),l=o[0],u=o[1];return a!=null&&(e+l+a+2>n?e-=l+a:e+=a),s!=null&&(t+u+s>i?t-=u+s:t+=s),[e,t]}function vBe(e,t,r,n,i){var a=r.getSize(),s=a[0],o=a[1];return e=Math.min(e+s,n)-s,t=Math.min(t+o,i)-o,e=Math.max(e,0),t=Math.max(t,0),[e,t]}function gBe(e,t,r,n){var i=r[0],a=r[1],s=Math.ceil(Math.SQRT2*n)+8,o=0,l=0,u=t.width,c=t.height;switch(e){case"inside":o=t.x+u/2-i/2,l=t.y+c/2-a/2;break;case"top":o=t.x+u/2-i/2,l=t.y-a-s;break;case"bottom":o=t.x+u/2-i/2,l=t.y+c+s;break;case"left":o=t.x-i-s,l=t.y+c/2-a/2;break;case"right":o=t.x+u+s,l=t.y+c/2-a/2}return[o,l]}function bH(e){return e==="center"||e==="middle"}function mBe(e,t,r){var n=IN(e).queryOptionMap,i=n.keys()[0];if(!(!i||i==="series")){var a=X0(t,i,n.get(i),{useDefault:!1,enableAll:!1,enableNone:!1}),s=a.models[0];if(s){var o=r.getViewOfComponentModel(s),l;if(o.group.traverse(function(u){var c=It(u).tooltipConfig;if(c&&c.name===e.name)return l=u,!0}),l)return{componentMainType:i,componentIndex:s.componentIndex,el:l}}}}function yBe(e){Wt(hy),e.registerComponentModel(eBe),e.registerComponentView(dBe),e.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},ln),e.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},ln)}var xBe=["rect","polygon","keep","clear"];function bBe(e,t){var r=Tr(e?e.brush:[]);if(r.length){var n=[];q(r,function(l){var u=l.hasOwnProperty("toolbox")?l.toolbox:[];u instanceof Array&&(n=n.concat(u))});var i=e&&e.toolbox;Oe(i)&&(i=i[0]),i||(i={feature:{}},e.toolbox=[i]);var a=i.feature||(i.feature={}),s=a.brush||(a.brush={}),o=s.type||(s.type=[]);o.push.apply(o,n),SBe(o),t&&!o.length&&o.push.apply(o,xBe)}}function SBe(e){var t={};q(e,function(r){t[r]=1}),e.length=0,q(t,function(r,n){e.push(n)})}var SH=q;function _H(e){if(e){for(var t in e)if(e.hasOwnProperty(t))return!0}}function rM(e,t,r){var n={};return SH(t,function(a){var s=n[a]=i();SH(e[a],function(o,l){if(Fn.isValidType(l)){var u={type:l,visual:o};r&&r(u,a),s[l]=new Fn(u),l==="opacity"&&(u=_t(u),u.type="colorAlpha",s.__hidden.__alphaForOpacity=new Fn(u))}})}),n;function i(){var a=function(){};a.prototype.__hidden=a.prototype;var s=new a;return s}}function Cee(e,t,r){var n;q(r,function(i){t.hasOwnProperty(i)&&_H(t[i])&&(n=!0)}),n&&q(r,function(i){t.hasOwnProperty(i)&&_H(t[i])?e[i]=_t(t[i]):delete e[i]})}function _Be(e,t,r,n,i,a){var s={};q(e,function(h){var f=Fn.prepareVisualTypes(t[h]);s[h]=f});var o;function l(h){return uP(r,o,h)}function u(h,f){UK(r,o,h,f)}r.each(c);function c(h,f){o=h;var d=r.getRawDataItem(o);if(!(d&&d.visualMap===!1))for(var v=n.call(i,h),m=t[v],y=s[v],b=0,S=y.length;b<S;b++){var w=y[b];m[w]&&m[w].applyVisual(h,l,u)}}}function wBe(e,t,r,n){var i={};return q(e,function(a){var s=Fn.prepareVisualTypes(t[a]);i[a]=s}),{progress:function(s,o){var l;n!=null&&(l=o.getDimensionIndex(n));function u(M){return uP(o,h,M)}function c(M,I){UK(o,h,M,I)}for(var h,f=o.getStore();(h=s.next())!=null;){var d=o.getRawDataItem(h);if(!(d&&d.visualMap===!1))for(var v=n!=null?f.get(l,h):h,m=r(v),y=t[m],b=i[m],S=0,w=b.length;S<w;S++){var k=b[S];y[k]&&y[k].applyVisual(v,u,c)}}}}}function TBe(e){var t=e.brushType,r={point:function(n){return wH[t].point(n,r,e)},rect:function(n){return wH[t].rect(n,r,e)}};return r}var wH={lineX:TH(0),lineY:TH(1),rect:{point:function(e,t,r){return e&&r.boundingRect.contain(e[0],e[1])},rect:function(e,t,r){return e&&r.boundingRect.intersect(e)}},polygon:{point:function(e,t,r){return e&&r.boundingRect.contain(e[0],e[1])&&oh(r.range,e[0],e[1])},rect:function(e,t,r){var n=r.range;if(!e||n.length<=1)return!1;var i=e.x,a=e.y,s=e.width,o=e.height,l=n[0];if(oh(n,i,a)||oh(n,i+s,a)||oh(n,i,a+o)||oh(n,i+s,a+o)||jt.create(e).contain(l[0],l[1])||Cg(i,a,i+s,a,n)||Cg(i,a,i,a+o,n)||Cg(i+s,a,i+s,a+o,n)||Cg(i,a+o,i+s,a+o,n))return!0}}};function TH(e){var t=["x","y"],r=["width","height"];return{point:function(n,i,a){if(n){var s=a.range,o=n[e];return cg(o,s)}},rect:function(n,i,a){if(n){var s=a.range,o=[n[t[e]],n[t[e]]+n[r[e]]];return o[1]<o[0]&&o.reverse(),cg(o[0],s)||cg(o[1],s)||cg(s[0],o)||cg(s[1],o)}}}}function cg(e,t){return t[0]<=e&&e<=t[1]}var CH=["inBrush","outOfBrush"],CA="__ecBrushSelect",nM="__ecInBrushSelectEvent";function Eee(e){e.eachComponent({mainType:"brush"},function(t){var r=t.brushTargetManager=new TR(t.option,e);r.setInputRanges(t.areas,e)})}function CBe(e,t,r){var n=[],i,a;e.eachComponent({mainType:"brush"},function(s){r&&r.type==="takeGlobalCursor"&&s.setBrushOption(r.key==="brush"?r.brushOption:{brushType:!1})}),Eee(e),e.eachComponent({mainType:"brush"},function(s,o){var l={brushId:s.id,brushIndex:o,brushName:s.name,areas:_t(s.areas),selected:[]};n.push(l);var u=s.option,c=u.brushLink,h=[],f=[],d=[],v=!1;o||(i=u.throttleType,a=u.throttleDelay);var m=Fe(s.areas,function(M){var I=IBe[M.brushType],L=yt({boundingRect:I?I(M):void 0},M);return L.selectors=TBe(L),L}),y=rM(s.option,CH,function(M){M.mappingMethod="fixed"});Oe(c)&&q(c,function(M){h[M]=1});function b(M){return c==="all"||!!h[M]}function S(M){return!!M.length}e.eachSeries(function(M,I){var L=d[I]=[];M.subType==="parallel"?w(M,I):k(M,I,L)});function w(M,I){var L=M.coordinateSystem;v=v||L.hasAxisBrushed(),b(I)&&L.eachActiveState(M.getData(),function(N,z){N==="active"&&(f[z]=1)})}function k(M,I,L){if(!(!M.brushSelector||kBe(s,I))&&(q(m,function(z){s.brushTargetManager.controlSeries(z,M,e)&&L.push(z),v=v||S(L)}),b(I)&&S(L))){var N=M.getData();N.each(function(z){EH(M,L,N,z)&&(f[z]=1)})}}e.eachSeries(function(M,I){var L={seriesId:M.id,seriesIndex:I,seriesName:M.name,dataIndex:[]};l.selected.push(L);var N=d[I],z=M.getData(),B=b(I)?function(H){return f[H]?(L.dataIndex.push(z.getRawIndex(H)),"inBrush"):"outOfBrush"}:function(H){return EH(M,N,z,H)?(L.dataIndex.push(z.getRawIndex(H)),"inBrush"):"outOfBrush"};(b(I)?v:S(N))&&_Be(CH,y,z,B)})}),EBe(t,i,a,n,r)}function EBe(e,t,r,n,i){if(i){var a=e.getZr();if(!a[nM]){a[CA]||(a[CA]=ABe);var s=Yp(a,CA,r,t);s(e,n)}}}function ABe(e,t){if(!e.isDisposed()){var r=e.getZr();r[nM]=!0,e.dispatchAction({type:"brushSelect",batch:t}),r[nM]=!1}}function EH(e,t,r,n){for(var i=0,a=t.length;i<a;i++){var s=t[i];if(e.brushSelector(n,r,s.selectors,s))return!0}}function kBe(e,t){var r=e.option.seriesIndex;return r!=null&&r!=="all"&&(Oe(r)?Ut(r,t)<0:t!==r)}var IBe={rect:function(e){return AH(e.range)},polygon:function(e){for(var t,r=e.range,n=0,i=r.length;n<i;n++){t=t||[[1/0,-1/0],[1/0,-1/0]];var a=r[n];a[0]<t[0][0]&&(t[0][0]=a[0]),a[0]>t[0][1]&&(t[0][1]=a[0]),a[1]<t[1][0]&&(t[1][0]=a[1]),a[1]>t[1][1]&&(t[1][1]=a[1])}return t&&AH(t)}};function AH(e){return new jt(e[0][0],e[1][0],e[0][1]-e[0][0],e[1][1]-e[1][0])}var DBe=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.init=function(r,n){this.ecModel=r,this.api=n,this.model,(this._brushController=new ZP(n.getZr())).on("brush",rt(this._onBrush,this)).mount()},t.prototype.render=function(r,n,i,a){this.model=r,this._updateController(r,n,i,a)},t.prototype.updateTransform=function(r,n,i,a){Eee(n),this._updateController(r,n,i,a)},t.prototype.updateVisual=function(r,n,i,a){this.updateTransform(r,n,i,a)},t.prototype.updateView=function(r,n,i,a){this._updateController(r,n,i,a)},t.prototype._updateController=function(r,n,i,a){(!a||a.$from!==r.id)&&this._brushController.setPanels(r.brushTargetManager.makePanelOpts(i)).enableBrush(r.brushOption).updateCovers(r.areas.slice())},t.prototype.dispose=function(){this._brushController.dispose()},t.prototype._onBrush=function(r){var n=this.model.id,i=this.model.brushTargetManager.setOutputRanges(r.areas,this.ecModel);(!r.isEnd||r.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:n,areas:_t(i),$from:n}),r.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:n,areas:_t(i),$from:n})},t.type="brush",t}(Nr),MBe="#ddd",LBe=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.areas=[],r.brushOption={},r}return t.prototype.optionUpdated=function(r,n){var i=this.option;!n&&Cee(i,r,["inBrush","outOfBrush"]);var a=i.inBrush=i.inBrush||{};i.outOfBrush=i.outOfBrush||{color:MBe},a.hasOwnProperty("liftZ")||(a.liftZ=5)},t.prototype.setAreas=function(r){r&&(this.areas=Fe(r,function(n){return kH(this.option,n)},this))},t.prototype.setBrushOption=function(r){this.brushOption=kH(this.option,r),this.brushType=this.brushOption.brushType},t.type="brush",t.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],t.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},t}(Yt);function kH(e,t){return Ot({brushType:e.brushType,brushMode:e.brushMode,transformable:e.transformable,brushStyle:new ur(e.brushStyle).getItemStyle(),removeOnClick:e.removeOnClick,z:e.z},t,!0)}var NBe=["rect","polygon","lineX","lineY","keep","clear"],PBe=function(e){_e(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.render=function(r,n,i){var a,s,o;n.eachComponent({mainType:"brush"},function(l){a=l.brushType,s=l.brushOption.brushMode||"single",o=o||!!l.areas.length}),this._brushType=a,this._brushMode=s,q(r.get("type",!0),function(l){r.setIconStatus(l,(l==="keep"?s==="multiple":l==="clear"?o:l===a)?"emphasis":"normal")})},t.prototype.updateView=function(r,n,i){this.render(r,n,i)},t.prototype.getIcons=function(){var r=this.model,n=r.get("icon",!0),i={};return q(r.get("type",!0),function(a){n[a]&&(i[a]=n[a])}),i},t.prototype.onclick=function(r,n,i){var a=this._brushType,s=this._brushMode;i==="clear"?(n.dispatchAction({type:"axisAreaSelect",intervals:[]}),n.dispatchAction({type:"brush",command:"clear",areas:[]})):n.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:i==="keep"?a:a===i?!1:i,brushMode:i==="keep"?s==="multiple"?"single":"multiple":s}})},t.getDefaultOption=function(r){var n={show:!0,type:NBe.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:r.getLocaleModel().get(["toolbox","brush","title"])};return n},t}(Za);function RBe(e){e.registerComponentView(DBe),e.registerComponentModel(LBe),e.registerPreprocessor(bBe),e.registerVisual(e.PRIORITY.VISUAL.BRUSH,CBe),e.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(t,r){r.eachComponent({mainType:"brush",query:t},function(n){n.setAreas(t.areas)})}),e.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},ln),e.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},ln),ld("brush",PBe)}var OBe=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.layoutMode={type:"box",ignoreSize:!0},r}return t.type="title",t.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},t}(Yt),BBe=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.render=function(r,n,i){if(this.group.removeAll(),!!r.get("show")){var a=this.group,s=r.getModel("textStyle"),o=r.getModel("subtextStyle"),l=r.get("textAlign"),u=Mt(r.get("textBaseline"),r.get("textVerticalAlign")),c=new Qt({style:Ir(s,{text:r.get("text"),fill:s.getTextColor()},{disableBox:!0}),z2:10}),h=c.getBoundingRect(),f=r.get("subtext"),d=new Qt({style:Ir(o,{text:f,fill:o.getTextColor(),y:h.height+r.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),v=r.get("link"),m=r.get("sublink"),y=r.get("triggerEvent",!0);c.silent=!v&&!y,d.silent=!m&&!y,v&&c.on("click",function(){MS(v,"_"+r.get("target"))}),m&&d.on("click",function(){MS(m,"_"+r.get("subtarget"))}),It(c).eventData=It(d).eventData=y?{componentType:"title",componentIndex:r.componentIndex}:null,a.add(c),f&&a.add(d);var b=a.getBoundingRect(),S=r.getBoxLayoutParams();S.width=b.width,S.height=b.height;var w=Sn(S,{width:i.getWidth(),height:i.getHeight()},r.get("padding"));l||(l=r.get("left")||r.get("right"),l==="middle"&&(l="center"),l==="right"?w.x+=w.width:l==="center"&&(w.x+=w.width/2)),u||(u=r.get("top")||r.get("bottom"),u==="center"&&(u="middle"),u==="bottom"?w.y+=w.height:u==="middle"&&(w.y+=w.height/2),u=u||"top"),a.x=w.x,a.y=w.y,a.markRedraw();var k={align:l,verticalAlign:u};c.setStyle(k),d.setStyle(k),b=a.getBoundingRect();var M=w.margin,I=r.getItemStyle(["color","opacity"]);I.fill=r.get("backgroundColor");var L=new Jt({shape:{x:b.x-M[3],y:b.y-M[0],width:b.width+M[1]+M[3],height:b.height+M[0]+M[2],r:r.get("borderRadius")},style:I,subPixelOptimize:!0,silent:!0});a.add(L)}},t.type="title",t}(Nr);function FBe(e){e.registerComponentModel(OBe),e.registerComponentView(BBe)}var IH=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.layoutMode="box",r}return t.prototype.init=function(r,n,i){this.mergeDefaultAndTheme(r,i),this._initData()},t.prototype.mergeOption=function(r){e.prototype.mergeOption.apply(this,arguments),this._initData()},t.prototype.setCurrentIndex=function(r){r==null&&(r=this.option.currentIndex);var n=this._data.count();this.option.loop?r=(r%n+n)%n:(r>=n&&(r=n-1),r<0&&(r=0)),this.option.currentIndex=r},t.prototype.getCurrentIndex=function(){return this.option.currentIndex},t.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},t.prototype.setPlayState=function(r){this.option.autoPlay=!!r},t.prototype.getPlayState=function(){return!!this.option.autoPlay},t.prototype._initData=function(){var r=this.option,n=r.data||[],i=r.axisType,a=this._names=[],s;i==="category"?(s=[],q(n,function(u,c){var h=En(Pp(u),""),f;St(u)?(f=_t(u),f.value=c):f=c,s.push(f),a.push(h)})):s=n;var o={category:"ordinal",time:"time",value:"number"}[i]||"number",l=this._data=new xi([{name:"value",type:o}],this);l.initData(s,a)},t.prototype.getData=function(){return this._data},t.prototype.getCategories=function(){if(this.get("axisType")==="category")return this._names.slice()},t.type="timeline",t.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},t}(Yt),Aee=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.type="timeline.slider",t.defaultOption=fc(IH.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),t}(IH);cn(Aee,Mw.prototype);var zBe=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.type="timeline",t}(Nr),jBe=function(e){_e(t,e);function t(r,n,i,a){var s=e.call(this,r,n,i)||this;return s.type=a||"value",s}return t.prototype.getLabelModel=function(){return this.model.getModel("label")},t.prototype.isHorizontal=function(){return this.model.get("orient")==="horizontal"},t}(ps),EA=Math.PI,DH=tr(),HBe=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.init=function(r,n){this.api=n},t.prototype.render=function(r,n,i){if(this.model=r,this.api=i,this.ecModel=n,this.group.removeAll(),r.get("show",!0)){var a=this._layout(r,i),s=this._createGroup("_mainGroup"),o=this._createGroup("_labelGroup"),l=this._axis=this._createAxis(a,r);r.formatTooltip=function(u){var c=l.scale.getLabel({value:u});return jn("nameValue",{noName:!0,value:c})},q(["AxisLine","AxisTick","Control","CurrentPointer"],function(u){this["_render"+u](a,s,l,r)},this),this._renderAxisLabel(a,o,l,r),this._position(a,r)}this._doPlayStop(),this._updateTicksStatus()},t.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},t.prototype.dispose=function(){this._clearTimer()},t.prototype._layout=function(r,n){var i=r.get(["label","position"]),a=r.get("orient"),s=UBe(r,n),o;i==null||i==="auto"?o=a==="horizontal"?s.y+s.height/2<n.getHeight()/2?"-":"+":s.x+s.width/2<n.getWidth()/2?"+":"-":Je(i)?o={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[a][i]:o=i;var l={horizontal:"center",vertical:o>=0||o==="+"?"left":"right"},u={horizontal:o>=0||o==="+"?"top":"bottom",vertical:"middle"},c={horizontal:0,vertical:EA/2},h=a==="vertical"?s.height:s.width,f=r.getModel("controlStyle"),d=f.get("show",!0),v=d?f.get("itemSize"):0,m=d?f.get("itemGap"):0,y=v+m,b=r.get(["label","rotate"])||0;b=b*EA/180;var S,w,k,M=f.get("position",!0),I=d&&f.get("showPlayBtn",!0),L=d&&f.get("showPrevBtn",!0),N=d&&f.get("showNextBtn",!0),z=0,B=h;M==="left"||M==="bottom"?(I&&(S=[0,0],z+=y),L&&(w=[z,0],z+=y),N&&(k=[B-v,0],B-=y)):(I&&(S=[B-v,0],B-=y),L&&(w=[0,0],z+=y),N&&(k=[B-v,0],B-=y));var H=[z,B];return r.get("inverse")&&H.reverse(),{viewRect:s,mainLength:h,orient:a,rotation:c[a],labelRotation:b,labelPosOpt:o,labelAlign:r.get(["label","align"])||l[a],labelBaseline:r.get(["label","verticalAlign"])||r.get(["label","baseline"])||u[a],playPosition:S,prevBtnPosition:w,nextBtnPosition:k,axisExtent:H,controlSize:v,controlGap:m}},t.prototype._position=function(r,n){var i=this._mainGroup,a=this._labelGroup,s=r.viewRect;if(r.orient==="vertical"){var o=ua(),l=s.x,u=s.y+s.height;Vs(o,o,[-l,-u]),cc(o,o,-EA/2),Vs(o,o,[l,u]),s=s.clone(),s.applyTransform(o)}var c=S(s),h=S(i.getBoundingRect()),f=S(a.getBoundingRect()),d=[i.x,i.y],v=[a.x,a.y];v[0]=d[0]=c[0][0];var m=r.labelPosOpt;if(m==null||Je(m)){var y=m==="+"?0:1;w(d,h,c,1,y),w(v,f,c,1,1-y)}else{var y=m>=0?0:1;w(d,h,c,1,y),v[1]=d[1]+m}i.setPosition(d),a.setPosition(v),i.rotation=a.rotation=r.rotation,b(i),b(a);function b(k){k.originX=c[0][0]-k.x,k.originY=c[1][0]-k.y}function S(k){return[[k.x,k.x+k.width],[k.y,k.y+k.height]]}function w(k,M,I,L,N){k[L]+=I[L][N]-M[L][N]}},t.prototype._createAxis=function(r,n){var i=n.getData(),a=n.get("axisType"),s=VBe(n,a);s.getTicks=function(){return i.mapArray(["value"],function(u){return{value:u}})};var o=i.getDataExtent("value");s.setExtent(o[0],o[1]),s.calcNiceTicks();var l=new jBe("value",s,r.axisExtent,a);return l.model=n,l},t.prototype._createGroup=function(r){var n=this[r]=new Ct;return this.group.add(n),n},t.prototype._renderAxisLine=function(r,n,i,a){var s=i.getExtent();if(a.get(["lineStyle","show"])){var o=new An({shape:{x1:s[0],y1:0,x2:s[1],y2:0},style:Ne({lineCap:"round"},a.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});n.add(o);var l=this._progressLine=new An({shape:{x1:s[0],x2:this._currentPointer?this._currentPointer.x:s[0],y1:0,y2:0},style:yt({lineCap:"round",lineWidth:o.style.lineWidth},a.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});n.add(l)}},t.prototype._renderAxisTick=function(r,n,i,a){var s=this,o=a.getData(),l=i.scale.getTicks();this._tickSymbols=[],q(l,function(u){var c=i.dataToCoord(u.value),h=o.getItemModel(u.value),f=h.getModel("itemStyle"),d=h.getModel(["emphasis","itemStyle"]),v=h.getModel(["progress","itemStyle"]),m={x:c,y:0,onclick:rt(s._changeTimeline,s,u.value)},y=MH(h,f,n,m);y.ensureState("emphasis").style=d.getItemStyle(),y.ensureState("progress").style=v.getItemStyle(),Hu(y);var b=It(y);h.get("tooltip")?(b.dataIndex=u.value,b.dataModel=a):b.dataIndex=b.dataModel=null,s._tickSymbols.push(y)})},t.prototype._renderAxisLabel=function(r,n,i,a){var s=this,o=i.getLabelModel();if(o.get("show")){var l=a.getData(),u=i.getViewLabels();this._tickLabels=[],q(u,function(c){var h=c.tickValue,f=l.getItemModel(h),d=f.getModel("label"),v=f.getModel(["emphasis","label"]),m=f.getModel(["progress","label"]),y=i.dataToCoord(c.tickValue),b=new Qt({x:y,y:0,rotation:r.labelRotation-r.rotation,onclick:rt(s._changeTimeline,s,h),silent:!1,style:Ir(d,{text:c.formattedLabel,align:r.labelAlign,verticalAlign:r.labelBaseline})});b.ensureState("emphasis").style=Ir(v),b.ensureState("progress").style=Ir(m),n.add(b),Hu(b),DH(b).dataIndex=h,s._tickLabels.push(b)})}},t.prototype._renderControl=function(r,n,i,a){var s=r.controlSize,o=r.rotation,l=a.getModel("controlStyle").getItemStyle(),u=a.getModel(["emphasis","controlStyle"]).getItemStyle(),c=a.getPlayState(),h=a.get("inverse",!0);f(r.nextBtnPosition,"next",rt(this._changeTimeline,this,h?"-":"+")),f(r.prevBtnPosition,"prev",rt(this._changeTimeline,this,h?"+":"-")),f(r.playPosition,c?"stop":"play",rt(this._handlePlayClick,this,!c),!0);function f(d,v,m,y){if(d){var b=Us(Mt(a.get(["controlStyle",v+"BtnSize"]),s),s),S=[0,-b/2,b,b],w=GBe(a,v+"Icon",S,{x:d[0],y:d[1],originX:s/2,originY:0,rotation:y?-o:0,rectHover:!0,style:l,onclick:m});w.ensureState("emphasis").style=u,n.add(w),Hu(w)}}},t.prototype._renderCurrentPointer=function(r,n,i,a){var s=a.getData(),o=a.getCurrentIndex(),l=s.getItemModel(o).getModel("checkpointStyle"),u=this,c={onCreate:function(h){h.draggable=!0,h.drift=rt(u._handlePointerDrag,u),h.ondragend=rt(u._handlePointerDragend,u),LH(h,u._progressLine,o,i,a,!0)},onUpdate:function(h){LH(h,u._progressLine,o,i,a)}};this._currentPointer=MH(l,l,this._mainGroup,{},this._currentPointer,c)},t.prototype._handlePlayClick=function(r){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:r,from:this.uid})},t.prototype._handlePointerDrag=function(r,n,i){this._clearTimer(),this._pointerChangeTimeline([i.offsetX,i.offsetY])},t.prototype._handlePointerDragend=function(r){this._pointerChangeTimeline([r.offsetX,r.offsetY],!0)},t.prototype._pointerChangeTimeline=function(r,n){var i=this._toAxisCoord(r)[0],a=this._axis,s=Sa(a.getExtent().slice());i>s[1]&&(i=s[1]),i<s[0]&&(i=s[0]),this._currentPointer.x=i,this._currentPointer.markRedraw();var o=this._progressLine;o&&(o.shape.x2=i,o.dirty());var l=this._findNearestTick(i),u=this.model;(n||l!==u.getCurrentIndex()&&u.get("realtime"))&&this._changeTimeline(l)},t.prototype._doPlayStop=function(){var r=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var n=r.model;r._changeTimeline(n.getCurrentIndex()+(n.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},t.prototype._toAxisCoord=function(r){var n=this._mainGroup.getLocalTransform();return zs(r,n,!0)},t.prototype._findNearestTick=function(r){var n=this.model.getData(),i=1/0,a,s=this._axis;return n.each(["value"],function(o,l){var u=s.dataToCoord(o),c=Math.abs(u-r);c<i&&(i=c,a=l)}),a},t.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},t.prototype._changeTimeline=function(r){var n=this.model.getCurrentIndex();r==="+"?r=n+1:r==="-"&&(r=n-1),this.api.dispatchAction({type:"timelineChange",currentIndex:r,from:this.uid})},t.prototype._updateTicksStatus=function(){var r=this.model.getCurrentIndex(),n=this._tickSymbols,i=this._tickLabels;if(n)for(var a=0;a<n.length;a++)n&&n[a]&&n[a].toggleState("progress",a<r);if(i)for(var a=0;a<i.length;a++)i&&i[a]&&i[a].toggleState("progress",DH(i[a]).dataIndex<=r)},t.type="timeline.slider",t}(zBe);function VBe(e,t){if(t=t||e.get("type"),t)switch(t){case"category":return new zw({ordinalMeta:e.getCategories(),extent:[1/0,-1/0]});case"time":return new wP({locale:e.ecModel.getLocaleModel(),useUTC:e.ecModel.get("useUTC")});default:return new kl}}function UBe(e,t){return Sn(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()},e.get("padding"))}function GBe(e,t,r,n){var i=n.style,a=jp(e.get(["controlStyle",t]),n||{},new jt(r[0],r[1],r[2],r[3]));return i&&a.setStyle(i),a}function MH(e,t,r,n,i,a){var s=t.get("color");if(i)i.setColor(s),r.add(i),a&&a.onUpdate(i);else{var o=e.get("symbol");i=dn(o,-1,-1,2,2,s),i.setStyle("strokeNoScale",!0),r.add(i),a&&a.onCreate(i)}var l=t.getItemStyle(["color"]);i.setStyle(l),n=Ot({rectHover:!0,z2:100},n,!0);var u=Xp(e.get("symbolSize"));n.scaleX=u[0]/2,n.scaleY=u[1]/2;var c=df(e.get("symbolOffset"),u);c&&(n.x=(n.x||0)+c[0],n.y=(n.y||0)+c[1]);var h=e.get("symbolRotate");return n.rotation=(h||0)*Math.PI/180||0,i.attr(n),i.updateTransform(),i}function LH(e,t,r,n,i,a){if(!e.dragging){var s=i.getModel("checkpointStyle"),o=n.dataToCoord(i.getData().get("value",r));if(a||!s.get("animation",!0))e.attr({x:o,y:0}),t&&t.attr({shape:{x2:o}});else{var l={duration:s.get("animationDuration",!0),easing:s.get("animationEasing",!0)};e.stopAnimation(null,!0),e.animateTo({x:o,y:0},l),t&&t.animateTo({shape:{x2:o}},l)}}}function WBe(e){e.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(t,r,n){var i=r.getComponent("timeline");return i&&t.currentIndex!=null&&(i.setCurrentIndex(t.currentIndex),!i.get("loop",!0)&&i.isIndexMax()&&i.getPlayState()&&(i.setPlayState(!1),n.dispatchAction({type:"timelinePlayChange",playState:!1,from:t.from}))),r.resetOption("timeline",{replaceMerge:i.get("replaceMerge",!0)}),yt({currentIndex:i.option.currentIndex},t)}),e.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(t,r){var n=r.getComponent("timeline");n&&t.playState!=null&&n.setPlayState(t.playState)})}function $Be(e){var t=e&&e.timeline;Oe(t)||(t=t?[t]:[]),q(t,function(r){r&&YBe(r)})}function YBe(e){var t=e.type,r={number:"value",time:"time"};if(r[t]&&(e.axisType=r[t],delete e.type),NH(e),ch(e,"controlPosition")){var n=e.controlStyle||(e.controlStyle={});ch(n,"position")||(n.position=e.controlPosition),n.position==="none"&&!ch(n,"show")&&(n.show=!1,delete n.position),delete e.controlPosition}q(e.data||[],function(i){St(i)&&!Oe(i)&&(!ch(i,"value")&&ch(i,"name")&&(i.value=i.name),NH(i))})}function NH(e){var t=e.itemStyle||(e.itemStyle={}),r=t.emphasis||(t.emphasis={}),n=e.label||e.label||{},i=n.normal||(n.normal={}),a={normal:1,emphasis:1};q(n,function(s,o){!a[o]&&!ch(i,o)&&(i[o]=s)}),r.label&&!ch(n,"emphasis")&&(n.emphasis=r.label,delete r.label)}function ch(e,t){return e.hasOwnProperty(t)}function XBe(e){e.registerComponentModel(Aee),e.registerComponentView(HBe),e.registerSubTypeDefaulter("timeline",function(){return"slider"}),WBe(e),e.registerPreprocessor($Be)}function AR(e,t){if(!e)return!1;for(var r=Oe(e)?e:[e],n=0;n<r.length;n++)if(r[n]&&r[n][t])return!0;return!1}function Px(e){qh(e,"label",["show"])}var Rx=tr(),Dl=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.createdBySelf=!1,r}return t.prototype.init=function(r,n,i){this.mergeDefaultAndTheme(r,i),this._mergeOption(r,i,!1,!0)},t.prototype.isAnimationEnabled=function(){if(Xt.node)return!1;var r=this.__hostSeries;return this.getShallow("animation")&&r&&r.isAnimationEnabled()},t.prototype.mergeOption=function(r,n){this._mergeOption(r,n,!1,!1)},t.prototype._mergeOption=function(r,n,i,a){var s=this.mainType;i||n.eachSeries(function(o){var l=o.get(this.mainType,!0),u=Rx(o)[s];if(!l||!l.data){Rx(o)[s]=null;return}u?u._mergeOption(l,n,!0):(a&&Px(l),q(l.data,function(c){c instanceof Array?(Px(c[0]),Px(c[1])):Px(c)}),u=this.createMarkerModelFromSeries(l,this,n),Ne(u,{mainType:this.mainType,seriesIndex:o.seriesIndex,name:o.name,createdBySelf:!0}),u.__hostSeries=o),Rx(o)[s]=u},this)},t.prototype.formatTooltip=function(r,n,i){var a=this.getData(),s=this.getRawValue(r),o=a.getName(r);return jn("section",{header:this.name,blocks:[jn("nameValue",{name:o,value:s,noName:!o,noValue:s==null})]})},t.prototype.getData=function(){return this._data},t.prototype.setData=function(r){this._data=r},t.prototype.getDataParams=function(r,n){var i=Mw.prototype.getDataParams.call(this,r,n),a=this.__hostSeries;return a&&(i.seriesId=a.id,i.seriesName=a.name,i.seriesType=a.subType),i},t.getMarkerModelFromSeries=function(r,n){return Rx(r)[n]},t.type="marker",t.dependencies=["series","grid","polar","geo"],t}(Yt);cn(Dl,Mw.prototype);var qBe=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.createMarkerModelFromSeries=function(r,n,i){return new t(r,n,i)},t.type="markPoint",t.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},t}(Dl);function iM(e){return!(isNaN(parseFloat(e.x))&&isNaN(parseFloat(e.y)))}function KBe(e){return!isNaN(parseFloat(e.x))&&!isNaN(parseFloat(e.y))}function Ox(e,t,r,n,i,a){var s=[],o=Al(t,n),l=o?t.getCalculationInfo("stackResultDimension"):n,u=kR(t,l,e),c=t.indicesOfNearest(l,u)[0];s[i]=t.get(r,c),s[a]=t.get(l,c);var h=t.get(n,c),f=Ms(t.get(n,c));return f=Math.min(f,20),f>=0&&(s[a]=+s[a].toFixed(f)),[s,h]}var AA={min:Lt(Ox,"min"),max:Lt(Ox,"max"),average:Lt(Ox,"average"),median:Lt(Ox,"median")};function S0(e,t){if(t){var r=e.getData(),n=e.coordinateSystem,i=n&&n.dimensions;if(!KBe(t)&&!Oe(t.coord)&&Oe(i)){var a=kee(t,r,n,e);if(t=_t(t),t.type&&AA[t.type]&&a.baseAxis&&a.valueAxis){var s=Ut(i,a.baseAxis.dim),o=Ut(i,a.valueAxis.dim),l=AA[t.type](r,a.baseDataDim,a.valueDataDim,s,o);t.coord=l[0],t.value=l[1]}else t.coord=[t.xAxis!=null?t.xAxis:t.radiusAxis,t.yAxis!=null?t.yAxis:t.angleAxis]}if(t.coord==null||!Oe(i))t.coord=[];else for(var u=t.coord,c=0;c<2;c++)AA[u[c]]&&(u[c]=kR(r,r.mapDimension(i[c]),u[c]));return t}}function kee(e,t,r,n){var i={};return e.valueIndex!=null||e.valueDim!=null?(i.valueDataDim=e.valueIndex!=null?t.getDimension(e.valueIndex):e.valueDim,i.valueAxis=r.getAxis(ZBe(n,i.valueDataDim)),i.baseAxis=r.getOtherAxis(i.valueAxis),i.baseDataDim=t.mapDimension(i.baseAxis.dim)):(i.baseAxis=n.getBaseAxis(),i.valueAxis=r.getOtherAxis(i.baseAxis),i.baseDataDim=t.mapDimension(i.baseAxis.dim),i.valueDataDim=t.mapDimension(i.valueAxis.dim)),i}function ZBe(e,t){var r=e.getData().getDimensionInfo(t);return r&&r.coordDim}function _0(e,t){return e&&e.containData&&t.coord&&!iM(t)?e.containData(t.coord):!0}function QBe(e,t,r){return e&&e.containZone&&t.coord&&r.coord&&!iM(t)&&!iM(r)?e.containZone(t.coord,r.coord):!0}function Iee(e,t){return e?function(r,n,i,a){var s=a<2?r.coord&&r.coord[a]:r.value;return Gu(s,t[a])}:function(r,n,i,a){return Gu(r.value,t[a])}}function kR(e,t,r){if(r==="average"){var n=0,i=0;return e.each(t,function(a,s){isNaN(a)||(n+=a,i++)}),n/i}else return r==="median"?e.getMedian(t):e.getDataExtent(t)[r==="max"?1:0]}var kA=tr(),IR=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.init=function(){this.markerGroupMap=ct()},t.prototype.render=function(r,n,i){var a=this,s=this.markerGroupMap;s.each(function(o){kA(o).keep=!1}),n.eachSeries(function(o){var l=Dl.getMarkerModelFromSeries(o,a.type);l&&a.renderSeries(o,l,n,i)}),s.each(function(o){!kA(o).keep&&a.group.remove(o.group)})},t.prototype.markKeep=function(r){kA(r).keep=!0},t.prototype.toggleBlurSeries=function(r,n){var i=this;q(r,function(a){var s=Dl.getMarkerModelFromSeries(a,i.type);if(s){var o=s.getData();o.eachItemGraphicEl(function(l){l&&(n?bq(l):ON(l))})}})},t.type="marker",t}(Nr);function PH(e,t,r){var n=t.coordinateSystem;e.each(function(i){var a=e.getItemModel(i),s,o=Ze(a.get("x"),r.getWidth()),l=Ze(a.get("y"),r.getHeight());if(!isNaN(o)&&!isNaN(l))s=[o,l];else if(t.getMarkerPosition)s=t.getMarkerPosition(e.getValues(e.dimensions,i));else if(n){var u=e.get(n.dimensions[0],i),c=e.get(n.dimensions[1],i);s=n.dataToPoint([u,c])}isNaN(o)||(s[0]=o),isNaN(l)||(s[1]=l),e.setItemLayout(i,s)})}var JBe=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.updateTransform=function(r,n,i){n.eachSeries(function(a){var s=Dl.getMarkerModelFromSeries(a,"markPoint");s&&(PH(s.getData(),a,i),this.markerGroupMap.get(a.id).updateLayout())},this)},t.prototype.renderSeries=function(r,n,i,a){var s=r.coordinateSystem,o=r.id,l=r.getData(),u=this.markerGroupMap,c=u.get(o)||u.set(o,new iy),h=eFe(s,r,n);n.setData(h),PH(n.getData(),r,a),h.each(function(f){var d=h.getItemModel(f),v=d.getShallow("symbol"),m=d.getShallow("symbolSize"),y=d.getShallow("symbolRotate"),b=d.getShallow("symbolOffset"),S=d.getShallow("symbolKeepAspect");if(vt(v)||vt(m)||vt(y)||vt(b)){var w=n.getRawValue(f),k=n.getDataParams(f);vt(v)&&(v=v(w,k)),vt(m)&&(m=m(w,k)),vt(y)&&(y=y(w,k)),vt(b)&&(b=b(w,k))}var M=d.getModel("itemStyle").getItemStyle(),I=ty(l,"color");M.fill||(M.fill=I),h.setItemVisual(f,{symbol:v,symbolSize:m,symbolRotate:y,symbolOffset:b,symbolKeepAspect:S,style:M})}),c.updateData(h),this.group.add(c.group),h.eachItemGraphicEl(function(f){f.traverse(function(d){It(d).dataModel=n})}),this.markKeep(c),c.group.silent=n.get("silent")||r.get("silent")},t.type="markPoint",t}(IR);function eFe(e,t,r){var n;e?n=Fe(e&&e.dimensions,function(o){var l=t.getData().getDimensionInfo(t.getData().mapDimension(o))||{};return Ne(Ne({},l),{name:o,ordinalMeta:null})}):n=[{name:"value",type:"float"}];var i=new xi(n,r),a=Fe(r.get("data"),Lt(S0,t));e&&(a=lr(a,Lt(_0,e)));var s=Iee(!!e,n);return i.initData(a,null,s),i}function tFe(e){e.registerComponentModel(qBe),e.registerComponentView(JBe),e.registerPreprocessor(function(t){AR(t.series,"markPoint")&&(t.markPoint=t.markPoint||{})})}var rFe=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.createMarkerModelFromSeries=function(r,n,i){return new t(r,n,i)},t.type="markLine",t.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},t}(Dl),Bx=tr(),nFe=function(e,t,r,n){var i=e.getData(),a;if(Oe(n))a=n;else{var s=n.type;if(s==="min"||s==="max"||s==="average"||s==="median"||n.xAxis!=null||n.yAxis!=null){var o=void 0,l=void 0;if(n.yAxis!=null||n.xAxis!=null)o=t.getAxis(n.yAxis!=null?"y":"x"),l=On(n.yAxis,n.xAxis);else{var u=kee(n,i,t,e);o=u.valueAxis;var c=SP(i,u.valueDataDim);l=kR(i,c,s)}var h=o.dim==="x"?0:1,f=1-h,d=_t(n),v={coord:[]};d.type=null,d.coord=[],d.coord[f]=-1/0,v.coord[f]=1/0;var m=r.get("precision");m>=0&&ar(l)&&(l=+l.toFixed(Math.min(m,20))),d.coord[h]=v.coord[h]=l,a=[d,v,{type:s,valueIndex:n.valueIndex,value:l}]}else a=[]}var y=[S0(e,a[0]),S0(e,a[1]),Ne({},a[2])];return y[2].type=y[2].type||null,Ot(y[2],y[0]),Ot(y[2],y[1]),y};function i_(e){return!isNaN(e)&&!isFinite(e)}function RH(e,t,r,n){var i=1-e,a=n.dimensions[e];return i_(t[i])&&i_(r[i])&&t[e]===r[e]&&n.getAxis(a).containData(t[e])}function iFe(e,t){if(e.type==="cartesian2d"){var r=t[0].coord,n=t[1].coord;if(r&&n&&(RH(1,r,n,e)||RH(0,r,n,e)))return!0}return _0(e,t[0])&&_0(e,t[1])}function IA(e,t,r,n,i){var a=n.coordinateSystem,s=e.getItemModel(t),o,l=Ze(s.get("x"),i.getWidth()),u=Ze(s.get("y"),i.getHeight());if(!isNaN(l)&&!isNaN(u))o=[l,u];else{if(n.getMarkerPosition)o=n.getMarkerPosition(e.getValues(e.dimensions,t));else{var c=a.dimensions,h=e.get(c[0],t),f=e.get(c[1],t);o=a.dataToPoint([h,f])}if(pf(a,"cartesian2d")){var d=a.getAxis("x"),v=a.getAxis("y"),c=a.dimensions;i_(e.get(c[0],t))?o[0]=d.toGlobalCoord(d.getExtent()[r?0:1]):i_(e.get(c[1],t))&&(o[1]=v.toGlobalCoord(v.getExtent()[r?0:1]))}isNaN(l)||(o[0]=l),isNaN(u)||(o[1]=u)}e.setItemLayout(t,o)}var aFe=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.updateTransform=function(r,n,i){n.eachSeries(function(a){var s=Dl.getMarkerModelFromSeries(a,"markLine");if(s){var o=s.getData(),l=Bx(s).from,u=Bx(s).to;l.each(function(c){IA(l,c,!0,a,i),IA(u,c,!1,a,i)}),o.each(function(c){o.setItemLayout(c,[l.getItemLayout(c),u.getItemLayout(c)])}),this.markerGroupMap.get(a.id).updateLayout()}},this)},t.prototype.renderSeries=function(r,n,i,a){var s=r.coordinateSystem,o=r.id,l=r.getData(),u=this.markerGroupMap,c=u.get(o)||u.set(o,new KP);this.group.add(c.group);var h=sFe(s,r,n),f=h.from,d=h.to,v=h.line;Bx(n).from=f,Bx(n).to=d,n.setData(v);var m=n.get("symbol"),y=n.get("symbolSize"),b=n.get("symbolRotate"),S=n.get("symbolOffset");Oe(m)||(m=[m,m]),Oe(y)||(y=[y,y]),Oe(b)||(b=[b,b]),Oe(S)||(S=[S,S]),h.from.each(function(k){w(f,k,!0),w(d,k,!1)}),v.each(function(k){var M=v.getItemModel(k).getModel("lineStyle").getLineStyle();v.setItemLayout(k,[f.getItemLayout(k),d.getItemLayout(k)]),M.stroke==null&&(M.stroke=f.getItemVisual(k,"style").fill),v.setItemVisual(k,{fromSymbolKeepAspect:f.getItemVisual(k,"symbolKeepAspect"),fromSymbolOffset:f.getItemVisual(k,"symbolOffset"),fromSymbolRotate:f.getItemVisual(k,"symbolRotate"),fromSymbolSize:f.getItemVisual(k,"symbolSize"),fromSymbol:f.getItemVisual(k,"symbol"),toSymbolKeepAspect:d.getItemVisual(k,"symbolKeepAspect"),toSymbolOffset:d.getItemVisual(k,"symbolOffset"),toSymbolRotate:d.getItemVisual(k,"symbolRotate"),toSymbolSize:d.getItemVisual(k,"symbolSize"),toSymbol:d.getItemVisual(k,"symbol"),style:M})}),c.updateData(v),h.line.eachItemGraphicEl(function(k){It(k).dataModel=n,k.traverse(function(M){It(M).dataModel=n})});function w(k,M,I){var L=k.getItemModel(M);IA(k,M,I,r,a);var N=L.getModel("itemStyle").getItemStyle();N.fill==null&&(N.fill=ty(l,"color")),k.setItemVisual(M,{symbolKeepAspect:L.get("symbolKeepAspect"),symbolOffset:Mt(L.get("symbolOffset",!0),S[I?0:1]),symbolRotate:Mt(L.get("symbolRotate",!0),b[I?0:1]),symbolSize:Mt(L.get("symbolSize"),y[I?0:1]),symbol:Mt(L.get("symbol",!0),m[I?0:1]),style:N})}this.markKeep(c),c.group.silent=n.get("silent")||r.get("silent")},t.type="markLine",t}(IR);function sFe(e,t,r){var n;e?n=Fe(e&&e.dimensions,function(u){var c=t.getData().getDimensionInfo(t.getData().mapDimension(u))||{};return Ne(Ne({},c),{name:u,ordinalMeta:null})}):n=[{name:"value",type:"float"}];var i=new xi(n,r),a=new xi(n,r),s=new xi([],r),o=Fe(r.get("data"),Lt(nFe,t,e,r));e&&(o=lr(o,Lt(iFe,e)));var l=Iee(!!e,n);return i.initData(Fe(o,function(u){return u[0]}),null,l),a.initData(Fe(o,function(u){return u[1]}),null,l),s.initData(Fe(o,function(u){return u[2]})),s.hasItemOption=!0,{from:i,to:a,line:s}}function oFe(e){e.registerComponentModel(rFe),e.registerComponentView(aFe),e.registerPreprocessor(function(t){AR(t.series,"markLine")&&(t.markLine=t.markLine||{})})}var lFe=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.createMarkerModelFromSeries=function(r,n,i){return new t(r,n,i)},t.type="markArea",t.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},t}(Dl),Fx=tr(),uFe=function(e,t,r,n){var i=n[0],a=n[1];if(!(!i||!a)){var s=S0(e,i),o=S0(e,a),l=s.coord,u=o.coord;l[0]=On(l[0],-1/0),l[1]=On(l[1],-1/0),u[0]=On(u[0],1/0),u[1]=On(u[1],1/0);var c=sw([{},s,o]);return c.coord=[s.coord,o.coord],c.x0=s.x,c.y0=s.y,c.x1=o.x,c.y1=o.y,c}};function a_(e){return!isNaN(e)&&!isFinite(e)}function OH(e,t,r,n){var i=1-e;return a_(t[i])&&a_(r[i])}function cFe(e,t){var r=t.coord[0],n=t.coord[1],i={coord:r,x:t.x0,y:t.y0},a={coord:n,x:t.x1,y:t.y1};return pf(e,"cartesian2d")?r&&n&&(OH(1,r,n)||OH(0,r,n))?!0:QBe(e,i,a):_0(e,i)||_0(e,a)}function BH(e,t,r,n,i){var a=n.coordinateSystem,s=e.getItemModel(t),o,l=Ze(s.get(r[0]),i.getWidth()),u=Ze(s.get(r[1]),i.getHeight());if(!isNaN(l)&&!isNaN(u))o=[l,u];else{if(n.getMarkerPosition){var c=e.getValues(["x0","y0"],t),h=e.getValues(["x1","y1"],t),f=a.clampData(c),d=a.clampData(h),v=[];r[0]==="x0"?v[0]=f[0]>d[0]?h[0]:c[0]:v[0]=f[0]>d[0]?c[0]:h[0],r[1]==="y0"?v[1]=f[1]>d[1]?h[1]:c[1]:v[1]=f[1]>d[1]?c[1]:h[1],o=n.getMarkerPosition(v,r,!0)}else{var m=e.get(r[0],t),y=e.get(r[1],t),b=[m,y];a.clampData&&a.clampData(b,b),o=a.dataToPoint(b,!0)}if(pf(a,"cartesian2d")){var S=a.getAxis("x"),w=a.getAxis("y"),m=e.get(r[0],t),y=e.get(r[1],t);a_(m)?o[0]=S.toGlobalCoord(S.getExtent()[r[0]==="x0"?0:1]):a_(y)&&(o[1]=w.toGlobalCoord(w.getExtent()[r[1]==="y0"?0:1]))}isNaN(l)||(o[0]=l),isNaN(u)||(o[1]=u)}return o}var FH=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],hFe=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.updateTransform=function(r,n,i){n.eachSeries(function(a){var s=Dl.getMarkerModelFromSeries(a,"markArea");if(s){var o=s.getData();o.each(function(l){var u=Fe(FH,function(h){return BH(o,l,h,a,i)});o.setItemLayout(l,u);var c=o.getItemGraphicEl(l);c.setShape("points",u)})}},this)},t.prototype.renderSeries=function(r,n,i,a){var s=r.coordinateSystem,o=r.id,l=r.getData(),u=this.markerGroupMap,c=u.get(o)||u.set(o,{group:new Ct});this.group.add(c.group),this.markKeep(c);var h=fFe(s,r,n);n.setData(h),h.each(function(f){var d=Fe(FH,function(N){return BH(h,f,N,r,a)}),v=s.getAxis("x").scale,m=s.getAxis("y").scale,y=v.getExtent(),b=m.getExtent(),S=[v.parse(h.get("x0",f)),v.parse(h.get("x1",f))],w=[m.parse(h.get("y0",f)),m.parse(h.get("y1",f))];Sa(S),Sa(w);var k=!(y[0]>S[1]||y[1]<S[0]||b[0]>w[1]||b[1]<w[0]),M=!k;h.setItemLayout(f,{points:d,allClipped:M});var I=h.getItemModel(f).getModel("itemStyle").getItemStyle(),L=ty(l,"color");I.fill||(I.fill=L,Je(I.fill)&&(I.fill=Zm(I.fill,.4))),I.stroke||(I.stroke=L),h.setItemVisual(f,"style",I)}),h.diff(Fx(c).data).add(function(f){var d=h.getItemLayout(f);if(!d.allClipped){var v=new wi({shape:{points:d.points}});h.setItemGraphicEl(f,v),c.group.add(v)}}).update(function(f,d){var v=Fx(c).data.getItemGraphicEl(d),m=h.getItemLayout(f);m.allClipped?v&&c.group.remove(v):(v?sr(v,{shape:{points:m.points}},n,f):v=new wi({shape:{points:m.points}}),h.setItemGraphicEl(f,v),c.group.add(v))}).remove(function(f){var d=Fx(c).data.getItemGraphicEl(f);c.group.remove(d)}).execute(),h.eachItemGraphicEl(function(f,d){var v=h.getItemModel(d),m=h.getItemVisual(d,"style");f.useStyle(h.getItemVisual(d,"style")),oi(f,zn(v),{labelFetcher:n,labelDataIndex:d,defaultText:h.getName(d)||"",inheritColor:Je(m.fill)?Zm(m.fill,1):"#000"}),si(f,v),qr(f,null,null,v.get(["emphasis","disabled"])),It(f).dataModel=n}),Fx(c).data=h,c.group.silent=n.get("silent")||r.get("silent")},t.type="markArea",t}(IR);function fFe(e,t,r){var n,i,a=["x0","y0","x1","y1"];if(e){var s=Fe(e&&e.dimensions,function(u){var c=t.getData(),h=c.getDimensionInfo(c.mapDimension(u))||{};return Ne(Ne({},h),{name:u,ordinalMeta:null})});i=Fe(a,function(u,c){return{name:u,type:s[c%2].type}}),n=new xi(i,r)}else i=[{name:"value",type:"float"}],n=new xi(i,r);var o=Fe(r.get("data"),Lt(uFe,t,e,r));e&&(o=lr(o,Lt(cFe,e)));var l=e?function(u,c,h,f){var d=u.coord[Math.floor(f/2)][f%2];return Gu(d,i[f])}:function(u,c,h,f){return Gu(u.value,i[f])};return n.initData(o,null,l),n.hasItemOption=!0,n}function dFe(e){e.registerComponentModel(lFe),e.registerComponentView(hFe),e.registerPreprocessor(function(t){AR(t.series,"markArea")&&(t.markArea=t.markArea||{})})}var pFe=function(e,t){if(t==="all")return{type:"all",title:e.getLocaleModel().get(["legend","selector","all"])};if(t==="inverse")return{type:"inverse",title:e.getLocaleModel().get(["legend","selector","inverse"])}},aM=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.layoutMode={type:"box",ignoreSize:!0},r}return t.prototype.init=function(r,n,i){this.mergeDefaultAndTheme(r,i),r.selected=r.selected||{},this._updateSelector(r)},t.prototype.mergeOption=function(r,n){e.prototype.mergeOption.call(this,r,n),this._updateSelector(r)},t.prototype._updateSelector=function(r){var n=r.selector,i=this.ecModel;n===!0&&(n=r.selector=["all","inverse"]),Oe(n)&&q(n,function(a,s){Je(a)&&(a={type:a}),n[s]=Ot(a,pFe(i,a.type))})},t.prototype.optionUpdated=function(){this._updateData(this.ecModel);var r=this._data;if(r[0]&&this.get("selectedMode")==="single"){for(var n=!1,i=0;i<r.length;i++){var a=r[i].get("name");if(this.isSelected(a)){this.select(a),n=!0;break}}!n&&this.select(r[0].get("name"))}},t.prototype._updateData=function(r){var n=[],i=[];r.eachRawSeries(function(l){var u=l.name;i.push(u);var c;if(l.legendVisualProvider){var h=l.legendVisualProvider,f=h.getAllNames();r.isSeriesFiltered(l)||(i=i.concat(f)),f.length?n=n.concat(f):c=!0}else c=!0;c&&kN(l)&&n.push(l.name)}),this._availableNames=i;var a=this.get("data")||n,s=ct(),o=Fe(a,function(l){return(Je(l)||ar(l))&&(l={name:l}),s.get(l.name)?null:(s.set(l.name,!0),new ur(l,this,this.ecModel))},this);this._data=lr(o,function(l){return!!l})},t.prototype.getData=function(){return this._data},t.prototype.select=function(r){var n=this.option.selected,i=this.get("selectedMode");if(i==="single"){var a=this._data;q(a,function(s){n[s.get("name")]=!1})}n[r]=!0},t.prototype.unSelect=function(r){this.get("selectedMode")!=="single"&&(this.option.selected[r]=!1)},t.prototype.toggleSelected=function(r){var n=this.option.selected;n.hasOwnProperty(r)||(n[r]=!0),this[n[r]?"unSelect":"select"](r)},t.prototype.allSelect=function(){var r=this._data,n=this.option.selected;q(r,function(i){n[i.get("name",!0)]=!0})},t.prototype.inverseSelect=function(){var r=this._data,n=this.option.selected;q(r,function(i){var a=i.get("name",!0);n.hasOwnProperty(a)||(n[a]=!0),n[a]=!n[a]})},t.prototype.isSelected=function(r){var n=this.option.selected;return!(n.hasOwnProperty(r)&&!n[r])&&Ut(this._availableNames,r)>=0},t.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},t.type="legend.plain",t.dependencies=["series"],t.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},t}(Yt),Qf=Lt,sM=q,zx=Ct,Dee=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.newlineDisabled=!1,r}return t.prototype.init=function(){this.group.add(this._contentGroup=new zx),this.group.add(this._selectorGroup=new zx),this._isFirstRender=!0},t.prototype.getContentGroup=function(){return this._contentGroup},t.prototype.getSelectorGroup=function(){return this._selectorGroup},t.prototype.render=function(r,n,i){var a=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!r.get("show",!0)){var s=r.get("align"),o=r.get("orient");(!s||s==="auto")&&(s=r.get("left")==="right"&&o==="vertical"?"right":"left");var l=r.get("selector",!0),u=r.get("selectorPosition",!0);l&&(!u||u==="auto")&&(u=o==="horizontal"?"end":"start"),this.renderInner(s,r,n,i,l,o,u);var c=r.getBoxLayoutParams(),h={width:i.getWidth(),height:i.getHeight()},f=r.get("padding"),d=Sn(c,h,f),v=this.layoutInner(r,s,d,a,l,u),m=Sn(yt({width:v.width,height:v.height},c),h,f);this.group.x=m.x-v.x,this.group.y=m.y-v.y,this.group.markRedraw(),this.group.add(this._backgroundEl=yee(v,r))}},t.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},t.prototype.renderInner=function(r,n,i,a,s,o,l){var u=this.getContentGroup(),c=ct(),h=n.get("selectedMode"),f=[];i.eachRawSeries(function(d){!d.get("legendHoverLink")&&f.push(d.id)}),sM(n.getData(),function(d,v){var m=d.get("name");if(!this.newlineDisabled&&(m===""||m===`
`)){var y=new zx;y.newline=!0,u.add(y);return}var b=i.getSeriesByName(m)[0];if(!c.get(m))if(b){var S=b.getData(),w=S.getVisual("legendLineStyle")||{},k=S.getVisual("legendIcon"),M=S.getVisual("style"),I=this._createItem(b,m,v,d,n,r,w,M,k,h,a);I.on("click",Qf(zH,m,null,a,f)).on("mouseover",Qf(oM,b.name,null,a,f)).on("mouseout",Qf(lM,b.name,null,a,f)),i.ssr&&I.eachChild(function(L){var N=It(L);N.seriesIndex=b.seriesIndex,N.dataIndex=v,N.ssrType="legend"}),c.set(m,!0)}else i.eachRawSeries(function(L){if(!c.get(m)&&L.legendVisualProvider){var N=L.legendVisualProvider;if(!N.containName(m))return;var z=N.indexOfName(m),B=N.getItemVisual(z,"style"),H=N.getItemVisual(z,"legendIcon"),G=zi(B.fill);G&&G[3]===0&&(G[3]=.2,B=Ne(Ne({},B),{fill:Fs(G,"rgba")}));var $=this._createItem(L,m,v,d,n,r,{},B,H,h,a);$.on("click",Qf(zH,null,m,a,f)).on("mouseover",Qf(oM,null,m,a,f)).on("mouseout",Qf(lM,null,m,a,f)),i.ssr&&$.eachChild(function(W){var X=It(W);X.seriesIndex=L.seriesIndex,X.dataIndex=v,X.ssrType="legend"}),c.set(m,!0)}},this)},this),s&&this._createSelector(s,n,a,o,l)},t.prototype._createSelector=function(r,n,i,a,s){var o=this.getSelectorGroup();sM(r,function(u){var c=u.type,h=new Qt({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){i.dispatchAction({type:c==="all"?"legendAllSelect":"legendInverseSelect",legendId:n.id})}});o.add(h);var f=n.getModel("selectorLabel"),d=n.getModel(["emphasis","selectorLabel"]);oi(h,{normal:f,emphasis:d},{defaultText:u.title}),Hu(h)})},t.prototype._createItem=function(r,n,i,a,s,o,l,u,c,h,f){var d=r.visualDrawType,v=s.get("itemWidth"),m=s.get("itemHeight"),y=s.isSelected(n),b=a.get("symbolRotate"),S=a.get("symbolKeepAspect"),w=a.get("icon");c=w||c||"roundRect";var k=vFe(c,a,l,u,d,y,f),M=new zx,I=a.getModel("textStyle");if(vt(r.getLegendIcon)&&(!w||w==="inherit"))M.add(r.getLegendIcon({itemWidth:v,itemHeight:m,icon:c,iconRotate:b,itemStyle:k.itemStyle,lineStyle:k.lineStyle,symbolKeepAspect:S}));else{var L=w==="inherit"&&r.getData().getVisual("symbol")?b==="inherit"?r.getData().getVisual("symbolRotate"):b:0;M.add(gFe({itemWidth:v,itemHeight:m,icon:c,iconRotate:L,itemStyle:k.itemStyle,symbolKeepAspect:S}))}var N=o==="left"?v+5:-5,z=o,B=s.get("formatter"),H=n;Je(B)&&B?H=B.replace("{name}",n??""):vt(B)&&(H=B(n));var G=y?I.getTextColor():a.get("inactiveColor");M.add(new Qt({style:Ir(I,{text:H,x:N,y:m/2,fill:G,align:z,verticalAlign:"middle"},{inheritColor:G})}));var $=new Jt({shape:M.getBoundingRect(),style:{fill:"transparent"}}),W=a.getModel("tooltip");return W.get("show")&&cf({el:$,componentModel:s,itemName:n,itemTooltipOption:W.option}),M.add($),M.eachChild(function(X){X.silent=!0}),$.silent=!h,this.getContentGroup().add(M),Hu(M),M.__legendDataIndex=i,M},t.prototype.layoutInner=function(r,n,i,a,s,o){var l=this.getContentGroup(),u=this.getSelectorGroup();Ph(r.get("orient"),l,r.get("itemGap"),i.width,i.height);var c=l.getBoundingRect(),h=[-c.x,-c.y];if(u.markRedraw(),l.markRedraw(),s){Ph("horizontal",u,r.get("selectorItemGap",!0));var f=u.getBoundingRect(),d=[-f.x,-f.y],v=r.get("selectorButtonGap",!0),m=r.getOrient().index,y=m===0?"width":"height",b=m===0?"height":"width",S=m===0?"y":"x";o==="end"?d[m]+=c[y]+v:h[m]+=f[y]+v,d[1-m]+=c[b]/2-f[b]/2,u.x=d[0],u.y=d[1],l.x=h[0],l.y=h[1];var w={x:0,y:0};return w[y]=c[y]+v+f[y],w[b]=Math.max(c[b],f[b]),w[S]=Math.min(0,f[S]+d[1-m]),w}else return l.x=h[0],l.y=h[1],this.group.getBoundingRect()},t.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},t.type="legend.plain",t}(Nr);function vFe(e,t,r,n,i,a,s){function o(y,b){y.lineWidth==="auto"&&(y.lineWidth=b.lineWidth>0?2:0),sM(y,function(S,w){y[w]==="inherit"&&(y[w]=b[w])})}var l=t.getModel("itemStyle"),u=l.getItemStyle(),c=e.lastIndexOf("empty",0)===0?"fill":"stroke",h=l.getShallow("decal");u.decal=!h||h==="inherit"?n.decal:pp(h,s),u.fill==="inherit"&&(u.fill=n[i]),u.stroke==="inherit"&&(u.stroke=n[c]),u.opacity==="inherit"&&(u.opacity=(i==="fill"?n:r).opacity),o(u,n);var f=t.getModel("lineStyle"),d=f.getLineStyle();if(o(d,r),u.fill==="auto"&&(u.fill=n.fill),u.stroke==="auto"&&(u.stroke=n.fill),d.stroke==="auto"&&(d.stroke=n.fill),!a){var v=t.get("inactiveBorderWidth"),m=u[c];u.lineWidth=v==="auto"?n.lineWidth>0&&m?2:0:u.lineWidth,u.fill=t.get("inactiveColor"),u.stroke=t.get("inactiveBorderColor"),d.stroke=f.get("inactiveColor"),d.lineWidth=f.get("inactiveWidth")}return{itemStyle:u,lineStyle:d}}function gFe(e){var t=e.icon||"roundRect",r=dn(t,0,0,e.itemWidth,e.itemHeight,e.itemStyle.fill,e.symbolKeepAspect);return r.setStyle(e.itemStyle),r.rotation=(e.iconRotate||0)*Math.PI/180,r.setOrigin([e.itemWidth/2,e.itemHeight/2]),t.indexOf("empty")>-1&&(r.style.stroke=r.style.fill,r.style.fill="#fff",r.style.lineWidth=2),r}function zH(e,t,r,n){lM(e,t,r,n),r.dispatchAction({type:"legendToggleSelect",name:e??t}),oM(e,t,r,n)}function Mee(e){for(var t=e.getZr().storage.getDisplayList(),r,n=0,i=t.length;n<i&&!(r=t[n].states.emphasis);)n++;return r&&r.hoverLayer}function oM(e,t,r,n){Mee(r)||r.dispatchAction({type:"highlight",seriesName:e,name:t,excludeSeriesId:n})}function lM(e,t,r,n){Mee(r)||r.dispatchAction({type:"downplay",seriesName:e,name:t,excludeSeriesId:n})}function mFe(e){var t=e.findComponents({mainType:"legend"});t&&t.length&&e.filterSeries(function(r){for(var n=0;n<t.length;n++)if(!t[n].isSelected(r.name))return!1;return!0})}function hg(e,t,r){var n=e==="allSelect"||e==="inverseSelect",i={},a=[];r.eachComponent({mainType:"legend",query:t},function(o){n?o[e]():o[e](t.name),jH(o,i),a.push(o.componentIndex)});var s={};return r.eachComponent("legend",function(o){q(i,function(l,u){o[l?"select":"unSelect"](u)}),jH(o,s)}),n?{selected:s,legendIndex:a}:{name:t.name,selected:s}}function jH(e,t){var r=t||{};return q(e.getData(),function(n){var i=n.get("name");if(!(i===`
`||i==="")){var a=e.isSelected(i);ot(r,i)?r[i]=r[i]&&a:r[i]=a}}),r}function yFe(e){e.registerAction("legendToggleSelect","legendselectchanged",Lt(hg,"toggleSelected")),e.registerAction("legendAllSelect","legendselectall",Lt(hg,"allSelect")),e.registerAction("legendInverseSelect","legendinverseselect",Lt(hg,"inverseSelect")),e.registerAction("legendSelect","legendselected",Lt(hg,"select")),e.registerAction("legendUnSelect","legendunselected",Lt(hg,"unSelect"))}function Lee(e){e.registerComponentModel(aM),e.registerComponentView(Dee),e.registerProcessor(e.PRIORITY.PROCESSOR.SERIES_FILTER,mFe),e.registerSubTypeDefaulter("legend",function(){return"plain"}),yFe(e)}var xFe=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.setScrollDataIndex=function(r){this.option.scrollDataIndex=r},t.prototype.init=function(r,n,i){var a=Up(r);e.prototype.init.call(this,r,n,i),HH(this,r,a)},t.prototype.mergeOption=function(r,n){e.prototype.mergeOption.call(this,r,n),HH(this,this.option,r)},t.type="legend.scroll",t.defaultOption=fc(aM.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),t}(aM);function HH(e,t,r){var n=e.getOrient(),i=[1,1];i[n.index]=0,Ju(t,r,{type:"box",ignoreSize:!!i})}var VH=Ct,DA=["width","height"],MA=["x","y"],bFe=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.newlineDisabled=!0,r._currentIndex=0,r}return t.prototype.init=function(){e.prototype.init.call(this),this.group.add(this._containerGroup=new VH),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new VH)},t.prototype.resetInner=function(){e.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},t.prototype.renderInner=function(r,n,i,a,s,o,l){var u=this;e.prototype.renderInner.call(this,r,n,i,a,s,o,l);var c=this._controllerGroup,h=n.get("pageIconSize",!0),f=Oe(h)?h:[h,h];v("pagePrev",0);var d=n.getModel("pageTextStyle");c.add(new Qt({name:"pageText",style:{text:"xx/xx",fill:d.getTextColor(),font:d.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),v("pageNext",1);function v(m,y){var b=m+"DataIndex",S=jp(n.get("pageIcons",!0)[n.getOrient().name][y],{onclick:rt(u._pageGo,u,b,n,a)},{x:-f[0]/2,y:-f[1]/2,width:f[0],height:f[1]});S.name=m,c.add(S)}},t.prototype.layoutInner=function(r,n,i,a,s,o){var l=this.getSelectorGroup(),u=r.getOrient().index,c=DA[u],h=MA[u],f=DA[1-u],d=MA[1-u];s&&Ph("horizontal",l,r.get("selectorItemGap",!0));var v=r.get("selectorButtonGap",!0),m=l.getBoundingRect(),y=[-m.x,-m.y],b=_t(i);s&&(b[c]=i[c]-m[c]-v);var S=this._layoutContentAndController(r,a,b,u,c,f,d,h);if(s){if(o==="end")y[u]+=S[c]+v;else{var w=m[c]+v;y[u]-=w,S[h]-=w}S[c]+=m[c]+v,y[1-u]+=S[d]+S[f]/2-m[f]/2,S[f]=Math.max(S[f],m[f]),S[d]=Math.min(S[d],m[d]+y[1-u]),l.x=y[0],l.y=y[1],l.markRedraw()}return S},t.prototype._layoutContentAndController=function(r,n,i,a,s,o,l,u){var c=this.getContentGroup(),h=this._containerGroup,f=this._controllerGroup;Ph(r.get("orient"),c,r.get("itemGap"),a?i.width:null,a?null:i.height),Ph("horizontal",f,r.get("pageButtonItemGap",!0));var d=c.getBoundingRect(),v=f.getBoundingRect(),m=this._showController=d[s]>i[s],y=[-d.x,-d.y];n||(y[a]=c[u]);var b=[0,0],S=[-v.x,-v.y],w=Mt(r.get("pageButtonGap",!0),r.get("itemGap",!0));if(m){var k=r.get("pageButtonPosition",!0);k==="end"?S[a]+=i[s]-v[s]:b[a]+=v[s]+w}S[1-a]+=d[o]/2-v[o]/2,c.setPosition(y),h.setPosition(b),f.setPosition(S);var M={x:0,y:0};if(M[s]=m?i[s]:d[s],M[o]=Math.max(d[o],v[o]),M[l]=Math.min(0,v[l]+S[1-a]),h.__rectSize=i[s],m){var I={x:0,y:0};I[s]=Math.max(i[s]-v[s]-w,0),I[o]=M[o],h.setClipPath(new Jt({shape:I})),h.__rectSize=I[s]}else f.eachChild(function(N){N.attr({invisible:!0,silent:!0})});var L=this._getPageInfo(r);return L.pageIndex!=null&&sr(c,{x:L.contentPosition[0],y:L.contentPosition[1]},m?r:null),this._updatePageInfoView(r,L),M},t.prototype._pageGo=function(r,n,i){var a=this._getPageInfo(n)[r];a!=null&&i.dispatchAction({type:"legendScroll",scrollDataIndex:a,legendId:n.id})},t.prototype._updatePageInfoView=function(r,n){var i=this._controllerGroup;q(["pagePrev","pageNext"],function(c){var h=c+"DataIndex",f=n[h]!=null,d=i.childOfName(c);d&&(d.setStyle("fill",f?r.get("pageIconColor",!0):r.get("pageIconInactiveColor",!0)),d.cursor=f?"pointer":"default")});var a=i.childOfName("pageText"),s=r.get("pageFormatter"),o=n.pageIndex,l=o!=null?o+1:0,u=n.pageCount;a&&s&&a.setStyle("text",Je(s)?s.replace("{current}",l==null?"":l+"").replace("{total}",u==null?"":u+""):s({current:l,total:u}))},t.prototype._getPageInfo=function(r){var n=r.get("scrollDataIndex",!0),i=this.getContentGroup(),a=this._containerGroup.__rectSize,s=r.getOrient().index,o=DA[s],l=MA[s],u=this._findTargetItemIndex(n),c=i.children(),h=c[u],f=c.length,d=f?1:0,v={contentPosition:[i.x,i.y],pageCount:d,pageIndex:d-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!h)return v;var m=k(h);v.contentPosition[s]=-m.s;for(var y=u+1,b=m,S=m,w=null;y<=f;++y)w=k(c[y]),(!w&&S.e>b.s+a||w&&!M(w,b.s))&&(S.i>b.i?b=S:b=w,b&&(v.pageNextDataIndex==null&&(v.pageNextDataIndex=b.i),++v.pageCount)),S=w;for(var y=u-1,b=m,S=m,w=null;y>=-1;--y)w=k(c[y]),(!w||!M(S,w.s))&&b.i<S.i&&(S=b,v.pagePrevDataIndex==null&&(v.pagePrevDataIndex=b.i),++v.pageCount,++v.pageIndex),b=w;return v;function k(I){if(I){var L=I.getBoundingRect(),N=L[l]+I[l];return{s:N,e:N+L[o],i:I.__legendDataIndex}}}function M(I,L){return I.e>=L&&I.s<=L+a}},t.prototype._findTargetItemIndex=function(r){if(!this._showController)return 0;var n,i=this.getContentGroup(),a;return i.eachChild(function(s,o){var l=s.__legendDataIndex;a==null&&l!=null&&(a=o),l===r&&(n=o)}),n??a},t.type="legend.scroll",t}(Dee);function SFe(e){e.registerAction("legendScroll","legendscroll",function(t,r){var n=t.scrollDataIndex;n!=null&&r.eachComponent({mainType:"legend",subType:"scroll",query:t},function(i){i.setScrollDataIndex(n)})})}function _Fe(e){Wt(Lee),e.registerComponentModel(xFe),e.registerComponentView(bFe),SFe(e)}function wFe(e){Wt(Lee),Wt(_Fe)}var TFe=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.type="dataZoom.inside",t.defaultOption=fc(b0.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),t}(b0),DR=tr();function CFe(e,t,r){DR(e).coordSysRecordMap.each(function(n){var i=n.dataZoomInfoMap.get(t.uid);i&&(i.getRange=r)})}function EFe(e,t){for(var r=DR(e).coordSysRecordMap,n=r.keys(),i=0;i<n.length;i++){var a=n[i],s=r.get(a),o=s.dataZoomInfoMap;if(o){var l=t.uid,u=o.get(l);u&&(o.removeKey(l),o.keys().length||Nee(r,s))}}}function Nee(e,t){if(t){e.removeKey(t.model.uid);var r=t.controller;r&&r.dispose()}}function AFe(e,t){var r={model:t,containsPoint:Lt(IFe,t),dispatchAction:Lt(kFe,e),dataZoomInfoMap:null,controller:null},n=r.controller=new uy(e.getZr());return q(["pan","zoom","scrollMove"],function(i){n.on(i,function(a){var s=[];r.dataZoomInfoMap.each(function(o){if(a.isAvailableBehavior(o.model.option)){var l=(o.getRange||{})[i],u=l&&l(o.dzReferCoordSysInfo,r.model.mainType,r.controller,a);!o.model.get("disabled",!0)&&u&&s.push({dataZoomId:o.model.id,start:u[0],end:u[1]})}}),s.length&&r.dispatchAction(s)})}),r}function kFe(e,t){e.isDisposed()||e.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:t})}function IFe(e,t,r,n){return e.coordinateSystem.containPoint([r,n])}function DFe(e){var t,r="type_",n={type_true:2,type_move:1,type_false:0,type_undefined:-1},i=!0;return e.each(function(a){var s=a.model,o=s.get("disabled",!0)?!1:s.get("zoomLock",!0)?"move":!0;n[r+o]>n[r+t]&&(t=o),i=i&&s.get("preventDefaultMouseMove",!0)}),{controlType:t,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!i}}}function MFe(e){e.registerProcessor(e.PRIORITY.PROCESSOR.FILTER,function(t,r){var n=DR(r),i=n.coordSysRecordMap||(n.coordSysRecordMap=ct());i.each(function(a){a.dataZoomInfoMap=null}),t.eachComponent({mainType:"dataZoom",subType:"inside"},function(a){var s=vee(a);q(s.infoList,function(o){var l=o.model.uid,u=i.get(l)||i.set(l,AFe(r,o.model)),c=u.dataZoomInfoMap||(u.dataZoomInfoMap=ct());c.set(a.uid,{dzReferCoordSysInfo:o,model:a,getRange:null})})}),i.each(function(a){var s=a.controller,o,l=a.dataZoomInfoMap;if(l){var u=l.keys()[0];u!=null&&(o=l.get(u))}if(!o){Nee(i,a);return}var c=DFe(l);s.enable(c.controlType,c.opt),s.setPointerChecker(a.containsPoint),Yp(a,"dispatchAction",o.model.get("throttle",!0),"fixRate")})})}var LFe=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type="dataZoom.inside",r}return t.prototype.render=function(r,n,i){if(e.prototype.render.apply(this,arguments),r.noTarget()){this._clear();return}this.range=r.getPercentRange(),CFe(i,r,{pan:rt(LA.pan,this),zoom:rt(LA.zoom,this),scrollMove:rt(LA.scrollMove,this)})},t.prototype.dispose=function(){this._clear(),e.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){EFe(this.api,this.dataZoomModel),this.range=null},t.type="dataZoom.inside",t}(SR),LA={zoom:function(e,t,r,n){var i=this.range,a=i.slice(),s=e.axisModels[0];if(s){var o=NA[t](null,[n.originX,n.originY],s,r,e),l=(o.signal>0?o.pixelStart+o.pixelLength-o.pixel:o.pixel-o.pixelStart)/o.pixelLength*(a[1]-a[0])+a[0],u=Math.max(1/n.scale,0);a[0]=(a[0]-l)*u+l,a[1]=(a[1]-l)*u+l;var c=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(gf(0,a,[0,100],0,c.minSpan,c.maxSpan),this.range=a,i[0]!==a[0]||i[1]!==a[1])return a}},pan:UH(function(e,t,r,n,i,a){var s=NA[n]([a.oldX,a.oldY],[a.newX,a.newY],t,i,r);return s.signal*(e[1]-e[0])*s.pixel/s.pixelLength}),scrollMove:UH(function(e,t,r,n,i,a){var s=NA[n]([0,0],[a.scrollDelta,a.scrollDelta],t,i,r);return s.signal*(e[1]-e[0])*a.scrollDelta})};function UH(e){return function(t,r,n,i){var a=this.range,s=a.slice(),o=t.axisModels[0];if(o){var l=e(s,o,t,r,n,i);if(gf(l,s,[0,100],"all"),this.range=s,a[0]!==s[0]||a[1]!==s[1])return s}}}var NA={grid:function(e,t,r,n,i){var a=r.axis,s={},o=i.model.coordinateSystem.getRect();return e=e||[0,0],a.dim==="x"?(s.pixel=t[0]-e[0],s.pixelLength=o.width,s.pixelStart=o.x,s.signal=a.inverse?1:-1):(s.pixel=t[1]-e[1],s.pixelLength=o.height,s.pixelStart=o.y,s.signal=a.inverse?-1:1),s},polar:function(e,t,r,n,i){var a=r.axis,s={},o=i.model.coordinateSystem,l=o.getRadiusAxis().getExtent(),u=o.getAngleAxis().getExtent();return e=e?o.pointToCoord(e):[0,0],t=o.pointToCoord(t),r.mainType==="radiusAxis"?(s.pixel=t[0]-e[0],s.pixelLength=l[1]-l[0],s.pixelStart=l[0],s.signal=a.inverse?1:-1):(s.pixel=t[1]-e[1],s.pixelLength=u[1]-u[0],s.pixelStart=u[0],s.signal=a.inverse?-1:1),s},singleAxis:function(e,t,r,n,i){var a=r.axis,s=i.model.coordinateSystem.getRect(),o={};return e=e||[0,0],a.orient==="horizontal"?(o.pixel=t[0]-e[0],o.pixelLength=s.width,o.pixelStart=s.x,o.signal=a.inverse?1:-1):(o.pixel=t[1]-e[1],o.pixelLength=s.height,o.pixelStart=s.y,o.signal=a.inverse?-1:1),o}};function Pee(e){_R(e),e.registerComponentModel(TFe),e.registerComponentView(LFe),MFe(e)}var NFe=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.type="dataZoom.slider",t.layoutMode="box",t.defaultOption=fc(b0.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleLabel:{show:!0},handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),t}(b0),fg=Jt,GH=7,PFe=1,PA=30,RFe=7,dg="horizontal",WH="vertical",OFe=5,BFe=["line","bar","candlestick","scatter"],FFe={easing:"cubicOut",duration:100,delay:0},zFe=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r._displayables={},r}return t.prototype.init=function(r,n){this.api=n,this._onBrush=rt(this._onBrush,this),this._onBrushEnd=rt(this._onBrushEnd,this)},t.prototype.render=function(r,n,i,a){if(e.prototype.render.apply(this,arguments),Yp(this,"_dispatchZoomAction",r.get("throttle"),"fixRate"),this._orient=r.getOrient(),r.get("show")===!1){this.group.removeAll();return}if(r.noTarget()){this._clear(),this.group.removeAll();return}(!a||a.type!=="dataZoom"||a.from!==this.uid)&&this._buildView(),this._updateView()},t.prototype.dispose=function(){this._clear(),e.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){o0(this,"_dispatchZoomAction");var r=this.api.getZr();r.off("mousemove",this._onBrush),r.off("mouseup",this._onBrushEnd)},t.prototype._buildView=function(){var r=this.group;r.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var n=this._displayables.sliderGroup=new Ct;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),r.add(n),this._positionGroup()},t.prototype._resetLocation=function(){var r=this.dataZoomModel,n=this.api,i=r.get("brushSelect"),a=i?RFe:0,s=this._findCoordRect(),o={width:n.getWidth(),height:n.getHeight()},l=this._orient===dg?{right:o.width-s.x-s.width,top:o.height-PA-GH-a,width:s.width,height:PA}:{right:GH,top:s.y,width:PA,height:s.height},u=Up(r.option);q(["right","top","width","height"],function(h){u[h]==="ph"&&(u[h]=l[h])});var c=Sn(u,o);this._location={x:c.x,y:c.y},this._size=[c.width,c.height],this._orient===WH&&this._size.reverse()},t.prototype._positionGroup=function(){var r=this.group,n=this._location,i=this._orient,a=this.dataZoomModel.getFirstTargetAxisModel(),s=a&&a.get("inverse"),o=this._displayables.sliderGroup,l=(this._dataShadowInfo||{}).otherAxisInverse;o.attr(i===dg&&!s?{scaleY:l?1:-1,scaleX:1}:i===dg&&s?{scaleY:l?1:-1,scaleX:-1}:i===WH&&!s?{scaleY:l?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:l?-1:1,scaleX:-1,rotation:Math.PI/2});var u=r.getBoundingRect([o]);r.x=n.x-u.x,r.y=n.y-u.y,r.markRedraw()},t.prototype._getViewExtent=function(){return[0,this._size[0]]},t.prototype._renderBackground=function(){var r=this.dataZoomModel,n=this._size,i=this._displayables.sliderGroup,a=r.get("brushSelect");i.add(new fg({silent:!0,shape:{x:0,y:0,width:n[0],height:n[1]},style:{fill:r.get("backgroundColor")},z2:-40}));var s=new fg({shape:{x:0,y:0,width:n[0],height:n[1]},style:{fill:"transparent"},z2:0,onclick:rt(this._onClickPanel,this)}),o=this.api.getZr();a?(s.on("mousedown",this._onBrushStart,this),s.cursor="crosshair",o.on("mousemove",this._onBrush),o.on("mouseup",this._onBrushEnd)):(o.off("mousemove",this._onBrush),o.off("mouseup",this._onBrushEnd)),i.add(s)},t.prototype._renderDataShadow=function(){var r=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],!r)return;var n=this._size,i=this._shadowSize||[],a=r.series,s=a.getRawData(),o=a.getShadowDim&&a.getShadowDim(),l=o&&s.getDimensionInfo(o)?a.getShadowDim():r.otherDim;if(l==null)return;var u=this._shadowPolygonPts,c=this._shadowPolylinePts;if(s!==this._shadowData||l!==this._shadowDim||n[0]!==i[0]||n[1]!==i[1]){var h=s.getDataExtent(l),f=(h[1]-h[0])*.3;h=[h[0]-f,h[1]+f];var d=[0,n[1]],v=[0,n[0]],m=[[n[0],0],[0,0]],y=[],b=v[1]/(s.count()-1),S=0,w=Math.round(s.count()/n[0]),k;s.each([l],function(z,B){if(w>0&&B%w){S+=b;return}var H=z==null||isNaN(z)||z==="",G=H?0:pr(z,h,d,!0);H&&!k&&B?(m.push([m[m.length-1][0],0]),y.push([y[y.length-1][0],0])):!H&&k&&(m.push([S,0]),y.push([S,0])),m.push([S,G]),y.push([S,G]),S+=b,k=H}),u=this._shadowPolygonPts=m,c=this._shadowPolylinePts=y}this._shadowData=s,this._shadowDim=l,this._shadowSize=[n[0],n[1]];var M=this.dataZoomModel;function I(z){var B=M.getModel(z?"selectedDataBackground":"dataBackground"),H=new Ct,G=new wi({shape:{points:u},segmentIgnoreThreshold:1,style:B.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),$=new Ai({shape:{points:c},segmentIgnoreThreshold:1,style:B.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return H.add(G),H.add($),H}for(var L=0;L<3;L++){var N=I(L===1);this._displayables.sliderGroup.add(N),this._displayables.dataShadowSegs.push(N)}},t.prototype._prepareDataShadowInfo=function(){var r=this.dataZoomModel,n=r.get("showDataShadow");if(n!==!1){var i,a=this.ecModel;return r.eachTargetAxis(function(s,o){var l=r.getAxisProxy(s,o).getTargetSeriesModels();q(l,function(u){if(!i&&!(n!==!0&&Ut(BFe,u.get("type"))<0)){var c=a.getComponent(Au(s),o).axis,h=jFe(s),f,d=u.coordinateSystem;h!=null&&d.getOtherAxis&&(f=d.getOtherAxis(c).inverse),h=u.getData().mapDimension(h),i={thisAxis:c,series:u,thisDim:s,otherDim:h,otherAxisInverse:f}}},this)},this),i}},t.prototype._renderHandle=function(){var r=this.group,n=this._displayables,i=n.handles=[null,null],a=n.handleLabels=[null,null],s=this._displayables.sliderGroup,o=this._size,l=this.dataZoomModel,u=this.api,c=l.get("borderRadius")||0,h=l.get("brushSelect"),f=n.filler=new fg({silent:h,style:{fill:l.get("fillerColor")},textConfig:{position:"inside"}});s.add(f),s.add(new fg({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:o[0],height:o[1],r:c},style:{stroke:l.get("dataBackgroundColor")||l.get("borderColor"),lineWidth:PFe,fill:"rgba(0,0,0,0)"}})),q([0,1],function(w){var k=l.get("handleIcon");!PS[k]&&k.indexOf("path://")<0&&k.indexOf("image://")<0&&(k="path://"+k);var M=dn(k,-1,0,2,2,null,!0);M.attr({cursor:$H(this._orient),draggable:!0,drift:rt(this._onDragMove,this,w),ondragend:rt(this._onDragEnd,this),onmouseover:rt(this._showDataInfo,this,!0),onmouseout:rt(this._showDataInfo,this,!1),z2:5});var I=M.getBoundingRect(),L=l.get("handleSize");this._handleHeight=Ze(L,this._size[1]),this._handleWidth=I.width/I.height*this._handleHeight,M.setStyle(l.getModel("handleStyle").getItemStyle()),M.style.strokeNoScale=!0,M.rectHover=!0,M.ensureState("emphasis").style=l.getModel(["emphasis","handleStyle"]).getItemStyle(),Hu(M);var N=l.get("handleColor");N!=null&&(M.style.fill=N),s.add(i[w]=M);var z=l.getModel("textStyle"),B=l.get("handleLabel")||{},H=B.show||!1;r.add(a[w]=new Qt({silent:!0,invisible:!H,style:Ir(z,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:z.getTextColor(),font:z.getFont()}),z2:10}))},this);var d=f;if(h){var v=Ze(l.get("moveHandleSize"),o[1]),m=n.moveHandle=new Jt({style:l.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:o[1]-.5,height:v}}),y=v*.8,b=n.moveHandleIcon=dn(l.get("moveHandleIcon"),-y/2,-y/2,y,y,"#fff",!0);b.silent=!0,b.y=o[1]+v/2-.5,m.ensureState("emphasis").style=l.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var S=Math.min(o[1]/2,Math.max(v,10));d=n.moveZone=new Jt({invisible:!0,shape:{y:o[1]-S,height:v+S}}),d.on("mouseover",function(){u.enterEmphasis(m)}).on("mouseout",function(){u.leaveEmphasis(m)}),s.add(m),s.add(b),s.add(d)}d.attr({draggable:!0,cursor:$H(this._orient),drift:rt(this._onDragMove,this,"all"),ondragstart:rt(this._showDataInfo,this,!0),ondragend:rt(this._onDragEnd,this),onmouseover:rt(this._showDataInfo,this,!0),onmouseout:rt(this._showDataInfo,this,!1)})},t.prototype._resetInterval=function(){var r=this._range=this.dataZoomModel.getPercentRange(),n=this._getViewExtent();this._handleEnds=[pr(r[0],[0,100],n,!0),pr(r[1],[0,100],n,!0)]},t.prototype._updateInterval=function(r,n){var i=this.dataZoomModel,a=this._handleEnds,s=this._getViewExtent(),o=i.findRepresentativeAxisProxy().getMinMaxSpan(),l=[0,100];gf(n,a,s,i.get("zoomLock")?"all":r,o.minSpan!=null?pr(o.minSpan,l,s,!0):null,o.maxSpan!=null?pr(o.maxSpan,l,s,!0):null);var u=this._range,c=this._range=Sa([pr(a[0],s,l,!0),pr(a[1],s,l,!0)]);return!u||u[0]!==c[0]||u[1]!==c[1]},t.prototype._updateView=function(r){var n=this._displayables,i=this._handleEnds,a=Sa(i.slice()),s=this._size;q([0,1],function(d){var v=n.handles[d],m=this._handleHeight;v.attr({scaleX:m/2,scaleY:m/2,x:i[d]+(d?-1:1),y:s[1]/2-m/2})},this),n.filler.setShape({x:a[0],y:0,width:a[1]-a[0],height:s[1]});var o={x:a[0],width:a[1]-a[0]};n.moveHandle&&(n.moveHandle.setShape(o),n.moveZone.setShape(o),n.moveZone.getBoundingRect(),n.moveHandleIcon&&n.moveHandleIcon.attr("x",o.x+o.width/2));for(var l=n.dataShadowSegs,u=[0,a[0],a[1],s[0]],c=0;c<l.length;c++){var h=l[c],f=h.getClipPath();f||(f=new Jt,h.setClipPath(f)),f.setShape({x:u[c],y:0,width:u[c+1]-u[c],height:s[1]})}this._updateDataInfo(r)},t.prototype._updateDataInfo=function(r){var n=this.dataZoomModel,i=this._displayables,a=i.handleLabels,s=this._orient,o=["",""];if(n.get("showDetail")){var l=n.findRepresentativeAxisProxy();if(l){var u=l.getAxisModel().axis,c=this._range,h=r?l.calculateDataWindow({start:c[0],end:c[1]}).valueWindow:l.getDataValueWindow();o=[this._formatLabel(h[0],u),this._formatLabel(h[1],u)]}}var f=Sa(this._handleEnds.slice());d.call(this,0),d.call(this,1);function d(v){var m=Vu(i.handles[v].parent,this.group),y=ww(v===0?"right":"left",m),b=this._handleWidth/2+OFe,S=zs([f[v]+(v===0?-b:b),this._size[1]/2],m);a[v].setStyle({x:S[0],y:S[1],verticalAlign:s===dg?"middle":y,align:s===dg?y:"center",text:o[v]})}},t.prototype._formatLabel=function(r,n){var i=this.dataZoomModel,a=i.get("labelFormatter"),s=i.get("labelPrecision");(s==null||s==="auto")&&(s=n.getPixelPrecision());var o=r==null||isNaN(r)?"":n.type==="category"||n.type==="time"?n.scale.getLabel({value:Math.round(r)}):r.toFixed(Math.min(s,20));return vt(a)?a(r,o):Je(a)?a.replace("{value}",o):o},t.prototype._showDataInfo=function(r){var n=this.dataZoomModel.get("handleLabel")||{},i=n.show||!1,a=this.dataZoomModel.getModel(["emphasis","handleLabel"]),s=a.get("show")||!1,o=r||this._dragging?s:i,l=this._displayables,u=l.handleLabels;u[0].attr("invisible",!o),u[1].attr("invisible",!o),l.moveHandle&&this.api[o?"enterEmphasis":"leaveEmphasis"](l.moveHandle,1)},t.prototype._onDragMove=function(r,n,i,a){this._dragging=!0,wl(a.event);var s=this._displayables.sliderGroup.getLocalTransform(),o=zs([n,i],s,!0),l=this._updateInterval(r,o[0]),u=this.dataZoomModel.get("realtime");this._updateView(!u),l&&u&&this._dispatchZoomAction(!0)},t.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);var r=this.dataZoomModel.get("realtime");!r&&this._dispatchZoomAction(!1)},t.prototype._onClickPanel=function(r){var n=this._size,i=this._displayables.sliderGroup.transformCoordToLocal(r.offsetX,r.offsetY);if(!(i[0]<0||i[0]>n[0]||i[1]<0||i[1]>n[1])){var a=this._handleEnds,s=(a[0]+a[1])/2,o=this._updateInterval("all",i[0]-s);this._updateView(),o&&this._dispatchZoomAction(!1)}},t.prototype._onBrushStart=function(r){var n=r.offsetX,i=r.offsetY;this._brushStart=new zt(n,i),this._brushing=!0,this._brushStartTime=+new Date},t.prototype._onBrushEnd=function(r){if(this._brushing){var n=this._displayables.brushRect;if(this._brushing=!1,!!n){n.attr("ignore",!0);var i=n.shape,a=+new Date;if(!(a-this._brushStartTime<200&&Math.abs(i.width)<5)){var s=this._getViewExtent(),o=[0,100];this._range=Sa([pr(i.x,s,o,!0),pr(i.x+i.width,s,o,!0)]),this._handleEnds=[i.x,i.x+i.width],this._updateView(),this._dispatchZoomAction(!1)}}}},t.prototype._onBrush=function(r){this._brushing&&(wl(r.event),this._updateBrushRect(r.offsetX,r.offsetY))},t.prototype._updateBrushRect=function(r,n){var i=this._displayables,a=this.dataZoomModel,s=i.brushRect;s||(s=i.brushRect=new fg({silent:!0,style:a.getModel("brushStyle").getItemStyle()}),i.sliderGroup.add(s)),s.attr("ignore",!1);var o=this._brushStart,l=this._displayables.sliderGroup,u=l.transformCoordToLocal(r,n),c=l.transformCoordToLocal(o.x,o.y),h=this._size;u[0]=Math.max(Math.min(h[0],u[0]),0),s.setShape({x:c[0],y:0,width:u[0]-c[0],height:h[1]})},t.prototype._dispatchZoomAction=function(r){var n=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:r?FFe:null,start:n[0],end:n[1]})},t.prototype._findCoordRect=function(){var r,n=vee(this.dataZoomModel).infoList;if(!r&&n.length){var i=n[0].model.coordinateSystem;r=i.getRect&&i.getRect()}if(!r){var a=this.api.getWidth(),s=this.api.getHeight();r={x:a*.2,y:s*.2,width:a*.6,height:s*.6}}return r},t.type="dataZoom.slider",t}(SR);function jFe(e){var t={x:"y",y:"x",radius:"angle",angle:"radius"};return t[e]}function $H(e){return e==="vertical"?"ns-resize":"ew-resize"}function Ree(e){e.registerComponentModel(NFe),e.registerComponentView(zFe),_R(e)}function HFe(e){Wt(Pee),Wt(Ree)}var Oee={get:function(e,t,r){var n=_t((VFe[e]||{})[t]);return r&&Oe(n)?n[n.length-1]:n}},VFe={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},YH=Fn.mapVisual,UFe=Fn.eachVisual,GFe=Oe,XH=q,WFe=Sa,$Fe=pr,s_=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.stateList=["inRange","outOfRange"],r.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],r.layoutMode={type:"box",ignoreSize:!0},r.dataBound=[-1/0,1/0],r.targetVisuals={},r.controllerVisuals={},r}return t.prototype.init=function(r,n,i){this.mergeDefaultAndTheme(r,i)},t.prototype.optionUpdated=function(r,n){var i=this.option;!n&&Cee(i,r,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},t.prototype.resetVisual=function(r){var n=this.stateList;r=rt(r,this),this.controllerVisuals=rM(this.option.controller,n,r),this.targetVisuals=rM(this.option.target,n,r)},t.prototype.getItemSymbol=function(){return null},t.prototype.getTargetSeriesIndices=function(){var r=this.option.seriesIndex,n=[];return r==null||r==="all"?this.ecModel.eachSeries(function(i,a){n.push(a)}):n=Tr(r),n},t.prototype.eachTargetSeries=function(r,n){q(this.getTargetSeriesIndices(),function(i){var a=this.ecModel.getSeriesByIndex(i);a&&r.call(n,a)},this)},t.prototype.isTargetSeries=function(r){var n=!1;return this.eachTargetSeries(function(i){i===r&&(n=!0)}),n},t.prototype.formatValueText=function(r,n,i){var a=this.option,s=a.precision,o=this.dataBound,l=a.formatter,u;i=i||["<",">"],Oe(r)&&(r=r.slice(),u=!0);var c=n?r:u?[h(r[0]),h(r[1])]:h(r);if(Je(l))return l.replace("{value}",u?c[0]:c).replace("{value2}",u?c[1]:c);if(vt(l))return u?l(r[0],r[1]):l(r);if(u)return r[0]===o[0]?i[0]+" "+c[1]:r[1]===o[1]?i[1]+" "+c[0]:c[0]+" - "+c[1];return c;function h(f){return f===o[0]?"min":f===o[1]?"max":(+f).toFixed(Math.min(s,20))}},t.prototype.resetExtent=function(){var r=this.option,n=WFe([r.min,r.max]);this._dataExtent=n},t.prototype.getDataDimensionIndex=function(r){var n=this.option.dimension;if(n!=null)return r.getDimensionIndex(n);for(var i=r.dimensions,a=i.length-1;a>=0;a--){var s=i[a],o=r.getDimensionInfo(s);if(!o.isCalculationCoord)return o.storeDimIndex}},t.prototype.getExtent=function(){return this._dataExtent.slice()},t.prototype.completeVisualOption=function(){var r=this.ecModel,n=this.option,i={inRange:n.inRange,outOfRange:n.outOfRange},a=n.target||(n.target={}),s=n.controller||(n.controller={});Ot(a,i),Ot(s,i);var o=this.isCategory();l.call(this,a),l.call(this,s),u.call(this,a,"inRange","outOfRange"),c.call(this,s);function l(h){GFe(n.color)&&!h.inRange&&(h.inRange={color:n.color.slice().reverse()}),h.inRange=h.inRange||{color:r.get("gradientColor")}}function u(h,f,d){var v=h[f],m=h[d];v&&!m&&(m=h[d]={},XH(v,function(y,b){if(Fn.isValidType(b)){var S=Oee.get(b,"inactive",o);S!=null&&(m[b]=S,b==="color"&&!m.hasOwnProperty("opacity")&&!m.hasOwnProperty("colorAlpha")&&(m.opacity=[0,0]))}}))}function c(h){var f=(h.inRange||{}).symbol||(h.outOfRange||{}).symbol,d=(h.inRange||{}).symbolSize||(h.outOfRange||{}).symbolSize,v=this.get("inactiveColor"),m=this.getItemSymbol(),y=m||"roundRect";XH(this.stateList,function(b){var S=this.itemSize,w=h[b];w||(w=h[b]={color:o?v:[v]}),w.symbol==null&&(w.symbol=f&&_t(f)||(o?y:[y])),w.symbolSize==null&&(w.symbolSize=d&&_t(d)||(o?S[0]:[S[0],S[0]])),w.symbol=YH(w.symbol,function(I){return I==="none"?y:I});var k=w.symbolSize;if(k!=null){var M=-1/0;UFe(k,function(I){I>M&&(M=I)}),w.symbolSize=YH(k,function(I){return $Fe(I,[0,M],[0,S[0]],!0)})}},this)}},t.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},t.prototype.isCategory=function(){return!!this.option.categories},t.prototype.setSelected=function(r){},t.prototype.getSelected=function(){return null},t.prototype.getValueState=function(r){return null},t.prototype.getVisualMeta=function(r){return null},t.type="visualMap",t.dependencies=["series"],t.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},t}(Yt),qH=[20,140],YFe=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.optionUpdated=function(r,n){e.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(i){i.mappingMethod="linear",i.dataExtent=this.getExtent()}),this._resetRange()},t.prototype.resetItemSize=function(){e.prototype.resetItemSize.apply(this,arguments);var r=this.itemSize;(r[0]==null||isNaN(r[0]))&&(r[0]=qH[0]),(r[1]==null||isNaN(r[1]))&&(r[1]=qH[1])},t.prototype._resetRange=function(){var r=this.getExtent(),n=this.option.range;!n||n.auto?(r.auto=1,this.option.range=r):Oe(n)&&(n[0]>n[1]&&n.reverse(),n[0]=Math.max(n[0],r[0]),n[1]=Math.min(n[1],r[1]))},t.prototype.completeVisualOption=function(){e.prototype.completeVisualOption.apply(this,arguments),q(this.stateList,function(r){var n=this.option.controller[r].symbolSize;n&&n[0]!==n[1]&&(n[0]=n[1]/3)},this)},t.prototype.setSelected=function(r){this.option.range=r.slice(),this._resetRange()},t.prototype.getSelected=function(){var r=this.getExtent(),n=Sa((this.get("range")||[]).slice());return n[0]>r[1]&&(n[0]=r[1]),n[1]>r[1]&&(n[1]=r[1]),n[0]<r[0]&&(n[0]=r[0]),n[1]<r[0]&&(n[1]=r[0]),n},t.prototype.getValueState=function(r){var n=this.option.range,i=this.getExtent();return(n[0]<=i[0]||n[0]<=r)&&(n[1]>=i[1]||r<=n[1])?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(r){var n=[];return this.eachTargetSeries(function(i){var a=[],s=i.getData();s.each(this.getDataDimensionIndex(s),function(o,l){r[0]<=o&&o<=r[1]&&a.push(l)},this),n.push({seriesId:i.id,dataIndex:a})},this),n},t.prototype.getVisualMeta=function(r){var n=KH(this,"outOfRange",this.getExtent()),i=KH(this,"inRange",this.option.range.slice()),a=[];function s(d,v){a.push({value:d,color:r(d,v)})}for(var o=0,l=0,u=i.length,c=n.length;l<c&&(!i.length||n[l]<=i[0]);l++)n[l]<i[o]&&s(n[l],"outOfRange");for(var h=1;o<u;o++,h=0)h&&a.length&&s(i[o],"outOfRange"),s(i[o],"inRange");for(var h=1;l<c;l++)(!i.length||i[i.length-1]<n[l])&&(h&&(a.length&&s(a[a.length-1].value,"outOfRange"),h=0),s(n[l],"outOfRange"));var f=a.length;return{stops:a,outerColors:[f?a[0].color:"transparent",f?a[f-1].color:"transparent"]}},t.type="visualMap.continuous",t.defaultOption=fc(s_.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),t}(s_);function KH(e,t,r){if(r[0]===r[1])return r.slice();for(var n=200,i=(r[1]-r[0])/n,a=r[0],s=[],o=0;o<=n&&a<r[1];o++)s.push(a),a+=i;return s.push(r[1]),s}var Bee=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r.autoPositionValues={left:1,right:1,top:1,bottom:1},r}return t.prototype.init=function(r,n){this.ecModel=r,this.api=n},t.prototype.render=function(r,n,i,a){if(this.visualMapModel=r,r.get("show")===!1){this.group.removeAll();return}this.doRender(r,n,i,a)},t.prototype.renderBackground=function(r){var n=this.visualMapModel,i=ff(n.get("padding")||0),a=r.getBoundingRect();r.add(new Jt({z2:-1,silent:!0,shape:{x:a.x-i[3],y:a.y-i[0],width:a.width+i[3]+i[1],height:a.height+i[0]+i[2]},style:{fill:n.get("backgroundColor"),stroke:n.get("borderColor"),lineWidth:n.get("borderWidth")}}))},t.prototype.getControllerVisual=function(r,n,i){i=i||{};var a=i.forceState,s=this.visualMapModel,o={};if(n==="color"){var l=s.get("contentColor");o.color=l}function u(d){return o[d]}function c(d,v){o[d]=v}var h=s.controllerVisuals[a||s.getValueState(r)],f=Fn.prepareVisualTypes(h);return q(f,function(d){var v=h[d];i.convertOpacityToAlpha&&d==="opacity"&&(d="colorAlpha",v=h.__alphaForOpacity),Fn.dependsOn(d,n)&&v&&v.applyVisual(r,u,c)}),o[n]},t.prototype.positionGroup=function(r){var n=this.visualMapModel,i=this.api;Iw(r,n.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()})},t.prototype.doRender=function(r,n,i,a){},t.type="visualMap",t}(Nr),ZH=[["left","right","width"],["top","bottom","height"]];function Fee(e,t,r){var n=e.option,i=n.align;if(i!=null&&i!=="auto")return i;for(var a={width:t.getWidth(),height:t.getHeight()},s=n.orient==="horizontal"?1:0,o=ZH[s],l=[0,null,10],u={},c=0;c<3;c++)u[ZH[1-s][c]]=l[c],u[o[c]]=c===2?r[0]:n[o[c]];var h=[["x","width",3],["y","height",0]][s],f=Sn(u,a,n.padding);return o[(f.margin[h[2]]||0)+f[h[0]]+f[h[1]]*.5<a[h[1]]*.5?0:1]}function Ab(e,t){return q(e||[],function(r){r.dataIndex!=null&&(r.dataIndexInside=r.dataIndex,r.dataIndex=null),r.highlightKey="visualMap"+(t?t.componentIndex:"")}),e}var fo=pr,XFe=q,QH=Math.min,RA=Math.max,qFe=12,KFe=6,ZFe=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r._shapes={},r._dataInterval=[],r._handleEnds=[],r._hoverLinkDataIndices=[],r}return t.prototype.init=function(r,n){e.prototype.init.call(this,r,n),this._hoverLinkFromSeriesMouseOver=rt(this._hoverLinkFromSeriesMouseOver,this),this._hideIndicator=rt(this._hideIndicator,this)},t.prototype.doRender=function(r,n,i,a){(!a||a.type!=="selectDataRange"||a.from!==this.uid)&&this._buildView()},t.prototype._buildView=function(){this.group.removeAll();var r=this.visualMapModel,n=this.group;this._orient=r.get("orient"),this._useHandle=r.get("calculable"),this._resetInterval(),this._renderBar(n);var i=r.get("text");this._renderEndsText(n,i,0),this._renderEndsText(n,i,1),this._updateView(!0),this.renderBackground(n),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(n)},t.prototype._renderEndsText=function(r,n,i){if(n){var a=n[1-i];a=a!=null?a+"":"";var s=this.visualMapModel,o=s.get("textGap"),l=s.itemSize,u=this._shapes.mainGroup,c=this._applyTransform([l[0]/2,i===0?-o:l[1]+o],u),h=this._applyTransform(i===0?"bottom":"top",u),f=this._orient,d=this.visualMapModel.textStyleModel;this.group.add(new Qt({style:Ir(d,{x:c[0],y:c[1],verticalAlign:f==="horizontal"?"middle":h,align:f==="horizontal"?h:"center",text:a})}))}},t.prototype._renderBar=function(r){var n=this.visualMapModel,i=this._shapes,a=n.itemSize,s=this._orient,o=this._useHandle,l=Fee(n,this.api,a),u=i.mainGroup=this._createBarGroup(l),c=new Ct;u.add(c),c.add(i.outOfRange=JH()),c.add(i.inRange=JH(null,o?t7(this._orient):null,rt(this._dragHandle,this,"all",!1),rt(this._dragHandle,this,"all",!0))),c.setClipPath(new Jt({shape:{x:0,y:0,width:a[0],height:a[1],r:3}}));var h=n.textStyleModel.getTextRect(""),f=RA(h.width,h.height);o&&(i.handleThumbs=[],i.handleLabels=[],i.handleLabelPoints=[],this._createHandle(n,u,0,a,f,s),this._createHandle(n,u,1,a,f,s)),this._createIndicator(n,u,a,f,s),r.add(u)},t.prototype._createHandle=function(r,n,i,a,s,o){var l=rt(this._dragHandle,this,i,!1),u=rt(this._dragHandle,this,i,!0),c=Us(r.get("handleSize"),a[0]),h=dn(r.get("handleIcon"),-c/2,-c/2,c,c,null,!0),f=t7(this._orient);h.attr({cursor:f,draggable:!0,drift:l,ondragend:u,onmousemove:function(b){wl(b.event)}}),h.x=a[0]/2,h.useStyle(r.getModel("handleStyle").getItemStyle()),h.setStyle({strokeNoScale:!0,strokeFirst:!0}),h.style.lineWidth*=2,h.ensureState("emphasis").style=r.getModel(["emphasis","handleStyle"]).getItemStyle(),xh(h,!0),n.add(h);var d=this.visualMapModel.textStyleModel,v=new Qt({cursor:f,draggable:!0,drift:l,onmousemove:function(b){wl(b.event)},ondragend:u,style:Ir(d,{x:0,y:0,text:""})});v.ensureState("blur").style={opacity:.1},v.stateTransition={duration:200},this.group.add(v);var m=[c,0],y=this._shapes;y.handleThumbs[i]=h,y.handleLabelPoints[i]=m,y.handleLabels[i]=v},t.prototype._createIndicator=function(r,n,i,a,s){var o=Us(r.get("indicatorSize"),i[0]),l=dn(r.get("indicatorIcon"),-o/2,-o/2,o,o,null,!0);l.attr({cursor:"move",invisible:!0,silent:!0,x:i[0]/2});var u=r.getModel("indicatorStyle").getItemStyle();if(l instanceof Vn){var c=l.style;l.useStyle(Ne({image:c.image,x:c.x,y:c.y,width:c.width,height:c.height},u))}else l.useStyle(u);n.add(l);var h=this.visualMapModel.textStyleModel,f=new Qt({silent:!0,invisible:!0,style:Ir(h,{x:0,y:0,text:""})});this.group.add(f);var d=[(s==="horizontal"?a/2:KFe)+i[0]/2,0],v=this._shapes;v.indicator=l,v.indicatorLabel=f,v.indicatorLabelPoint=d,this._firstShowIndicator=!0},t.prototype._dragHandle=function(r,n,i,a){if(this._useHandle){if(this._dragging=!n,!n){var s=this._applyTransform([i,a],this._shapes.mainGroup,!0);this._updateInterval(r,s[1]),this._hideIndicator(),this._updateView()}n===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),n?!this._hovering&&this._clearHoverLinkToSeries():e7(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[r],!1)}},t.prototype._resetInterval=function(){var r=this.visualMapModel,n=this._dataInterval=r.getSelected(),i=r.getExtent(),a=[0,r.itemSize[1]];this._handleEnds=[fo(n[0],i,a,!0),fo(n[1],i,a,!0)]},t.prototype._updateInterval=function(r,n){n=n||0;var i=this.visualMapModel,a=this._handleEnds,s=[0,i.itemSize[1]];gf(n,a,s,r,0);var o=i.getExtent();this._dataInterval=[fo(a[0],s,o,!0),fo(a[1],s,o,!0)]},t.prototype._updateView=function(r){var n=this.visualMapModel,i=n.getExtent(),a=this._shapes,s=[0,n.itemSize[1]],o=r?s:this._handleEnds,l=this._createBarVisual(this._dataInterval,i,o,"inRange"),u=this._createBarVisual(i,i,s,"outOfRange");a.inRange.setStyle({fill:l.barColor}).setShape("points",l.barPoints),a.outOfRange.setStyle({fill:u.barColor}).setShape("points",u.barPoints),this._updateHandle(o,l)},t.prototype._createBarVisual=function(r,n,i,a){var s={forceState:a,convertOpacityToAlpha:!0},o=this._makeColorGradient(r,s),l=[this.getControllerVisual(r[0],"symbolSize",s),this.getControllerVisual(r[1],"symbolSize",s)],u=this._createBarPoints(i,l);return{barColor:new Fp(0,0,0,1,o),barPoints:u,handlesColor:[o[0].color,o[o.length-1].color]}},t.prototype._makeColorGradient=function(r,n){var i=100,a=[],s=(r[1]-r[0])/i;a.push({color:this.getControllerVisual(r[0],"color",n),offset:0});for(var o=1;o<i;o++){var l=r[0]+s*o;if(l>r[1])break;a.push({color:this.getControllerVisual(l,"color",n),offset:o/i})}return a.push({color:this.getControllerVisual(r[1],"color",n),offset:1}),a},t.prototype._createBarPoints=function(r,n){var i=this.visualMapModel.itemSize;return[[i[0]-n[0],r[0]],[i[0],r[0]],[i[0],r[1]],[i[0]-n[1],r[1]]]},t.prototype._createBarGroup=function(r){var n=this._orient,i=this.visualMapModel.get("inverse");return new Ct(n==="horizontal"&&!i?{scaleX:r==="bottom"?1:-1,rotation:Math.PI/2}:n==="horizontal"&&i?{scaleX:r==="bottom"?-1:1,rotation:-Math.PI/2}:n==="vertical"&&!i?{scaleX:r==="left"?1:-1,scaleY:-1}:{scaleX:r==="left"?1:-1})},t.prototype._updateHandle=function(r,n){if(this._useHandle){var i=this._shapes,a=this.visualMapModel,s=i.handleThumbs,o=i.handleLabels,l=a.itemSize,u=a.getExtent(),c=this._applyTransform("left",i.mainGroup);XFe([0,1],function(h){var f=s[h];f.setStyle("fill",n.handlesColor[h]),f.y=r[h];var d=fo(r[h],[0,l[1]],u,!0),v=this.getControllerVisual(d,"symbolSize");f.scaleX=f.scaleY=v/l[0],f.x=l[0]-v/2;var m=zs(i.handleLabelPoints[h],Vu(f,this.group));if(this._orient==="horizontal"){var y=c==="left"||c==="top"?(l[0]-v)/2:(l[0]-v)/-2;m[1]+=y}o[h].setStyle({x:m[0],y:m[1],text:a.formatValueText(this._dataInterval[h]),verticalAlign:"middle",align:this._orient==="vertical"?this._applyTransform("left",i.mainGroup):"center"})},this)}},t.prototype._showIndicator=function(r,n,i,a){var s=this.visualMapModel,o=s.getExtent(),l=s.itemSize,u=[0,l[1]],c=this._shapes,h=c.indicator;if(h){h.attr("invisible",!1);var f={convertOpacityToAlpha:!0},d=this.getControllerVisual(r,"color",f),v=this.getControllerVisual(r,"symbolSize"),m=fo(r,o,u,!0),y=l[0]-v/2,b={x:h.x,y:h.y};h.y=m,h.x=y;var S=zs(c.indicatorLabelPoint,Vu(h,this.group)),w=c.indicatorLabel;w.attr("invisible",!1);var k=this._applyTransform("left",c.mainGroup),M=this._orient,I=M==="horizontal";w.setStyle({text:(i||"")+s.formatValueText(n),verticalAlign:I?k:"middle",align:I?"center":k});var L={x:y,y:m,style:{fill:d}},N={style:{x:S[0],y:S[1]}};if(s.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var z={duration:100,easing:"cubicInOut",additive:!0};h.x=b.x,h.y=b.y,h.animateTo(L,z),w.animateTo(N,z)}else h.attr(L),w.attr(N);this._firstShowIndicator=!1;var B=this._shapes.handleLabels;if(B)for(var H=0;H<B.length;H++)this.api.enterBlur(B[H])}},t.prototype._enableHoverLinkToSeries=function(){var r=this;this._shapes.mainGroup.on("mousemove",function(n){if(r._hovering=!0,!r._dragging){var i=r.visualMapModel.itemSize,a=r._applyTransform([n.offsetX,n.offsetY],r._shapes.mainGroup,!0,!0);a[1]=QH(RA(0,a[1]),i[1]),r._doHoverLinkToSeries(a[1],0<=a[0]&&a[0]<=i[0])}}).on("mouseout",function(){r._hovering=!1,!r._dragging&&r._clearHoverLinkToSeries()})},t.prototype._enableHoverLinkFromSeries=function(){var r=this.api.getZr();this.visualMapModel.option.hoverLink?(r.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),r.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},t.prototype._doHoverLinkToSeries=function(r,n){var i=this.visualMapModel,a=i.itemSize;if(i.option.hoverLink){var s=[0,a[1]],o=i.getExtent();r=QH(RA(s[0],r),s[1]);var l=QFe(i,o,s),u=[r-l,r+l],c=fo(r,s,o,!0),h=[fo(u[0],s,o,!0),fo(u[1],s,o,!0)];u[0]<s[0]&&(h[0]=-1/0),u[1]>s[1]&&(h[1]=1/0),n&&(h[0]===-1/0?this._showIndicator(c,h[1],"< ",l):h[1]===1/0?this._showIndicator(c,h[0],"> ",l):this._showIndicator(c,c," ",l));var f=this._hoverLinkDataIndices,d=[];(n||e7(i))&&(d=this._hoverLinkDataIndices=i.findTargetDataIndices(h));var v=GTe(f,d);this._dispatchHighDown("downplay",Ab(v[0],i)),this._dispatchHighDown("highlight",Ab(v[1],i))}},t.prototype._hoverLinkFromSeriesMouseOver=function(r){var n;if(Sh(r.target,function(l){var u=It(l);if(u.dataIndex!=null)return n=u,!0},!0),!!n){var i=this.ecModel.getSeriesByIndex(n.seriesIndex),a=this.visualMapModel;if(a.isTargetSeries(i)){var s=i.getData(n.dataType),o=s.getStore().get(a.getDataDimensionIndex(s),n.dataIndex);isNaN(o)||this._showIndicator(o,o)}}},t.prototype._hideIndicator=function(){var r=this._shapes;r.indicator&&r.indicator.attr("invisible",!0),r.indicatorLabel&&r.indicatorLabel.attr("invisible",!0);var n=this._shapes.handleLabels;if(n)for(var i=0;i<n.length;i++)this.api.leaveBlur(n[i])},t.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var r=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",Ab(r,this.visualMapModel)),r.length=0},t.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var r=this.api.getZr();r.off("mouseover",this._hoverLinkFromSeriesMouseOver),r.off("mouseout",this._hideIndicator)},t.prototype._applyTransform=function(r,n,i,a){var s=Vu(n,a?null:this.group);return Oe(r)?zs(r,s,i):ww(r,s,i)},t.prototype._dispatchHighDown=function(r,n){n&&n.length&&this.api.dispatchAction({type:r,batch:n})},t.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},t.type="visualMap.continuous",t}(Bee);function JH(e,t,r,n){return new wi({shape:{points:e},draggable:!!r,cursor:t,drift:r,onmousemove:function(i){wl(i.event)},ondragend:n})}function QFe(e,t,r){var n=qFe/2,i=e.get("hoverLinkDataSize");return i&&(n=fo(i,t,r,!0)/2),n}function e7(e){var t=e.get("hoverLinkOnHandle");return!!(t??e.get("realtime"))}function t7(e){return e==="vertical"?"ns-resize":"ew-resize"}var JFe={type:"selectDataRange",event:"dataRangeSelected",update:"update"},e8e=function(e,t){t.eachComponent({mainType:"visualMap",query:e},function(r){r.setSelected(e.selected)})},t8e=[{createOnAllSeries:!0,reset:function(e,t){var r=[];return t.eachComponent("visualMap",function(n){var i=e.pipelineContext;!n.isTargetSeries(e)||i&&i.large||r.push(wBe(n.stateList,n.targetVisuals,rt(n.getValueState,n),n.getDataDimensionIndex(e.getData())))}),r}},{createOnAllSeries:!0,reset:function(e,t){var r=e.getData(),n=[];t.eachComponent("visualMap",function(i){if(i.isTargetSeries(e)){var a=i.getVisualMeta(rt(r8e,null,e,i))||{stops:[],outerColors:[]},s=i.getDataDimensionIndex(r);s>=0&&(a.dimension=s,n.push(a))}}),e.getData().setVisual("visualMeta",n)}}];function r8e(e,t,r,n){for(var i=t.targetVisuals[n],a=Fn.prepareVisualTypes(i),s={color:ty(e.getData(),"color")},o=0,l=a.length;o<l;o++){var u=a[o],c=i[u==="opacity"?"__alphaForOpacity":u];c&&c.applyVisual(r,h,f)}return s.color;function h(d){return s[d]}function f(d,v){s[d]=v}}var r7=q;function n8e(e){var t=e&&e.visualMap;Oe(t)||(t=t?[t]:[]),r7(t,function(r){if(r){Jf(r,"splitList")&&!Jf(r,"pieces")&&(r.pieces=r.splitList,delete r.splitList);var n=r.pieces;n&&Oe(n)&&r7(n,function(i){St(i)&&(Jf(i,"start")&&!Jf(i,"min")&&(i.min=i.start),Jf(i,"end")&&!Jf(i,"max")&&(i.max=i.end))})}})}function Jf(e,t){return e&&e.hasOwnProperty&&e.hasOwnProperty(t)}var n7=!1;function zee(e){n7||(n7=!0,e.registerSubTypeDefaulter("visualMap",function(t){return!t.categories&&(!(t.pieces?t.pieces.length>0:t.splitNumber>0)||t.calculable)?"continuous":"piecewise"}),e.registerAction(JFe,e8e),q(t8e,function(t){e.registerVisual(e.PRIORITY.VISUAL.COMPONENT,t)}),e.registerPreprocessor(n8e))}function jee(e){e.registerComponentModel(YFe),e.registerComponentView(ZFe),zee(e)}var i8e=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r._pieceList=[],r}return t.prototype.optionUpdated=function(r,n){e.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var i=this._mode=this._determineMode();this._pieceList=[],a8e[this._mode].call(this,this._pieceList),this._resetSelected(r,n);var a=this.option.categories;this.resetVisual(function(s,o){i==="categories"?(s.mappingMethod="category",s.categories=_t(a)):(s.dataExtent=this.getExtent(),s.mappingMethod="piecewise",s.pieceList=Fe(this._pieceList,function(l){return l=_t(l),o!=="inRange"&&(l.visual=null),l}))})},t.prototype.completeVisualOption=function(){var r=this.option,n={},i=Fn.listVisualTypes(),a=this.isCategory();q(r.pieces,function(o){q(i,function(l){o.hasOwnProperty(l)&&(n[l]=1)})}),q(n,function(o,l){var u=!1;q(this.stateList,function(c){u=u||s(r,c,l)||s(r.target,c,l)},this),!u&&q(this.stateList,function(c){(r[c]||(r[c]={}))[l]=Oee.get(l,c==="inRange"?"active":"inactive",a)})},this);function s(o,l,u){return o&&o[l]&&o[l].hasOwnProperty(u)}e.prototype.completeVisualOption.apply(this,arguments)},t.prototype._resetSelected=function(r,n){var i=this.option,a=this._pieceList,s=(n?i:r).selected||{};if(i.selected=s,q(a,function(l,u){var c=this.getSelectedMapKey(l);s.hasOwnProperty(c)||(s[c]=!0)},this),i.selectedMode==="single"){var o=!1;q(a,function(l,u){var c=this.getSelectedMapKey(l);s[c]&&(o?s[c]=!1:o=!0)},this)}},t.prototype.getItemSymbol=function(){return this.get("itemSymbol")},t.prototype.getSelectedMapKey=function(r){return this._mode==="categories"?r.value+"":r.index+""},t.prototype.getPieceList=function(){return this._pieceList},t.prototype._determineMode=function(){var r=this.option;return r.pieces&&r.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},t.prototype.setSelected=function(r){this.option.selected=_t(r)},t.prototype.getValueState=function(r){var n=Fn.findPieceIndex(r,this._pieceList);return n!=null&&this.option.selected[this.getSelectedMapKey(this._pieceList[n])]?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(r){var n=[],i=this._pieceList;return this.eachTargetSeries(function(a){var s=[],o=a.getData();o.each(this.getDataDimensionIndex(o),function(l,u){var c=Fn.findPieceIndex(l,i);c===r&&s.push(u)},this),n.push({seriesId:a.id,dataIndex:s})},this),n},t.prototype.getRepresentValue=function(r){var n;if(this.isCategory())n=r.value;else if(r.value!=null)n=r.value;else{var i=r.interval||[];n=i[0]===-1/0&&i[1]===1/0?0:(i[0]+i[1])/2}return n},t.prototype.getVisualMeta=function(r){if(this.isCategory())return;var n=[],i=["",""],a=this;function s(c,h){var f=a.getRepresentValue({interval:c});h||(h=a.getValueState(f));var d=r(f,h);c[0]===-1/0?i[0]=d:c[1]===1/0?i[1]=d:n.push({value:c[0],color:d},{value:c[1],color:d})}var o=this._pieceList.slice();if(!o.length)o.push({interval:[-1/0,1/0]});else{var l=o[0].interval[0];l!==-1/0&&o.unshift({interval:[-1/0,l]}),l=o[o.length-1].interval[1],l!==1/0&&o.push({interval:[l,1/0]})}var u=-1/0;return q(o,function(c){var h=c.interval;h&&(h[0]>u&&s([u,h[0]],"outOfRange"),s(h.slice()),u=h[1])},this),{stops:n,outerColors:i}},t.type="visualMap.piecewise",t.defaultOption=fc(s_.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),t}(s_),a8e={splitNumber:function(e){var t=this.option,r=Math.min(t.precision,20),n=this.getExtent(),i=t.splitNumber;i=Math.max(parseInt(i,10),1),t.splitNumber=i;for(var a=(n[1]-n[0])/i;+a.toFixed(r)!==a&&r<5;)r++;t.precision=r,a=+a.toFixed(r),t.minOpen&&e.push({interval:[-1/0,n[0]],close:[0,0]});for(var s=0,o=n[0];s<i;o+=a,s++){var l=s===i-1?n[1]:o+a;e.push({interval:[o,l],close:[1,1]})}t.maxOpen&&e.push({interval:[n[1],1/0],close:[0,0]}),WI(e),q(e,function(u,c){u.index=c,u.text=this.formatValueText(u.interval)},this)},categories:function(e){var t=this.option;q(t.categories,function(r){e.push({text:this.formatValueText(r,!0),value:r})},this),i7(t,e)},pieces:function(e){var t=this.option;q(t.pieces,function(r,n){St(r)||(r={value:r});var i={text:"",index:n};if(r.label!=null&&(i.text=r.label),r.hasOwnProperty("value")){var a=i.value=r.value;i.interval=[a,a],i.close=[1,1]}else{for(var s=i.interval=[],o=i.close=[0,0],l=[1,0,1],u=[-1/0,1/0],c=[],h=0;h<2;h++){for(var f=[["gte","gt","min"],["lte","lt","max"]][h],d=0;d<3&&s[h]==null;d++)s[h]=r[f[d]],o[h]=l[d],c[h]=d===2;s[h]==null&&(s[h]=u[h])}c[0]&&s[1]===1/0&&(o[0]=0),c[1]&&s[0]===-1/0&&(o[1]=0),s[0]===s[1]&&o[0]&&o[1]&&(i.value=s[0])}i.visual=Fn.retrieveVisuals(r),e.push(i)},this),i7(t,e),WI(e),q(e,function(r){var n=r.close,i=[["<",""][n[1]],[">",""][n[0]]];r.text=r.text||this.formatValueText(r.value!=null?r.value:r.interval,!1,i)},this)}};function i7(e,t){var r=e.inverse;(e.orient==="vertical"?!r:r)&&t.reverse()}var s8e=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=t.type,r}return t.prototype.doRender=function(){var r=this.group;r.removeAll();var n=this.visualMapModel,i=n.get("textGap"),a=n.textStyleModel,s=a.getFont(),o=a.getTextColor(),l=this._getItemAlign(),u=n.itemSize,c=this._getViewData(),h=c.endsText,f=On(n.get("showLabel",!0),!h),d=!n.get("selectedMode");h&&this._renderEndsText(r,h[0],u,f,l),q(c.viewPieceList,function(v){var m=v.piece,y=new Ct;y.onclick=rt(this._onItemClick,this,m),this._enableHoverLink(y,v.indexInModelPieceList);var b=n.getRepresentValue(m);if(this._createItemSymbol(y,b,[0,0,u[0],u[1]],d),f){var S=this.visualMapModel.getValueState(b);y.add(new Qt({style:{x:l==="right"?-i:u[0]+i,y:u[1]/2,text:m.text,verticalAlign:"middle",align:l,font:s,fill:o,opacity:S==="outOfRange"?.5:1},silent:d}))}r.add(y)},this),h&&this._renderEndsText(r,h[1],u,f,l),Ph(n.get("orient"),r,n.get("itemGap")),this.renderBackground(r),this.positionGroup(r)},t.prototype._enableHoverLink=function(r,n){var i=this;r.on("mouseover",function(){return a("highlight")}).on("mouseout",function(){return a("downplay")});var a=function(s){var o=i.visualMapModel;o.option.hoverLink&&i.api.dispatchAction({type:s,batch:Ab(o.findTargetDataIndices(n),o)})}},t.prototype._getItemAlign=function(){var r=this.visualMapModel,n=r.option;if(n.orient==="vertical")return Fee(r,this.api,r.itemSize);var i=n.align;return(!i||i==="auto")&&(i="left"),i},t.prototype._renderEndsText=function(r,n,i,a,s){if(n){var o=new Ct,l=this.visualMapModel.textStyleModel;o.add(new Qt({style:Ir(l,{x:a?s==="right"?i[0]:0:i[0]/2,y:i[1]/2,verticalAlign:"middle",align:a?s:"center",text:n})})),r.add(o)}},t.prototype._getViewData=function(){var r=this.visualMapModel,n=Fe(r.getPieceList(),function(o,l){return{piece:o,indexInModelPieceList:l}}),i=r.get("text"),a=r.get("orient"),s=r.get("inverse");return(a==="horizontal"?s:!s)?n.reverse():i&&(i=i.slice().reverse()),{viewPieceList:n,endsText:i}},t.prototype._createItemSymbol=function(r,n,i,a){var s=dn(this.getControllerVisual(n,"symbol"),i[0],i[1],i[2],i[3],this.getControllerVisual(n,"color"));s.silent=a,r.add(s)},t.prototype._onItemClick=function(r){var n=this.visualMapModel,i=n.option,a=i.selectedMode;if(a){var s=_t(i.selected),o=n.getSelectedMapKey(r);a==="single"||a===!0?(s[o]=!0,q(s,function(l,u){s[u]=u===o})):s[o]=!s[o],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:s})}},t.type="visualMap.piecewise",t}(Bee);function Hee(e){e.registerComponentModel(i8e),e.registerComponentView(s8e),zee(e)}function o8e(e){Wt(jee),Wt(Hee)}var l8e={label:{enabled:!0},decal:{show:!1}},a7=tr(),u8e={};function c8e(e,t){var r=e.getModel("aria");if(!r.get("enabled"))return;var n=_t(l8e);Ot(n.label,e.getLocaleModel().get("aria"),!1),Ot(r.option,n,!1),i(),a();function i(){var u=r.getModel("decal"),c=u.get("show");if(c){var h=ct();e.eachSeries(function(f){if(!f.isColorBySeries()){var d=h.get(f.type);d||(d={},h.set(f.type,d)),a7(f).scope=d}}),e.eachRawSeries(function(f){if(e.isSeriesFiltered(f))return;if(vt(f.enableAriaDecal)){f.enableAriaDecal();return}var d=f.getData();if(f.isColorBySeries()){var S=oD(f.ecModel,f.name,u8e,e.getSeriesCount()),w=d.getVisual("decal");d.setVisual("decal",k(w,S))}else{var v=f.getRawData(),m={},y=a7(f).scope;d.each(function(M){var I=d.getRawIndex(M);m[I]=M});var b=v.count();v.each(function(M){var I=m[M],L=v.getName(M)||M+"",N=oD(f.ecModel,L,y,b),z=d.getItemVisual(I,"decal");d.setItemVisual(I,"decal",k(z,N))})}function k(M,I){var L=M?Ne(Ne({},I),M):I;return L.dirty=!0,L}})}}function a(){var u=t.getZr().dom;if(u){var c=e.getLocaleModel().get("aria"),h=r.getModel("label");if(h.option=yt(h.option,c),!!h.get("enabled")){if(u.setAttribute("role","img"),h.get("description")){u.setAttribute("aria-label",h.get("description"));return}var f=e.getSeriesCount(),d=h.get(["data","maxCount"])||10,v=h.get(["series","maxCount"])||10,m=Math.min(f,v),y;if(!(f<1)){var b=o();if(b){var S=h.get(["general","withTitle"]);y=s(S,{title:b})}else y=h.get(["general","withoutTitle"]);var w=[],k=f>1?h.get(["series","multiple","prefix"]):h.get(["series","single","prefix"]);y+=s(k,{seriesCount:f}),e.eachSeries(function(N,z){if(z<m){var B=void 0,H=N.get("name"),G=H?"withName":"withoutName";B=f>1?h.get(["series","multiple",G]):h.get(["series","single",G]),B=s(B,{seriesId:N.seriesIndex,seriesName:N.get("name"),seriesType:l(N.subType)});var $=N.getData();if($.count()>d){var W=h.get(["data","partialData"]);B+=s(W,{displayCnt:d})}else B+=h.get(["data","allData"]);for(var X=h.get(["data","separator","middle"]),ee=h.get(["data","separator","end"]),le=h.get(["data","excludeDimensionId"]),ie=[],fe=0;fe<$.count();fe++)if(fe<d){var re=$.getName(fe),me=le?lr($.getValues(fe),function(te,ue){return Ut(le,ue)===-1}):$.getValues(fe),J=h.get(["data",re?"withName":"withoutName"]);ie.push(s(J,{name:re,value:me.join(X)}))}B+=ie.join(X)+ee,w.push(B)}});var M=h.getModel(["series","multiple","separator"]),I=M.get("middle"),L=M.get("end");y+=w.join(I)+L,u.setAttribute("aria-label",y)}}}}function s(u,c){if(!Je(u))return u;var h=u;return q(c,function(f,d){h=h.replace(new RegExp("\\{\\s*"+d+"\\s*\\}","g"),f)}),h}function o(){var u=e.get("title");return u&&u.length&&(u=u[0]),u&&u.text}function l(u){var c=e.getLocaleModel().get(["series","typeNames"]);return c[u]||c.chart}}function h8e(e){if(!(!e||!e.aria)){var t=e.aria;t.show!=null&&(t.enabled=t.show),t.label=t.label||{},q(["description","general","series","data"],function(r){t[r]!=null&&(t.label[r]=t[r])})}}function f8e(e){e.registerPreprocessor(h8e),e.registerVisual(e.PRIORITY.VISUAL.ARIA,c8e)}var s7={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},d8e=function(){function e(t){var r=this._condVal=Je(t)?new RegExp(t):fX(t)?t:null;if(r==null){var n="";vr(n)}}return e.prototype.evaluate=function(t){var r=typeof t;return Je(r)?this._condVal.test(t):ar(r)?this._condVal.test(t+""):!1},e}(),p8e=function(){function e(){}return e.prototype.evaluate=function(){return this.value},e}(),v8e=function(){function e(){}return e.prototype.evaluate=function(){for(var t=this.children,r=0;r<t.length;r++)if(!t[r].evaluate())return!1;return!0},e}(),g8e=function(){function e(){}return e.prototype.evaluate=function(){for(var t=this.children,r=0;r<t.length;r++)if(t[r].evaluate())return!0;return!1},e}(),m8e=function(){function e(){}return e.prototype.evaluate=function(){return!this.child.evaluate()},e}(),y8e=function(){function e(){}return e.prototype.evaluate=function(){for(var t=!!this.valueParser,r=this.getValue,n=r(this.valueGetterParam),i=t?this.valueParser(n):null,a=0;a<this.subCondList.length;a++)if(!this.subCondList[a].evaluate(t?i:n))return!1;return!0},e}();function MR(e,t){if(e===!0||e===!1){var r=new p8e;return r.value=e,r}var n="";return Vee(e)||vr(n),e.and?o7("and",e,t):e.or?o7("or",e,t):e.not?x8e(e,t):b8e(e,t)}function o7(e,t,r){var n=t[e],i="";Oe(n)||vr(i),n.length||vr(i);var a=e==="and"?new v8e:new g8e;return a.children=Fe(n,function(s){return MR(s,r)}),a.children.length||vr(i),a}function x8e(e,t){var r=e.not,n="";Vee(r)||vr(n);var i=new m8e;return i.child=MR(r,t),i.child||vr(n),i}function b8e(e,t){for(var r="",n=t.prepareGetValue(e),i=[],a=Kt(e),s=e.parser,o=s?bK(s):null,l=0;l<a.length;l++){var u=a[l];if(!(u==="parser"||t.valueGetterAttrMap.get(u))){var c=ot(s7,u)?s7[u]:u,h=e[u],f=o?o(h):h,d=WEe(c,f)||c==="reg"&&new d8e(f);d||vr(r),i.push(d)}}i.length||vr(r);var v=new y8e;return v.valueGetterParam=n,v.valueParser=o,v.getValue=t.getValue,v.subCondList=i,v}function Vee(e){return St(e)&&!ai(e)}var S8e=function(){function e(t,r){this._cond=MR(t,r)}return e.prototype.evaluate=function(){return this._cond.evaluate()},e}();function _8e(e,t){return new S8e(e,t)}var w8e={type:"echarts:filter",transform:function(e){for(var t=e.upstream,r,n=_8e(e.config,{valueGetterAttrMap:ct({dimension:!0}),prepareGetValue:function(o){var l="",u=o.dimension;ot(o,"dimension")||vr(l);var c=t.getDimensionInfo(u);return c||vr(l),{dimIdx:c.index}},getValue:function(o){return t.retrieveValueFromItem(r,o.dimIdx)}}),i=[],a=0,s=t.count();a<s;a++)r=t.getRawDataItem(a),n.evaluate()&&i.push(r);return{data:i}}},T8e={type:"echarts:sort",transform:function(e){var t=e.upstream,r=e.config,n="",i=Tr(r);i.length||vr(n);var a=[];q(i,function(c){var h=c.dimension,f=c.order,d=c.parser,v=c.incomparable;if(h==null&&vr(n),f!=="asc"&&f!=="desc"&&vr(n),v&&v!=="min"&&v!=="max"){var m="";vr(m)}if(f!=="asc"&&f!=="desc"){var y="";vr(y)}var b=t.getDimensionInfo(h);b||vr(n);var S=d?bK(d):null;d&&!S&&vr(n),a.push({dimIdx:b.index,parser:S,comparator:new _K(f,v)})});var s=t.sourceFormat;s!==Ti&&s!==ds&&vr(n);for(var o=[],l=0,u=t.count();l<u;l++)o.push(t.getRawDataItem(l));return o.sort(function(c,h){for(var f=0;f<a.length;f++){var d=a[f],v=t.retrieveValueFromItem(c,d.dimIdx),m=t.retrieveValueFromItem(h,d.dimIdx);d.parser&&(v=d.parser(v),m=d.parser(m));var y=d.comparator.evaluate(v,m);if(y!==0)return y}return 0}),{data:o}}};function C8e(e){e.registerTransform(w8e),e.registerTransform(T8e)}var E8e=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type="dataset",r}return t.prototype.init=function(r,n,i){e.prototype.init.call(this,r,n,i),this._sourceManager=new EK(this),c8(this)},t.prototype.mergeOption=function(r,n){e.prototype.mergeOption.call(this,r,n),c8(this)},t.prototype.optionUpdated=function(){this._sourceManager.dirty()},t.prototype.getSourceManager=function(){return this._sourceManager},t.type="dataset",t.defaultOption={seriesLayoutBy:Mo},t}(Yt),A8e=function(e){_e(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type="dataset",r}return t.type="dataset",t}(Nr);function k8e(e){e.registerComponentModel(E8e),e.registerComponentView(A8e)}var co=Oo.CMD;function Ed(e,t){return Math.abs(e-t)<1e-5}function uM(e){var t=e.data,r=e.len(),n=[],i,a=0,s=0,o=0,l=0;function u($,W){i&&i.length>2&&n.push(i),i=[$,W]}function c($,W,X,ee){Ed($,X)&&Ed(W,ee)||i.push($,W,X,ee,X,ee)}function h($,W,X,ee,le,ie){var fe=Math.abs(W-$),re=Math.tan(fe/4)*4/3,me=W<$?-1:1,J=Math.cos($),te=Math.sin($),ue=Math.cos(W),pe=Math.sin(W),Se=J*le+X,je=te*ie+ee,Pe=ue*le+X,Te=pe*ie+ee,Ve=le*re*me,ze=ie*re*me;i.push(Se-Ve*te,je+ze*J,Pe+Ve*pe,Te-ze*ue,Pe,Te)}for(var f,d,v,m,y=0;y<r;){var b=t[y++],S=y===1;switch(S&&(a=t[y],s=t[y+1],o=a,l=s,(b===co.L||b===co.C||b===co.Q)&&(i=[o,l])),b){case co.M:a=o=t[y++],s=l=t[y++],u(o,l);break;case co.L:f=t[y++],d=t[y++],c(a,s,f,d),a=f,s=d;break;case co.C:i.push(t[y++],t[y++],t[y++],t[y++],a=t[y++],s=t[y++]);break;case co.Q:f=t[y++],d=t[y++],v=t[y++],m=t[y++],i.push(a+2/3*(f-a),s+2/3*(d-s),v+2/3*(f-v),m+2/3*(d-m),v,m),a=v,s=m;break;case co.A:var w=t[y++],k=t[y++],M=t[y++],I=t[y++],L=t[y++],N=t[y++]+L;y+=1;var z=!t[y++];f=Math.cos(L)*M+w,d=Math.sin(L)*I+k,S?(o=f,l=d,u(o,l)):c(a,s,f,d),a=Math.cos(N)*M+w,s=Math.sin(N)*I+k;for(var B=(z?-1:1)*Math.PI/2,H=L;z?H>N:H<N;H+=B){var G=z?Math.max(H+B,N):Math.min(H+B,N);h(H,G,w,k,M,I)}break;case co.R:o=a=t[y++],l=s=t[y++],f=o+t[y++],d=l+t[y++],u(f,l),c(f,l,f,d),c(f,d,o,d),c(o,d,o,l),c(o,l,f,l);break;case co.Z:i&&c(a,s,o,l),a=o,s=l;break}}return i&&i.length>2&&n.push(i),n}function cM(e,t,r,n,i,a,s,o,l,u){if(Ed(e,r)&&Ed(t,n)&&Ed(i,s)&&Ed(a,o)){l.push(s,o);return}var c=2/u,h=c*c,f=s-e,d=o-t,v=Math.sqrt(f*f+d*d);f/=v,d/=v;var m=r-e,y=n-t,b=i-s,S=a-o,w=m*m+y*y,k=b*b+S*S;if(w<h&&k<h){l.push(s,o);return}var M=f*m+d*y,I=-f*b-d*S,L=w-M*M,N=k-I*I;if(L<h&&M>=0&&N<h&&I>=0){l.push(s,o);return}var z=[],B=[];Zu(e,r,i,s,.5,z),Zu(t,n,a,o,.5,B),cM(z[0],B[0],z[1],B[1],z[2],B[2],z[3],B[3],l,u),cM(z[4],B[4],z[5],B[5],z[6],B[6],z[7],B[7],l,u)}function I8e(e,t){var r=uM(e),n=[];t=t||1;for(var i=0;i<r.length;i++){var a=r[i],s=[],o=a[0],l=a[1];s.push(o,l);for(var u=2;u<a.length;){var c=a[u++],h=a[u++],f=a[u++],d=a[u++],v=a[u++],m=a[u++];cM(o,l,c,h,f,d,v,m,s,t),o=v,l=m}n.push(s)}return n}function Uee(e,t,r){var n=e[t],i=e[1-t],a=Math.abs(n/i),s=Math.ceil(Math.sqrt(a*r)),o=Math.floor(r/s);o===0&&(o=1,s=r);for(var l=[],u=0;u<s;u++)l.push(o);var c=s*o,h=r-c;if(h>0)for(var u=0;u<h;u++)l[u%s]+=1;return l}function l7(e,t,r){for(var n=e.r0,i=e.r,a=e.startAngle,s=e.endAngle,o=Math.abs(s-a),l=o*i,u=i-n,c=l>Math.abs(u),h=Uee([l,u],c?0:1,t),f=(c?o:u)/h.length,d=0;d<h.length;d++)for(var v=(c?u:o)/h[d],m=0;m<h[d];m++){var y={};c?(y.startAngle=a+f*d,y.endAngle=a+f*(d+1),y.r0=n+v*m,y.r=n+v*(m+1)):(y.startAngle=a+v*m,y.endAngle=a+v*(m+1),y.r0=n+f*d,y.r=n+f*(d+1)),y.clockwise=e.clockwise,y.cx=e.cx,y.cy=e.cy,r.push(y)}}function D8e(e,t,r){for(var n=e.width,i=e.height,a=n>i,s=Uee([n,i],a?0:1,t),o=a?"width":"height",l=a?"height":"width",u=a?"x":"y",c=a?"y":"x",h=e[o]/s.length,f=0;f<s.length;f++)for(var d=e[l]/s[f],v=0;v<s[f];v++){var m={};m[u]=f*h,m[c]=v*d,m[o]=h,m[l]=d,m.x+=e.x,m.y+=e.y,r.push(m)}}function u7(e,t,r,n){return e*n-r*t}function M8e(e,t,r,n,i,a,s,o){var l=r-e,u=n-t,c=s-i,h=o-a,f=u7(c,h,l,u);if(Math.abs(f)<1e-6)return null;var d=e-i,v=t-a,m=u7(d,v,c,h)/f;return m<0||m>1?null:new zt(m*l+e,m*u+t)}function L8e(e,t,r){var n=new zt;zt.sub(n,r,t),n.normalize();var i=new zt;zt.sub(i,e,t);var a=i.dot(n);return a}function ed(e,t){var r=e[e.length-1];r&&r[0]===t[0]&&r[1]===t[1]||e.push(t)}function N8e(e,t,r){for(var n=e.length,i=[],a=0;a<n;a++){var s=e[a],o=e[(a+1)%n],l=M8e(s[0],s[1],o[0],o[1],t.x,t.y,r.x,r.y);l&&i.push({projPt:L8e(l,t,r),pt:l,idx:a})}if(i.length<2)return[{points:e},{points:e}];i.sort(function(y,b){return y.projPt-b.projPt});var u=i[0],c=i[i.length-1];if(c.idx<u.idx){var h=u;u=c,c=h}for(var f=[u.pt.x,u.pt.y],d=[c.pt.x,c.pt.y],v=[f],m=[d],a=u.idx+1;a<=c.idx;a++)ed(v,e[a].slice());ed(v,d),ed(v,f);for(var a=c.idx+1;a<=u.idx+n;a++)ed(m,e[a%n].slice());return ed(m,f),ed(m,d),[{points:v},{points:m}]}function c7(e){var t=e.points,r=[],n=[];yw(t,r,n);var i=new jt(r[0],r[1],n[0]-r[0],n[1]-r[1]),a=i.width,s=i.height,o=i.x,l=i.y,u=new zt,c=new zt;return a>s?(u.x=c.x=o+a/2,u.y=l,c.y=l+s):(u.y=c.y=l+s/2,u.x=o,c.x=o+a),N8e(t,u,c)}function o_(e,t,r,n){if(r===1)n.push(t);else{var i=Math.floor(r/2),a=e(t);o_(e,a[0],i,n),o_(e,a[1],r-i,n)}return n}function P8e(e,t){for(var r=[],n=0;n<t;n++)r.push(FN(e));return r}function R8e(e,t){t.setStyle(e.style),t.z=e.z,t.z2=e.z2,t.zlevel=e.zlevel}function O8e(e){for(var t=[],r=0;r<e.length;)t.push([e[r++],e[r++]]);return t}function B8e(e,t){var r=[],n=e.shape,i;switch(e.type){case"rect":D8e(n,t,r),i=Jt;break;case"sector":l7(n,t,r),i=_i;break;case"circle":l7({r0:0,r:n.r,startAngle:0,endAngle:Math.PI*2,cx:n.cx,cy:n.cy},t,r),i=_i;break;default:var a=e.getComputedTransform(),s=a?Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1],a[2]*a[2]+a[3]*a[3])):1,o=Fe(I8e(e.getUpdatedPathProxy(),s),function(b){return O8e(b)}),l=o.length;if(l===0)o_(c7,{points:o[0]},t,r);else if(l===t)for(var u=0;u<l;u++)r.push({points:o[u]});else{var c=0,h=Fe(o,function(b){var S=[],w=[];yw(b,S,w);var k=(w[1]-S[1])*(w[0]-S[0]);return c+=k,{poly:b,area:k}});h.sort(function(b,S){return S.area-b.area});for(var f=t,u=0;u<l;u++){var d=h[u];if(f<=0)break;var v=u===l-1?f:Math.ceil(d.area/c*t);v<0||(o_(c7,{points:d.poly},v,r),f-=v)}}i=wi;break}if(!i)return P8e(e,t);for(var m=[],u=0;u<r.length;u++){var y=new i;y.setShape(r[u]),R8e(e,y),m.push(y)}return m}function F8e(e,t){var r=e.length,n=t.length;if(r===n)return[e,t];for(var i=[],a=[],s=r<n?e:t,o=Math.min(r,n),l=Math.abs(n-r)/6,u=(o-2)/6,c=Math.ceil(l/u)+1,h=[s[0],s[1]],f=l,d=2;d<o;){var v=s[d-2],m=s[d-1],y=s[d++],b=s[d++],S=s[d++],w=s[d++],k=s[d++],M=s[d++];if(f<=0){h.push(y,b,S,w,k,M);continue}for(var I=Math.min(f,c-1)+1,L=1;L<=I;L++){var N=L/I;Zu(v,y,S,k,N,i),Zu(m,b,w,M,N,a),v=i[3],m=a[3],h.push(i[1],a[1],i[2],a[2],v,m),y=i[5],b=a[5],S=i[6],w=a[6]}f-=I-1}return s===e?[h,t]:[e,h]}function h7(e,t){for(var r=e.length,n=e[r-2],i=e[r-1],a=[],s=0;s<t.length;)a[s++]=n,a[s++]=i;return a}function z8e(e,t){for(var r,n,i,a=[],s=[],o=0;o<Math.max(e.length,t.length);o++){var l=e[o],u=t[o],c=void 0,h=void 0;l?u?(r=F8e(l,u),c=r[0],h=r[1],n=c,i=h):(h=h7(i||l,l),c=l):(c=h7(n||u,u),h=u),a.push(c),s.push(h)}return[a,s]}function f7(e){for(var t=0,r=0,n=0,i=e.length,a=0,s=i-2;a<i;s=a,a+=2){var o=e[s],l=e[s+1],u=e[a],c=e[a+1],h=o*c-u*l;t+=h,r+=(o+u)*h,n+=(l+c)*h}return t===0?[e[0]||0,e[1]||0]:[r/t/3,n/t/3,t]}function j8e(e,t,r,n){for(var i=(e.length-2)/6,a=1/0,s=0,o=e.length,l=o-2,u=0;u<i;u++){for(var c=u*6,h=0,f=0;f<o;f+=2){var d=f===0?c:(c+f-2)%l+2,v=e[d]-r[0],m=e[d+1]-r[1],y=t[f]-n[0],b=t[f+1]-n[1],S=y-v,w=b-m;h+=S*S+w*w}h<a&&(a=h,s=u)}return s}function H8e(e){for(var t=[],r=e.length,n=0;n<r;n+=2)t[n]=e[r-n-2],t[n+1]=e[r-n-1];return t}function V8e(e,t,r,n){for(var i=[],a,s=0;s<e.length;s++){var o=e[s],l=t[s],u=f7(o),c=f7(l);a==null&&(a=u[2]<0!=c[2]<0);var h=[],f=[],d=0,v=1/0,m=[],y=o.length;a&&(o=H8e(o));for(var b=j8e(o,l,u,c)*6,S=y-2,w=0;w<S;w+=2){var k=(b+w)%S+2;h[w+2]=o[k]-u[0],h[w+3]=o[k+1]-u[1]}h[0]=o[b]-u[0],h[1]=o[b+1]-u[1];for(var M=n/r,I=-n/2;I<=n/2;I+=M){for(var L=Math.sin(I),N=Math.cos(I),z=0,w=0;w<o.length;w+=2){var B=h[w],H=h[w+1],G=l[w]-c[0],$=l[w+1]-c[1],W=G*N-$*L,X=G*L+$*N;m[w]=W,m[w+1]=X;var ee=W-B,le=X-H;z+=ee*ee+le*le}if(z<v){v=z,d=I;for(var ie=0;ie<m.length;ie++)f[ie]=m[ie]}}i.push({from:h,to:f,fromCp:u,toCp:c,rotation:-d})}return i}function l_(e){return e.__isCombineMorphing}var Gee="__mOriginal_";function u_(e,t,r){var n=Gee+t,i=e[n]||e[t];e[n]||(e[n]=e[t]);var a=r.replace,s=r.after,o=r.before;e[t]=function(){var l=arguments,u;return o&&o.apply(this,l),a?u=a.apply(this,l):u=i.apply(this,l),s&&s.apply(this,l),u}}function mm(e,t){var r=Gee+t;e[r]&&(e[t]=e[r],e[r]=null)}function d7(e,t){for(var r=0;r<e.length;r++)for(var n=e[r],i=0;i<n.length;){var a=n[i],s=n[i+1];n[i++]=t[0]*a+t[2]*s+t[4],n[i++]=t[1]*a+t[3]*s+t[5]}}function Wee(e,t){var r=e.getUpdatedPathProxy(),n=t.getUpdatedPathProxy(),i=z8e(uM(r),uM(n)),a=i[0],s=i[1],o=e.getComputedTransform(),l=t.getComputedTransform();function u(){this.transform=null}o&&d7(a,o),l&&d7(s,l),u_(t,"updateTransform",{replace:u}),t.transform=null;var c=V8e(a,s,10,Math.PI),h=[];u_(t,"buildPath",{replace:function(f){for(var d=t.__morphT,v=1-d,m=[],y=0;y<c.length;y++){var b=c[y],S=b.from,w=b.to,k=b.rotation*d,M=b.fromCp,I=b.toCp,L=Math.sin(k),N=Math.cos(k);nm(m,M,I,d);for(var z=0;z<S.length;z+=2){var B=S[z],H=S[z+1],G=w[z],$=w[z+1],W=B*v+G*d,X=H*v+$*d;h[z]=W*N-X*L+m[0],h[z+1]=W*L+X*N+m[1]}var ee=h[0],le=h[1];f.moveTo(ee,le);for(var z=2;z<S.length;){var G=h[z++],$=h[z++],ie=h[z++],fe=h[z++],re=h[z++],me=h[z++];ee===G&&le===$&&ie===re&&fe===me?f.lineTo(re,me):f.bezierCurveTo(G,$,ie,fe,re,me),ee=re,le=me}}}})}function LR(e,t,r){if(!e||!t)return t;var n=r.done,i=r.during;Wee(e,t),t.__morphT=0;function a(){mm(t,"buildPath"),mm(t,"updateTransform"),t.__morphT=-1,t.createPathProxy(),t.dirtyShape()}return t.animateTo({__morphT:1},yt({during:function(s){t.dirtyShape(),i&&i(s)},done:function(){a(),n&&n()}},r)),t}function U8e(e,t,r,n,i,a){var s=16;e=i===r?0:Math.round(32767*(e-r)/(i-r)),t=a===n?0:Math.round(32767*(t-n)/(a-n));for(var o=0,l,u=(1<<s)/2;u>0;u/=2){var c=0,h=0;(e&u)>0&&(c=1),(t&u)>0&&(h=1),o+=u*u*(3*c^h),h===0&&(c===1&&(e=u-1-e,t=u-1-t),l=e,e=t,t=l)}return o}function c_(e){var t=1/0,r=1/0,n=-1/0,i=-1/0,a=Fe(e,function(o){var l=o.getBoundingRect(),u=o.getComputedTransform(),c=l.x+l.width/2+(u?u[4]:0),h=l.y+l.height/2+(u?u[5]:0);return t=Math.min(c,t),r=Math.min(h,r),n=Math.max(c,n),i=Math.max(h,i),[c,h]}),s=Fe(a,function(o,l){return{cp:o,z:U8e(o[0],o[1],t,r,n,i),path:e[l]}});return s.sort(function(o,l){return o.z-l.z}).map(function(o){return o.path})}function $ee(e){return B8e(e.path,e.count)}function hM(){return{fromIndividuals:[],toIndividuals:[],count:0}}function G8e(e,t,r){var n=[];function i(M){for(var I=0;I<M.length;I++){var L=M[I];l_(L)?i(L.childrenRef()):L instanceof qt&&n.push(L)}}i(e);var a=n.length;if(!a)return hM();var s=r.dividePath||$ee,o=s({path:t,count:a});if(o.length!==a)return console.error("Invalid morphing: unmatched splitted path"),hM();n=c_(n),o=c_(o);for(var l=r.done,u=r.during,c=r.individualDelay,h=new hl,f=0;f<a;f++){var d=n[f],v=o[f];v.parent=t,v.copyTransform(h),c||Wee(d,v)}t.__isCombineMorphing=!0,t.childrenRef=function(){return o};function m(M){for(var I=0;I<o.length;I++)o[I].addSelfToZr(M)}u_(t,"addSelfToZr",{after:function(M){m(M)}}),u_(t,"removeSelfFromZr",{after:function(M){for(var I=0;I<o.length;I++)o[I].removeSelfFromZr(M)}});function y(){t.__isCombineMorphing=!1,t.__morphT=-1,t.childrenRef=null,mm(t,"addSelfToZr"),mm(t,"removeSelfFromZr")}var b=o.length;if(c)for(var S=b,w=function(){S--,S===0&&(y(),l&&l())},f=0;f<b;f++){var k=c?yt({delay:(r.delay||0)+c(f,b,n[f],o[f]),done:w},r):r;LR(n[f],o[f],k)}else t.__morphT=0,t.animateTo({__morphT:1},yt({during:function(M){for(var I=0;I<b;I++){var L=o[I];L.__morphT=t.__morphT,L.dirtyShape()}u&&u(M)},done:function(){y();for(var M=0;M<e.length;M++)mm(e[M],"updateTransform");l&&l()}},r));return t.__zr&&m(t.__zr),{fromIndividuals:n,toIndividuals:o,count:b}}function W8e(e,t,r){var n=t.length,i=[],a=r.dividePath||$ee;function s(d){for(var v=0;v<d.length;v++){var m=d[v];l_(m)?s(m.childrenRef()):m instanceof qt&&i.push(m)}}if(l_(e)){s(e.childrenRef());var o=i.length;if(o<n)for(var l=0,u=o;u<n;u++)i.push(FN(i[l++%o]));i.length=n}else{i=a({path:e,count:n});for(var c=e.getComputedTransform(),u=0;u<i.length;u++)i[u].setLocalTransform(c);if(i.length!==n)return console.error("Invalid morphing: unmatched splitted path"),hM()}i=c_(i),t=c_(t);for(var h=r.individualDelay,u=0;u<n;u++){var f=h?yt({delay:(r.delay||0)+h(u,n,i[u],t[u])},r):r;LR(i[u],t[u],f)}return{fromIndividuals:i,toIndividuals:t,count:t.length}}function p7(e){return Oe(e[0])}function v7(e,t){for(var r=[],n=e.length,i=0;i<n;i++)r.push({one:e[i],many:[]});for(var i=0;i<t.length;i++){var a=t[i].length,s=void 0;for(s=0;s<a;s++)r[s%n].many.push(t[i][s])}for(var o=0,i=n-1;i>=0;i--)if(!r[i].many.length){var l=r[o].many;if(l.length<=1)if(o)o=0;else return r;var a=l.length,u=Math.ceil(a/2);r[i].many=l.slice(u,a),r[o].many=l.slice(0,u),o++}return r}var $8e={clone:function(e){for(var t=[],r=1-Math.pow(1-e.path.style.opacity,1/e.count),n=0;n<e.count;n++){var i=FN(e.path);i.setStyle("opacity",r),t.push(i)}return t},split:null};function OA(e,t,r,n,i,a){if(!e.length||!t.length)return;var s=zp("update",n,i);if(!(s&&s.duration>0))return;var o=n.getModel("universalTransition").get("delay"),l=Object.assign({setToFinal:!0},s),u,c;p7(e)&&(u=e,c=t),p7(t)&&(u=t,c=e);function h(b,S,w,k,M){var I=b.many,L=b.one;if(I.length===1&&!M){var N=S?I[0]:L,z=S?L:I[0];if(l_(N))h({many:[N],one:z},!0,w,k,!0);else{var B=o?yt({delay:o(w,k)},l):l;LR(N,z,B),a(N,z,N,z,B)}}else for(var H=yt({dividePath:$8e[r],individualDelay:o&&function(le,ie,fe,re){return o(le+w,k)}},l),G=S?G8e(I,L,H):W8e(L,I,H),$=G.fromIndividuals,W=G.toIndividuals,X=$.length,ee=0;ee<X;ee++){var B=o?yt({delay:o(ee,X)},l):l;a($[ee],W[ee],S?I[ee]:b.one,S?b.one:I[ee],B)}}for(var f=u?u===e:e.length>t.length,d=u?v7(c,u):v7(f?t:e,[f?e:t]),v=0,m=0;m<d.length;m++)v+=d[m].many.length;for(var y=0,m=0;m<d.length;m++)h(d[m],f,y,v),y+=d[m].many.length}function ah(e){if(!e)return[];if(Oe(e)){for(var t=[],r=0;r<e.length;r++)t.push(ah(e[r]));return t}var n=[];return e.traverse(function(i){i instanceof qt&&!i.disableMorphing&&!i.invisible&&!i.ignore&&n.push(i)}),n}var Yee=1e4,Y8e=0,g7=1,m7=2,X8e=tr();function q8e(e,t){for(var r=e.dimensions,n=0;n<r.length;n++){var i=e.getDimensionInfo(r[n]);if(i&&i.otherDims[t]===0)return r[n]}}function K8e(e,t,r){var n=e.getDimensionInfo(r),i=n&&n.ordinalMeta;if(n){var a=e.get(n.name,t);return i&&i.categories[a]||a+""}}function y7(e,t,r,n){var i=n?"itemChildGroupId":"itemGroupId",a=q8e(e,i);if(a){var s=K8e(e,t,a);return s}var o=e.getRawDataItem(t),l=n?"childGroupId":"groupId";if(o&&o[l])return o[l]+"";if(!n)return r||e.getId(t)}function x7(e){var t=[];return q(e,function(r){var n=r.data,i=r.dataGroupId;if(!(n.count()>Yee))for(var a=n.getIndices(),s=0;s<a.length;s++)t.push({data:n,groupId:y7(n,s,i,!1),childGroupId:y7(n,s,i,!0),divide:r.divide,dataIndex:s})}),t}function BA(e,t,r){e.traverse(function(n){n instanceof qt&&Br(n,{style:{opacity:0}},t,{dataIndex:r,isFrom:!0})})}function FA(e){if(e.parent){var t=e.getComputedTransform();e.setLocalTransform(t),e.parent.remove(e)}}function td(e){e.stopAnimation(),e.isGroup&&e.traverse(function(t){t.stopAnimation()})}function Z8e(e,t,r){var n=zp("update",r,t);n&&e.traverse(function(i){if(i instanceof us){var a=I2e(i);a&&i.animateFrom({style:a},n)}})}function Q8e(e,t){var r=e.length;if(r!==t.length)return!1;for(var n=0;n<r;n++){var i=e[n],a=t[n];if(i.data.getId(i.dataIndex)!==a.data.getId(a.dataIndex))return!1}return!0}function Xee(e,t,r){var n=x7(e),i=x7(t);function a(w,k,M,I,L){(M||w)&&k.animateFrom({style:M&&M!==w?Ne(Ne({},M.style),w.style):w.style},L)}var s=!1,o=Y8e,l=ct(),u=ct();n.forEach(function(w){w.groupId&&l.set(w.groupId,!0),w.childGroupId&&u.set(w.childGroupId,!0)});for(var c=0;c<i.length;c++){var h=i[c].groupId;if(u.get(h)){o=g7;break}var f=i[c].childGroupId;if(f&&l.get(f)){o=m7;break}}function d(w,k){return function(M){var I=M.data,L=M.dataIndex;return k?I.getId(L):w?o===g7?M.childGroupId:M.groupId:o===m7?M.childGroupId:M.groupId}}var v=Q8e(n,i),m={};if(!v)for(var c=0;c<i.length;c++){var y=i[c],b=y.data.getItemGraphicEl(y.dataIndex);b&&(m[b.id]=!0)}function S(w,k){var M=n[k],I=i[w],L=I.data.hostModel,N=M.data.getItemGraphicEl(M.dataIndex),z=I.data.getItemGraphicEl(I.dataIndex);if(N===z){z&&Z8e(z,I.dataIndex,L);return}N&&m[N.id]||z&&(td(z),N?(td(N),FA(N),s=!0,OA(ah(N),ah(z),I.divide,L,w,a)):BA(z,L,w))}new El(n,i,d(!0,v),d(!1,v),null,"multiple").update(S).updateManyToOne(function(w,k){var M=i[w],I=M.data,L=I.hostModel,N=I.getItemGraphicEl(M.dataIndex),z=lr(Fe(k,function(B){return n[B].data.getItemGraphicEl(n[B].dataIndex)}),function(B){return B&&B!==N&&!m[B.id]});N&&(td(N),z.length?(q(z,function(B){td(B),FA(B)}),s=!0,OA(ah(z),ah(N),M.divide,L,w,a)):BA(N,L,M.dataIndex))}).updateOneToMany(function(w,k){var M=n[k],I=M.data.getItemGraphicEl(M.dataIndex);if(!(I&&m[I.id])){var L=lr(Fe(w,function(z){return i[z].data.getItemGraphicEl(i[z].dataIndex)}),function(z){return z&&z!==I}),N=i[w[0]].data.hostModel;L.length&&(q(L,function(z){return td(z)}),I?(td(I),FA(I),s=!0,OA(ah(I),ah(L),M.divide,N,w[0],a)):q(L,function(z){return BA(z,N,w[0])}))}}).updateManyToMany(function(w,k){new El(k,w,function(M){return n[M].data.getId(n[M].dataIndex)},function(M){return i[M].data.getId(i[M].dataIndex)}).update(function(M,I){S(w[M],k[I])}).execute()}).execute(),s&&q(t,function(w){var k=w.data,M=k.hostModel,I=M&&r.getViewOfSeriesModel(M),L=zp("update",M,0);I&&M.isAnimationEnabled()&&L&&L.duration>0&&I.group.traverse(function(N){N instanceof qt&&!N.animators.length&&N.animateFrom({style:{opacity:0}},L)})})}function b7(e){var t=e.getModel("universalTransition").get("seriesKey");return t||e.id}function S7(e){return Oe(e)?e.sort().join(","):e}function du(e){if(e.hostModel)return e.hostModel.getModel("universalTransition").get("divideShape")}function J8e(e,t){var r=ct(),n=ct(),i=ct();return q(e.oldSeries,function(a,s){var o=e.oldDataGroupIds[s],l=e.oldData[s],u=b7(a),c=S7(u);n.set(c,{dataGroupId:o,data:l}),Oe(u)&&q(u,function(h){i.set(h,{key:c,dataGroupId:o,data:l})})}),q(t.updatedSeries,function(a){if(a.isUniversalTransitionEnabled()&&a.isAnimationEnabled()){var s=a.get("dataGroupId"),o=a.getData(),l=b7(a),u=S7(l),c=n.get(u);if(c)r.set(u,{oldSeries:[{dataGroupId:c.dataGroupId,divide:du(c.data),data:c.data}],newSeries:[{dataGroupId:s,divide:du(o),data:o}]});else if(Oe(l)){var h=[];q(l,function(v){var m=n.get(v);m.data&&h.push({dataGroupId:m.dataGroupId,divide:du(m.data),data:m.data})}),h.length&&r.set(u,{oldSeries:h,newSeries:[{dataGroupId:s,data:o,divide:du(o)}]})}else{var f=i.get(l);if(f){var d=r.get(f.key);d||(d={oldSeries:[{dataGroupId:f.dataGroupId,data:f.data,divide:du(f.data)}],newSeries:[]},r.set(f.key,d)),d.newSeries.push({dataGroupId:s,data:o,divide:du(o)})}}}}),r}function _7(e,t){for(var r=0;r<e.length;r++){var n=t.seriesIndex!=null&&t.seriesIndex===e[r].seriesIndex||t.seriesId!=null&&t.seriesId===e[r].id;if(n)return r}}function eze(e,t,r,n){var i=[],a=[];q(Tr(e.from),function(s){var o=_7(t.oldSeries,s);o>=0&&i.push({dataGroupId:t.oldDataGroupIds[o],data:t.oldData[o],divide:du(t.oldData[o]),groupIdDim:s.dimension})}),q(Tr(e.to),function(s){var o=_7(r.updatedSeries,s);if(o>=0){var l=r.updatedSeries[o].getData();a.push({dataGroupId:t.oldDataGroupIds[o],data:l,divide:du(l),groupIdDim:s.dimension})}}),i.length>0&&a.length>0&&Xee(i,a,n)}function tze(e){e.registerUpdateLifecycle("series:beforeupdate",function(t,r,n){q(Tr(n.seriesTransition),function(i){q(Tr(i.to),function(a){for(var s=n.updatedSeries,o=0;o<s.length;o++)(a.seriesIndex!=null&&a.seriesIndex===s[o].seriesIndex||a.seriesId!=null&&a.seriesId===s[o].id)&&(s[o][bb]=!0)})})}),e.registerUpdateLifecycle("series:transition",function(t,r,n){var i=X8e(r);if(i.oldSeries&&n.updatedSeries&&n.optionChanged){var a=n.seriesTransition;if(a)q(Tr(a),function(d){eze(d,i,n,r)});else{var s=J8e(i,n);q(s.keys(),function(d){var v=s.get(d);Xee(v.oldSeries,v.newSeries,r)})}q(n.updatedSeries,function(d){d[bb]&&(d[bb]=!1)})}for(var o=t.getSeries(),l=i.oldSeries=[],u=i.oldDataGroupIds=[],c=i.oldData=[],h=0;h<o.length;h++){var f=o[h].getData();f.count()<Yee&&(l.push(o[h]),u.push(o[h].get("dataGroupId")),c.push(f))}})}Wt([hMe]);Wt([sMe]);Wt([MMe,$Me,rLe,RLe,$Le,LNe,sPe,UPe,hRe,mRe,ERe,bOe,WOe,r3e,y3e,_3e,L3e,z3e,K3e,r6e,f6e,q6e]);Wt(p5e);Wt(j5e);Wt($Q);Wt(J5e);Wt(MJ);Wt(n4e);Wt(f4e);Wt(J4e);Wt(yBe);Wt(hy);Wt(RBe);Wt(FBe);Wt(XBe);Wt(tFe);Wt(oFe);Wt(dFe);Wt(wFe);Wt(HFe);Wt(Pee);Wt(Ree);Wt(o8e);Wt(jee);Wt(Hee);Wt(f8e);Wt(C8e);Wt(k8e);Wt(tze);Wt(EDe);const rze=Object.freeze(Object.defineProperty({__proto__:null,Axis:ps,ChartView:xr,ComponentModel:Yt,ComponentView:Nr,List:xi,Model:ur,PRIORITY:tZ,SeriesModel:Cr,color:Xwe,connect:Rke,dataTool:Vke,dependencies:mke,disConnect:Oke,disconnect:uZ,dispose:Bke,env:Xt,extendChartView:dDe,extendComponentModel:cDe,extendComponentView:hDe,extendSeriesModel:fDe,format:JIe,getCoordinateSystemDimensions:zke,getInstanceByDom:vP,getInstanceById:Fke,getMap:Hke,graphic:QIe,helper:GIe,init:Pke,innerDrawElementOnCanvas:hP,matrix:Ewe,number:KIe,parseGeoJSON:_D,parseGeoJson:_D,registerAction:Ys,registerCoordinateSystem:fZ,registerLayout:dZ,registerLoading:bP,registerLocale:YN,registerMap:pZ,registerPostInit:cZ,registerPostUpdate:hZ,registerPreprocessor:mP,registerProcessor:yP,registerTheme:gP,registerTransform:vZ,registerUpdateLifecycle:Rw,registerVisual:dc,setCanvasCreator:jke,setPlatformAPI:oX,throttle:Nw,time:ZIe,use:Wt,util:eDe,vector:fwe,version:gke,zrUtil:awe,zrender:ITe},Symbol.toStringTag,{value:"Module"}));var Fh={},$u={},qee={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=1;e.default=function(){return"".concat(t++)}})(qee);var Xw={},qw={},NR={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.default=function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:60,i=null;return function(){for(var a=this,s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];clearTimeout(i),i=setTimeout(function(){r.apply(a,o)},n)}}})(NR);var Lo={};Object.defineProperty(Lo,"__esModule",{value:!0});Lo.SizeSensorId=Lo.SensorTabIndex=Lo.SensorClassName=void 0;Lo.SizeSensorId="size-sensor-id";Lo.SensorClassName="size-sensor-object";Lo.SensorTabIndex="-1";Object.defineProperty(qw,"__esModule",{value:!0});qw.createSensor=void 0;var nze=ize(NR),zA=Lo;function ize(e){return e&&e.__esModule?e:{default:e}}qw.createSensor=function(t,r){var n=void 0,i=[],a=function(){getComputedStyle(t).position==="static"&&(t.style.position="relative");var h=document.createElement("object");return h.onload=function(){h.contentDocument.defaultView.addEventListener("resize",s),s()},h.style.display="block",h.style.position="absolute",h.style.top="0",h.style.left="0",h.style.height="100%",h.style.width="100%",h.style.overflow="hidden",h.style.pointerEvents="none",h.style.zIndex="-1",h.style.opacity="0",h.setAttribute("class",zA.SensorClassName),h.setAttribute("tabindex",zA.SensorTabIndex),h.type="text/html",t.appendChild(h),h.data="about:blank",h},s=(0,nze.default)(function(){i.forEach(function(c){c(t)})}),o=function(h){n||(n=a()),i.indexOf(h)===-1&&i.push(h)},l=function(){n&&n.parentNode&&(n.contentDocument&&n.contentDocument.defaultView.removeEventListener("resize",s),n.parentNode.removeChild(n),t.removeAttribute(zA.SizeSensorId),n=void 0,i=[],r&&r())},u=function(h){var f=i.indexOf(h);f!==-1&&i.splice(f,1),i.length===0&&n&&l()};return{element:t,bind:o,destroy:l,unbind:u}};var Kw={};Object.defineProperty(Kw,"__esModule",{value:!0});Kw.createSensor=void 0;var aze=Lo,sze=oze(NR);function oze(e){return e&&e.__esModule?e:{default:e}}Kw.createSensor=function(t,r){var n=void 0,i=[],a=(0,sze.default)(function(){i.forEach(function(c){c(t)})}),s=function(){var h=new ResizeObserver(a);return h.observe(t),a(),h},o=function(h){n||(n=s()),i.indexOf(h)===-1&&i.push(h)},l=function(){n&&n.disconnect(),i=[],n=void 0,t.removeAttribute(aze.SizeSensorId),r&&r()},u=function(h){var f=i.indexOf(h);f!==-1&&i.splice(f,1),i.length===0&&n&&l()};return{element:t,bind:o,destroy:l,unbind:u}};Object.defineProperty(Xw,"__esModule",{value:!0});Xw.createSensor=void 0;var lze=qw,uze=Kw;Xw.createSensor=typeof ResizeObserver<"u"?uze.createSensor:lze.createSensor;Object.defineProperty($u,"__esModule",{value:!0});$u.removeSensor=$u.getSensor=$u.Sensors=void 0;var cze=fze(qee),hze=Xw,fM=Lo;function fze(e){return e&&e.__esModule?e:{default:e}}var ym=$u.Sensors={};function Kee(e){e&&ym[e]&&delete ym[e]}$u.getSensor=function(t){var r=t.getAttribute(fM.SizeSensorId);if(r&&ym[r])return ym[r];var n=(0,cze.default)();t.setAttribute(fM.SizeSensorId,n);var i=(0,hze.createSensor)(t,function(){return Kee(n)});return ym[n]=i,i};$u.removeSensor=function(t){var r=t.element.getAttribute(fM.SizeSensorId);t.destroy(),Kee(r)};var PR,RR;Object.defineProperty(Fh,"__esModule",{value:!0});Fh.ver=RR=Fh.clear=PR=Fh.bind=void 0;var dM=$u;PR=Fh.bind=function(t,r){var n=(0,dM.getSensor)(t);return n.bind(r),function(){n.unbind(r)}};RR=Fh.clear=function(t){var r=(0,dM.getSensor)(t);(0,dM.removeSensor)(r)};Fh.ver="1.0.3";function w7(e,t){var r={};return t.forEach(function(n){r[n]=e[n]}),r}function jA(e){return typeof e=="function"}function T7(e){return typeof e=="string"}var dze=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,i,a;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!e(t[i],r[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(a=Object.keys(t),n=a.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,a[i]))return!1;for(i=n;i--!==0;){var s=a[i];if(!e(t[s],r[s]))return!1}return!0}return t!==t&&r!==r};const rd=Ws(dze);var pze=function(e){_e(t,e);function t(r){var n=e.call(this,r)||this;return n.echarts=r.echarts,n.ele=null,n.isInitialResize=!0,n}return t.prototype.componentDidMount=function(){this.renderNewEcharts()},t.prototype.componentDidUpdate=function(r){var n=this.props.shouldSetOption;if(!(jA(n)&&!n(r,this.props))){if(!rd(r.theme,this.props.theme)||!rd(r.opts,this.props.opts)){this.dispose(),this.renderNewEcharts();return}var i=this.getEchartsInstance();rd(r.onEvents,this.props.onEvents)||(this.offEvents(i,r.onEvents),this.bindEvents(i,this.props.onEvents));var a=["option","notMerge","replaceMerge","lazyUpdate","showLoading","loadingOption"];rd(w7(this.props,a),w7(r,a))||this.updateEChartsOption(),(!rd(r.style,this.props.style)||!rd(r.className,this.props.className))&&this.resize()}},t.prototype.componentWillUnmount=function(){this.dispose()},t.prototype.initEchartsInstance=function(){return TB(this,void 0,void 0,function(){var r=this;return CB(this,function(n){return[2,new Promise(function(i){r.echarts.init(r.ele,r.props.theme,r.props.opts);var a=r.getEchartsInstance();a.on("finished",function(){var s=r.ele.clientWidth,o=r.ele.clientHeight;r.echarts.dispose(r.ele);var l=em({width:s,height:o},r.props.opts);i(r.echarts.init(r.ele,r.props.theme,l))})})]})})},t.prototype.getEchartsInstance=function(){return this.echarts.getInstanceByDom(this.ele)},t.prototype.dispose=function(){if(this.ele){try{RR(this.ele)}catch(r){console.warn(r)}this.echarts.dispose(this.ele)}},t.prototype.renderNewEcharts=function(){return TB(this,void 0,void 0,function(){var r,n,i,a,s,o,l=this;return CB(this,function(u){switch(u.label){case 0:return r=this.props,n=r.onEvents,i=r.onChartReady,a=r.autoResize,s=a===void 0?!0:a,[4,this.initEchartsInstance()];case 1:return u.sent(),o=this.updateEChartsOption(),this.bindEvents(o,n||{}),jA(i)&&i(o),this.ele&&s&&PR(this.ele,function(){l.resize()}),[2]}})})},t.prototype.bindEvents=function(r,n){function i(s,o){T7(s)&&jA(o)&&r.on(s,function(l){o(l,r)})}for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&i(a,n[a])},t.prototype.offEvents=function(r,n){if(n)for(var i in n)T7(i)&&r.off(i,n[i])},t.prototype.updateEChartsOption=function(){var r=this.props,n=r.option,i=r.notMerge,a=i===void 0?!1:i,s=r.replaceMerge,o=s===void 0?null:s,l=r.lazyUpdate,u=l===void 0?!1:l,c=r.showLoading,h=r.loadingOption,f=h===void 0?null:h,d=this.getEchartsInstance();return d.setOption(n,{notMerge:a,replaceMerge:o,lazyUpdate:u}),c?d.showLoading(f):d.hideLoading(),d},t.prototype.resize=function(){var r=this.getEchartsInstance();if(!this.isInitialResize)try{r.resize({width:"auto",height:"auto"})}catch(n){console.warn(n)}this.isInitialResize=!1},t.prototype.render=function(){var r=this,n=this.props,i=n.style,a=n.className,s=a===void 0?"":a;n.echarts,n.option,n.theme,n.notMerge,n.replaceMerge,n.lazyUpdate,n.showLoading,n.loadingOption,n.opts,n.onChartReady,n.onEvents,n.shouldSetOption,n.autoResize;var o=V_e(n,["style","className","echarts","option","theme","notMerge","replaceMerge","lazyUpdate","showLoading","loadingOption","opts","onChartReady","onEvents","shouldSetOption","autoResize"]),l=em({height:300},i);return Bt.createElement("div",em({ref:function(u){r.ele=u},style:l,className:"echarts-for-react ".concat(s)},o))},t}(Q.PureComponent),C7=function(e){_e(t,e);function t(r){var n=e.call(this,r)||this;return n.echarts=rze,n}return t}(pze);const h_=({variable:e,onUpdate:t,onTranspose:r,onRemove:n,renderHeaderCell:i,onColumnDelete:a,onColumnAdd:s})=>{var me;const o=e.value,l=Bt.useRef(null),[u,c]=Bt.useState({show:!1,message:"",onConfirm:()=>{}}),h=(J,te)=>{c({show:!0,message:J,onConfirm:te})},f=()=>{u.onConfirm(),c({show:!1,message:"",onConfirm:()=>{}})},d=()=>{c({show:!1,message:"",onConfirm:()=>{}})},v=Bt.useMemo(()=>{const J=e.attributes.readonly;return typeof J=="string"?J.split(",").map(te=>te.trim()):[]},[e.attributes.readonly]),m=e.attributes.noRowOperations===!0,y=Bt.useMemo(()=>e.element==="chart-data"&&typeof o=="object"&&!Array.isArray(o),[o,e.element]),b=Bt.useMemo(()=>{if(y)return!1;const J=o||[];return!!(J.length>0&&Array.isArray(J[0])||J.length===0&&e.element==="chart-data")},[o,e.element,y]),S=Bt.useMemo(()=>{if(y)return[];const J=o||[];if(e.templateSchema)return Object.keys(e.templateSchema);if(b){const te=J.length>0?Math.max(...J.map(ue=>Array.isArray(ue)?ue.length:0)):2;return Array.from({length:te},(ue,pe)=>String(pe))}if(J.length>0){const te=new Set;return J.forEach(ue=>{typeof ue=="object"&&ue!==null&&!Array.isArray(ue)&&Object.keys(ue).forEach(pe=>te.add(pe))}),Array.from(te)}return["label","value"]},[e.templateSchema,o,b,y]),w=J=>{if(!y)return;const te={...o};te.xAxis={...te.xAxis,type:J},t(te)},k=(J,te,ue)=>{if(!y)return;const pe={...o};pe.series=[...pe.series||[]],pe.series[J]&&(pe.series[J]={...pe.series[J],[te]:ue},t(pe))},M=(J,te,ue)=>{var je;if(!y)return;const pe={...o};let Se=ue;if(ue!==""&&!isNaN(Number(ue))&&(Se=Number(ue)),te===0){const Pe=[...((je=pe.xAxis)==null?void 0:je.data)||[]];for(;Pe.length<=J;)Pe.push("");Pe[J]=Se,pe.xAxis={...pe.xAxis||{},data:Pe}}else{const Pe=te-1,Te=[...pe.series||[]];if(Te[Pe]){const Ve=[...Te[Pe].data||[]];for(;Ve.length<=J;)Ve.push(null);Ve[J]=Se,Te[Pe]={...Te[Pe],data:Ve},pe.series=Te}}t(pe)},I=()=>{var pe;if(!y)return;const J={...o},te=[...((pe=J.xAxis)==null?void 0:pe.data)||[]];te.push(""),J.xAxis={...J.xAxis||{},data:te};const ue=(J.series||[]).map(Se=>({...Se,data:[...Se.data||[],null]}));J.series=ue,t(J),setTimeout(()=>{l.current&&(l.current.scrollTop=l.current.scrollHeight)},50)},L=()=>{var pe,Se;if(!y)return;const J={...o},te=[...J.series||[]],ue=((Se=(pe=J.xAxis)==null?void 0:pe.data)==null?void 0:Se.length)||0;te.push({type:"line",unit:"",name:`Series ${te.length+1}`,data:new Array(ue).fill(null)}),J.series=te,t(J)},N=J=>{var ue,pe;if(!y)return;const te=((pe=(ue=o.series)==null?void 0:ue[J])==null?void 0:pe.name)||`Series ${J+1}`;h(`Delete series "${te}"?`,()=>{const Se={...o},je=[...Se.series||[]];je.splice(J,1),Se.series=je,t(Se)})},z=J=>{y&&h(`Delete row ${J+1}?`,()=>{var Se;const te={...o},ue=[...((Se=te.xAxis)==null?void 0:Se.data)||[]];J<ue.length&&ue.splice(J,1),te.xAxis={...te.xAxis||{},data:ue};const pe=(te.series||[]).map(je=>{const Pe=[...je.data||[]];return J<Pe.length&&Pe.splice(J,1),{...je,data:Pe}});te.series=pe,t(te)})},B=(J,te,ue)=>{const Se=[...o||[]];let je=Se[J],Pe=ue;if(ue!==""&&!isNaN(Number(ue))&&(Pe=Number(ue)),b){Array.isArray(je)||(je=[]),je=[...je];const Te=parseInt(te);je[Te]=Pe}else je=typeof je=="object"?{...je}:{},je[te]=Pe;Se[J]=je,t(Se)},H=()=>{const J=o||[];if(b){const te=new Array(S.length).fill("");t([...J,te])}else{const te={};S.forEach(ue=>{te[ue]=""}),t([...J,te])}setTimeout(()=>{l.current&&(l.current.scrollTop=l.current.scrollHeight)},50)},G=()=>{if(!b)return;const te=(o||[]).map(ue=>Array.isArray(ue)?[...ue,""]:ue);te.length===0?t([["",""]]):t(te)},$=J=>{if(!b)return;const te=o||[];h(`Delete column ${J+1}?`,()=>{const ue=te.map(pe=>{if(Array.isArray(pe)){const Se=[...pe];return Se.splice(J,1),Se}return pe});t(ue)})},W=J=>{const te=o||[];h(`Delete row ${J+1}?`,()=>{const ue=[...te];ue.splice(J,1),t(ue)})},X=()=>{var ue,pe,Se;if(!y)return 0;const J=((pe=(ue=o.xAxis)==null?void 0:ue.data)==null?void 0:pe.length)||0,te=((Se=o.series)==null?void 0:Se.reduce((je,Pe)=>{var Te;return Math.max(je,((Te=Pe.data)==null?void 0:Te.length)||0)},0))||0;return Math.max(J,te)};if(y){const J=X(),te=o.series||[];return E.jsxs("div",{className:"mb-4",style:{width:"100%"},children:[E.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[E.jsx("div",{className:"d-flex gap-1",children:n&&E.jsxs(We,{size:"sm",variant:"outline-danger",onClick:()=>h("Remove this data source?",n),style:{padding:"0px 6px",fontSize:"10px"},title:"Remove Data Source",children:[E.jsx(Ri,{size:12,className:"me-1"})," Remove"]})}),!m&&E.jsxs("div",{className:"d-flex gap-1",children:[E.jsxs(We,{size:"sm",variant:"outline-success",onClick:I,style:{padding:"0px 6px",fontSize:"10px"},children:[E.jsx(sl,{size:12,className:"me-1"})," Row"]}),E.jsxs(We,{size:"sm",variant:"outline-success",onClick:L,style:{padding:"0px 6px",fontSize:"10px"},children:[E.jsx(sl,{size:12,className:"me-1"})," Series"]})]})]}),E.jsx("div",{className:"border rounded bg-white overflow-hidden shadow-sm",children:E.jsx("div",{ref:l,className:"overflow-auto",style:{maxHeight:"300px"},children:E.jsxs($h,{size:"sm",hover:!0,className:"mb-0 small",bordered:!0,style:{width:"max-content",minWidth:"100%",tableLayout:"auto"},children:[E.jsx("thead",{className:"table-light sticky-top",children:E.jsxs("tr",{children:[E.jsx("th",{className:"p-2 align-bottom",style:{minWidth:"120px"},children:E.jsxs("div",{className:"d-flex flex-column gap-1",children:[E.jsx("div",{style:{height:"22px"}}),E.jsx(Tt.Control,{list:"xaxis-types",size:"sm",value:((me=o.xAxis)==null?void 0:me.type)||"",onChange:ue=>w(ue.target.value),style:{fontSize:"0.75rem",padding:"0 4px",height:"24px"}}),E.jsxs("datalist",{id:"xaxis-types",children:[E.jsx("option",{value:"category"}),E.jsx("option",{value:"time"})]})]})}),te.map((ue,pe)=>E.jsx("th",{className:"p-2 align-bottom position-relative",style:{minWidth:"160px"},children:E.jsxs("div",{className:"d-flex flex-column gap-1",children:[E.jsx("div",{className:"d-flex justify-content-end align-items-center",style:{height:"22px"},children:E.jsx(We,{variant:"link",className:"text-danger p-0 shadow-none",onClick:()=>N(pe),style:{opacity:.5},children:E.jsx(Ri,{size:12})})}),E.jsxs("div",{className:"d-flex gap-1",children:[E.jsxs("div",{style:{width:"60%"},children:[E.jsx(Tt.Control,{list:`chart-types-${pe}`,size:"sm",value:ue.type||"",onChange:Se=>k(pe,"type",Se.target.value),style:{fontSize:"0.75rem",padding:"0 4px",height:"24px"}}),E.jsxs("datalist",{id:`chart-types-${pe}`,children:[E.jsx("option",{value:"line"}),E.jsx("option",{value:"column"}),E.jsx("option",{value:"bar"}),E.jsx("option",{value:"area"}),E.jsx("option",{value:"scatter"}),E.jsx("option",{value:"pie"})]})]}),E.jsx("div",{style:{width:"40%"},children:E.jsx(Tt.Control,{size:"sm",placeholder:"Unit",value:ue.unit||"",onChange:Se=>k(pe,"unit",Se.target.value),style:{fontSize:"0.75rem",padding:"0.1rem 0.5rem"}})})]})]})},pe)),E.jsx("th",{style:{width:"30px"}})]})}),E.jsxs("tbody",{children:[Array.from({length:J}).map((ue,pe)=>{var Se,je;return E.jsxs("tr",{children:[E.jsx("td",{className:"p-0 border-end",children:E.jsx("input",{className:"form-control form-control-sm border-0 rounded-0 shadow-none px-2 py-1 bg-transparent",style:{fontSize:"0.8rem"},value:((je=(Se=o.xAxis)==null?void 0:Se.data)==null?void 0:je[pe])!==void 0?o.xAxis.data[pe]:"",onChange:Pe=>M(pe,0,Pe.target.value)})}),te.map((Pe,Te)=>{var Ve;return E.jsx("td",{className:"p-0 border-end",children:E.jsx("input",{className:"form-control form-control-sm border-0 rounded-0 shadow-none px-2 py-1 bg-transparent",style:{fontSize:"0.8rem"},value:((Ve=Pe.data)==null?void 0:Ve[pe])!==void 0&&Pe.data[pe]!==null?Pe.data[pe]:"",onChange:ze=>M(pe,Te+1,ze.target.value)})},Te)}),E.jsx("td",{className:"text-center p-0 align-middle",children:E.jsx(We,{variant:"link",className:"text-danger p-0 shadow-none",onClick:()=>z(pe),children:E.jsx(Ri,{size:14})})})]},pe)}),J===0&&E.jsx("tr",{children:E.jsx("td",{colSpan:te.length+2,className:"text-center text-muted p-3",children:"No data. Add a row to start."})})]})]})})}),E.jsx(bt,{show:u.show,onHide:d,centered:!0,size:"sm",children:E.jsxs(bt.Body,{className:"text-center py-4",children:[E.jsx("p",{className:"mb-3",children:u.message}),E.jsxs("div",{className:"d-flex justify-content-center gap-2",children:[E.jsx(We,{variant:"secondary",size:"sm",onClick:d,children:"Cancel"}),E.jsx(We,{variant:"danger",size:"sm",onClick:f,children:"Delete"})]})]})})]})}const ee=o||[],le=J=>{const te=J.split(/\r?\n/).filter(Te=>Te.trim()!=="");if(te.length===0)return[];const ue=te[0],pe=(ue.match(/\t/g)||[]).length,Se=(ue.match(/,/g)||[]).length,je=pe>=Se&&pe>0?"	":",",Pe=te.map(Te=>{const Ve=[];let ze="",$e=!1;for(let ce=0;ce<Te.length;ce++){const ve=Te[ce];ve==='"'?Te[ce+1]==='"'?(ze+='"',ce++):$e=!$e:ve===je&&!$e?(Ve.push(ze),ze=""):ze+=ve}return Ve.push(ze),Ve.map(ce=>{let ve=ce.trim();return ve.length>=2&&ve.startsWith('"')&&ve.endsWith('"')&&(ve=ve.substring(1,ve.length-1)),ve!==""&&!isNaN(Number(ve))?Number(ve):ve})});return b?Pe:Pe.map(Te=>{const Ve={};return S.forEach((ze,$e)=>{Ve[ze]=Te[$e]!==void 0?Te[$e]:""}),Ve})},ie=J=>{if(m||y)return;let te=[];const ue=J.clipboardData.getData("text/html"),pe=J.clipboardData.getData("text");if(ue)try{const je=new DOMParser().parseFromString(ue,"text/html"),Pe=Array.from(je.querySelectorAll("tr"));Pe.length>0&&(te=Pe.map(Te=>Array.from(Te.querySelectorAll("td, th")).map(Ve=>{var $e;const ze=(($e=Ve.textContent)==null?void 0:$e.trim())||"";return ze!==""&&!isNaN(Number(ze))?Number(ze):ze})).filter(Te=>Te.length>0))}catch(Se){console.error("HTML parse error",Se)}if(te.length===0&&pe){const Se=le(pe);if(Se.length>0){t(Se);return}}te.length>0&&t(b?te:te.map(Se=>{const je={};return S.forEach((Pe,Te)=>{je[Pe]=Se[Te]!==void 0?Se[Te]:""}),je}))},fe=J=>{var pe;if(y)return;const te=(pe=J.target.files)==null?void 0:pe[0];if(!te)return;const ue=new FileReader;ue.onload=Se=>{var Te;const je=(Te=Se.target)==null?void 0:Te.result,Pe=le(je);t(Pe)},ue.readAsText(te),J.target.value=""},re=J=>{if(J.preventDefault(),m||y)return;const te=J.dataTransfer.files[0];if(te){const ue=new FileReader;ue.onload=pe=>{var Pe;const Se=(Pe=pe.target)==null?void 0:Pe.result,je=le(Se);t(je)},ue.readAsText(te)}};return E.jsxs("div",{className:"mb-4",onPaste:ie,onDrop:re,onDragOver:J=>J.preventDefault(),style:{width:"100%"},children:[E.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[E.jsxs("div",{className:"d-flex gap-1",children:[r&&E.jsxs(We,{size:"sm",variant:"outline-secondary",onClick:r,style:{padding:"0px 6px",fontSize:"10px"},title:"Transpose Rows/Columns",children:[E.jsx(Rfe,{size:12,className:"me-1"})," Transpose"]}),!m&&E.jsxs(We,{size:"sm",variant:"outline-secondary",onClick:()=>{var J;return(J=document.getElementById(`csv-upload-${e.name}`))==null?void 0:J.click()},title:"Upload CSV",style:{padding:"0px 6px",fontSize:"10px"},children:[E.jsx(HL,{size:12,className:"me-1"})," Import",E.jsx("input",{id:`csv-upload-${e.name}`,type:"file",accept:".csv,.tsv,text/plain",style:{display:"none"},onChange:fe})]}),n&&E.jsxs(We,{size:"sm",variant:"outline-danger",onClick:()=>h("Remove this data source?",n),style:{padding:"0px 6px",fontSize:"10px"},title:"Remove Data Source",children:[E.jsx(Ri,{size:12,className:"me-1"})," Remove"]})]}),!m&&E.jsxs("div",{className:"d-flex gap-1",children:[E.jsxs(We,{size:"sm",variant:"outline-success",onClick:H,style:{padding:"0px 6px",fontSize:"10px"},children:[E.jsx(sl,{size:12,className:"me-1"})," Row"]}),b&&E.jsxs(We,{size:"sm",variant:"outline-success",onClick:s||G,style:{padding:"0px 6px",fontSize:"10px"},children:[E.jsx(sl,{size:12,className:"me-1"})," Column"]})]})]}),E.jsx("div",{className:"border rounded bg-white overflow-hidden shadow-sm",children:E.jsx("div",{ref:l,className:"overflow-auto",style:{maxHeight:"300px"},children:E.jsxs($h,{size:"sm",hover:!0,className:"mb-0 small",bordered:!0,style:{width:"max-content",minWidth:"100%",tableLayout:"auto"},children:[!b&&E.jsx("thead",{className:"table-light sticky-top",children:E.jsxs("tr",{children:[S.map(J=>E.jsx("th",{className:"text-muted fw-normal py-1 px-2",style:{fontSize:"0.7rem"},children:J},J)),!m&&E.jsx("th",{style:{width:"30px"}})]})}),b&&!m&&E.jsx("thead",{className:"table-light sticky-top",children:E.jsxs("tr",{children:[S.map((J,te)=>E.jsx("th",{className:"text-center p-0",style:{fontSize:"0.7rem"},children:i?i(te):E.jsx(We,{variant:"link",className:"text-danger p-0 shadow-none",onClick:()=>a?a(te):$(te),title:"Delete column",style:{opacity:.6},children:E.jsx(Ri,{size:12})})},J)),E.jsx("th",{style:{width:"30px"}})]})}),E.jsxs("tbody",{children:[ee.map((J,te)=>E.jsxs("tr",{children:[S.map(ue=>{const pe=v.includes(ue),Se=b?Array.isArray(J)?J[parseInt(ue)]:"":J&&J[ue]!==void 0?J[ue]:"";return E.jsx("td",{className:"p-0 border-end",children:E.jsx("input",{className:`form-control form-control-sm border-0 rounded-0 shadow-none px-2 py-1 ${pe?"text-muted bg-light":"bg-transparent"}`,style:{fontSize:"0.8rem",minWidth:"80px"},value:Se!==void 0?Se:"",onChange:je=>B(te,ue,je.target.value),readOnly:pe})},ue)}),!m&&E.jsx("td",{className:"text-center p-0 align-middle",children:E.jsx(We,{variant:"link",className:"text-danger p-0 shadow-none",onClick:()=>W(te),children:E.jsx(Ri,{size:14})})})]},te)),ee.length===0&&E.jsx("tr",{children:E.jsx("td",{colSpan:S.length+(m?0:1),className:"text-center text-muted p-3",children:m?"Table is empty.":"Table is empty. Paste data or add row."})})]})]})})}),!m&&E.jsx("div",{className:"text-muted px-1",style:{fontSize:"9px",marginTop:"4px"},children:"Tip: Paste from Excel or drop CSV. Values auto-sync to variables."}),E.jsx(bt,{show:u.show,onHide:d,centered:!0,size:"sm",children:E.jsxs(bt.Body,{className:"text-center py-4",children:[E.jsx("p",{className:"mb-3",children:u.message}),E.jsxs("div",{className:"d-flex justify-content-center gap-2",children:[E.jsx(We,{variant:"secondary",size:"sm",onClick:d,children:"Cancel"}),E.jsx(We,{variant:"danger",size:"sm",onClick:f,children:"Delete"})]})]})})]})};var vze=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,7,9,32,4,318,1,80,3,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,68,8,2,0,3,0,2,3,2,4,2,0,15,1,83,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,7,19,58,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,343,9,54,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,10,5350,0,7,14,11465,27,2343,9,87,9,39,4,60,6,26,9,535,9,470,0,2,54,8,3,82,0,12,1,19628,1,4178,9,519,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,245,1,2,9,726,6,110,6,6,9,4759,9,787719,239],Zee=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,4,51,13,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,39,27,10,22,251,41,7,1,17,2,60,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,31,9,2,0,3,0,2,37,2,0,26,0,2,0,45,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,200,32,32,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,26,3994,6,582,6842,29,1763,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,433,44,212,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,42,9,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,229,29,3,0,496,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],gze="-----------------------------------------------------------------------------------------------------------------------------------------------------",Qee="------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",HA={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},VA="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",mze={5:VA,"5module":VA+" export import",6:VA+" const class extends export import super"},yze=/^in(stanceof)?$/,xze=new RegExp("["+Qee+"]"),bze=new RegExp("["+Qee+gze+"]");function pM(e,t){for(var r=65536,n=0;n<t.length;n+=2){if(r+=t[n],r>e)return!1;if(r+=t[n+1],r>=e)return!0}return!1}function Bo(e,t){return e<65?e===36:e<91?!0:e<97?e===95:e<123?!0:e<=65535?e>=170&&xze.test(String.fromCharCode(e)):t===!1?!1:pM(e,Zee)}function rc(e,t){return e<48?e===36:e<58?!0:e<65?!1:e<91?!0:e<97?e===95:e<123?!0:e<=65535?e>=170&&bze.test(String.fromCharCode(e)):t===!1?!1:pM(e,Zee)||pM(e,vze)}var Sr=function(t,r){r===void 0&&(r={}),this.label=t,this.keyword=r.keyword,this.beforeExpr=!!r.beforeExpr,this.startsExpr=!!r.startsExpr,this.isLoop=!!r.isLoop,this.isAssign=!!r.isAssign,this.prefix=!!r.prefix,this.postfix=!!r.postfix,this.binop=r.binop||null,this.updateContext=null};function Fa(e,t){return new Sr(e,{beforeExpr:!0,binop:t})}var za={beforeExpr:!0},Ki={startsExpr:!0},OR={};function mr(e,t){return t===void 0&&(t={}),t.keyword=e,OR[e]=new Sr(e,t)}var se={num:new Sr("num",Ki),regexp:new Sr("regexp",Ki),string:new Sr("string",Ki),name:new Sr("name",Ki),privateId:new Sr("privateId",Ki),eof:new Sr("eof"),bracketL:new Sr("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new Sr("]"),braceL:new Sr("{",{beforeExpr:!0,startsExpr:!0}),braceR:new Sr("}"),parenL:new Sr("(",{beforeExpr:!0,startsExpr:!0}),parenR:new Sr(")"),comma:new Sr(",",za),semi:new Sr(";",za),colon:new Sr(":",za),dot:new Sr("."),question:new Sr("?",za),questionDot:new Sr("?."),arrow:new Sr("=>",za),template:new Sr("template"),invalidTemplate:new Sr("invalidTemplate"),ellipsis:new Sr("...",za),backQuote:new Sr("`",Ki),dollarBraceL:new Sr("${",{beforeExpr:!0,startsExpr:!0}),eq:new Sr("=",{beforeExpr:!0,isAssign:!0}),assign:new Sr("_=",{beforeExpr:!0,isAssign:!0}),incDec:new Sr("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new Sr("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:Fa("||",1),logicalAND:Fa("&&",2),bitwiseOR:Fa("|",3),bitwiseXOR:Fa("^",4),bitwiseAND:Fa("&",5),equality:Fa("==/!=/===/!==",6),relational:Fa("</>/<=/>=",7),bitShift:Fa("<</>>/>>>",8),plusMin:new Sr("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:Fa("%",10),star:Fa("*",10),slash:Fa("/",10),starstar:new Sr("**",{beforeExpr:!0}),coalesce:Fa("??",1),_break:mr("break"),_case:mr("case",za),_catch:mr("catch"),_continue:mr("continue"),_debugger:mr("debugger"),_default:mr("default",za),_do:mr("do",{isLoop:!0,beforeExpr:!0}),_else:mr("else",za),_finally:mr("finally"),_for:mr("for",{isLoop:!0}),_function:mr("function",Ki),_if:mr("if"),_return:mr("return",za),_switch:mr("switch"),_throw:mr("throw",za),_try:mr("try"),_var:mr("var"),_const:mr("const"),_while:mr("while",{isLoop:!0}),_with:mr("with"),_new:mr("new",{beforeExpr:!0,startsExpr:!0}),_this:mr("this",Ki),_super:mr("super",Ki),_class:mr("class",Ki),_extends:mr("extends",za),_export:mr("export"),_import:mr("import",Ki),_null:mr("null",Ki),_true:mr("true",Ki),_false:mr("false",Ki),_in:mr("in",{beforeExpr:!0,binop:7}),_instanceof:mr("instanceof",{beforeExpr:!0,binop:7}),_typeof:mr("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:mr("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:mr("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},ca=/\r\n?|\n|\u2028|\u2029/,Sze=new RegExp(ca.source,"g");function Jp(e){return e===10||e===13||e===8232||e===8233}function Jee(e,t,r){r===void 0&&(r=e.length);for(var n=t;n<r;n++){var i=e.charCodeAt(n);if(Jp(i))return n<r-1&&i===13&&e.charCodeAt(n+1)===10?n+2:n+1}return-1}var ete=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,mi=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,tte=Object.prototype,_ze=tte.hasOwnProperty,wze=tte.toString,ev=Object.hasOwn||function(e,t){return _ze.call(e,t)},E7=Array.isArray||function(e){return wze.call(e)==="[object Array]"},A7=Object.create(null);function ku(e){return A7[e]||(A7[e]=new RegExp("^(?:"+e.replace(/ /g,"|")+")$"))}function Ml(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10)+55296,(e&1023)+56320))}var Tze=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,w0=function(t,r){this.line=t,this.column=r};w0.prototype.offset=function(t){return new w0(this.line,this.column+t)};var Zw=function(t,r,n){this.start=r,this.end=n,t.sourceFile!==null&&(this.source=t.sourceFile)};function rte(e,t){for(var r=1,n=0;;){var i=Jee(e,n,t);if(i<0)return new w0(r,t-n);++r,n=i}}var vM={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},k7=!1;function Cze(e){var t={};for(var r in vM)t[r]=e&&ev(e,r)?e[r]:vM[r];if(t.ecmaVersion==="latest"?t.ecmaVersion=1e8:t.ecmaVersion==null?(!k7&&typeof console=="object"&&console.warn&&(k7=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),t.ecmaVersion=11):t.ecmaVersion>=2015&&(t.ecmaVersion-=2009),t.allowReserved==null&&(t.allowReserved=t.ecmaVersion<5),(!e||e.allowHashBang==null)&&(t.allowHashBang=t.ecmaVersion>=14),E7(t.onToken)){var n=t.onToken;t.onToken=function(i){return n.push(i)}}return E7(t.onComment)&&(t.onComment=Eze(t,t.onComment)),t}function Eze(e,t){return function(r,n,i,a,s,o){var l={type:r?"Block":"Line",value:n,start:i,end:a};e.locations&&(l.loc=new Zw(this,s,o)),e.ranges&&(l.range=[i,a]),t.push(l)}}var T0=1,tv=2,BR=4,nte=8,FR=16,ite=32,Qw=64,ate=128,mf=256,fy=512,Jw=T0|tv|mf;function zR(e,t){return tv|(e?BR:0)|(t?nte:0)}var f_=0,jR=1,Bl=2,ste=3,ote=4,lte=5,Hn=function(t,r,n){this.options=t=Cze(t),this.sourceFile=t.sourceFile,this.keywords=ku(mze[t.ecmaVersion>=6?6:t.sourceType==="module"?"5module":5]);var i="";t.allowReserved!==!0&&(i=HA[t.ecmaVersion>=6?6:t.ecmaVersion===5?5:3],t.sourceType==="module"&&(i+=" await")),this.reservedWords=ku(i);var a=(i?i+" ":"")+HA.strict;this.reservedWordsStrict=ku(a),this.reservedWordsStrictBind=ku(a+" "+HA.strictBind),this.input=String(r),this.containsEsc=!1,n?(this.pos=n,this.lineStart=this.input.lastIndexOf(`
`,n-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(ca).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=se.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=t.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&t.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(T0),this.regexpState=null,this.privateNameStack=[]},Go={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};Hn.prototype.parse=function(){var t=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(t)};Go.inFunction.get=function(){return(this.currentVarScope().flags&tv)>0};Go.inGenerator.get=function(){return(this.currentVarScope().flags&nte)>0};Go.inAsync.get=function(){return(this.currentVarScope().flags&BR)>0};Go.canAwait.get=function(){for(var e=this.scopeStack.length-1;e>=0;e--){var t=this.scopeStack[e],r=t.flags;if(r&(mf|fy))return!1;if(r&tv)return(r&BR)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction};Go.allowSuper.get=function(){var e=this.currentThisScope(),t=e.flags;return(t&Qw)>0||this.options.allowSuperOutsideMethod};Go.allowDirectSuper.get=function(){return(this.currentThisScope().flags&ate)>0};Go.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())};Go.allowNewDotTarget.get=function(){for(var e=this.scopeStack.length-1;e>=0;e--){var t=this.scopeStack[e],r=t.flags;if(r&(mf|fy)||r&tv&&!(r&FR))return!0}return!1};Go.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&mf)>0};Hn.extend=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];for(var n=this,i=0;i<t.length;i++)n=t[i](n);return n};Hn.parse=function(t,r){return new this(r,t).parse()};Hn.parseExpressionAt=function(t,r,n){var i=new this(n,t,r);return i.nextToken(),i.parseExpression()};Hn.tokenizer=function(t,r){return new this(r,t)};Object.defineProperties(Hn.prototype,Go);var Wi=Hn.prototype,Aze=/^(?:'((?:\\[^]|[^'\\])*?)'|"((?:\\[^]|[^"\\])*?)")/;Wi.strictDirective=function(e){if(this.options.ecmaVersion<5)return!1;for(;;){mi.lastIndex=e,e+=mi.exec(this.input)[0].length;var t=Aze.exec(this.input.slice(e));if(!t)return!1;if((t[1]||t[2])==="use strict"){mi.lastIndex=e+t[0].length;var r=mi.exec(this.input),n=r.index+r[0].length,i=this.input.charAt(n);return i===";"||i==="}"||ca.test(r[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(i)||i==="!"&&this.input.charAt(n+1)==="=")}e+=t[0].length,mi.lastIndex=e,e+=mi.exec(this.input)[0].length,this.input[e]===";"&&e++}};Wi.eat=function(e){return this.type===e?(this.next(),!0):!1};Wi.isContextual=function(e){return this.type===se.name&&this.value===e&&!this.containsEsc};Wi.eatContextual=function(e){return this.isContextual(e)?(this.next(),!0):!1};Wi.expectContextual=function(e){this.eatContextual(e)||this.unexpected()};Wi.canInsertSemicolon=function(){return this.type===se.eof||this.type===se.braceR||ca.test(this.input.slice(this.lastTokEnd,this.start))};Wi.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0};Wi.semicolon=function(){!this.eat(se.semi)&&!this.insertSemicolon()&&this.unexpected()};Wi.afterTrailingComma=function(e,t){if(this.type===e)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),t||this.next(),!0};Wi.expect=function(e){this.eat(e)||this.unexpected()};Wi.unexpected=function(e){this.raise(e??this.start,"Unexpected token")};var eT=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};Wi.checkPatternErrors=function(e,t){if(e){e.trailingComma>-1&&this.raiseRecoverable(e.trailingComma,"Comma is not permitted after the rest element");var r=t?e.parenthesizedAssign:e.parenthesizedBind;r>-1&&this.raiseRecoverable(r,t?"Assigning to rvalue":"Parenthesized pattern")}};Wi.checkExpressionErrors=function(e,t){if(!e)return!1;var r=e.shorthandAssign,n=e.doubleProto;if(!t)return r>=0||n>=0;r>=0&&this.raise(r,"Shorthand property assignments are valid only in destructuring patterns"),n>=0&&this.raiseRecoverable(n,"Redefinition of __proto__ property")};Wi.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")};Wi.isSimpleAssignTarget=function(e){return e.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(e.expression):e.type==="Identifier"||e.type==="MemberExpression"};var Dt=Hn.prototype;Dt.parseTopLevel=function(e){var t=Object.create(null);for(e.body||(e.body=[]);this.type!==se.eof;){var r=this.parseStatement(null,!0,t);e.body.push(r)}if(this.inModule)for(var n=0,i=Object.keys(this.undefinedExports);n<i.length;n+=1){var a=i[n];this.raiseRecoverable(this.undefinedExports[a].start,"Export '"+a+"' is not defined")}return this.adaptDirectivePrologue(e.body),this.next(),e.sourceType=this.options.sourceType,this.finishNode(e,"Program")};var HR={kind:"loop"},kze={kind:"switch"};Dt.isLet=function(e){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;mi.lastIndex=this.pos;var t=mi.exec(this.input),r=this.pos+t[0].length,n=this.input.charCodeAt(r);if(n===91||n===92)return!0;if(e)return!1;if(n===123||n>55295&&n<56320)return!0;if(Bo(n,!0)){for(var i=r+1;rc(n=this.input.charCodeAt(i),!0);)++i;if(n===92||n>55295&&n<56320)return!0;var a=this.input.slice(r,i);if(!yze.test(a))return!0}return!1};Dt.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;mi.lastIndex=this.pos;var e=mi.exec(this.input),t=this.pos+e[0].length,r;return!ca.test(this.input.slice(this.pos,t))&&this.input.slice(t,t+8)==="function"&&(t+8===this.input.length||!(rc(r=this.input.charCodeAt(t+8))||r>55295&&r<56320))};Dt.isUsingKeyword=function(e,t){if(this.options.ecmaVersion<17||!this.isContextual(e?"await":"using"))return!1;mi.lastIndex=this.pos;var r=mi.exec(this.input),n=this.pos+r[0].length;if(ca.test(this.input.slice(this.pos,n)))return!1;if(e){var i=n+5,a;if(this.input.slice(n,i)!=="using"||i===this.input.length||rc(a=this.input.charCodeAt(i))||a>55295&&a<56320)return!1;mi.lastIndex=i;var s=mi.exec(this.input);if(s&&ca.test(this.input.slice(i,i+s[0].length)))return!1}if(t){var o=n+2,l;if(this.input.slice(n,o)==="of"&&(o===this.input.length||!rc(l=this.input.charCodeAt(o))&&!(l>55295&&l<56320)))return!1}var u=this.input.charCodeAt(n);return Bo(u,!0)||u===92};Dt.isAwaitUsing=function(e){return this.isUsingKeyword(!0,e)};Dt.isUsing=function(e){return this.isUsingKeyword(!1,e)};Dt.parseStatement=function(e,t,r){var n=this.type,i=this.startNode(),a;switch(this.isLet(e)&&(n=se._var,a="let"),n){case se._break:case se._continue:return this.parseBreakContinueStatement(i,n.keyword);case se._debugger:return this.parseDebuggerStatement(i);case se._do:return this.parseDoStatement(i);case se._for:return this.parseForStatement(i);case se._function:return e&&(this.strict||e!=="if"&&e!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(i,!1,!e);case se._class:return e&&this.unexpected(),this.parseClass(i,!0);case se._if:return this.parseIfStatement(i);case se._return:return this.parseReturnStatement(i);case se._switch:return this.parseSwitchStatement(i);case se._throw:return this.parseThrowStatement(i);case se._try:return this.parseTryStatement(i);case se._const:case se._var:return a=a||this.value,e&&a!=="var"&&this.unexpected(),this.parseVarStatement(i,a);case se._while:return this.parseWhileStatement(i);case se._with:return this.parseWithStatement(i);case se.braceL:return this.parseBlock(!0,i);case se.semi:return this.parseEmptyStatement(i);case se._export:case se._import:if(this.options.ecmaVersion>10&&n===se._import){mi.lastIndex=this.pos;var s=mi.exec(this.input),o=this.pos+s[0].length,l=this.input.charCodeAt(o);if(l===40||l===46)return this.parseExpressionStatement(i,this.parseExpression())}return this.options.allowImportExportEverywhere||(t||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),n===se._import?this.parseImport(i):this.parseExport(i,r);default:if(this.isAsyncFunction())return e&&this.unexpected(),this.next(),this.parseFunctionStatement(i,!0,!e);var u=this.isAwaitUsing(!1)?"await using":this.isUsing(!1)?"using":null;if(u)return t&&this.options.sourceType==="script"&&this.raise(this.start,"Using declaration cannot appear in the top level when source type is `script`"),u==="await using"&&(this.canAwait||this.raise(this.start,"Await using cannot appear outside of async function"),this.next()),this.next(),this.parseVar(i,!1,u),this.semicolon(),this.finishNode(i,"VariableDeclaration");var c=this.value,h=this.parseExpression();return n===se.name&&h.type==="Identifier"&&this.eat(se.colon)?this.parseLabeledStatement(i,c,h,e):this.parseExpressionStatement(i,h)}};Dt.parseBreakContinueStatement=function(e,t){var r=t==="break";this.next(),this.eat(se.semi)||this.insertSemicolon()?e.label=null:this.type!==se.name?this.unexpected():(e.label=this.parseIdent(),this.semicolon());for(var n=0;n<this.labels.length;++n){var i=this.labels[n];if((e.label==null||i.name===e.label.name)&&(i.kind!=null&&(r||i.kind==="loop")||e.label&&r))break}return n===this.labels.length&&this.raise(e.start,"Unsyntactic "+t),this.finishNode(e,r?"BreakStatement":"ContinueStatement")};Dt.parseDebuggerStatement=function(e){return this.next(),this.semicolon(),this.finishNode(e,"DebuggerStatement")};Dt.parseDoStatement=function(e){return this.next(),this.labels.push(HR),e.body=this.parseStatement("do"),this.labels.pop(),this.expect(se._while),e.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(se.semi):this.semicolon(),this.finishNode(e,"DoWhileStatement")};Dt.parseForStatement=function(e){this.next();var t=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(HR),this.enterScope(0),this.expect(se.parenL),this.type===se.semi)return t>-1&&this.unexpected(t),this.parseFor(e,null);var r=this.isLet();if(this.type===se._var||this.type===se._const||r){var n=this.startNode(),i=r?"let":this.value;return this.next(),this.parseVar(n,!0,i),this.finishNode(n,"VariableDeclaration"),this.parseForAfterInit(e,n,t)}var a=this.isContextual("let"),s=!1,o=this.isUsing(!0)?"using":this.isAwaitUsing(!0)?"await using":null;if(o){var l=this.startNode();return this.next(),o==="await using"&&this.next(),this.parseVar(l,!0,o),this.finishNode(l,"VariableDeclaration"),this.parseForAfterInit(e,l,t)}var u=this.containsEsc,c=new eT,h=this.start,f=t>-1?this.parseExprSubscripts(c,"await"):this.parseExpression(!0,c);return this.type===se._in||(s=this.options.ecmaVersion>=6&&this.isContextual("of"))?(t>-1?(this.type===se._in&&this.unexpected(t),e.await=!0):s&&this.options.ecmaVersion>=8&&(f.start===h&&!u&&f.type==="Identifier"&&f.name==="async"?this.unexpected():this.options.ecmaVersion>=9&&(e.await=!1)),a&&s&&this.raise(f.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(f,!1,c),this.checkLValPattern(f),this.parseForIn(e,f)):(this.checkExpressionErrors(c,!0),t>-1&&this.unexpected(t),this.parseFor(e,f))};Dt.parseForAfterInit=function(e,t,r){return(this.type===se._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&t.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===se._in?r>-1&&this.unexpected(r):e.await=r>-1),this.parseForIn(e,t)):(r>-1&&this.unexpected(r),this.parseFor(e,t))};Dt.parseFunctionStatement=function(e,t,r){return this.next(),this.parseFunction(e,xm|(r?0:gM),!1,t)};Dt.parseIfStatement=function(e){return this.next(),e.test=this.parseParenExpression(),e.consequent=this.parseStatement("if"),e.alternate=this.eat(se._else)?this.parseStatement("if"):null,this.finishNode(e,"IfStatement")};Dt.parseReturnStatement=function(e){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(se.semi)||this.insertSemicolon()?e.argument=null:(e.argument=this.parseExpression(),this.semicolon()),this.finishNode(e,"ReturnStatement")};Dt.parseSwitchStatement=function(e){this.next(),e.discriminant=this.parseParenExpression(),e.cases=[],this.expect(se.braceL),this.labels.push(kze),this.enterScope(0);for(var t,r=!1;this.type!==se.braceR;)if(this.type===se._case||this.type===se._default){var n=this.type===se._case;t&&this.finishNode(t,"SwitchCase"),e.cases.push(t=this.startNode()),t.consequent=[],this.next(),n?t.test=this.parseExpression():(r&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),r=!0,t.test=null),this.expect(se.colon)}else t||this.unexpected(),t.consequent.push(this.parseStatement(null));return this.exitScope(),t&&this.finishNode(t,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(e,"SwitchStatement")};Dt.parseThrowStatement=function(e){return this.next(),ca.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),e.argument=this.parseExpression(),this.semicolon(),this.finishNode(e,"ThrowStatement")};var Ize=[];Dt.parseCatchClauseParam=function(){var e=this.parseBindingAtom(),t=e.type==="Identifier";return this.enterScope(t?ite:0),this.checkLValPattern(e,t?ote:Bl),this.expect(se.parenR),e};Dt.parseTryStatement=function(e){if(this.next(),e.block=this.parseBlock(),e.handler=null,this.type===se._catch){var t=this.startNode();this.next(),this.eat(se.parenL)?t.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),t.param=null,this.enterScope(0)),t.body=this.parseBlock(!1),this.exitScope(),e.handler=this.finishNode(t,"CatchClause")}return e.finalizer=this.eat(se._finally)?this.parseBlock():null,!e.handler&&!e.finalizer&&this.raise(e.start,"Missing catch or finally clause"),this.finishNode(e,"TryStatement")};Dt.parseVarStatement=function(e,t,r){return this.next(),this.parseVar(e,!1,t,r),this.semicolon(),this.finishNode(e,"VariableDeclaration")};Dt.parseWhileStatement=function(e){return this.next(),e.test=this.parseParenExpression(),this.labels.push(HR),e.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(e,"WhileStatement")};Dt.parseWithStatement=function(e){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),e.object=this.parseParenExpression(),e.body=this.parseStatement("with"),this.finishNode(e,"WithStatement")};Dt.parseEmptyStatement=function(e){return this.next(),this.finishNode(e,"EmptyStatement")};Dt.parseLabeledStatement=function(e,t,r,n){for(var i=0,a=this.labels;i<a.length;i+=1){var s=a[i];s.name===t&&this.raise(r.start,"Label '"+t+"' is already declared")}for(var o=this.type.isLoop?"loop":this.type===se._switch?"switch":null,l=this.labels.length-1;l>=0;l--){var u=this.labels[l];if(u.statementStart===e.start)u.statementStart=this.start,u.kind=o;else break}return this.labels.push({name:t,kind:o,statementStart:this.start}),e.body=this.parseStatement(n?n.indexOf("label")===-1?n+"label":n:"label"),this.labels.pop(),e.label=r,this.finishNode(e,"LabeledStatement")};Dt.parseExpressionStatement=function(e,t){return e.expression=t,this.semicolon(),this.finishNode(e,"ExpressionStatement")};Dt.parseBlock=function(e,t,r){for(e===void 0&&(e=!0),t===void 0&&(t=this.startNode()),t.body=[],this.expect(se.braceL),e&&this.enterScope(0);this.type!==se.braceR;){var n=this.parseStatement(null);t.body.push(n)}return r&&(this.strict=!1),this.next(),e&&this.exitScope(),this.finishNode(t,"BlockStatement")};Dt.parseFor=function(e,t){return e.init=t,this.expect(se.semi),e.test=this.type===se.semi?null:this.parseExpression(),this.expect(se.semi),e.update=this.type===se.parenR?null:this.parseExpression(),this.expect(se.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,"ForStatement")};Dt.parseForIn=function(e,t){var r=this.type===se._in;return this.next(),t.type==="VariableDeclaration"&&t.declarations[0].init!=null&&(!r||this.options.ecmaVersion<8||this.strict||t.kind!=="var"||t.declarations[0].id.type!=="Identifier")&&this.raise(t.start,(r?"for-in":"for-of")+" loop variable declaration may not have an initializer"),e.left=t,e.right=r?this.parseExpression():this.parseMaybeAssign(),this.expect(se.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,r?"ForInStatement":"ForOfStatement")};Dt.parseVar=function(e,t,r,n){for(e.declarations=[],e.kind=r;;){var i=this.startNode();if(this.parseVarId(i,r),this.eat(se.eq)?i.init=this.parseMaybeAssign(t):!n&&r==="const"&&!(this.type===se._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!n&&(r==="using"||r==="await using")&&this.options.ecmaVersion>=17&&this.type!==se._in&&!this.isContextual("of")?this.raise(this.lastTokEnd,"Missing initializer in "+r+" declaration"):!n&&i.id.type!=="Identifier"&&!(t&&(this.type===se._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):i.init=null,e.declarations.push(this.finishNode(i,"VariableDeclarator")),!this.eat(se.comma))break}return e};Dt.parseVarId=function(e,t){e.id=t==="using"||t==="await using"?this.parseIdent():this.parseBindingAtom(),this.checkLValPattern(e.id,t==="var"?jR:Bl,!1)};var xm=1,gM=2,ute=4;Dt.parseFunction=function(e,t,r,n,i){this.initFunction(e),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!n)&&(this.type===se.star&&t&gM&&this.unexpected(),e.generator=this.eat(se.star)),this.options.ecmaVersion>=8&&(e.async=!!n),t&xm&&(e.id=t&ute&&this.type!==se.name?null:this.parseIdent(),e.id&&!(t&gM)&&this.checkLValSimple(e.id,this.strict||e.generator||e.async?this.treatFunctionsAsVar?jR:Bl:ste));var a=this.yieldPos,s=this.awaitPos,o=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(zR(e.async,e.generator)),t&xm||(e.id=this.type===se.name?this.parseIdent():null),this.parseFunctionParams(e),this.parseFunctionBody(e,r,!1,i),this.yieldPos=a,this.awaitPos=s,this.awaitIdentPos=o,this.finishNode(e,t&xm?"FunctionDeclaration":"FunctionExpression")};Dt.parseFunctionParams=function(e){this.expect(se.parenL),e.params=this.parseBindingList(se.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()};Dt.parseClass=function(e,t){this.next();var r=this.strict;this.strict=!0,this.parseClassId(e,t),this.parseClassSuper(e);var n=this.enterClassBody(),i=this.startNode(),a=!1;for(i.body=[],this.expect(se.braceL);this.type!==se.braceR;){var s=this.parseClassElement(e.superClass!==null);s&&(i.body.push(s),s.type==="MethodDefinition"&&s.kind==="constructor"?(a&&this.raiseRecoverable(s.start,"Duplicate constructor in the same class"),a=!0):s.key&&s.key.type==="PrivateIdentifier"&&Dze(n,s)&&this.raiseRecoverable(s.key.start,"Identifier '#"+s.key.name+"' has already been declared"))}return this.strict=r,this.next(),e.body=this.finishNode(i,"ClassBody"),this.exitClassBody(),this.finishNode(e,t?"ClassDeclaration":"ClassExpression")};Dt.parseClassElement=function(e){if(this.eat(se.semi))return null;var t=this.options.ecmaVersion,r=this.startNode(),n="",i=!1,a=!1,s="method",o=!1;if(this.eatContextual("static")){if(t>=13&&this.eat(se.braceL))return this.parseClassStaticBlock(r),r;this.isClassElementNameStart()||this.type===se.star?o=!0:n="static"}if(r.static=o,!n&&t>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===se.star)&&!this.canInsertSemicolon()?a=!0:n="async"),!n&&(t>=9||!a)&&this.eat(se.star)&&(i=!0),!n&&!a&&!i){var l=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?s=l:n=l)}if(n?(r.computed=!1,r.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),r.key.name=n,this.finishNode(r.key,"Identifier")):this.parseClassElementName(r),t<13||this.type===se.parenL||s!=="method"||i||a){var u=!r.static&&d_(r,"constructor"),c=u&&e;u&&s!=="method"&&this.raise(r.key.start,"Constructor can't have get/set modifier"),r.kind=u?"constructor":s,this.parseClassMethod(r,i,a,c)}else this.parseClassField(r);return r};Dt.isClassElementNameStart=function(){return this.type===se.name||this.type===se.privateId||this.type===se.num||this.type===se.string||this.type===se.bracketL||this.type.keyword};Dt.parseClassElementName=function(e){this.type===se.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),e.computed=!1,e.key=this.parsePrivateIdent()):this.parsePropertyName(e)};Dt.parseClassMethod=function(e,t,r,n){var i=e.key;e.kind==="constructor"?(t&&this.raise(i.start,"Constructor can't be a generator"),r&&this.raise(i.start,"Constructor can't be an async method")):e.static&&d_(e,"prototype")&&this.raise(i.start,"Classes may not have a static property named prototype");var a=e.value=this.parseMethod(t,r,n);return e.kind==="get"&&a.params.length!==0&&this.raiseRecoverable(a.start,"getter should have no params"),e.kind==="set"&&a.params.length!==1&&this.raiseRecoverable(a.start,"setter should have exactly one param"),e.kind==="set"&&a.params[0].type==="RestElement"&&this.raiseRecoverable(a.params[0].start,"Setter cannot use rest params"),this.finishNode(e,"MethodDefinition")};Dt.parseClassField=function(e){return d_(e,"constructor")?this.raise(e.key.start,"Classes can't have a field named 'constructor'"):e.static&&d_(e,"prototype")&&this.raise(e.key.start,"Classes can't have a static field named 'prototype'"),this.eat(se.eq)?(this.enterScope(fy|Qw),e.value=this.parseMaybeAssign(),this.exitScope()):e.value=null,this.semicolon(),this.finishNode(e,"PropertyDefinition")};Dt.parseClassStaticBlock=function(e){e.body=[];var t=this.labels;for(this.labels=[],this.enterScope(mf|Qw);this.type!==se.braceR;){var r=this.parseStatement(null);e.body.push(r)}return this.next(),this.exitScope(),this.labels=t,this.finishNode(e,"StaticBlock")};Dt.parseClassId=function(e,t){this.type===se.name?(e.id=this.parseIdent(),t&&this.checkLValSimple(e.id,Bl,!1)):(t===!0&&this.unexpected(),e.id=null)};Dt.parseClassSuper=function(e){e.superClass=this.eat(se._extends)?this.parseExprSubscripts(null,!1):null};Dt.enterClassBody=function(){var e={declared:Object.create(null),used:[]};return this.privateNameStack.push(e),e.declared};Dt.exitClassBody=function(){var e=this.privateNameStack.pop(),t=e.declared,r=e.used;if(this.options.checkPrivateFields)for(var n=this.privateNameStack.length,i=n===0?null:this.privateNameStack[n-1],a=0;a<r.length;++a){var s=r[a];ev(t,s.name)||(i?i.used.push(s):this.raiseRecoverable(s.start,"Private field '#"+s.name+"' must be declared in an enclosing class"))}};function Dze(e,t){var r=t.key.name,n=e[r],i="true";return t.type==="MethodDefinition"&&(t.kind==="get"||t.kind==="set")&&(i=(t.static?"s":"i")+t.kind),n==="iget"&&i==="iset"||n==="iset"&&i==="iget"||n==="sget"&&i==="sset"||n==="sset"&&i==="sget"?(e[r]="true",!1):n?!0:(e[r]=i,!1)}function d_(e,t){var r=e.computed,n=e.key;return!r&&(n.type==="Identifier"&&n.name===t||n.type==="Literal"&&n.value===t)}Dt.parseExportAllDeclaration=function(e,t){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(e.exported=this.parseModuleExportName(),this.checkExport(t,e.exported,this.lastTokStart)):e.exported=null),this.expectContextual("from"),this.type!==se.string&&this.unexpected(),e.source=this.parseExprAtom(),this.options.ecmaVersion>=16&&(e.attributes=this.parseWithClause()),this.semicolon(),this.finishNode(e,"ExportAllDeclaration")};Dt.parseExport=function(e,t){if(this.next(),this.eat(se.star))return this.parseExportAllDeclaration(e,t);if(this.eat(se._default))return this.checkExport(t,"default",this.lastTokStart),e.declaration=this.parseExportDefaultDeclaration(),this.finishNode(e,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())e.declaration=this.parseExportDeclaration(e),e.declaration.type==="VariableDeclaration"?this.checkVariableExport(t,e.declaration.declarations):this.checkExport(t,e.declaration.id,e.declaration.id.start),e.specifiers=[],e.source=null,this.options.ecmaVersion>=16&&(e.attributes=[]);else{if(e.declaration=null,e.specifiers=this.parseExportSpecifiers(t),this.eatContextual("from"))this.type!==se.string&&this.unexpected(),e.source=this.parseExprAtom(),this.options.ecmaVersion>=16&&(e.attributes=this.parseWithClause());else{for(var r=0,n=e.specifiers;r<n.length;r+=1){var i=n[r];this.checkUnreserved(i.local),this.checkLocalExport(i.local),i.local.type==="Literal"&&this.raise(i.local.start,"A string literal cannot be used as an exported binding without `from`.")}e.source=null,this.options.ecmaVersion>=16&&(e.attributes=[])}this.semicolon()}return this.finishNode(e,"ExportNamedDeclaration")};Dt.parseExportDeclaration=function(e){return this.parseStatement(null)};Dt.parseExportDefaultDeclaration=function(){var e;if(this.type===se._function||(e=this.isAsyncFunction())){var t=this.startNode();return this.next(),e&&this.next(),this.parseFunction(t,xm|ute,!1,e)}else if(this.type===se._class){var r=this.startNode();return this.parseClass(r,"nullableID")}else{var n=this.parseMaybeAssign();return this.semicolon(),n}};Dt.checkExport=function(e,t,r){e&&(typeof t!="string"&&(t=t.type==="Identifier"?t.name:t.value),ev(e,t)&&this.raiseRecoverable(r,"Duplicate export '"+t+"'"),e[t]=!0)};Dt.checkPatternExport=function(e,t){var r=t.type;if(r==="Identifier")this.checkExport(e,t,t.start);else if(r==="ObjectPattern")for(var n=0,i=t.properties;n<i.length;n+=1){var a=i[n];this.checkPatternExport(e,a)}else if(r==="ArrayPattern")for(var s=0,o=t.elements;s<o.length;s+=1){var l=o[s];l&&this.checkPatternExport(e,l)}else r==="Property"?this.checkPatternExport(e,t.value):r==="AssignmentPattern"?this.checkPatternExport(e,t.left):r==="RestElement"&&this.checkPatternExport(e,t.argument)};Dt.checkVariableExport=function(e,t){if(e)for(var r=0,n=t;r<n.length;r+=1){var i=n[r];this.checkPatternExport(e,i.id)}};Dt.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()};Dt.parseExportSpecifier=function(e){var t=this.startNode();return t.local=this.parseModuleExportName(),t.exported=this.eatContextual("as")?this.parseModuleExportName():t.local,this.checkExport(e,t.exported,t.exported.start),this.finishNode(t,"ExportSpecifier")};Dt.parseExportSpecifiers=function(e){var t=[],r=!0;for(this.expect(se.braceL);!this.eat(se.braceR);){if(r)r=!1;else if(this.expect(se.comma),this.afterTrailingComma(se.braceR))break;t.push(this.parseExportSpecifier(e))}return t};Dt.parseImport=function(e){return this.next(),this.type===se.string?(e.specifiers=Ize,e.source=this.parseExprAtom()):(e.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),e.source=this.type===se.string?this.parseExprAtom():this.unexpected()),this.options.ecmaVersion>=16&&(e.attributes=this.parseWithClause()),this.semicolon(),this.finishNode(e,"ImportDeclaration")};Dt.parseImportSpecifier=function(){var e=this.startNode();return e.imported=this.parseModuleExportName(),this.eatContextual("as")?e.local=this.parseIdent():(this.checkUnreserved(e.imported),e.local=e.imported),this.checkLValSimple(e.local,Bl),this.finishNode(e,"ImportSpecifier")};Dt.parseImportDefaultSpecifier=function(){var e=this.startNode();return e.local=this.parseIdent(),this.checkLValSimple(e.local,Bl),this.finishNode(e,"ImportDefaultSpecifier")};Dt.parseImportNamespaceSpecifier=function(){var e=this.startNode();return this.next(),this.expectContextual("as"),e.local=this.parseIdent(),this.checkLValSimple(e.local,Bl),this.finishNode(e,"ImportNamespaceSpecifier")};Dt.parseImportSpecifiers=function(){var e=[],t=!0;if(this.type===se.name&&(e.push(this.parseImportDefaultSpecifier()),!this.eat(se.comma)))return e;if(this.type===se.star)return e.push(this.parseImportNamespaceSpecifier()),e;for(this.expect(se.braceL);!this.eat(se.braceR);){if(t)t=!1;else if(this.expect(se.comma),this.afterTrailingComma(se.braceR))break;e.push(this.parseImportSpecifier())}return e};Dt.parseWithClause=function(){var e=[];if(!this.eat(se._with))return e;this.expect(se.braceL);for(var t={},r=!0;!this.eat(se.braceR);){if(r)r=!1;else if(this.expect(se.comma),this.afterTrailingComma(se.braceR))break;var n=this.parseImportAttribute(),i=n.key.type==="Identifier"?n.key.name:n.key.value;ev(t,i)&&this.raiseRecoverable(n.key.start,"Duplicate attribute key '"+i+"'"),t[i]=!0,e.push(n)}return e};Dt.parseImportAttribute=function(){var e=this.startNode();return e.key=this.type===se.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never"),this.expect(se.colon),this.type!==se.string&&this.unexpected(),e.value=this.parseExprAtom(),this.finishNode(e,"ImportAttribute")};Dt.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===se.string){var e=this.parseLiteral(this.value);return Tze.test(e.value)&&this.raise(e.start,"An export name cannot include a lone surrogate."),e}return this.parseIdent(!0)};Dt.adaptDirectivePrologue=function(e){for(var t=0;t<e.length&&this.isDirectiveCandidate(e[t]);++t)e[t].directive=e[t].expression.raw.slice(1,-1)};Dt.isDirectiveCandidate=function(e){return this.options.ecmaVersion>=5&&e.type==="ExpressionStatement"&&e.expression.type==="Literal"&&typeof e.expression.value=="string"&&(this.input[e.start]==='"'||this.input[e.start]==="'")};var vs=Hn.prototype;vs.toAssignable=function(e,t,r){if(this.options.ecmaVersion>=6&&e)switch(e.type){case"Identifier":this.inAsync&&e.name==="await"&&this.raise(e.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":e.type="ObjectPattern",r&&this.checkPatternErrors(r,!0);for(var n=0,i=e.properties;n<i.length;n+=1){var a=i[n];this.toAssignable(a,t),a.type==="RestElement"&&(a.argument.type==="ArrayPattern"||a.argument.type==="ObjectPattern")&&this.raise(a.argument.start,"Unexpected token")}break;case"Property":e.kind!=="init"&&this.raise(e.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(e.value,t);break;case"ArrayExpression":e.type="ArrayPattern",r&&this.checkPatternErrors(r,!0),this.toAssignableList(e.elements,t);break;case"SpreadElement":e.type="RestElement",this.toAssignable(e.argument,t),e.argument.type==="AssignmentPattern"&&this.raise(e.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":e.operator!=="="&&this.raise(e.left.end,"Only '=' operator can be used for specifying default value."),e.type="AssignmentPattern",delete e.operator,this.toAssignable(e.left,t);break;case"ParenthesizedExpression":this.toAssignable(e.expression,t,r);break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!t)break;default:this.raise(e.start,"Assigning to rvalue")}else r&&this.checkPatternErrors(r,!0);return e};vs.toAssignableList=function(e,t){for(var r=e.length,n=0;n<r;n++){var i=e[n];i&&this.toAssignable(i,t)}if(r){var a=e[r-1];this.options.ecmaVersion===6&&t&&a&&a.type==="RestElement"&&a.argument.type!=="Identifier"&&this.unexpected(a.argument.start)}return e};vs.parseSpread=function(e){var t=this.startNode();return this.next(),t.argument=this.parseMaybeAssign(!1,e),this.finishNode(t,"SpreadElement")};vs.parseRestBinding=function(){var e=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==se.name&&this.unexpected(),e.argument=this.parseBindingAtom(),this.finishNode(e,"RestElement")};vs.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case se.bracketL:var e=this.startNode();return this.next(),e.elements=this.parseBindingList(se.bracketR,!0,!0),this.finishNode(e,"ArrayPattern");case se.braceL:return this.parseObj(!0)}return this.parseIdent()};vs.parseBindingList=function(e,t,r,n){for(var i=[],a=!0;!this.eat(e);)if(a?a=!1:this.expect(se.comma),t&&this.type===se.comma)i.push(null);else{if(r&&this.afterTrailingComma(e))break;if(this.type===se.ellipsis){var s=this.parseRestBinding();this.parseBindingListItem(s),i.push(s),this.type===se.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(e);break}else i.push(this.parseAssignableListItem(n))}return i};vs.parseAssignableListItem=function(e){var t=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(t),t};vs.parseBindingListItem=function(e){return e};vs.parseMaybeDefault=function(e,t,r){if(r=r||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(se.eq))return r;var n=this.startNodeAt(e,t);return n.left=r,n.right=this.parseMaybeAssign(),this.finishNode(n,"AssignmentPattern")};vs.checkLValSimple=function(e,t,r){t===void 0&&(t=f_);var n=t!==f_;switch(e.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(e.name)&&this.raiseRecoverable(e.start,(n?"Binding ":"Assigning to ")+e.name+" in strict mode"),n&&(t===Bl&&e.name==="let"&&this.raiseRecoverable(e.start,"let is disallowed as a lexically bound name"),r&&(ev(r,e.name)&&this.raiseRecoverable(e.start,"Argument name clash"),r[e.name]=!0),t!==lte&&this.declareName(e.name,t,e.start));break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":n&&this.raiseRecoverable(e.start,"Binding member expression");break;case"ParenthesizedExpression":return n&&this.raiseRecoverable(e.start,"Binding parenthesized expression"),this.checkLValSimple(e.expression,t,r);default:this.raise(e.start,(n?"Binding":"Assigning to")+" rvalue")}};vs.checkLValPattern=function(e,t,r){switch(t===void 0&&(t=f_),e.type){case"ObjectPattern":for(var n=0,i=e.properties;n<i.length;n+=1){var a=i[n];this.checkLValInnerPattern(a,t,r)}break;case"ArrayPattern":for(var s=0,o=e.elements;s<o.length;s+=1){var l=o[s];l&&this.checkLValInnerPattern(l,t,r)}break;default:this.checkLValSimple(e,t,r)}};vs.checkLValInnerPattern=function(e,t,r){switch(t===void 0&&(t=f_),e.type){case"Property":this.checkLValInnerPattern(e.value,t,r);break;case"AssignmentPattern":this.checkLValPattern(e.left,t,r);break;case"RestElement":this.checkLValPattern(e.argument,t,r);break;default:this.checkLValPattern(e,t,r)}};var Ts=function(t,r,n,i,a){this.token=t,this.isExpr=!!r,this.preserveSpace=!!n,this.override=i,this.generator=!!a},tn={b_stat:new Ts("{",!1),b_expr:new Ts("{",!0),b_tmpl:new Ts("${",!1),p_stat:new Ts("(",!1),p_expr:new Ts("(",!0),q_tmpl:new Ts("`",!0,!0,function(e){return e.tryReadTemplateToken()}),f_stat:new Ts("function",!1),f_expr:new Ts("function",!0),f_expr_gen:new Ts("function",!0,!1,null,!0),f_gen:new Ts("function",!1,!1,null,!0)},rv=Hn.prototype;rv.initialContext=function(){return[tn.b_stat]};rv.curContext=function(){return this.context[this.context.length-1]};rv.braceIsBlock=function(e){var t=this.curContext();return t===tn.f_expr||t===tn.f_stat?!0:e===se.colon&&(t===tn.b_stat||t===tn.b_expr)?!t.isExpr:e===se._return||e===se.name&&this.exprAllowed?ca.test(this.input.slice(this.lastTokEnd,this.start)):e===se._else||e===se.semi||e===se.eof||e===se.parenR||e===se.arrow?!0:e===se.braceL?t===tn.b_stat:e===se._var||e===se._const||e===se.name?!1:!this.exprAllowed};rv.inGeneratorContext=function(){for(var e=this.context.length-1;e>=1;e--){var t=this.context[e];if(t.token==="function")return t.generator}return!1};rv.updateContext=function(e){var t,r=this.type;r.keyword&&e===se.dot?this.exprAllowed=!1:(t=r.updateContext)?t.call(this,e):this.exprAllowed=r.beforeExpr};rv.overrideContext=function(e){this.curContext()!==e&&(this.context[this.context.length-1]=e)};se.parenR.updateContext=se.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var e=this.context.pop();e===tn.b_stat&&this.curContext().token==="function"&&(e=this.context.pop()),this.exprAllowed=!e.isExpr};se.braceL.updateContext=function(e){this.context.push(this.braceIsBlock(e)?tn.b_stat:tn.b_expr),this.exprAllowed=!0};se.dollarBraceL.updateContext=function(){this.context.push(tn.b_tmpl),this.exprAllowed=!0};se.parenL.updateContext=function(e){var t=e===se._if||e===se._for||e===se._with||e===se._while;this.context.push(t?tn.p_stat:tn.p_expr),this.exprAllowed=!0};se.incDec.updateContext=function(){};se._function.updateContext=se._class.updateContext=function(e){e.beforeExpr&&e!==se._else&&!(e===se.semi&&this.curContext()!==tn.p_stat)&&!(e===se._return&&ca.test(this.input.slice(this.lastTokEnd,this.start)))&&!((e===se.colon||e===se.braceL)&&this.curContext()===tn.b_stat)?this.context.push(tn.f_expr):this.context.push(tn.f_stat),this.exprAllowed=!1};se.colon.updateContext=function(){this.curContext().token==="function"&&this.context.pop(),this.exprAllowed=!0};se.backQuote.updateContext=function(){this.curContext()===tn.q_tmpl?this.context.pop():this.context.push(tn.q_tmpl),this.exprAllowed=!1};se.star.updateContext=function(e){if(e===se._function){var t=this.context.length-1;this.context[t]===tn.f_expr?this.context[t]=tn.f_expr_gen:this.context[t]=tn.f_gen}this.exprAllowed=!0};se.name.updateContext=function(e){var t=!1;this.options.ecmaVersion>=6&&e!==se.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(t=!0),this.exprAllowed=t};var Zt=Hn.prototype;Zt.checkPropClash=function(e,t,r){if(!(this.options.ecmaVersion>=9&&e.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(e.computed||e.method||e.shorthand))){var n=e.key,i;switch(n.type){case"Identifier":i=n.name;break;case"Literal":i=String(n.value);break;default:return}var a=e.kind;if(this.options.ecmaVersion>=6){i==="__proto__"&&a==="init"&&(t.proto&&(r?r.doubleProto<0&&(r.doubleProto=n.start):this.raiseRecoverable(n.start,"Redefinition of __proto__ property")),t.proto=!0);return}i="$"+i;var s=t[i];if(s){var o;a==="init"?o=this.strict&&s.init||s.get||s.set:o=s.init||s[a],o&&this.raiseRecoverable(n.start,"Redefinition of property")}else s=t[i]={init:!1,get:!1,set:!1};s[a]=!0}};Zt.parseExpression=function(e,t){var r=this.start,n=this.startLoc,i=this.parseMaybeAssign(e,t);if(this.type===se.comma){var a=this.startNodeAt(r,n);for(a.expressions=[i];this.eat(se.comma);)a.expressions.push(this.parseMaybeAssign(e,t));return this.finishNode(a,"SequenceExpression")}return i};Zt.parseMaybeAssign=function(e,t,r){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(e);this.exprAllowed=!1}var n=!1,i=-1,a=-1,s=-1;t?(i=t.parenthesizedAssign,a=t.trailingComma,s=t.doubleProto,t.parenthesizedAssign=t.trailingComma=-1):(t=new eT,n=!0);var o=this.start,l=this.startLoc;(this.type===se.parenL||this.type===se.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=e==="await");var u=this.parseMaybeConditional(e,t);if(r&&(u=r.call(this,u,o,l)),this.type.isAssign){var c=this.startNodeAt(o,l);return c.operator=this.value,this.type===se.eq&&(u=this.toAssignable(u,!1,t)),n||(t.parenthesizedAssign=t.trailingComma=t.doubleProto=-1),t.shorthandAssign>=u.start&&(t.shorthandAssign=-1),this.type===se.eq?this.checkLValPattern(u):this.checkLValSimple(u),c.left=u,this.next(),c.right=this.parseMaybeAssign(e),s>-1&&(t.doubleProto=s),this.finishNode(c,"AssignmentExpression")}else n&&this.checkExpressionErrors(t,!0);return i>-1&&(t.parenthesizedAssign=i),a>-1&&(t.trailingComma=a),u};Zt.parseMaybeConditional=function(e,t){var r=this.start,n=this.startLoc,i=this.parseExprOps(e,t);if(this.checkExpressionErrors(t))return i;if(this.eat(se.question)){var a=this.startNodeAt(r,n);return a.test=i,a.consequent=this.parseMaybeAssign(),this.expect(se.colon),a.alternate=this.parseMaybeAssign(e),this.finishNode(a,"ConditionalExpression")}return i};Zt.parseExprOps=function(e,t){var r=this.start,n=this.startLoc,i=this.parseMaybeUnary(t,!1,!1,e);return this.checkExpressionErrors(t)||i.start===r&&i.type==="ArrowFunctionExpression"?i:this.parseExprOp(i,r,n,-1,e)};Zt.parseExprOp=function(e,t,r,n,i){var a=this.type.binop;if(a!=null&&(!i||this.type!==se._in)&&a>n){var s=this.type===se.logicalOR||this.type===se.logicalAND,o=this.type===se.coalesce;o&&(a=se.logicalAND.binop);var l=this.value;this.next();var u=this.start,c=this.startLoc,h=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,i),u,c,a,i),f=this.buildBinary(t,r,e,h,l,s||o);return(s&&this.type===se.coalesce||o&&(this.type===se.logicalOR||this.type===se.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(f,t,r,n,i)}return e};Zt.buildBinary=function(e,t,r,n,i,a){n.type==="PrivateIdentifier"&&this.raise(n.start,"Private identifier can only be left side of binary expression");var s=this.startNodeAt(e,t);return s.left=r,s.operator=i,s.right=n,this.finishNode(s,a?"LogicalExpression":"BinaryExpression")};Zt.parseMaybeUnary=function(e,t,r,n){var i=this.start,a=this.startLoc,s;if(this.isContextual("await")&&this.canAwait)s=this.parseAwait(n),t=!0;else if(this.type.prefix){var o=this.startNode(),l=this.type===se.incDec;o.operator=this.value,o.prefix=!0,this.next(),o.argument=this.parseMaybeUnary(null,!0,l,n),this.checkExpressionErrors(e,!0),l?this.checkLValSimple(o.argument):this.strict&&o.operator==="delete"&&cte(o.argument)?this.raiseRecoverable(o.start,"Deleting local variable in strict mode"):o.operator==="delete"&&mM(o.argument)?this.raiseRecoverable(o.start,"Private fields can not be deleted"):t=!0,s=this.finishNode(o,l?"UpdateExpression":"UnaryExpression")}else if(!t&&this.type===se.privateId)(n||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),s=this.parsePrivateIdent(),this.type!==se._in&&this.unexpected();else{if(s=this.parseExprSubscripts(e,n),this.checkExpressionErrors(e))return s;for(;this.type.postfix&&!this.canInsertSemicolon();){var u=this.startNodeAt(i,a);u.operator=this.value,u.prefix=!1,u.argument=s,this.checkLValSimple(s),this.next(),s=this.finishNode(u,"UpdateExpression")}}if(!r&&this.eat(se.starstar))if(t)this.unexpected(this.lastTokStart);else return this.buildBinary(i,a,s,this.parseMaybeUnary(null,!1,!1,n),"**",!1);else return s};function cte(e){return e.type==="Identifier"||e.type==="ParenthesizedExpression"&&cte(e.expression)}function mM(e){return e.type==="MemberExpression"&&e.property.type==="PrivateIdentifier"||e.type==="ChainExpression"&&mM(e.expression)||e.type==="ParenthesizedExpression"&&mM(e.expression)}Zt.parseExprSubscripts=function(e,t){var r=this.start,n=this.startLoc,i=this.parseExprAtom(e,t);if(i.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return i;var a=this.parseSubscripts(i,r,n,!1,t);return e&&a.type==="MemberExpression"&&(e.parenthesizedAssign>=a.start&&(e.parenthesizedAssign=-1),e.parenthesizedBind>=a.start&&(e.parenthesizedBind=-1),e.trailingComma>=a.start&&(e.trailingComma=-1)),a};Zt.parseSubscripts=function(e,t,r,n,i){for(var a=this.options.ecmaVersion>=8&&e.type==="Identifier"&&e.name==="async"&&this.lastTokEnd===e.end&&!this.canInsertSemicolon()&&e.end-e.start===5&&this.potentialArrowAt===e.start,s=!1;;){var o=this.parseSubscript(e,t,r,n,a,s,i);if(o.optional&&(s=!0),o===e||o.type==="ArrowFunctionExpression"){if(s){var l=this.startNodeAt(t,r);l.expression=o,o=this.finishNode(l,"ChainExpression")}return o}e=o}};Zt.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(se.arrow)};Zt.parseSubscriptAsyncArrow=function(e,t,r,n){return this.parseArrowExpression(this.startNodeAt(e,t),r,!0,n)};Zt.parseSubscript=function(e,t,r,n,i,a,s){var o=this.options.ecmaVersion>=11,l=o&&this.eat(se.questionDot);n&&l&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var u=this.eat(se.bracketL);if(u||l&&this.type!==se.parenL&&this.type!==se.backQuote||this.eat(se.dot)){var c=this.startNodeAt(t,r);c.object=e,u?(c.property=this.parseExpression(),this.expect(se.bracketR)):this.type===se.privateId&&e.type!=="Super"?c.property=this.parsePrivateIdent():c.property=this.parseIdent(this.options.allowReserved!=="never"),c.computed=!!u,o&&(c.optional=l),e=this.finishNode(c,"MemberExpression")}else if(!n&&this.eat(se.parenL)){var h=new eT,f=this.yieldPos,d=this.awaitPos,v=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var m=this.parseExprList(se.parenR,this.options.ecmaVersion>=8,!1,h);if(i&&!l&&this.shouldParseAsyncArrow())return this.checkPatternErrors(h,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=f,this.awaitPos=d,this.awaitIdentPos=v,this.parseSubscriptAsyncArrow(t,r,m,s);this.checkExpressionErrors(h,!0),this.yieldPos=f||this.yieldPos,this.awaitPos=d||this.awaitPos,this.awaitIdentPos=v||this.awaitIdentPos;var y=this.startNodeAt(t,r);y.callee=e,y.arguments=m,o&&(y.optional=l),e=this.finishNode(y,"CallExpression")}else if(this.type===se.backQuote){(l||a)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var b=this.startNodeAt(t,r);b.tag=e,b.quasi=this.parseTemplate({isTagged:!0}),e=this.finishNode(b,"TaggedTemplateExpression")}return e};Zt.parseExprAtom=function(e,t,r){this.type===se.slash&&this.readRegexp();var n,i=this.potentialArrowAt===this.start;switch(this.type){case se._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),n=this.startNode(),this.next(),this.type===se.parenL&&!this.allowDirectSuper&&this.raise(n.start,"super() call outside constructor of a subclass"),this.type!==se.dot&&this.type!==se.bracketL&&this.type!==se.parenL&&this.unexpected(),this.finishNode(n,"Super");case se._this:return n=this.startNode(),this.next(),this.finishNode(n,"ThisExpression");case se.name:var a=this.start,s=this.startLoc,o=this.containsEsc,l=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!o&&l.name==="async"&&!this.canInsertSemicolon()&&this.eat(se._function))return this.overrideContext(tn.f_expr),this.parseFunction(this.startNodeAt(a,s),0,!1,!0,t);if(i&&!this.canInsertSemicolon()){if(this.eat(se.arrow))return this.parseArrowExpression(this.startNodeAt(a,s),[l],!1,t);if(this.options.ecmaVersion>=8&&l.name==="async"&&this.type===se.name&&!o&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return l=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(se.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(a,s),[l],!0,t)}return l;case se.regexp:var u=this.value;return n=this.parseLiteral(u.value),n.regex={pattern:u.pattern,flags:u.flags},n;case se.num:case se.string:return this.parseLiteral(this.value);case se._null:case se._true:case se._false:return n=this.startNode(),n.value=this.type===se._null?null:this.type===se._true,n.raw=this.type.keyword,this.next(),this.finishNode(n,"Literal");case se.parenL:var c=this.start,h=this.parseParenAndDistinguishExpression(i,t);return e&&(e.parenthesizedAssign<0&&!this.isSimpleAssignTarget(h)&&(e.parenthesizedAssign=c),e.parenthesizedBind<0&&(e.parenthesizedBind=c)),h;case se.bracketL:return n=this.startNode(),this.next(),n.elements=this.parseExprList(se.bracketR,!0,!0,e),this.finishNode(n,"ArrayExpression");case se.braceL:return this.overrideContext(tn.b_expr),this.parseObj(!1,e);case se._function:return n=this.startNode(),this.next(),this.parseFunction(n,0);case se._class:return this.parseClass(this.startNode(),!1);case se._new:return this.parseNew();case se.backQuote:return this.parseTemplate();case se._import:return this.options.ecmaVersion>=11?this.parseExprImport(r):this.unexpected();default:return this.parseExprAtomDefault()}};Zt.parseExprAtomDefault=function(){this.unexpected()};Zt.parseExprImport=function(e){var t=this.startNode();if(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import"),this.next(),this.type===se.parenL&&!e)return this.parseDynamicImport(t);if(this.type===se.dot){var r=this.startNodeAt(t.start,t.loc&&t.loc.start);return r.name="import",t.meta=this.finishNode(r,"Identifier"),this.parseImportMeta(t)}else this.unexpected()};Zt.parseDynamicImport=function(e){if(this.next(),e.source=this.parseMaybeAssign(),this.options.ecmaVersion>=16)this.eat(se.parenR)?e.options=null:(this.expect(se.comma),this.afterTrailingComma(se.parenR)?e.options=null:(e.options=this.parseMaybeAssign(),this.eat(se.parenR)||(this.expect(se.comma),this.afterTrailingComma(se.parenR)||this.unexpected())));else if(!this.eat(se.parenR)){var t=this.start;this.eat(se.comma)&&this.eat(se.parenR)?this.raiseRecoverable(t,"Trailing comma is not allowed in import()"):this.unexpected(t)}return this.finishNode(e,"ImportExpression")};Zt.parseImportMeta=function(e){this.next();var t=this.containsEsc;return e.property=this.parseIdent(!0),e.property.name!=="meta"&&this.raiseRecoverable(e.property.start,"The only valid meta property for import is 'import.meta'"),t&&this.raiseRecoverable(e.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(e.start,"Cannot use 'import.meta' outside a module"),this.finishNode(e,"MetaProperty")};Zt.parseLiteral=function(e){var t=this.startNode();return t.value=e,t.raw=this.input.slice(this.start,this.end),t.raw.charCodeAt(t.raw.length-1)===110&&(t.bigint=t.value!=null?t.value.toString():t.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(t,"Literal")};Zt.parseParenExpression=function(){this.expect(se.parenL);var e=this.parseExpression();return this.expect(se.parenR),e};Zt.shouldParseArrow=function(e){return!this.canInsertSemicolon()};Zt.parseParenAndDistinguishExpression=function(e,t){var r=this.start,n=this.startLoc,i,a=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var s=this.start,o=this.startLoc,l=[],u=!0,c=!1,h=new eT,f=this.yieldPos,d=this.awaitPos,v;for(this.yieldPos=0,this.awaitPos=0;this.type!==se.parenR;)if(u?u=!1:this.expect(se.comma),a&&this.afterTrailingComma(se.parenR,!0)){c=!0;break}else if(this.type===se.ellipsis){v=this.start,l.push(this.parseParenItem(this.parseRestBinding())),this.type===se.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else l.push(this.parseMaybeAssign(!1,h,this.parseParenItem));var m=this.lastTokEnd,y=this.lastTokEndLoc;if(this.expect(se.parenR),e&&this.shouldParseArrow(l)&&this.eat(se.arrow))return this.checkPatternErrors(h,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=f,this.awaitPos=d,this.parseParenArrowList(r,n,l,t);(!l.length||c)&&this.unexpected(this.lastTokStart),v&&this.unexpected(v),this.checkExpressionErrors(h,!0),this.yieldPos=f||this.yieldPos,this.awaitPos=d||this.awaitPos,l.length>1?(i=this.startNodeAt(s,o),i.expressions=l,this.finishNodeAt(i,"SequenceExpression",m,y)):i=l[0]}else i=this.parseParenExpression();if(this.options.preserveParens){var b=this.startNodeAt(r,n);return b.expression=i,this.finishNode(b,"ParenthesizedExpression")}else return i};Zt.parseParenItem=function(e){return e};Zt.parseParenArrowList=function(e,t,r,n){return this.parseArrowExpression(this.startNodeAt(e,t),r,!1,n)};var Mze=[];Zt.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var e=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===se.dot){var t=this.startNodeAt(e.start,e.loc&&e.loc.start);t.name="new",e.meta=this.finishNode(t,"Identifier"),this.next();var r=this.containsEsc;return e.property=this.parseIdent(!0),e.property.name!=="target"&&this.raiseRecoverable(e.property.start,"The only valid meta property for new is 'new.target'"),r&&this.raiseRecoverable(e.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(e.start,"'new.target' can only be used in functions and class static block"),this.finishNode(e,"MetaProperty")}var n=this.start,i=this.startLoc;return e.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),n,i,!0,!1),this.eat(se.parenL)?e.arguments=this.parseExprList(se.parenR,this.options.ecmaVersion>=8,!1):e.arguments=Mze,this.finishNode(e,"NewExpression")};Zt.parseTemplateElement=function(e){var t=e.isTagged,r=this.startNode();return this.type===se.invalidTemplate?(t||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),r.value={raw:this.value.replace(/\r\n?/g,`
`),cooked:null}):r.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),r.tail=this.type===se.backQuote,this.finishNode(r,"TemplateElement")};Zt.parseTemplate=function(e){e===void 0&&(e={});var t=e.isTagged;t===void 0&&(t=!1);var r=this.startNode();this.next(),r.expressions=[];var n=this.parseTemplateElement({isTagged:t});for(r.quasis=[n];!n.tail;)this.type===se.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(se.dollarBraceL),r.expressions.push(this.parseExpression()),this.expect(se.braceR),r.quasis.push(n=this.parseTemplateElement({isTagged:t}));return this.next(),this.finishNode(r,"TemplateLiteral")};Zt.isAsyncProp=function(e){return!e.computed&&e.key.type==="Identifier"&&e.key.name==="async"&&(this.type===se.name||this.type===se.num||this.type===se.string||this.type===se.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===se.star)&&!ca.test(this.input.slice(this.lastTokEnd,this.start))};Zt.parseObj=function(e,t){var r=this.startNode(),n=!0,i={};for(r.properties=[],this.next();!this.eat(se.braceR);){if(n)n=!1;else if(this.expect(se.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(se.braceR))break;var a=this.parseProperty(e,t);e||this.checkPropClash(a,i,t),r.properties.push(a)}return this.finishNode(r,e?"ObjectPattern":"ObjectExpression")};Zt.parseProperty=function(e,t){var r=this.startNode(),n,i,a,s;if(this.options.ecmaVersion>=9&&this.eat(se.ellipsis))return e?(r.argument=this.parseIdent(!1),this.type===se.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(r,"RestElement")):(r.argument=this.parseMaybeAssign(!1,t),this.type===se.comma&&t&&t.trailingComma<0&&(t.trailingComma=this.start),this.finishNode(r,"SpreadElement"));this.options.ecmaVersion>=6&&(r.method=!1,r.shorthand=!1,(e||t)&&(a=this.start,s=this.startLoc),e||(n=this.eat(se.star)));var o=this.containsEsc;return this.parsePropertyName(r),!e&&!o&&this.options.ecmaVersion>=8&&!n&&this.isAsyncProp(r)?(i=!0,n=this.options.ecmaVersion>=9&&this.eat(se.star),this.parsePropertyName(r)):i=!1,this.parsePropertyValue(r,e,n,i,a,s,t,o),this.finishNode(r,"Property")};Zt.parseGetterSetter=function(e){var t=e.key.name;this.parsePropertyName(e),e.value=this.parseMethod(!1),e.kind=t;var r=e.kind==="get"?0:1;if(e.value.params.length!==r){var n=e.value.start;e.kind==="get"?this.raiseRecoverable(n,"getter should have no params"):this.raiseRecoverable(n,"setter should have exactly one param")}else e.kind==="set"&&e.value.params[0].type==="RestElement"&&this.raiseRecoverable(e.value.params[0].start,"Setter cannot use rest params")};Zt.parsePropertyValue=function(e,t,r,n,i,a,s,o){(r||n)&&this.type===se.colon&&this.unexpected(),this.eat(se.colon)?(e.value=t?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,s),e.kind="init"):this.options.ecmaVersion>=6&&this.type===se.parenL?(t&&this.unexpected(),e.method=!0,e.value=this.parseMethod(r,n),e.kind="init"):!t&&!o&&this.options.ecmaVersion>=5&&!e.computed&&e.key.type==="Identifier"&&(e.key.name==="get"||e.key.name==="set")&&this.type!==se.comma&&this.type!==se.braceR&&this.type!==se.eq?((r||n)&&this.unexpected(),this.parseGetterSetter(e)):this.options.ecmaVersion>=6&&!e.computed&&e.key.type==="Identifier"?((r||n)&&this.unexpected(),this.checkUnreserved(e.key),e.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=i),t?e.value=this.parseMaybeDefault(i,a,this.copyNode(e.key)):this.type===se.eq&&s?(s.shorthandAssign<0&&(s.shorthandAssign=this.start),e.value=this.parseMaybeDefault(i,a,this.copyNode(e.key))):e.value=this.copyNode(e.key),e.kind="init",e.shorthand=!0):this.unexpected()};Zt.parsePropertyName=function(e){if(this.options.ecmaVersion>=6){if(this.eat(se.bracketL))return e.computed=!0,e.key=this.parseMaybeAssign(),this.expect(se.bracketR),e.key;e.computed=!1}return e.key=this.type===se.num||this.type===se.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")};Zt.initFunction=function(e){e.id=null,this.options.ecmaVersion>=6&&(e.generator=e.expression=!1),this.options.ecmaVersion>=8&&(e.async=!1)};Zt.parseMethod=function(e,t,r){var n=this.startNode(),i=this.yieldPos,a=this.awaitPos,s=this.awaitIdentPos;return this.initFunction(n),this.options.ecmaVersion>=6&&(n.generator=e),this.options.ecmaVersion>=8&&(n.async=!!t),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(zR(t,n.generator)|Qw|(r?ate:0)),this.expect(se.parenL),n.params=this.parseBindingList(se.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(n,!1,!0,!1),this.yieldPos=i,this.awaitPos=a,this.awaitIdentPos=s,this.finishNode(n,"FunctionExpression")};Zt.parseArrowExpression=function(e,t,r,n){var i=this.yieldPos,a=this.awaitPos,s=this.awaitIdentPos;return this.enterScope(zR(r,!1)|FR),this.initFunction(e),this.options.ecmaVersion>=8&&(e.async=!!r),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,e.params=this.toAssignableList(t,!0),this.parseFunctionBody(e,!0,!1,n),this.yieldPos=i,this.awaitPos=a,this.awaitIdentPos=s,this.finishNode(e,"ArrowFunctionExpression")};Zt.parseFunctionBody=function(e,t,r,n){var i=t&&this.type!==se.braceL,a=this.strict,s=!1;if(i)e.body=this.parseMaybeAssign(n),e.expression=!0,this.checkParams(e,!1);else{var o=this.options.ecmaVersion>=7&&!this.isSimpleParamList(e.params);(!a||o)&&(s=this.strictDirective(this.end),s&&o&&this.raiseRecoverable(e.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var l=this.labels;this.labels=[],s&&(this.strict=!0),this.checkParams(e,!a&&!s&&!t&&!r&&this.isSimpleParamList(e.params)),this.strict&&e.id&&this.checkLValSimple(e.id,lte),e.body=this.parseBlock(!1,void 0,s&&!a),e.expression=!1,this.adaptDirectivePrologue(e.body.body),this.labels=l}this.exitScope()};Zt.isSimpleParamList=function(e){for(var t=0,r=e;t<r.length;t+=1){var n=r[t];if(n.type!=="Identifier")return!1}return!0};Zt.checkParams=function(e,t){for(var r=Object.create(null),n=0,i=e.params;n<i.length;n+=1){var a=i[n];this.checkLValInnerPattern(a,jR,t?null:r)}};Zt.parseExprList=function(e,t,r,n){for(var i=[],a=!0;!this.eat(e);){if(a)a=!1;else if(this.expect(se.comma),t&&this.afterTrailingComma(e))break;var s=void 0;r&&this.type===se.comma?s=null:this.type===se.ellipsis?(s=this.parseSpread(n),n&&this.type===se.comma&&n.trailingComma<0&&(n.trailingComma=this.start)):s=this.parseMaybeAssign(!1,n),i.push(s)}return i};Zt.checkUnreserved=function(e){var t=e.start,r=e.end,n=e.name;if(this.inGenerator&&n==="yield"&&this.raiseRecoverable(t,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&n==="await"&&this.raiseRecoverable(t,"Cannot use 'await' as identifier inside an async function"),!(this.currentThisScope().flags&Jw)&&n==="arguments"&&this.raiseRecoverable(t,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(n==="arguments"||n==="await")&&this.raise(t,"Cannot use "+n+" in class static initialization block"),this.keywords.test(n)&&this.raise(t,"Unexpected keyword '"+n+"'"),!(this.options.ecmaVersion<6&&this.input.slice(t,r).indexOf("\\")!==-1)){var i=this.strict?this.reservedWordsStrict:this.reservedWords;i.test(n)&&(!this.inAsync&&n==="await"&&this.raiseRecoverable(t,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(t,"The keyword '"+n+"' is reserved"))}};Zt.parseIdent=function(e){var t=this.parseIdentNode();return this.next(!!e),this.finishNode(t,"Identifier"),e||(this.checkUnreserved(t),t.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=t.start)),t};Zt.parseIdentNode=function(){var e=this.startNode();return this.type===se.name?e.name=this.value:this.type.keyword?(e.name=this.type.keyword,(e.name==="class"||e.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop(),this.type=se.name):this.unexpected(),e};Zt.parsePrivateIdent=function(){var e=this.startNode();return this.type===se.privateId?e.name=this.value:this.unexpected(),this.next(),this.finishNode(e,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(e.start,"Private field '#"+e.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(e)),e};Zt.parseYield=function(e){this.yieldPos||(this.yieldPos=this.start);var t=this.startNode();return this.next(),this.type===se.semi||this.canInsertSemicolon()||this.type!==se.star&&!this.type.startsExpr?(t.delegate=!1,t.argument=null):(t.delegate=this.eat(se.star),t.argument=this.parseMaybeAssign(e)),this.finishNode(t,"YieldExpression")};Zt.parseAwait=function(e){this.awaitPos||(this.awaitPos=this.start);var t=this.startNode();return this.next(),t.argument=this.parseMaybeUnary(null,!0,!1,e),this.finishNode(t,"AwaitExpression")};var p_=Hn.prototype;p_.raise=function(e,t){var r=rte(this.input,e);t+=" ("+r.line+":"+r.column+")",this.sourceFile&&(t+=" in "+this.sourceFile);var n=new SyntaxError(t);throw n.pos=e,n.loc=r,n.raisedAt=this.pos,n};p_.raiseRecoverable=p_.raise;p_.curPosition=function(){if(this.options.locations)return new w0(this.curLine,this.pos-this.lineStart)};var pc=Hn.prototype,Lze=function(t){this.flags=t,this.var=[],this.lexical=[],this.functions=[]};pc.enterScope=function(e){this.scopeStack.push(new Lze(e))};pc.exitScope=function(){this.scopeStack.pop()};pc.treatFunctionsAsVarInScope=function(e){return e.flags&tv||!this.inModule&&e.flags&T0};pc.declareName=function(e,t,r){var n=!1;if(t===Bl){var i=this.currentScope();n=i.lexical.indexOf(e)>-1||i.functions.indexOf(e)>-1||i.var.indexOf(e)>-1,i.lexical.push(e),this.inModule&&i.flags&T0&&delete this.undefinedExports[e]}else if(t===ote){var a=this.currentScope();a.lexical.push(e)}else if(t===ste){var s=this.currentScope();this.treatFunctionsAsVar?n=s.lexical.indexOf(e)>-1:n=s.lexical.indexOf(e)>-1||s.var.indexOf(e)>-1,s.functions.push(e)}else for(var o=this.scopeStack.length-1;o>=0;--o){var l=this.scopeStack[o];if(l.lexical.indexOf(e)>-1&&!(l.flags&ite&&l.lexical[0]===e)||!this.treatFunctionsAsVarInScope(l)&&l.functions.indexOf(e)>-1){n=!0;break}if(l.var.push(e),this.inModule&&l.flags&T0&&delete this.undefinedExports[e],l.flags&Jw)break}n&&this.raiseRecoverable(r,"Identifier '"+e+"' has already been declared")};pc.checkLocalExport=function(e){this.scopeStack[0].lexical.indexOf(e.name)===-1&&this.scopeStack[0].var.indexOf(e.name)===-1&&(this.undefinedExports[e.name]=e)};pc.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]};pc.currentVarScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(t.flags&(Jw|fy|mf))return t}};pc.currentThisScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(t.flags&(Jw|fy|mf)&&!(t.flags&FR))return t}};var tT=function(t,r,n){this.type="",this.start=r,this.end=0,t.options.locations&&(this.loc=new Zw(t,n)),t.options.directSourceFile&&(this.sourceFile=t.options.directSourceFile),t.options.ranges&&(this.range=[r,0])},dy=Hn.prototype;dy.startNode=function(){return new tT(this,this.start,this.startLoc)};dy.startNodeAt=function(e,t){return new tT(this,e,t)};function hte(e,t,r,n){return e.type=t,e.end=r,this.options.locations&&(e.loc.end=n),this.options.ranges&&(e.range[1]=r),e}dy.finishNode=function(e,t){return hte.call(this,e,t,this.lastTokEnd,this.lastTokEndLoc)};dy.finishNodeAt=function(e,t,r,n){return hte.call(this,e,t,r,n)};dy.copyNode=function(e){var t=new tT(this,e.start,this.startLoc);for(var r in e)t[r]=e[r];return t};var Nze="Gara Garay Gukh Gurung_Khema Hrkt Katakana_Or_Hiragana Kawi Kirat_Rai Krai Nag_Mundari Nagm Ol_Onal Onao Sunu Sunuwar Todhri Todr Tulu_Tigalari Tutg Unknown Zzzz",fte="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",dte=fte+" Extended_Pictographic",pte=dte,vte=pte+" EBase EComp EMod EPres ExtPict",gte=vte,Pze=gte,Rze={9:fte,10:dte,11:pte,12:vte,13:gte,14:Pze},Oze="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",Bze={9:"",10:"",11:"",12:"",13:"",14:Oze},I7="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",mte="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",yte=mte+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",xte=yte+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",bte=xte+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",Ste=bte+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",Fze=Ste+" "+Nze,zze={9:mte,10:yte,11:xte,12:bte,13:Ste,14:Fze},_te={};function jze(e){var t=_te[e]={binary:ku(Rze[e]+" "+I7),binaryOfStrings:ku(Bze[e]),nonBinary:{General_Category:ku(I7),Script:ku(zze[e])}};t.nonBinary.Script_Extensions=t.nonBinary.Script,t.nonBinary.gc=t.nonBinary.General_Category,t.nonBinary.sc=t.nonBinary.Script,t.nonBinary.scx=t.nonBinary.Script_Extensions}for(var UA=0,D7=[9,10,11,12,13,14];UA<D7.length;UA+=1){var Hze=D7[UA];jze(Hze)}var At=Hn.prototype,v_=function(t,r){this.parent=t,this.base=r||this};v_.prototype.separatedFrom=function(t){for(var r=this;r;r=r.parent)for(var n=t;n;n=n.parent)if(r.base===n.base&&r!==n)return!0;return!1};v_.prototype.sibling=function(){return new v_(this.parent,this.base)};var Wo=function(t){this.parser=t,this.validFlags="gim"+(t.options.ecmaVersion>=6?"uy":"")+(t.options.ecmaVersion>=9?"s":"")+(t.options.ecmaVersion>=13?"d":"")+(t.options.ecmaVersion>=15?"v":""),this.unicodeProperties=_te[t.options.ecmaVersion>=14?14:t.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=Object.create(null),this.backReferenceNames=[],this.branchID=null};Wo.prototype.reset=function(t,r,n){var i=n.indexOf("v")!==-1,a=n.indexOf("u")!==-1;this.start=t|0,this.source=r+"",this.flags=n,i&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=a&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=a&&this.parser.options.ecmaVersion>=9)};Wo.prototype.raise=function(t){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+t)};Wo.prototype.at=function(t,r){r===void 0&&(r=!1);var n=this.source,i=n.length;if(t>=i)return-1;var a=n.charCodeAt(t);if(!(r||this.switchU)||a<=55295||a>=57344||t+1>=i)return a;var s=n.charCodeAt(t+1);return s>=56320&&s<=57343?(a<<10)+s-56613888:a};Wo.prototype.nextIndex=function(t,r){r===void 0&&(r=!1);var n=this.source,i=n.length;if(t>=i)return i;var a=n.charCodeAt(t),s;return!(r||this.switchU)||a<=55295||a>=57344||t+1>=i||(s=n.charCodeAt(t+1))<56320||s>57343?t+1:t+2};Wo.prototype.current=function(t){return t===void 0&&(t=!1),this.at(this.pos,t)};Wo.prototype.lookahead=function(t){return t===void 0&&(t=!1),this.at(this.nextIndex(this.pos,t),t)};Wo.prototype.advance=function(t){t===void 0&&(t=!1),this.pos=this.nextIndex(this.pos,t)};Wo.prototype.eat=function(t,r){return r===void 0&&(r=!1),this.current(r)===t?(this.advance(r),!0):!1};Wo.prototype.eatChars=function(t,r){r===void 0&&(r=!1);for(var n=this.pos,i=0,a=t;i<a.length;i+=1){var s=a[i],o=this.at(n,r);if(o===-1||o!==s)return!1;n=this.nextIndex(n,r)}return this.pos=n,!0};At.validateRegExpFlags=function(e){for(var t=e.validFlags,r=e.flags,n=!1,i=!1,a=0;a<r.length;a++){var s=r.charAt(a);t.indexOf(s)===-1&&this.raise(e.start,"Invalid regular expression flag"),r.indexOf(s,a+1)>-1&&this.raise(e.start,"Duplicate regular expression flag"),s==="u"&&(n=!0),s==="v"&&(i=!0)}this.options.ecmaVersion>=15&&n&&i&&this.raise(e.start,"Invalid regular expression flag")};function Vze(e){for(var t in e)return!0;return!1}At.validateRegExpPattern=function(e){this.regexp_pattern(e),!e.switchN&&this.options.ecmaVersion>=9&&Vze(e.groupNames)&&(e.switchN=!0,this.regexp_pattern(e))};At.regexp_pattern=function(e){e.pos=0,e.lastIntValue=0,e.lastStringValue="",e.lastAssertionIsQuantifiable=!1,e.numCapturingParens=0,e.maxBackReference=0,e.groupNames=Object.create(null),e.backReferenceNames.length=0,e.branchID=null,this.regexp_disjunction(e),e.pos!==e.source.length&&(e.eat(41)&&e.raise("Unmatched ')'"),(e.eat(93)||e.eat(125))&&e.raise("Lone quantifier brackets")),e.maxBackReference>e.numCapturingParens&&e.raise("Invalid escape");for(var t=0,r=e.backReferenceNames;t<r.length;t+=1){var n=r[t];e.groupNames[n]||e.raise("Invalid named capture referenced")}};At.regexp_disjunction=function(e){var t=this.options.ecmaVersion>=16;for(t&&(e.branchID=new v_(e.branchID,null)),this.regexp_alternative(e);e.eat(124);)t&&(e.branchID=e.branchID.sibling()),this.regexp_alternative(e);t&&(e.branchID=e.branchID.parent),this.regexp_eatQuantifier(e,!0)&&e.raise("Nothing to repeat"),e.eat(123)&&e.raise("Lone quantifier brackets")};At.regexp_alternative=function(e){for(;e.pos<e.source.length&&this.regexp_eatTerm(e););};At.regexp_eatTerm=function(e){return this.regexp_eatAssertion(e)?(e.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(e)&&e.switchU&&e.raise("Invalid quantifier"),!0):(e.switchU?this.regexp_eatAtom(e):this.regexp_eatExtendedAtom(e))?(this.regexp_eatQuantifier(e),!0):!1};At.regexp_eatAssertion=function(e){var t=e.pos;if(e.lastAssertionIsQuantifiable=!1,e.eat(94)||e.eat(36))return!0;if(e.eat(92)){if(e.eat(66)||e.eat(98))return!0;e.pos=t}if(e.eat(40)&&e.eat(63)){var r=!1;if(this.options.ecmaVersion>=9&&(r=e.eat(60)),e.eat(61)||e.eat(33))return this.regexp_disjunction(e),e.eat(41)||e.raise("Unterminated group"),e.lastAssertionIsQuantifiable=!r,!0}return e.pos=t,!1};At.regexp_eatQuantifier=function(e,t){return t===void 0&&(t=!1),this.regexp_eatQuantifierPrefix(e,t)?(e.eat(63),!0):!1};At.regexp_eatQuantifierPrefix=function(e,t){return e.eat(42)||e.eat(43)||e.eat(63)||this.regexp_eatBracedQuantifier(e,t)};At.regexp_eatBracedQuantifier=function(e,t){var r=e.pos;if(e.eat(123)){var n=0,i=-1;if(this.regexp_eatDecimalDigits(e)&&(n=e.lastIntValue,e.eat(44)&&this.regexp_eatDecimalDigits(e)&&(i=e.lastIntValue),e.eat(125)))return i!==-1&&i<n&&!t&&e.raise("numbers out of order in {} quantifier"),!0;e.switchU&&!t&&e.raise("Incomplete quantifier"),e.pos=r}return!1};At.regexp_eatAtom=function(e){return this.regexp_eatPatternCharacters(e)||e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)};At.regexp_eatReverseSolidusAtomEscape=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatAtomEscape(e))return!0;e.pos=t}return!1};At.regexp_eatUncapturingGroup=function(e){var t=e.pos;if(e.eat(40)){if(e.eat(63)){if(this.options.ecmaVersion>=16){var r=this.regexp_eatModifiers(e),n=e.eat(45);if(r||n){for(var i=0;i<r.length;i++){var a=r.charAt(i);r.indexOf(a,i+1)>-1&&e.raise("Duplicate regular expression modifiers")}if(n){var s=this.regexp_eatModifiers(e);!r&&!s&&e.current()===58&&e.raise("Invalid regular expression modifiers");for(var o=0;o<s.length;o++){var l=s.charAt(o);(s.indexOf(l,o+1)>-1||r.indexOf(l)>-1)&&e.raise("Duplicate regular expression modifiers")}}}}if(e.eat(58)){if(this.regexp_disjunction(e),e.eat(41))return!0;e.raise("Unterminated group")}}e.pos=t}return!1};At.regexp_eatCapturingGroup=function(e){if(e.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(e):e.current()===63&&e.raise("Invalid group"),this.regexp_disjunction(e),e.eat(41))return e.numCapturingParens+=1,!0;e.raise("Unterminated group")}return!1};At.regexp_eatModifiers=function(e){for(var t="",r=0;(r=e.current())!==-1&&Uze(r);)t+=Ml(r),e.advance();return t};function Uze(e){return e===105||e===109||e===115}At.regexp_eatExtendedAtom=function(e){return e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)||this.regexp_eatInvalidBracedQuantifier(e)||this.regexp_eatExtendedPatternCharacter(e)};At.regexp_eatInvalidBracedQuantifier=function(e){return this.regexp_eatBracedQuantifier(e,!0)&&e.raise("Nothing to repeat"),!1};At.regexp_eatSyntaxCharacter=function(e){var t=e.current();return wte(t)?(e.lastIntValue=t,e.advance(),!0):!1};function wte(e){return e===36||e>=40&&e<=43||e===46||e===63||e>=91&&e<=94||e>=123&&e<=125}At.regexp_eatPatternCharacters=function(e){for(var t=e.pos,r=0;(r=e.current())!==-1&&!wte(r);)e.advance();return e.pos!==t};At.regexp_eatExtendedPatternCharacter=function(e){var t=e.current();return t!==-1&&t!==36&&!(t>=40&&t<=43)&&t!==46&&t!==63&&t!==91&&t!==94&&t!==124?(e.advance(),!0):!1};At.regexp_groupSpecifier=function(e){if(e.eat(63)){this.regexp_eatGroupName(e)||e.raise("Invalid group");var t=this.options.ecmaVersion>=16,r=e.groupNames[e.lastStringValue];if(r)if(t)for(var n=0,i=r;n<i.length;n+=1){var a=i[n];a.separatedFrom(e.branchID)||e.raise("Duplicate capture group name")}else e.raise("Duplicate capture group name");t?(r||(e.groupNames[e.lastStringValue]=[])).push(e.branchID):e.groupNames[e.lastStringValue]=!0}};At.regexp_eatGroupName=function(e){if(e.lastStringValue="",e.eat(60)){if(this.regexp_eatRegExpIdentifierName(e)&&e.eat(62))return!0;e.raise("Invalid capture group name")}return!1};At.regexp_eatRegExpIdentifierName=function(e){if(e.lastStringValue="",this.regexp_eatRegExpIdentifierStart(e)){for(e.lastStringValue+=Ml(e.lastIntValue);this.regexp_eatRegExpIdentifierPart(e);)e.lastStringValue+=Ml(e.lastIntValue);return!0}return!1};At.regexp_eatRegExpIdentifierStart=function(e){var t=e.pos,r=this.options.ecmaVersion>=11,n=e.current(r);return e.advance(r),n===92&&this.regexp_eatRegExpUnicodeEscapeSequence(e,r)&&(n=e.lastIntValue),Gze(n)?(e.lastIntValue=n,!0):(e.pos=t,!1)};function Gze(e){return Bo(e,!0)||e===36||e===95}At.regexp_eatRegExpIdentifierPart=function(e){var t=e.pos,r=this.options.ecmaVersion>=11,n=e.current(r);return e.advance(r),n===92&&this.regexp_eatRegExpUnicodeEscapeSequence(e,r)&&(n=e.lastIntValue),Wze(n)?(e.lastIntValue=n,!0):(e.pos=t,!1)};function Wze(e){return rc(e,!0)||e===36||e===95||e===8204||e===8205}At.regexp_eatAtomEscape=function(e){return this.regexp_eatBackReference(e)||this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)||e.switchN&&this.regexp_eatKGroupName(e)?!0:(e.switchU&&(e.current()===99&&e.raise("Invalid unicode escape"),e.raise("Invalid escape")),!1)};At.regexp_eatBackReference=function(e){var t=e.pos;if(this.regexp_eatDecimalEscape(e)){var r=e.lastIntValue;if(e.switchU)return r>e.maxBackReference&&(e.maxBackReference=r),!0;if(r<=e.numCapturingParens)return!0;e.pos=t}return!1};At.regexp_eatKGroupName=function(e){if(e.eat(107)){if(this.regexp_eatGroupName(e))return e.backReferenceNames.push(e.lastStringValue),!0;e.raise("Invalid named reference")}return!1};At.regexp_eatCharacterEscape=function(e){return this.regexp_eatControlEscape(e)||this.regexp_eatCControlLetter(e)||this.regexp_eatZero(e)||this.regexp_eatHexEscapeSequence(e)||this.regexp_eatRegExpUnicodeEscapeSequence(e,!1)||!e.switchU&&this.regexp_eatLegacyOctalEscapeSequence(e)||this.regexp_eatIdentityEscape(e)};At.regexp_eatCControlLetter=function(e){var t=e.pos;if(e.eat(99)){if(this.regexp_eatControlLetter(e))return!0;e.pos=t}return!1};At.regexp_eatZero=function(e){return e.current()===48&&!rT(e.lookahead())?(e.lastIntValue=0,e.advance(),!0):!1};At.regexp_eatControlEscape=function(e){var t=e.current();return t===116?(e.lastIntValue=9,e.advance(),!0):t===110?(e.lastIntValue=10,e.advance(),!0):t===118?(e.lastIntValue=11,e.advance(),!0):t===102?(e.lastIntValue=12,e.advance(),!0):t===114?(e.lastIntValue=13,e.advance(),!0):!1};At.regexp_eatControlLetter=function(e){var t=e.current();return Tte(t)?(e.lastIntValue=t%32,e.advance(),!0):!1};function Tte(e){return e>=65&&e<=90||e>=97&&e<=122}At.regexp_eatRegExpUnicodeEscapeSequence=function(e,t){t===void 0&&(t=!1);var r=e.pos,n=t||e.switchU;if(e.eat(117)){if(this.regexp_eatFixedHexDigits(e,4)){var i=e.lastIntValue;if(n&&i>=55296&&i<=56319){var a=e.pos;if(e.eat(92)&&e.eat(117)&&this.regexp_eatFixedHexDigits(e,4)){var s=e.lastIntValue;if(s>=56320&&s<=57343)return e.lastIntValue=(i-55296)*1024+(s-56320)+65536,!0}e.pos=a,e.lastIntValue=i}return!0}if(n&&e.eat(123)&&this.regexp_eatHexDigits(e)&&e.eat(125)&&$ze(e.lastIntValue))return!0;n&&e.raise("Invalid unicode escape"),e.pos=r}return!1};function $ze(e){return e>=0&&e<=1114111}At.regexp_eatIdentityEscape=function(e){if(e.switchU)return this.regexp_eatSyntaxCharacter(e)?!0:e.eat(47)?(e.lastIntValue=47,!0):!1;var t=e.current();return t!==99&&(!e.switchN||t!==107)?(e.lastIntValue=t,e.advance(),!0):!1};At.regexp_eatDecimalEscape=function(e){e.lastIntValue=0;var t=e.current();if(t>=49&&t<=57){do e.lastIntValue=10*e.lastIntValue+(t-48),e.advance();while((t=e.current())>=48&&t<=57);return!0}return!1};var Cte=0,Ll=1,Ja=2;At.regexp_eatCharacterClassEscape=function(e){var t=e.current();if(Yze(t))return e.lastIntValue=-1,e.advance(),Ll;var r=!1;if(e.switchU&&this.options.ecmaVersion>=9&&((r=t===80)||t===112)){e.lastIntValue=-1,e.advance();var n;if(e.eat(123)&&(n=this.regexp_eatUnicodePropertyValueExpression(e))&&e.eat(125))return r&&n===Ja&&e.raise("Invalid property name"),n;e.raise("Invalid property name")}return Cte};function Yze(e){return e===100||e===68||e===115||e===83||e===119||e===87}At.regexp_eatUnicodePropertyValueExpression=function(e){var t=e.pos;if(this.regexp_eatUnicodePropertyName(e)&&e.eat(61)){var r=e.lastStringValue;if(this.regexp_eatUnicodePropertyValue(e)){var n=e.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(e,r,n),Ll}}if(e.pos=t,this.regexp_eatLoneUnicodePropertyNameOrValue(e)){var i=e.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(e,i)}return Cte};At.regexp_validateUnicodePropertyNameAndValue=function(e,t,r){ev(e.unicodeProperties.nonBinary,t)||e.raise("Invalid property name"),e.unicodeProperties.nonBinary[t].test(r)||e.raise("Invalid property value")};At.regexp_validateUnicodePropertyNameOrValue=function(e,t){if(e.unicodeProperties.binary.test(t))return Ll;if(e.switchV&&e.unicodeProperties.binaryOfStrings.test(t))return Ja;e.raise("Invalid property name")};At.regexp_eatUnicodePropertyName=function(e){var t=0;for(e.lastStringValue="";Ete(t=e.current());)e.lastStringValue+=Ml(t),e.advance();return e.lastStringValue!==""};function Ete(e){return Tte(e)||e===95}At.regexp_eatUnicodePropertyValue=function(e){var t=0;for(e.lastStringValue="";Xze(t=e.current());)e.lastStringValue+=Ml(t),e.advance();return e.lastStringValue!==""};function Xze(e){return Ete(e)||rT(e)}At.regexp_eatLoneUnicodePropertyNameOrValue=function(e){return this.regexp_eatUnicodePropertyValue(e)};At.regexp_eatCharacterClass=function(e){if(e.eat(91)){var t=e.eat(94),r=this.regexp_classContents(e);return e.eat(93)||e.raise("Unterminated character class"),t&&r===Ja&&e.raise("Negated character class may contain strings"),!0}return!1};At.regexp_classContents=function(e){return e.current()===93?Ll:e.switchV?this.regexp_classSetExpression(e):(this.regexp_nonEmptyClassRanges(e),Ll)};At.regexp_nonEmptyClassRanges=function(e){for(;this.regexp_eatClassAtom(e);){var t=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassAtom(e)){var r=e.lastIntValue;e.switchU&&(t===-1||r===-1)&&e.raise("Invalid character class"),t!==-1&&r!==-1&&t>r&&e.raise("Range out of order in character class")}}};At.regexp_eatClassAtom=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatClassEscape(e))return!0;if(e.switchU){var r=e.current();(r===99||Ite(r))&&e.raise("Invalid class escape"),e.raise("Invalid escape")}e.pos=t}var n=e.current();return n!==93?(e.lastIntValue=n,e.advance(),!0):!1};At.regexp_eatClassEscape=function(e){var t=e.pos;if(e.eat(98))return e.lastIntValue=8,!0;if(e.switchU&&e.eat(45))return e.lastIntValue=45,!0;if(!e.switchU&&e.eat(99)){if(this.regexp_eatClassControlLetter(e))return!0;e.pos=t}return this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)};At.regexp_classSetExpression=function(e){var t=Ll,r;if(!this.regexp_eatClassSetRange(e))if(r=this.regexp_eatClassSetOperand(e)){r===Ja&&(t=Ja);for(var n=e.pos;e.eatChars([38,38]);){if(e.current()!==38&&(r=this.regexp_eatClassSetOperand(e))){r!==Ja&&(t=Ll);continue}e.raise("Invalid character in character class")}if(n!==e.pos)return t;for(;e.eatChars([45,45]);)this.regexp_eatClassSetOperand(e)||e.raise("Invalid character in character class");if(n!==e.pos)return t}else e.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(e)){if(r=this.regexp_eatClassSetOperand(e),!r)return t;r===Ja&&(t=Ja)}};At.regexp_eatClassSetRange=function(e){var t=e.pos;if(this.regexp_eatClassSetCharacter(e)){var r=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassSetCharacter(e)){var n=e.lastIntValue;return r!==-1&&n!==-1&&r>n&&e.raise("Range out of order in character class"),!0}e.pos=t}return!1};At.regexp_eatClassSetOperand=function(e){return this.regexp_eatClassSetCharacter(e)?Ll:this.regexp_eatClassStringDisjunction(e)||this.regexp_eatNestedClass(e)};At.regexp_eatNestedClass=function(e){var t=e.pos;if(e.eat(91)){var r=e.eat(94),n=this.regexp_classContents(e);if(e.eat(93))return r&&n===Ja&&e.raise("Negated character class may contain strings"),n;e.pos=t}if(e.eat(92)){var i=this.regexp_eatCharacterClassEscape(e);if(i)return i;e.pos=t}return null};At.regexp_eatClassStringDisjunction=function(e){var t=e.pos;if(e.eatChars([92,113])){if(e.eat(123)){var r=this.regexp_classStringDisjunctionContents(e);if(e.eat(125))return r}else e.raise("Invalid escape");e.pos=t}return null};At.regexp_classStringDisjunctionContents=function(e){for(var t=this.regexp_classString(e);e.eat(124);)this.regexp_classString(e)===Ja&&(t=Ja);return t};At.regexp_classString=function(e){for(var t=0;this.regexp_eatClassSetCharacter(e);)t++;return t===1?Ll:Ja};At.regexp_eatClassSetCharacter=function(e){var t=e.pos;if(e.eat(92))return this.regexp_eatCharacterEscape(e)||this.regexp_eatClassSetReservedPunctuator(e)?!0:e.eat(98)?(e.lastIntValue=8,!0):(e.pos=t,!1);var r=e.current();return r<0||r===e.lookahead()&&qze(r)||Kze(r)?!1:(e.advance(),e.lastIntValue=r,!0)};function qze(e){return e===33||e>=35&&e<=38||e>=42&&e<=44||e===46||e>=58&&e<=64||e===94||e===96||e===126}function Kze(e){return e===40||e===41||e===45||e===47||e>=91&&e<=93||e>=123&&e<=125}At.regexp_eatClassSetReservedPunctuator=function(e){var t=e.current();return Zze(t)?(e.lastIntValue=t,e.advance(),!0):!1};function Zze(e){return e===33||e===35||e===37||e===38||e===44||e===45||e>=58&&e<=62||e===64||e===96||e===126}At.regexp_eatClassControlLetter=function(e){var t=e.current();return rT(t)||t===95?(e.lastIntValue=t%32,e.advance(),!0):!1};At.regexp_eatHexEscapeSequence=function(e){var t=e.pos;if(e.eat(120)){if(this.regexp_eatFixedHexDigits(e,2))return!0;e.switchU&&e.raise("Invalid escape"),e.pos=t}return!1};At.regexp_eatDecimalDigits=function(e){var t=e.pos,r=0;for(e.lastIntValue=0;rT(r=e.current());)e.lastIntValue=10*e.lastIntValue+(r-48),e.advance();return e.pos!==t};function rT(e){return e>=48&&e<=57}At.regexp_eatHexDigits=function(e){var t=e.pos,r=0;for(e.lastIntValue=0;Ate(r=e.current());)e.lastIntValue=16*e.lastIntValue+kte(r),e.advance();return e.pos!==t};function Ate(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102}function kte(e){return e>=65&&e<=70?10+(e-65):e>=97&&e<=102?10+(e-97):e-48}At.regexp_eatLegacyOctalEscapeSequence=function(e){if(this.regexp_eatOctalDigit(e)){var t=e.lastIntValue;if(this.regexp_eatOctalDigit(e)){var r=e.lastIntValue;t<=3&&this.regexp_eatOctalDigit(e)?e.lastIntValue=t*64+r*8+e.lastIntValue:e.lastIntValue=t*8+r}else e.lastIntValue=t;return!0}return!1};At.regexp_eatOctalDigit=function(e){var t=e.current();return Ite(t)?(e.lastIntValue=t-48,e.advance(),!0):(e.lastIntValue=0,!1)};function Ite(e){return e>=48&&e<=55}At.regexp_eatFixedHexDigits=function(e,t){var r=e.pos;e.lastIntValue=0;for(var n=0;n<t;++n){var i=e.current();if(!Ate(i))return e.pos=r,!1;e.lastIntValue=16*e.lastIntValue+kte(i),e.advance()}return!0};var VR=function(t){this.type=t.type,this.value=t.value,this.start=t.start,this.end=t.end,t.options.locations&&(this.loc=new Zw(t,t.startLoc,t.endLoc)),t.options.ranges&&(this.range=[t.start,t.end])},gr=Hn.prototype;gr.next=function(e){!e&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new VR(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()};gr.getToken=function(){return this.next(),new VR(this)};typeof Symbol<"u"&&(gr[Symbol.iterator]=function(){var e=this;return{next:function(){var t=e.getToken();return{done:t.type===se.eof,value:t}}}});gr.nextToken=function(){var e=this.curContext();if((!e||!e.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(se.eof);if(e.override)return e.override(this);this.readToken(this.fullCharCodeAtPos())};gr.readToken=function(e){return Bo(e,this.options.ecmaVersion>=6)||e===92?this.readWord():this.getTokenFromCode(e)};gr.fullCharCodeAtPos=function(){var e=this.input.charCodeAt(this.pos);if(e<=55295||e>=56320)return e;var t=this.input.charCodeAt(this.pos+1);return t<=56319||t>=57344?e:(e<<10)+t-56613888};gr.skipBlockComment=function(){var e=this.options.onComment&&this.curPosition(),t=this.pos,r=this.input.indexOf("*/",this.pos+=2);if(r===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=r+2,this.options.locations)for(var n=void 0,i=t;(n=Jee(this.input,i,this.pos))>-1;)++this.curLine,i=this.lineStart=n;this.options.onComment&&this.options.onComment(!0,this.input.slice(t+2,r),t,this.pos,e,this.curPosition())};gr.skipLineComment=function(e){for(var t=this.pos,r=this.options.onComment&&this.curPosition(),n=this.input.charCodeAt(this.pos+=e);this.pos<this.input.length&&!Jp(n);)n=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(t+e,this.pos),t,this.pos,r,this.curPosition())};gr.skipSpace=function(){e:for(;this.pos<this.input.length;){var e=this.input.charCodeAt(this.pos);switch(e){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(e>8&&e<14||e>=5760&&ete.test(String.fromCharCode(e)))++this.pos;else break e}}};gr.finishToken=function(e,t){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var r=this.type;this.type=e,this.value=t,this.updateContext(r)};gr.readToken_dot=function(){var e=this.input.charCodeAt(this.pos+1);if(e>=48&&e<=57)return this.readNumber(!0);var t=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&e===46&&t===46?(this.pos+=3,this.finishToken(se.ellipsis)):(++this.pos,this.finishToken(se.dot))};gr.readToken_slash=function(){var e=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):e===61?this.finishOp(se.assign,2):this.finishOp(se.slash,1)};gr.readToken_mult_modulo_exp=function(e){var t=this.input.charCodeAt(this.pos+1),r=1,n=e===42?se.star:se.modulo;return this.options.ecmaVersion>=7&&e===42&&t===42&&(++r,n=se.starstar,t=this.input.charCodeAt(this.pos+2)),t===61?this.finishOp(se.assign,r+1):this.finishOp(n,r)};gr.readToken_pipe_amp=function(e){var t=this.input.charCodeAt(this.pos+1);if(t===e){if(this.options.ecmaVersion>=12){var r=this.input.charCodeAt(this.pos+2);if(r===61)return this.finishOp(se.assign,3)}return this.finishOp(e===124?se.logicalOR:se.logicalAND,2)}return t===61?this.finishOp(se.assign,2):this.finishOp(e===124?se.bitwiseOR:se.bitwiseAND,1)};gr.readToken_caret=function(){var e=this.input.charCodeAt(this.pos+1);return e===61?this.finishOp(se.assign,2):this.finishOp(se.bitwiseXOR,1)};gr.readToken_plus_min=function(e){var t=this.input.charCodeAt(this.pos+1);return t===e?t===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||ca.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(se.incDec,2):t===61?this.finishOp(se.assign,2):this.finishOp(se.plusMin,1)};gr.readToken_lt_gt=function(e){var t=this.input.charCodeAt(this.pos+1),r=1;return t===e?(r=e===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+r)===61?this.finishOp(se.assign,r+1):this.finishOp(se.bitShift,r)):t===33&&e===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(t===61&&(r=2),this.finishOp(se.relational,r))};gr.readToken_eq_excl=function(e){var t=this.input.charCodeAt(this.pos+1);return t===61?this.finishOp(se.equality,this.input.charCodeAt(this.pos+2)===61?3:2):e===61&&t===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(se.arrow)):this.finishOp(e===61?se.eq:se.prefix,1)};gr.readToken_question=function(){var e=this.options.ecmaVersion;if(e>=11){var t=this.input.charCodeAt(this.pos+1);if(t===46){var r=this.input.charCodeAt(this.pos+2);if(r<48||r>57)return this.finishOp(se.questionDot,2)}if(t===63){if(e>=12){var n=this.input.charCodeAt(this.pos+2);if(n===61)return this.finishOp(se.assign,3)}return this.finishOp(se.coalesce,2)}}return this.finishOp(se.question,1)};gr.readToken_numberSign=function(){var e=this.options.ecmaVersion,t=35;if(e>=13&&(++this.pos,t=this.fullCharCodeAtPos(),Bo(t,!0)||t===92))return this.finishToken(se.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+Ml(t)+"'")};gr.getTokenFromCode=function(e){switch(e){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(se.parenL);case 41:return++this.pos,this.finishToken(se.parenR);case 59:return++this.pos,this.finishToken(se.semi);case 44:return++this.pos,this.finishToken(se.comma);case 91:return++this.pos,this.finishToken(se.bracketL);case 93:return++this.pos,this.finishToken(se.bracketR);case 123:return++this.pos,this.finishToken(se.braceL);case 125:return++this.pos,this.finishToken(se.braceR);case 58:return++this.pos,this.finishToken(se.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(se.backQuote);case 48:var t=this.input.charCodeAt(this.pos+1);if(t===120||t===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(t===111||t===79)return this.readRadixNumber(8);if(t===98||t===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(e);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(e);case 124:case 38:return this.readToken_pipe_amp(e);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(e);case 60:case 62:return this.readToken_lt_gt(e);case 61:case 33:return this.readToken_eq_excl(e);case 63:return this.readToken_question();case 126:return this.finishOp(se.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+Ml(e)+"'")};gr.finishOp=function(e,t){var r=this.input.slice(this.pos,this.pos+t);return this.pos+=t,this.finishToken(e,r)};gr.readRegexp=function(){for(var e,t,r=this.pos;;){this.pos>=this.input.length&&this.raise(r,"Unterminated regular expression");var n=this.input.charAt(this.pos);if(ca.test(n)&&this.raise(r,"Unterminated regular expression"),e)e=!1;else{if(n==="[")t=!0;else if(n==="]"&&t)t=!1;else if(n==="/"&&!t)break;e=n==="\\"}++this.pos}var i=this.input.slice(r,this.pos);++this.pos;var a=this.pos,s=this.readWord1();this.containsEsc&&this.unexpected(a);var o=this.regexpState||(this.regexpState=new Wo(this));o.reset(r,i,s),this.validateRegExpFlags(o),this.validateRegExpPattern(o);var l=null;try{l=new RegExp(i,s)}catch{}return this.finishToken(se.regexp,{pattern:i,flags:s,value:l})};gr.readInt=function(e,t,r){for(var n=this.options.ecmaVersion>=12&&t===void 0,i=r&&this.input.charCodeAt(this.pos)===48,a=this.pos,s=0,o=0,l=0,u=t??1/0;l<u;++l,++this.pos){var c=this.input.charCodeAt(this.pos),h=void 0;if(n&&c===95){i&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),o===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),l===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),o=c;continue}if(c>=97?h=c-97+10:c>=65?h=c-65+10:c>=48&&c<=57?h=c-48:h=1/0,h>=e)break;o=c,s=s*e+h}return n&&o===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===a||t!=null&&this.pos-a!==t?null:s};function Qze(e,t){return t?parseInt(e,8):parseFloat(e.replace(/_/g,""))}function Dte(e){return typeof BigInt!="function"?null:BigInt(e.replace(/_/g,""))}gr.readRadixNumber=function(e){var t=this.pos;this.pos+=2;var r=this.readInt(e);return r==null&&this.raise(this.start+2,"Expected number in radix "+e),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(r=Dte(this.input.slice(t,this.pos)),++this.pos):Bo(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(se.num,r)};gr.readNumber=function(e){var t=this.pos;!e&&this.readInt(10,void 0,!0)===null&&this.raise(t,"Invalid number");var r=this.pos-t>=2&&this.input.charCodeAt(t)===48;r&&this.strict&&this.raise(t,"Invalid number");var n=this.input.charCodeAt(this.pos);if(!r&&!e&&this.options.ecmaVersion>=11&&n===110){var i=Dte(this.input.slice(t,this.pos));return++this.pos,Bo(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(se.num,i)}r&&/[89]/.test(this.input.slice(t,this.pos))&&(r=!1),n===46&&!r&&(++this.pos,this.readInt(10),n=this.input.charCodeAt(this.pos)),(n===69||n===101)&&!r&&(n=this.input.charCodeAt(++this.pos),(n===43||n===45)&&++this.pos,this.readInt(10)===null&&this.raise(t,"Invalid number")),Bo(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var a=Qze(this.input.slice(t,this.pos),r);return this.finishToken(se.num,a)};gr.readCodePoint=function(){var e=this.input.charCodeAt(this.pos),t;if(e===123){this.options.ecmaVersion<6&&this.unexpected();var r=++this.pos;t=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,t>1114111&&this.invalidStringToken(r,"Code point out of bounds")}else t=this.readHexChar(4);return t};gr.readString=function(e){for(var t="",r=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var n=this.input.charCodeAt(this.pos);if(n===e)break;n===92?(t+=this.input.slice(r,this.pos),t+=this.readEscapedChar(!1),r=this.pos):n===8232||n===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(Jp(n)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return t+=this.input.slice(r,this.pos++),this.finishToken(se.string,t)};var Mte={};gr.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(e){if(e===Mte)this.readInvalidTemplateToken();else throw e}this.inTemplateElement=!1};gr.invalidStringToken=function(e,t){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw Mte;this.raise(e,t)};gr.readTmplToken=function(){for(var e="",t=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var r=this.input.charCodeAt(this.pos);if(r===96||r===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===se.template||this.type===se.invalidTemplate)?r===36?(this.pos+=2,this.finishToken(se.dollarBraceL)):(++this.pos,this.finishToken(se.backQuote)):(e+=this.input.slice(t,this.pos),this.finishToken(se.template,e));if(r===92)e+=this.input.slice(t,this.pos),e+=this.readEscapedChar(!0),t=this.pos;else if(Jp(r)){switch(e+=this.input.slice(t,this.pos),++this.pos,r){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:e+=`
`;break;default:e+=String.fromCharCode(r);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),t=this.pos}else++this.pos}};gr.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(se.invalidTemplate,this.input.slice(this.start,this.pos));case"\r":this.input[this.pos+1]===`
`&&++this.pos;case`
`:case"\u2028":case"\u2029":++this.curLine,this.lineStart=this.pos+1;break}this.raise(this.start,"Unterminated template")};gr.readEscapedChar=function(e){var t=this.input.charCodeAt(++this.pos);switch(++this.pos,t){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return Ml(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),e){var r=this.pos-1;this.invalidStringToken(r,"Invalid escape sequence in template string")}default:if(t>=48&&t<=55){var n=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],i=parseInt(n,8);return i>255&&(n=n.slice(0,-1),i=parseInt(n,8)),this.pos+=n.length-1,t=this.input.charCodeAt(this.pos),(n!=="0"||t===56||t===57)&&(this.strict||e)&&this.invalidStringToken(this.pos-1-n.length,e?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(i)}return Jp(t)?(this.options.locations&&(this.lineStart=this.pos,++this.curLine),""):String.fromCharCode(t)}};gr.readHexChar=function(e){var t=this.pos,r=this.readInt(16,e);return r===null&&this.invalidStringToken(t,"Bad character escape sequence"),r};gr.readWord1=function(){this.containsEsc=!1;for(var e="",t=!0,r=this.pos,n=this.options.ecmaVersion>=6;this.pos<this.input.length;){var i=this.fullCharCodeAtPos();if(rc(i,n))this.pos+=i<=65535?1:2;else if(i===92){this.containsEsc=!0,e+=this.input.slice(r,this.pos);var a=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var s=this.readCodePoint();(t?Bo:rc)(s,n)||this.invalidStringToken(a,"Invalid Unicode escape"),e+=Ml(s),r=this.pos}else break;t=!1}return e+this.input.slice(r,this.pos)};gr.readWord=function(){var e=this.readWord1(),t=se.name;return this.keywords.test(e)&&(t=OR[e]),this.finishToken(t,e)};var Jze="8.15.0";Hn.acorn={Parser:Hn,version:Jze,defaultOptions:vM,Position:w0,SourceLocation:Zw,getLineInfo:rte,Node:tT,TokenType:Sr,tokTypes:se,keywordTypes:OR,TokContext:Ts,tokContexts:tn,isIdentifierChar:rc,isIdentifierStart:Bo,Token:VR,isNewLine:Jp,lineBreak:ca,lineBreakG:Sze,nonASCIIwhitespace:ete};function e9e(e,t){return Hn.parse(e,t)}const bm=e=>{if(e.type==="Literal")return e.value;if(e.type==="ArrayExpression")return e.elements.map(t=>bm(t));if(e.type==="ObjectExpression"){const t={};return e.properties.forEach(r=>{const n=r.key.type==="Identifier"?r.key.name:r.key.type==="Literal"?r.key.value:null;n&&(t[n]=bm(r.value))}),t}},t9e=e=>{const t=e.match(/([a-zA-Z0-9-]+)\s*\((.*)\)/);if(t){const r=t[1].toLowerCase(),n=t[2],i={},a=/([a-zA-Z0-9-]+)\s*=\s*(?:'([^']*)'|"([^"]*)"|([^,\s)]+))/g;let s;for(;(s=a.exec(n))!==null;){const o=s[1],l=s[2]||s[3]||s[4],u=parseFloat(l);!isNaN(u)&&String(u)===l?i[o]=u:l==="true"?i[o]=!0:l==="false"?i[o]=!1:i[o]=l}return{element:r,attributes:i}}return{element:"input",attributes:{type:"text"}}},r9e=e=>{const t=e.match(/@bind:([a-zA-Z0-9-]+)\s*\((.*)\)/);if(t)return t9e(t[0].replace("@bind:",""));const r=e.match(/@bind:([a-z]+)(?:\[(.*)\])?/i);if(r){const n=r[1].toLowerCase(),i=r[2],a={};let s="input";if(n==="text"||n==="number"||n==="color"||n==="checkbox"||n==="range"||n==="date"?a.type=n:n==="select"?s="select":a.type="text",i){const o=/([a-zA-Z0-9-]+)(?:\s*=\s*(?:'([^']*)'|"([^"]*)"|([^,\]\s]+)))?/g;let l;for(;(l=o.exec(i))!==null;){const u=l[1],c=l[2]||l[3]||l[4];if(u&&c!==void 0){const h=parseFloat(c);!isNaN(h)&&String(h)===c?a[u]=h:c==="true"?a[u]=!0:c==="false"?a[u]=!1:a[u]=c}else u&&(a[u]=!0)}}return{element:s,attributes:a}}return null},Qi=e=>{const t=[],r=[];try{const n=e9e(e,{ecmaVersion:2020,sourceType:"module",onComment:r,locations:!0,ranges:!0}),i=u=>{const c=u.loc.start.line,h=r.find(f=>{const d=f.loc.start.line;return(d===c||d===c-1)&&f.value.trim().startsWith("@bind:")});if(h){const f=r9e(h.value.trim());if(f)return{...f,commentRange:[h.start,h.end]}}return null},a=u=>{const c=u.loc.start.line,h=r.find(f=>f.loc.start.line===c-1&&f.value.trim().startsWith("@template:"));return h?h.value.trim().replace("@template:","").trim():null},s={},o=u=>{if(u){u.type==="VariableDeclaration"&&u.declarations.forEach(c=>{const h=a(c);if(h&&c.init&&c.init.type==="ObjectExpression"){const f={};c.init.properties.forEach(d=>{const v=d.key.type==="Identifier"?d.key.name:d.key.type==="Literal"?d.key.value:null;if(v){const m=i(d);if(m)f[v]=m;else{const y=bm(d.value);let b="input",S={type:"text"};typeof y=="number"?S.type="number":typeof y=="boolean"&&(S.type="checkbox",b="input"),f[v]={element:b,attributes:S}}}}),s[h]=f}});for(const c in u)c!=="loc"&&c!=="range"&&typeof u[c]=="object"&&(Array.isArray(u[c])?u[c].forEach(o):o(u[c]))}};o(n);const l=u=>{if(u){u.type==="VariableDeclaration"&&u.declarations.forEach(c=>{if(c.type==="VariableDeclarator"&&c.init&&c.id.type==="Identifier"){const h=i(c);if(h){const f=c.id.name,d=[h.commentRange[0],c.end];if(c.init.type==="Literal")t.push({name:f,value:c.init.value,element:h.element,attributes:h.attributes,range:[c.init.start,c.init.end],fullRange:d,path:f});else if((h.element==="collection"||h.element==="table"||h.element==="chart-data")&&(c.init.type==="ArrayExpression"||h.element==="chart-data"&&c.init.type==="ObjectExpression"))if(c.init.type==="ObjectExpression")t.push({name:f,value:bm(c.init),element:h.element,attributes:h.attributes,range:[c.init.start,c.init.end],fullRange:d,path:f});else{const v=[],m=h.attributes.itemType,y=m?s[m]:null;c.init.elements.forEach((b,S)=>{if(b.type==="ObjectExpression"){const w=[];b.properties.forEach(k=>{const M=k.key.type==="Identifier"?k.key.name:k.key.type==="Literal"?k.key.value:null;if(M&&k.value.type==="Literal"){const I=i(k),L=k.value.value;let N="input",z={type:"text"};I?(N=I.element,z=I.attributes):y&&y[M]?(N=y[M].element,z=y[M].attributes):typeof L=="number"?z.type="number":typeof L=="boolean"&&(z.type="checkbox",N="input"),w.push({name:M,value:L,element:N,attributes:z,range:[k.value.start,k.value.end],path:`${f}.${S}.${M}`})}}),v.push({name:`Item ${S+1}`,value:w,element:"group",attributes:{},range:[b.start,b.end],children:w,path:`${f}.${S}`})}}),t.push({name:f,value:bm(c.init),element:h.element,attributes:h.attributes,range:[c.init.start,c.init.end],fullRange:d,children:v,isCollection:!0,path:f,templateSchema:y})}}}});for(const c in u)c!=="loc"&&c!=="range"&&typeof u[c]=="object"&&(Array.isArray(u[c])?u[c].forEach(h=>l(h)):l(u[c]))}};l(n)}catch{}return t},M7={"Line Chart":{title:{text:"Line Chart"},tooltip:{trigger:"axis"},xAxis:{type:"category",data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]},yAxis:{type:"value"},series:[{data:[150,230,224,218,135,147,260],type:"line"}]},"Column Chart":{title:{text:"Column Chart"},tooltip:{trigger:"axis"},xAxis:{type:"category",data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]},yAxis:{type:"value"},series:[{data:[120,200,150,80,70,110,130],type:"bar"}]},"Bar Chart":{title:{text:"Bar Chart"},tooltip:{trigger:"axis"},xAxis:{type:"value"},yAxis:{type:"category",data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]},series:[{data:[120,200,150,80,70,110,130],type:"bar"}]},"Pie Chart":{title:{text:"Pie Chart",left:"center"},tooltip:{trigger:"item"},series:[{name:"Access From",type:"pie",radius:"50%",data:[{value:1048,name:"Search Engine"},{value:735,name:"Direct"},{value:580,name:"Email"},{value:484,name:"Union Ads"},{value:300,name:"Video Ads"}],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}},L7=(e,t="")=>{if(!e||!e.trim())return{};try{let r=t.trim(),n=e.trim();!n.startsWith("return")&&!n.startsWith("const")&&!n.startsWith("let")&&!n.startsWith("var")&&(n=`return (${n})`);const i=`${r}
${n}`;return new Function(i)()||{}}catch(r){throw r}},jx=`// @bind:input(type='text')
const title = 'Chart Title';

// @bind:chart-data(displayTitle='Chart Data')
const chartData = {
  xAxis: {
    type: 'category',
    data: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun']
  },
  series: [
    {
      type: 'line',
      unit: '',
      name: 'Series 1',
      data: [150, 230, 224, 218, 135, 147, 260]
    }
  ]
};`,n9e=({content:e,properties:t={},oldContent:r,isEditing:n,isPreview:i,isDiffMode:a,onUpdate:s,onUpdateProperties:o,onSave:l,onCancel:u,onEditStart:c})=>{const[h,f]=Q.useState(e),[d,v]=Q.useState((t==null?void 0:t.script)||jx),[m,y]=Q.useState(!1),[b,S]=Q.useState(!1),[w,k]=Q.useState({}),[M,I]=Q.useState(null),[L,N]=Q.useState([]),[z,B]=Q.useState(50),[H,G]=Q.useState(35),[$,W]=Q.useState(null),X=Q.useRef(null),ee=Bt.useRef(null),le=Bt.useRef(null),ie=Bt.useRef(!1);Q.useEffect(()=>{if(n){f(e),v((t==null?void 0:t.script)||jx);const ce=Qi((t==null?void 0:t.script)||jx);N(ce)}},[n,e,t]),Q.useEffect(()=>()=>{le.current&&le.current.dispose()},[]),Q.useEffect(()=>{const ce=Ae=>{if($){if($==="horizontal"){const Ge=(window.innerWidth-Ae.clientX)/window.innerWidth*100;Ge>20&&Ge<70&&G(Ge)}else if($==="vertical"&&X.current){const Le=X.current.getBoundingClientRect(),Ge=Ae.clientY-Le.top,nt=Le.height-24,lt=Ge/nt*100;lt>10&&lt<90&&B(lt)}}},ve=()=>{W(null),document.documentElement.style.cursor=""};return $&&(window.addEventListener("mousemove",ce,{passive:!0}),window.addEventListener("mouseup",ve),document.documentElement.style.cursor=$==="horizontal"?"col-resize":"row-resize"),()=>{window.removeEventListener("mousemove",ce),window.removeEventListener("mouseup",ve),document.documentElement.style.cursor=""}},[$]),Q.useEffect(()=>{if(n){const ce=setTimeout(()=>{if(ie.current)ie.current=!1;else{const ve=Qi(d);N(ve)}try{const ve=L7(h||"{}",d);k(ve),I(null)}catch(ve){I(ve.message)}},600);return()=>clearTimeout(ce)}},[n,h,d]);const fe=(ce,ve)=>{ee.current=ce,le.current&&le.current.dispose(),le.current=ve.languages.registerCompletionItemProvider("javascript",{triggerCharacters:["@",":"],provideCompletionItems:(Ae,Le)=>{if(Ae!==ce.getModel())return{suggestions:[]};if(!Ae.getLineContent(Le.lineNumber).includes("//"))return{suggestions:[]};const nt=Ae.getValueInRange({startLineNumber:1,startColumn:1,endLineNumber:Le.lineNumber,endColumn:Le.column});let lt=0;for(let et=0;et<nt.length;et++)nt[et]==="{"&&lt++,nt[et]==="}"&&lt--;const He=lt>0,Ee=He?"  ":"",Ye=(et,ft)=>He?`${et}: ${ft}`:`const ${et} = ${ft};`;return{suggestions:[{label:"@bind:input-text",kind:ve.languages.CompletionItemKind.Snippet,insertText:`@bind:input(type='text', displayTitle='Label')
${Ee}${Ye("variable","'value'")}`,detail:"Text Input",documentation:"Creates a text input field. Place above the variable/property."},{label:"@bind:input-number",kind:ve.languages.CompletionItemKind.Snippet,insertText:`@bind:input(type='number', displayTitle='Label')
${Ee}${Ye("variable","0")}`,detail:"Number Input",documentation:"Creates a numeric input field."},{label:"@bind:checkbox",kind:ve.languages.CompletionItemKind.Snippet,insertText:`@bind:input(type='checkbox', displayTitle='Label')
${Ee}${Ye("variable","true")}`,detail:"Checkbox",documentation:"Creates a toggle switch."},{label:"@bind:range",kind:ve.languages.CompletionItemKind.Snippet,insertText:`@bind:input(type='range', min='0', max='100', step='1', displayTitle='Label')
${Ee}${Ye("variable","50")}`,detail:"Range Slider",documentation:"Creates a range slider."},{label:"@bind:color",kind:ve.languages.CompletionItemKind.Snippet,insertText:`@bind:input(type='color', displayTitle='Label')
${Ee}${Ye("variable","'#ff0000'")}`,detail:"Color Picker",documentation:"Creates a color picker."},{label:"@bind:select",kind:ve.languages.CompletionItemKind.Snippet,insertText:`@bind:select(options='Label 1:val1,Label 2:val2', displayTitle='Label')
${Ee}${Ye("variable","'val1'")}`,detail:"Dropdown Select",documentation:"Creates a dropdown menu."},{label:"@bind:date",kind:ve.languages.CompletionItemKind.Snippet,insertText:`@bind:input(type='date', displayTitle='Label')
${Ee}${Ye("variable","'2024-01-01'")}`,detail:"Date Picker",documentation:"Creates a date picker."},{label:"@bind:textarea",kind:ve.languages.CompletionItemKind.Snippet,insertText:`@bind:textarea(rows='3', displayTitle='Label')
${Ee}${Ye("variable","''")}`,detail:"Text Area",documentation:"Creates a multi-line text area."},{label:"@bind:radio",kind:ve.languages.CompletionItemKind.Snippet,insertText:`@bind:input(type='radio', options='Label 1:val1,Label 2:val2', displayTitle='Label')
${Ee}${Ye("variable","'val1'")}`,detail:"Radio Group",documentation:"Creates a group of radio buttons."},{label:"@bind:collection",kind:ve.languages.CompletionItemKind.Snippet,insertText:`@bind:collection(displayTitle='Items', itemType='marker')
${Ee}${Ye("items","[{ lat: 0, lng: 0 }]")}`,detail:"Collection",documentation:"Creates a dynamic list of objects."},{label:"@bind:table",kind:ve.languages.CompletionItemKind.Snippet,insertText:`@bind:table(displayTitle='Data')
${Ee}${Ye("data",`[
${Ee}  { label: 'A', value: 10 },
${Ee}  { label: 'B', value: 20 }
${Ee}]`)}`,detail:"Table",documentation:'Creates an editable table. Attributes: readonly="c1,c2", noRowOperations="true".'},{label:"@bind:chart-data",kind:ve.languages.CompletionItemKind.Snippet,insertText:`@bind:chart-data(displayTitle='Data')
${Ee}${Ye("data",`[
${Ee}  ['Mon', 10],
${Ee}  ['Tue', 20]
${Ee}]`)}`,detail:"Chart Data",documentation:"Binds an array of objects to the editable table in the central panel."},{label:"@template",kind:ve.languages.CompletionItemKind.Snippet,insertText:`@template:name
const templateName = {
  // @bind:input(type='text', displayTitle='Label')
  key: 'value'
};`,detail:"Template Definition",documentation:"Defines a reusable schema for collection items using an annotated object."}]}}})},re=ce=>{const ve=`(${JSON.stringify(M7[ce],null,2)})`;f(ve),y(!1)},me=()=>{const ce={...t,script:d};l?l({content:h,properties:ce}):(o&&o(ce),s(h))},J=ce=>ce?ce.split(",").map(ve=>{const[Ae,Le]=ve.split(":").map(Ge=>Ge.trim());return{label:Ae,value:Le!==void 0?Le:Ae}}):[],te=(ce,ve)=>{if(!ee.current)return;let Ae=ve;typeof ce.value=="number"?(Ae=Number(ve),isNaN(Ae)&&(Ae=ce.value)):typeof ce.value=="boolean"?Ae=!!ve:Ae=String(ve);let Le;typeof Ae=="string"?Le=JSON.stringify(Ae):Le=String(Ae);const Ge=ee.current.getModel();if(!Ge)return;const nt=Ge.getPositionAt(ce.range[0]),lt=Ge.getPositionAt(ce.range[1]),He={startLineNumber:nt.lineNumber,startColumn:nt.column,endLineNumber:lt.lineNumber,endColumn:lt.column};ie.current=!0,ee.current.executeEdits("form-update",[{range:He,text:Le,forceMoveMarkers:!0}]);const Ee=Ge.getValue(),Ye=Qi(Ee);N(Ye)},ue=(ce,ve)=>{if(!ee.current)return;const Ae=ee.current.getModel();if(!Ae)return;let Le;ce.element==="chart-data"?ve&&ve.xAxis&&Array.isArray(ve.xAxis.data)?Le=JSON.stringify(ve,null,2):Array.isArray(ve)&&Array.isArray(ve[0])?Le=`[
  ${ve.map(Ye=>JSON.stringify(Ye)).join(`,
  `)}
]`:Le=JSON.stringify(ve,null,2):Le=JSON.stringify(ve,null,2);const Ge=Ae.getPositionAt(ce.range[0]),nt=Ae.getPositionAt(ce.range[1]);ie.current=!0,ee.current.executeEdits("table-update",[{range:{startLineNumber:Ge.lineNumber,startColumn:Ge.column,endLineNumber:nt.lineNumber,endColumn:nt.column},text:Le,forceMoveMarkers:!0}]);const lt=Ae.getValue(),He=Qi(lt);N(He)},pe=ce=>{var Ye;if(!ee.current||!ce.isCollection)return;const ve=ee.current.getModel();if(!ve)return;let Ae="{}";if(ce.templateSchema)Ae=`{
${Object.entries(ce.templateSchema).map(([et,ft])=>{let Ce="''";return ft.attributes.type==="number"&&(Ce="0"),ft.attributes.type==="checkbox"&&(Ce="false"),`  ${et}: ${Ce}`}).join(`,
`)}
}`;else if(ce.children&&ce.children.length>0){const ut=ce.children[0];ut.children&&(Ae=`{
${ut.children.map(ft=>{let Ce="''";ft.attributes.type==="number"&&(Ce="0"),ft.attributes.type==="checkbox"&&(Ce="false");let ke="";return ft.element==="input"?ke=`// @bind:input(${Object.entries(ft.attributes).map(([qe,dt])=>`${qe}='${dt}'`).join(", ")})`:ft.element==="select"?ke=`// @bind:select(${Object.entries(ft.attributes).map(([qe,dt])=>`${qe}='${dt}'`).join(", ")})`:ft.element==="textarea"&&(ke=`// @bind:textarea(${Object.entries(ft.attributes).map(([qe,dt])=>`${qe}='${dt}'`).join(", ")})`),`  ${ke}
  ${ft.name}: ${Ce}`}).join(`,
`)}
}`)}else Ae=`{
  // @bind:input(type='text')
  label: 'New Item',
  // @bind:input(type='number')
  value: 0
}`;const Le=ve.getPositionAt(ce.range[1]-1),Ge=((Ye=ce.children)==null?void 0:Ye.length)===0,nt=Ae.split(`
`).map((ut,et)=>et===0?ut:"  "+ut).join(`
`),lt=Ge?nt:`,
  ${nt}`;ie.current=!0,ee.current.executeEdits("collection-add",[{range:{startLineNumber:Le.lineNumber,startColumn:Le.column,endLineNumber:Le.lineNumber,endColumn:Le.column},text:lt,forceMoveMarkers:!0}]);const He=ve.getValue(),Ee=Qi(He);N(Ee)},Se=(ce,ve,Ae)=>{if(!ee.current)return;const Le=ee.current.getModel();if(!Le)return;let Ge=ce.range[0],nt=ce.range[1];if(Le.getValueInRange({startLineNumber:Le.getPositionAt(nt).lineNumber,startColumn:Le.getPositionAt(nt).column,endLineNumber:Le.getPositionAt(nt).lineNumber,endColumn:Le.getPositionAt(nt+1).column})===",")nt+=1;else if(ve>0){const et={startLineNumber:Le.getPositionAt(Ge-1).lineNumber,startColumn:Le.getPositionAt(Ge-1).column,endLineNumber:Le.getPositionAt(Ge).lineNumber,endColumn:Le.getPositionAt(Ge).column};Le.getValueInRange(et)===","&&(Ge-=1)}const He=Le.getPositionAt(Ge),Ee=Le.getPositionAt(nt);ie.current=!0,ee.current.executeEdits("collection-delete",[{range:{startLineNumber:He.lineNumber,startColumn:He.column,endLineNumber:Ee.lineNumber,endColumn:Ee.column},text:"",forceMoveMarkers:!0}]);const Ye=Le.getValue(),ut=Qi(Ye);N(ut)},je=ce=>ce.element==="select"?E.jsx(Tt.Select,{size:"sm",value:String(ce.value),onChange:ve=>te(ce,ve.target.value),...ce.attributes,children:ce.attributes.options?J(ce.attributes.options).map(ve=>E.jsx("option",{value:ve.value,children:ve.label},ve.value)):E.jsx("option",{value:String(ce.value),children:String(ce.value)})}):ce.attributes.type==="checkbox"?E.jsx(Tt.Check,{type:"switch",checked:!!ce.value,onChange:ve=>te(ce,ve.target.checked),...ce.attributes}):ce.attributes.type==="radio"?E.jsx("div",{children:ce.attributes.options?J(ce.attributes.options).map(ve=>E.jsx(Tt.Check,{type:"radio",id:`${ce.path}-${ve.value}`,label:ve.label,name:ce.path,value:ve.value,checked:String(ce.value)===String(ve.value),onChange:Ae=>te(ce,Ae.target.value),inline:!0},ve.value)):E.jsx("div",{className:"text-danger small",children:"Radio requires options"})}):ce.attributes.type==="range"?E.jsxs("div",{className:"d-flex align-items-center gap-2",children:[E.jsx(Tt.Range,{value:Number(ce.value),onChange:ve=>te(ce,ve.target.value),...ce.attributes}),E.jsx("span",{className:"small text-muted",children:ce.value})]}):ce.element==="textarea"?E.jsx(Tt.Control,{as:"textarea",size:"sm",rows:3,value:String(ce.value),onChange:ve=>te(ce,ve.target.value),...ce.attributes}):E.jsx(Tt.Control,{size:"sm",value:String(ce.value),onChange:ve=>te(ce,ce.attributes.type==="number"?Number(ve.target.value):ve.target.value),...ce.attributes,type:ce.attributes.type||"text"}),Pe=()=>L.length===0?E.jsxs("div",{className:"p-3 text-muted small text-center",children:["No bound variables found.",E.jsx("br",{}),"Use ",E.jsx("code",{children:"// @bind:input(type='text')"})," to create inputs."]}):E.jsxs("div",{className:"p-3",children:[E.jsx("h6",{className:"mb-3 border-bottom pb-2",children:"Properties"}),E.jsx(Tt,{children:L.filter(ce=>ce.element!=="chart-data").map((ce,ve)=>{var Ae;return ce.element==="table"?E.jsx(h_,{variable:ce,onUpdate:Le=>ue(ce,Le)},`${ce.name}-${ve}`):ce.isCollection?E.jsxs("div",{className:"mb-4",children:[E.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[E.jsx(Tt.Label,{className:"small fw-bold text-muted mb-0",children:ce.attributes.displayTitle||ce.name}),E.jsxs(We,{size:"sm",variant:"outline-success",onClick:()=>pe(ce),style:{padding:"0px 4px",fontSize:"10px"},children:[E.jsx(sl,{size:12})," Add"]})]}),E.jsx("div",{className:"border rounded bg-white overflow-hidden",children:E.jsx($h,{size:"sm",hover:!0,className:"mb-0 small",style:{tableLayout:"fixed"},children:E.jsxs("tbody",{children:[(Ae=ce.children)==null?void 0:Ae.map((Le,Ge)=>{var nt;return E.jsxs("tr",{children:[E.jsx("td",{className:"p-2",children:(nt=Le.children)==null?void 0:nt.map((lt,He)=>E.jsx(Tt.Group,{className:"mb-1",children:E.jsxs("div",{className:"d-flex align-items-center gap-2",children:[E.jsxs("label",{className:"text-muted",style:{width:"60px",fontSize:"0.75rem"},children:[lt.attributes.displayTitle||lt.name,":"]}),E.jsx("div",{className:"flex-grow-1",children:je(lt)})]})},He))}),E.jsx("td",{style:{width:"30px",verticalAlign:"middle"},className:"text-center p-0",children:E.jsx(We,{variant:"link",className:"text-danger p-0",onClick:()=>Se(Le,Ge),children:E.jsx(Ri,{size:14})})})]},Ge)}),(!ce.children||ce.children.length===0)&&E.jsx("tr",{children:E.jsx("td",{colSpan:2,className:"text-center text-muted p-2",children:"Empty collection"})})]})})})]},`${ce.name}-${ve}`):E.jsxs(Tt.Group,{className:"mb-3",children:[E.jsx(Tt.Label,{className:"small fw-bold text-muted mb-1",children:ce.attributes.displayTitle||ce.name}),je(ce)]},`${ce.name}-${ve}`)})})]}),Te=ce=>{ue(ce,[])},Ve=(ce,ve)=>{var nt;const Ae=ce.value;let Le=[];if(Ae.xAxis&&Array.isArray(Ae.xAxis.data)){const lt=[((nt=Ae.xAxis)==null?void 0:nt.name)||""];(Ae.series||[]).forEach(Ee=>lt.push(Ee.name||"")),Le.push(lt);const He=Ae.xAxis.data.length;for(let Ee=0;Ee<He;Ee++){const Ye=[Ae.xAxis.data[Ee]];(Ae.series||[]).forEach(ut=>{var et;return Ye.push(((et=ut.data)==null?void 0:et[Ee])??"")}),Le.push(Ye)}}else Array.isArray(Ae)&&(Le=Ae);if(Le.length>0&&Array.isArray(Le[0])){const lt=Le[0].map((He,Ee)=>Le.map(Ye=>Ye[Ee]));ve(lt)}},ze=()=>{var nt,lt;const ce=L.filter(He=>He.element==="chart-data");if(ce.length>0){const He=ce[0],Ee=He.value||{};let Ye=[];const ut=Ee.xAxis&&Array.isArray(Ee.xAxis.data);if(ut){if((Ee.series||[]).some(kt=>kt.name)||((nt=Ee.xAxis)==null?void 0:nt.name)){const kt=[((lt=Ee.xAxis)==null?void 0:lt.name)||""];(Ee.series||[]).forEach(mt=>kt.push(mt.name||"")),Ye.push(kt)}const dt=Ee.xAxis.data.length;for(let kt=0;kt<dt;kt++){const mt=[Ee.xAxis.data[kt]];(Ee.series||[]).forEach(cr=>{var br;return mt.push(((br=cr==null?void 0:cr.data)==null?void 0:br[kt])??"")}),Ye.push(mt)}}else Ye=Array.isArray(Ee)?Ee:[];const et=qe=>{var dt;if(ut){if(qe.length===0){ue(He,{...Ee,xAxis:{...Ee.xAxis,data:[]},series:[]});return}const kt=qe.length>0&&qe[0].some((Dr,kn)=>kn>0&&typeof Dr=="string"&&Dr.trim()!==""&&isNaN(Number(Dr))),mt=kt?qe.slice(1):qe,cr=kt?qe[0]:null,br=mt.map(Dr=>Dr[0]),Ht=((dt=qe[0])==null?void 0:dt.length)||0,pn=Math.max(0,Ht-1),jr=[];for(let Dr=0;Dr<pn;Dr++){const kn=(Ee.series||[])[Dr]||{};jr.push({type:kn.type||"line",unit:kn.unit||"",yAxis:kn.yAxis||0,name:kt?String(cr[Dr+1]):kn.name||`Series ${Dr+1}`,data:mt.map(vc=>vc[Dr+1]??null)})}const Pr={...Ee.xAxis,data:br};kt&&(Pr.name=String(cr[0]||"")),ue(He,{...Ee,xAxis:Pr,series:jr})}else ue(He,qe)},ft=qe=>{const dt=Ye.map(kt=>{if(Array.isArray(kt)){const mt=[...kt];return mt.splice(qe,1),mt}return kt});et(dt)},Ce=()=>{const qe=Ye.length>0?Ye.map(dt=>[...Array.isArray(dt)?dt:[],""]):[["",""]];et(qe)},ke=qe=>{var dt,kt;if(!ut)return null;if(qe===0)return E.jsxs("div",{className:"d-flex flex-column gap-1",children:[E.jsx("div",{style:{height:"18px"}}),E.jsx(Tt.Control,{list:"ec-xaxis-types",size:"sm",style:{fontSize:"0.7rem",padding:"0 4px",height:"24px"},value:((dt=Ee.xAxis)==null?void 0:dt.type)||"",onChange:mt=>ue(He,{...Ee,xAxis:{...Ee.xAxis||{},type:mt.target.value}})}),E.jsxs("datalist",{id:"ec-xaxis-types",children:[E.jsx("option",{value:"category"}),E.jsx("option",{value:"value"}),E.jsx("option",{value:"time"})]})]});{const mt=qe-1,cr=((kt=Ee.series)==null?void 0:kt[mt])||{};return E.jsxs("div",{className:"d-flex flex-column gap-1",children:[E.jsxs("div",{className:"d-flex justify-content-between align-items-center",style:{height:"18px"},children:[E.jsxs(Tt.Select,{size:"sm",style:{fontSize:"0.65rem",padding:"0 2px",width:"auto",border:"none",background:"transparent"},value:cr.yAxis||0,onChange:br=>{const Ht=[...Ee.series||[]];Ht[mt]||(Ht[mt]={}),Ht[mt]={...Ht[mt],yAxis:Number(br.target.value)},ue(He,{...Ee,series:Ht})},children:[E.jsx("option",{value:0,children:"L Axis"}),E.jsx("option",{value:1,children:"R Axis"})]}),E.jsx(We,{variant:"link",className:"text-danger p-0 shadow-none",onClick:()=>ft(qe),style:{opacity:.5},children:E.jsx(Ri,{size:12})})]}),E.jsx(Tt.Control,{list:`ec-series-types-${mt}`,size:"sm",style:{fontSize:"0.7rem",padding:"0 4px",height:"24px"},value:cr.type||"",onChange:br=>{const Ht=[...Ee.series||[]];Ht[mt]||(Ht[mt]={}),Ht[mt]={...Ht[mt],type:br.target.value},ue(He,{...Ee,series:Ht})}}),E.jsxs("datalist",{id:`ec-series-types-${mt}`,children:[E.jsx("option",{value:"line"}),E.jsx("option",{value:"bar"}),E.jsx("option",{value:"scatter"}),E.jsx("option",{value:"pie"})]}),E.jsx(Tt.Control,{size:"sm",placeholder:"Unit",style:{fontSize:"0.7rem",padding:"0 4px",height:"24px"},value:cr.unit||"",onChange:br=>{const Ht=[...Ee.series||[]];Ht[mt]||(Ht[mt]={}),Ht[mt]={...Ht[mt],unit:br.target.value},ue(He,{...Ee,series:Ht})}})]})}},ht={...He,value:Ye};return E.jsx("div",{className:"p-3 bg-light h-100 overflow-auto border-top",children:E.jsx(h_,{variable:ht,onUpdate:et,onTranspose:()=>Ve(He,et),onRemove:()=>Te(He),onColumnDelete:ut?ft:void 0,onColumnAdd:ut?Ce:void 0,renderHeaderCell:ke})})}const ve=He=>{const Ee=et=>{const ft=[];let Ce="",ke=!1;for(let ht=0;ht<et.length;ht++){const qe=et[ht],dt=et[ht+1];qe==='"'?ke&&dt==='"'?(Ce+='"',ht++):ke=!ke:(qe===","||qe==="	")&&!ke?(ft.push(Ce.trim()),Ce=""):Ce+=qe}return ft.push(Ce.trim()),ft},ut=He.split(/\r?\n/).filter(et=>et.trim()!=="").map(et=>Ee(et).map(ft=>!isNaN(Number(ft))&&ft!==""?Number(ft):ft));if(ut.length>0&&ee.current){const et=ee.current.getModel(),ft=et.getLineCount(),ht=`
// @bind:chart-data(displayTitle='Data')
const chartData = ${`[
  ${ut.map(kt=>JSON.stringify(kt)).join(`,
  `)}
]`};
`;ee.current.executeEdits("create-data",[{range:{startLineNumber:ft+1,startColumn:1,endLineNumber:ft+1,endColumn:1},text:ht,forceMoveMarkers:!0}]);const qe=et.getValue(),dt=Qi(qe);N(dt)}},Ae=He=>{const Ee=He.clipboardData.getData("text");Ee&&ve(Ee)},Le=He=>{He.preventDefault();const Ee=He.dataTransfer.files[0];if(Ee){const Ye=new FileReader;Ye.onload=ut=>{var et;(et=ut.target)!=null&&et.result&&ve(ut.target.result)},Ye.readAsText(Ee)}},Ge=He=>{var Ye;const Ee=(Ye=He.target.files)==null?void 0:Ye[0];if(Ee){const ut=new FileReader;ut.onload=et=>{var ft;(ft=et.target)!=null&&ft.result&&ve(et.target.result)},ut.readAsText(Ee)}};return E.jsx("div",{className:"d-flex flex-column align-items-center justify-content-center h-100 bg-light text-muted p-4",onPaste:Ae,onDrop:Le,onDragOver:He=>He.preventDefault(),tabIndex:0,style:{outline:"none"},children:E.jsxs("div",{className:"mb-3 text-center",children:[E.jsx("p",{className:"mb-2 fw-bold",children:"No Data Source"}),E.jsx("p",{className:"small mb-3",children:"Paste Excel/CSV data or drop a file here to auto-create a binding."}),E.jsxs(We,{variant:"outline-primary",size:"sm",onClick:()=>{var He;return(He=document.getElementById("create-data-upload"))==null?void 0:He.click()},children:[E.jsx(HL,{size:14,className:"me-1"})," Upload CSV"]}),E.jsx("input",{id:"create-data-upload",type:"file",accept:".csv,.tsv,text/plain",style:{display:"none"},onChange:Ge})]})})};if(n)return E.jsxs(bt,{show:!0,fullscreen:!0,onHide:u,animation:!1,children:[E.jsxs(bt.Header,{children:[E.jsxs(bt.Title,{className:"d-flex align-items-center gap-2",children:[E.jsx(Bu,{size:20}),E.jsx("span",{children:"Chart Editor"})]}),E.jsxs("div",{className:"d-flex gap-2 ms-4",children:[E.jsx(We,{variant:"outline-secondary",onClick:u,children:"Cancel"}),E.jsx(We,{variant:"primary",onClick:me,children:"Save & Close"})]}),E.jsxs(We,{variant:"outline-primary",className:"ms-auto",onClick:()=>y(!0),children:[E.jsx(ZW,{size:16,className:"me-1"})," Templates"]})]}),E.jsxs(bt.Body,{className:"p-2 d-flex gap-2 position-relative bg-light",style:{height:"calc(100vh - 60px)",userSelect:$?"none":"auto"},children:[E.jsx("div",{className:"bg-white border rounded shadow-sm overflow-auto",style:{width:"25%",minWidth:"200px"},children:Pe()}),E.jsxs("div",{className:"d-flex flex-column bg-white border rounded shadow-sm",style:{width:`calc(75% - ${H}% - 16px)`,minWidth:0,overflow:"hidden",flexShrink:0},children:[E.jsxs("div",{className:"flex-grow-1 p-3 position-relative border-bottom",style:{height:"50%",minHeight:"300px"},children:[E.jsx("div",{className:"position-absolute top-0 start-0 m-2 text-muted small user-select-none opacity-50",children:"Preview"}),M&&E.jsxs("div",{className:"position-absolute top-0 end-0 m-2 alert alert-danger py-1 px-2 small shadow-sm",style:{zIndex:10},children:["Syntax Error: ",M]}),E.jsx("div",{className:"h-100 d-flex align-items-center justify-content-center",children:(()=>{try{return E.jsx(C7,{option:w,style:{width:"100%",height:"100%"},notMerge:!0})}catch{return E.jsx("div",{className:"text-danger",children:"Runtime Error in Chart"})}})()})]}),E.jsx("div",{className:"flex-grow-1 overflow-auto",style:{height:"50%"},children:ze()})]}),E.jsx("div",{onMouseDown:ce=>{ce.preventDefault(),W("horizontal")},className:"d-flex align-items-center justify-content-center",style:{width:"4px",margin:"0 -2px",cursor:"col-resize",zIndex:10,userSelect:"none"},children:E.jsx("div",{style:{width:"2px",height:"40px",borderRadius:"1px",background:$==="horizontal"?"#0d6efd":"#dee2e6",transition:"background-color 0.2s"}})}),E.jsxs("div",{ref:X,className:"d-flex flex-column bg-dark border border-secondary rounded shadow-sm overflow-hidden",style:{width:`${H}%`,minWidth:"200px"},children:[E.jsxs("div",{style:{height:`calc(${z}% - 12px)`},className:"d-flex flex-column",children:[E.jsxs("div",{className:"bg-secondary text-white px-2 py-1 small d-flex justify-content-between align-items-center",children:[E.jsx("span",{children:"Variables"}),E.jsx(We,{variant:"link",className:"text-white p-0",size:"sm",onClick:()=>S(!0),title:"Syntax Help",children:E.jsx(XW,{size:14})})]}),E.jsx(op,{height:"calc(100% - 25px)",defaultLanguage:"javascript",theme:"vs-dark",value:d,onChange:ce=>v(ce||""),onMount:fe,options:{minimap:{enabled:!1},fontSize:12,lineNumbers:"off",scrollBeyondLastLine:!1,automaticLayout:!0,readOnly:!1,padding:{top:5,bottom:5}}})]}),E.jsx("div",{onMouseDown:ce=>{ce.preventDefault(),W("vertical")},className:"d-flex align-items-center justify-content-center bg-dark border-top border-bottom border-secondary",style:{cursor:"row-resize",height:"24px",zIndex:10,userSelect:"none"},children:E.jsx("div",{style:{width:"40px",height:"4px",borderRadius:"2px",background:$==="vertical"?"#0d6efd":"#495057",transition:"background-color 0.2s"}})}),E.jsxs("div",{style:{height:`calc(${100-z}% - 12px)`},className:"d-flex flex-column",children:[E.jsx("div",{className:"bg-secondary text-white px-2 py-1 small",children:E.jsx("span",{children:"Chart Config"})}),E.jsx(op,{height:"calc(100% - 25px)",defaultLanguage:"javascript",theme:"vs-dark",value:String(h||""),onChange:ce=>f(ce),options:{minimap:{enabled:!1},fontSize:13,lineNumbers:"on",scrollBeyondLastLine:!1,automaticLayout:!0,tabSize:2,padding:{top:10,bottom:10}}})]})]}),!!$&&E.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:1e4,cursor:$==="horizontal"?"col-resize":"row-resize",background:"transparent"}})]}),E.jsxs(bt,{show:m,onHide:()=>y(!1),size:"lg",centered:!0,children:[E.jsx(bt.Header,{closeButton:!0,children:E.jsx(bt.Title,{children:"Chart Gallery"})}),E.jsx(bt.Body,{children:E.jsx("div",{className:"d-flex flex-wrap gap-3 justify-content-center",children:Object.keys(M7).map(ce=>E.jsx(Vr,{className:"border hover-shadow",style:{width:"200px",cursor:"pointer"},onClick:()=>re(ce),children:E.jsxs(Vr.Body,{className:"text-center",children:[E.jsx(Bu,{size:32,className:"text-primary mb-2"}),E.jsx("div",{className:"fw-bold",children:ce})]})},ce))})})]}),E.jsxs(bt,{show:b,onHide:()=>S(!1),size:"lg",centered:!0,children:[E.jsx(bt.Header,{closeButton:!0,children:E.jsx(bt.Title,{children:"Variable Binding Help"})}),E.jsxs(bt.Body,{children:[E.jsxs("p",{className:"small text-muted",children:["Bind JavaScript variables to form controls using ",E.jsx("strong",{children:"trailing comments"})," or ",E.jsx("strong",{children:"comments on the line above"}),". The value in the code will automatically update when the form control changes, and vice-versa."]}),E.jsxs("div",{className:"alert alert-info py-2 small",children:[E.jsx("strong",{children:"Note:"})," Use ",E.jsx("code",{children:"displayTitle='Label'"})," in any binding to show a custom label in the form."]}),E.jsxs($h,{bordered:!0,hover:!0,size:"sm",className:"small",children:[E.jsx("thead",{className:"table-light",children:E.jsxs("tr",{children:[E.jsx("th",{children:"Control Type"}),E.jsx("th",{children:"Syntax Example"}),E.jsx("th",{children:"Description"})]})}),E.jsxs("tbody",{children:[E.jsxs("tr",{children:[E.jsx("td",{children:"Text Input"}),E.jsx("td",{children:E.jsxs("code",{children:["// @bind:input(type='text')",E.jsx("br",{}),"const name = 'John'"]})}),E.jsx("td",{children:"Standard text input field."})]}),E.jsxs("tr",{children:[E.jsx("td",{children:"Number Input"}),E.jsx("td",{children:E.jsxs("code",{children:["// @bind:input(type='number')",E.jsx("br",{}),"const age = 25"]})}),E.jsx("td",{children:"Input for numeric values."})]}),E.jsxs("tr",{children:[E.jsx("td",{children:"Checkbox"}),E.jsx("td",{children:E.jsxs("code",{children:["// @bind:input(type='checkbox')",E.jsx("br",{}),"const show = true"]})}),E.jsx("td",{children:"Toggle switch for boolean values."})]}),E.jsxs("tr",{children:[E.jsx("td",{children:"Range Slider"}),E.jsx("td",{children:E.jsxs("code",{children:["// @bind:input(type='range', min='0', max='100')",E.jsx("br",{}),"const opacity = 50"]})}),E.jsx("td",{children:"Slider for selecting a value within a range."})]}),E.jsxs("tr",{children:[E.jsx("td",{children:"Color Picker"}),E.jsx("td",{children:E.jsxs("code",{children:["// @bind:input(type='color')",E.jsx("br",{}),"const color = '#ff0000'"]})}),E.jsx("td",{children:"Color selection input."})]}),E.jsxs("tr",{children:[E.jsx("td",{children:"Dropdown"}),E.jsx("td",{children:E.jsxs("code",{children:["// @bind:select(options='S:small,M:medium,L:large')",E.jsx("br",{}),"const size = 'M'"]})}),E.jsxs("td",{children:["Select dropdown. Options format: ",E.jsx("code",{children:"Label:Value"})," or just ",E.jsx("code",{children:"Value"}),"."]})]}),E.jsxs("tr",{children:[E.jsx("td",{children:"Text Area"}),E.jsx("td",{children:E.jsxs("code",{children:["// @bind:textarea(rows='3')",E.jsx("br",{}),"const desc = '...'"]})}),E.jsx("td",{children:"Multi-line text input."})]}),E.jsxs("tr",{children:[E.jsx("td",{children:"Radio Group"}),E.jsx("td",{children:E.jsxs("code",{children:["// @bind:input(type='radio', options='Male:m,Female:f')",E.jsx("br",{}),"const gender = 'm'"]})}),E.jsx("td",{children:"Radio button group."})]}),E.jsxs("tr",{children:[E.jsx("td",{children:"Table"}),E.jsx("td",{children:E.jsxs("code",{children:["// @bind:table(displayTitle='Data')",E.jsx("br",{}),"const rows = [","{"," label: 'A', value: 1 ","}","]"]})}),E.jsxs("td",{children:["Excel-like editable table. Support: ",E.jsx("code",{children:"readonly='c1'"}),", ",E.jsx("code",{children:"noRowOperations='true'"}),"."]})]}),E.jsxs("tr",{children:[E.jsx("td",{children:"Chart Data"}),E.jsx("td",{children:E.jsxs("code",{children:["// @bind:chart-data(displayTitle='Data')",E.jsx("br",{}),"const data = [...]"]})}),E.jsx("td",{children:"Binds an array of objects to the editable table in the central panel."})]}),E.jsxs("tr",{children:[E.jsx("td",{children:"Collection"}),E.jsx("td",{children:E.jsxs("code",{children:["// @bind:collection(itemType='marker', displayTitle='Markers')",E.jsx("br",{}),"const items = [","{"," lat: 0, lng: 0 ","}","]"]})}),E.jsxs("td",{children:["Dynamic list of objects. Schema can be inferred or defined via ",E.jsx("strong",{children:"@template"}),"."]})]}),E.jsxs("tr",{children:[E.jsx("td",{children:"Template"}),E.jsx("td",{children:E.jsxs("code",{children:["// @template:marker",E.jsx("br",{}),"const markerDef = ","{",E.jsx("br",{}),"// @bind:input(type='number', displayTitle='Lat')",E.jsx("br",{}),"lat: 0,",E.jsx("br",{}),"// @bind:input(type='number', displayTitle='Lng')",E.jsx("br",{}),"lng: 0",E.jsx("br",{}),"}",";"]})}),E.jsx("td",{children:"Defines a reusable schema for collection items using an annotated object."})]})]})]})]})]})]});if(a)return E.jsxs("div",{children:[E.jsx("h6",{children:"Changes since last save"}),r!==void 0?E.jsx(hN,{oldText:String(r),newText:String(e)}):E.jsx("div",{className:"p-3 border rounded border-success bg-light",children:"New Cell"})]});if(!e)return E.jsxs("div",{onDoubleClick:()=>!i&&c&&c(),className:"d-flex flex-column align-items-center justify-content-center border rounded bg-light text-muted mx-auto",style:{height:"400px",maxWidth:"800px"},children:[E.jsx(Bu,{size:48,className:"mb-2 opacity-50"}),E.jsx("span",{className:"small",children:"No Chart Configuration"}),E.jsx("span",{className:"small opacity-75",children:"(Double click to edit)"})]});const $e={title:{text:"ECharts Sample"},xAxis:{data:["A","B","C"]},yAxis:{},series:[{type:"bar",data:[10,20,30]}]};try{const ce=L7(e,(t==null?void 0:t.script)||jx);return E.jsx("div",{onDoubleClick:()=>!i&&c&&c(),className:"p-2 mx-auto",style:{height:"400px",maxWidth:"800px"},children:E.jsx(C7,{option:ce||$e,style:{width:"100%",height:"100%"}})})}catch(ce){return E.jsxs("div",{onDoubleClick:()=>!i&&c&&c(),className:"p-3 border rounded border-danger bg-light",children:[E.jsx("div",{className:"text-danger fw-bold mb-2",children:"Invalid Chart Configuration"}),E.jsx("pre",{className:"small mb-0 text-muted",children:ce.message})]})}};var Lte={exports:{}};(function(e,t){(function(r,n){r._Highcharts=n(),e.exports=r._Highcharts})("u"<typeof window?Ud:window,()=>(()=>{var l1,i6,a6,s6,o6,l6,u6,c6;let r,n,i,a,s,o;var l,u,c,h,f,d,v,m,y,b,S,w,k,M,I,L,N,z,B,H,G,$,W,X,ee,le,ie,fe,re={};re.d=(P,p)=>{for(var g in p)re.o(p,g)&&!re.o(P,g)&&Object.defineProperty(P,g,{enumerable:!0,get:p[g]})},re.o=(P,p)=>Object.prototype.hasOwnProperty.call(P,p);var me={};re.d(me,{default:()=>Vse}),(l=S||(S={})).SVG_NS="http://www.w3.org/2000/svg",l.product="Highcharts",l.version="12.5.0",l.win="u">typeof window?window:{},l.doc=l.win.document,l.svg=!!((a6=(i6=(l1=l.doc)==null?void 0:l1.createElementNS)==null?void 0:i6.call(l1,l.SVG_NS,"svg"))!=null&&a6.createSVGRect),l.pageLang=(l6=(o6=(s6=l.doc)==null?void 0:s6.documentElement)==null?void 0:o6.closest("[lang]"))==null?void 0:l6.lang,l.userAgent=((u6=l.win.navigator)==null?void 0:u6.userAgent)||"",l.isChrome=l.win.chrome,l.isFirefox=l.userAgent.indexOf("Firefox")!==-1,l.isMS=/(edge|msie|trident)/i.test(l.userAgent)&&!l.win.opera,l.isSafari=!l.isChrome&&l.userAgent.indexOf("Safari")!==-1,l.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(l.userAgent),l.isWebKit=l.userAgent.indexOf("AppleWebKit")!==-1,l.deg2rad=2*Math.PI/360,l.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],l.noop=function(){},l.supportsPassiveEvents=function(){let P=!1;if(!l.isMS){let p=Object.defineProperty({},"passive",{get:function(){P=!0}});l.win.addEventListener&&l.win.removeEventListener&&(l.win.addEventListener("testPassive",l.noop,p),l.win.removeEventListener("testPassive",l.noop,p))}return P}(),l.charts=[],l.composed=[],l.dateFormats={},l.seriesTypes={},l.symbolSizes={},l.chartCount=0;let J=S,{charts:te,doc:ue,win:pe}=J;function Se(P,p,g,x){let _=p?"Highcharts error":"Highcharts warning";P===32&&(P=`${_}: Deprecated member`);let T=ce(P),C=T?`${_} #${P}: www.highcharts.com/errors/${P}/`:P.toString();if(x!==void 0){let A="";T&&(C+="?"),ut(x,function(D,R){A+=`
 - ${R}: ${D}`,T&&(C+=encodeURI(R)+"="+encodeURI(D))}),C+=A}ft(J,"displayError",{chart:g,code:P,message:C,params:x},function(){if(p)throw Error(C);pe.console&&Se.messages.indexOf(C)===-1&&console.warn(C)}),Se.messages.push(C)}function je(P,p){return parseInt(P,p||10)}function Pe(P){return typeof P=="string"}function Te(P){let p=Object.prototype.toString.call(P);return p==="[object Array]"||p==="[object Array Iterator]"}function Ve(P,p){return!!P&&typeof P=="object"&&(!p||!Te(P))}function ze(P){return Ve(P)&&typeof P.nodeType=="number"}function $e(P){let p=P==null?void 0:P.constructor;return!!(Ve(P,!0)&&!ze(P)&&(p!=null&&p.name)&&p.name!=="Object")}function ce(P){return typeof P=="number"&&!isNaN(P)&&P<1/0&&P>-1/0}function ve(P){return P!=null}function Ae(P,p,g){let x,_=Pe(p)&&!ve(g),T=(C,A)=>{ve(C)?P.setAttribute(A,C):_?(x=P.getAttribute(A))||A!=="class"||(x=P.getAttribute(A+"Name")):P.removeAttribute(A)};return Pe(p)?T(g,p):ut(p,T),x}function Le(P){return Te(P)?P:[P]}function Ge(P,p){let g;for(g in P||(P={}),p)P[g]=p[g];return P}function nt(){let P=arguments,p=P.length;for(let g=0;g<p;g++){let x=P[g];if(x!=null)return x}}function lt(P,p){Ge(P.style,p)}function He(P){return Math.pow(10,Math.floor(Math.log(P)/Math.LN10))}function Ee(P,p){return P>1e14?P:parseFloat(P.toPrecision(p||14))}(Se||(Se={})).messages=[],Math.easeInOutSine=function(P){return-.5*(Math.cos(Math.PI*P)-1)};let Ye=Array.prototype.find?function(P,p){return P.find(p)}:function(P,p){let g,x=P.length;for(g=0;g<x;g++)if(p(P[g],g))return P[g]};function ut(P,p,g){for(let x in P)Object.hasOwnProperty.call(P,x)&&p.call(g||P[x],P[x],x,P)}function et(P,p,g){function x(C,A){let D=P.removeEventListener;D&&D.call(P,C,A,!1)}function _(C){let A,D;P.nodeName&&(p?(A={})[p]=!0:A=C,ut(A,function(R,j){if(C[j])for(D=C[j].length;D--;)x(j,C[j][D].fn)}))}let T=typeof P=="function"&&P.prototype||P;if(Object.hasOwnProperty.call(T,"hcEvents")){let C=T.hcEvents;if(p){let A=C[p]||[];g?(C[p]=A.filter(function(D){return g!==D.fn}),x(p,g)):(_(C),C[p]=[])}else _(C),delete T.hcEvents}}function ft(P,p,g,x){if(g=g||{},(ue==null?void 0:ue.createEvent)&&(P.dispatchEvent||P.fireEvent&&P!==J)){let _=ue.createEvent("Events");_.initEvent(p,!0,!0),g=Ge(_,g),P.dispatchEvent?P.dispatchEvent(g):P.fireEvent(p,g)}else if(P.hcEvents){g.target||Ge(g,{preventDefault:function(){g.defaultPrevented=!0},target:P,type:p});let _=[],T=P,C=!1;for(;T.hcEvents;)Object.hasOwnProperty.call(T,"hcEvents")&&T.hcEvents[p]&&(_.length&&(C=!0),_.unshift.apply(_,T.hcEvents[p])),T=Object.getPrototypeOf(T);C&&_.sort((A,D)=>A.order-D.order),_.forEach(A=>{A.fn.call(P,g)===!1&&g.preventDefault()})}x&&!g.defaultPrevented&&x.call(P,g)}let Ce=(i=Math.random().toString(36).substring(2,9)+"-",a=0,function(){return"highcharts-"+(r?"":i)+a++});pe.jQuery&&(pe.jQuery.fn.highcharts=function(){let P=[].slice.call(arguments);if(this[0])return P[0]?(new J[Pe(P[0])?P.shift():"Chart"](this[0],P[0],P[1]),this):te[Ae(this[0],"data-highcharts-chart")]});let ke={addEvent:function(P,p,g,x={}){let _=typeof P=="function"&&P.prototype||P;Object.hasOwnProperty.call(_,"hcEvents")||(_.hcEvents={});let T=_.hcEvents;J.Point&&P instanceof J.Point&&P.series&&P.series.chart&&(P.series.chart.runTrackerClick=!0);let C=P.addEventListener;C&&C.call(P,p,g,!!J.supportsPassiveEvents&&{passive:x.passive===void 0?p.indexOf("touch")!==-1:x.passive,capture:!1}),T[p]||(T[p]=[]);let A={fn:g,order:typeof x.order=="number"?x.order:1/0};return T[p].push(A),T[p].sort((D,R)=>D.order-R.order),function(){et(P,p,g)}},arrayMax:function(P){let p=P.length,g=P[0];for(;p--;)P[p]>g&&(g=P[p]);return g},arrayMin:function(P){let p=P.length,g=P[0];for(;p--;)P[p]<g&&(g=P[p]);return g},attr:Ae,clamp:function(P,p,g){return P>p?P<g?P:g:p},clearTimeout:function(P){ve(P)&&clearTimeout(P)},correctFloat:Ee,createElement:function(P,p,g,x,_){let T=ue.createElement(P);return p&&Ge(T,p),_&&lt(T,{padding:"0",border:"none",margin:"0"}),g&&lt(T,g),x&&x.appendChild(T),T},crisp:function(P,p=0,g){let x=p%2/2,_=g?-1:1;return(Math.round(P*_-x)+x)*_},css:lt,defined:ve,destroyObjectProperties:function(P,p,g){ut(P,function(x,_){x!==p&&(x!=null&&x.destroy)&&x.destroy(),(x!=null&&x.destroy||!g)&&delete P[_]})},diffObjects:function(P,p,g,x){let _={};return function T(C,A,D,R){let j=g?A:C;ut(C,function(O,V){if(!R&&x&&x.indexOf(V)>-1&&A[V]){O=Le(O),D[V]=[];for(let U=0;U<Math.max(O.length,A[V].length);U++)A[V][U]&&(O[U]===void 0?D[V][U]=A[V][U]:(D[V][U]={},T(O[U],A[V][U],D[V][U],R+1)))}else Ve(O,!0)&&!O.nodeType?(D[V]=Te(O)?[]:{},T(O,A[V]||{},D[V],R+1),Object.keys(D[V]).length===0&&(V!=="colorAxis"||R!==0)&&delete D[V]):(C[V]!==A[V]||V in C&&!(V in A))&&V!=="__proto__"&&V!=="constructor"&&(D[V]=j[V])})}(P,p,_,0),_},discardElement:function(P){var p;(p=P==null?void 0:P.parentElement)==null||p.removeChild(P)},erase:function(P,p){let g=P.length;for(;g--;)if(P[g]===p){P.splice(g,1);break}},error:Se,extend:Ge,extendClass:function(P,p){let g=function(){};return g.prototype=new P,Ge(g.prototype,p),g},find:Ye,fireEvent:ft,getAlignFactor:(P="")=>({center:.5,right:1,middle:.5,bottom:1})[P]||0,getClosestDistance:function(P,p){let g,x,_,T=!p;return P.forEach(C=>{if(C.length>1)for(_=C.length-1;_>0;_--)(x=C[_]-C[_-1])<0&&!T?(p==null||p(),p=void 0):x&&(g===void 0||x<g)&&(g=x)}),g},getMagnitude:He,getNestedProperty:function(P,p){let g=P.split(".");for(;g.length&&ve(p);){let x=g.shift();if(x===void 0||x==="__proto__")return;if(x==="this"){let T;return Ve(p)&&(T=p["@this"]),T??p}let _=p[x.replace(/[\\'"]/g,"")];if(!ve(_)||typeof _=="function"||typeof _.nodeType=="number"||_===pe)return;p=_}return p},getStyle:function P(p,g,x){var C;let _;if(g==="width"){let A=Math.min(p.offsetWidth,p.scrollWidth),D=(C=p.getBoundingClientRect)==null?void 0:C.call(p).width;return D<A&&D>=A-1&&(A=Math.floor(D)),Math.max(0,A-(P(p,"padding-left",!0)||0)-(P(p,"padding-right",!0)||0))}if(g==="height")return Math.max(0,Math.min(p.offsetHeight,p.scrollHeight)-(P(p,"padding-top",!0)||0)-(P(p,"padding-bottom",!0)||0));let T=pe.getComputedStyle(p,void 0);return T&&(_=T.getPropertyValue(g),nt(x,g!=="opacity")&&(_=je(_))),_},insertItem:function(P,p){let g,x=P.options.index,_=p.length;for(g=P.options.isInternal?_:0;g<_+1;g++)if(!p[g]||ce(x)&&x<nt(p[g].options.index,p[g]._i)||p[g].options.isInternal){p.splice(g,0,P);break}return g},isArray:Te,isClass:$e,isDOMElement:ze,isFunction:function(P){return typeof P=="function"},isNumber:ce,isObject:Ve,isString:Pe,merge:function(P,...p){let g,x=[P,...p],_={},T=function(A,D){return typeof A!="object"&&(A={}),ut(D,function(R,j){j!=="__proto__"&&j!=="constructor"&&(!Ve(R,!0)||$e(R)||ze(R)?A[j]=D[j]:A[j]=T(A[j]||{},R))}),A};P===!0&&(_=x[1],x=Array.prototype.slice.call(x,2));let C=x.length;for(g=0;g<C;g++)_=T(_,x[g]);return _},normalizeTickInterval:function(P,p,g,x,_){let T,C=P;g=nt(g,He(P));let A=P/g;for(!p&&(p=_?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],x===!1&&(g===1?p=p.filter(function(D){return D%1==0}):g<=.1&&(p=[1/g]))),T=0;T<p.length&&(C=p[T],(!_||!(C*g>=P))&&(_||!(A<=(p[T]+(p[T+1]||p[T]))/2)));T++);return Ee(C*g,-Math.round(Math.log(.001)/Math.LN10))},objectEach:ut,offset:function(P){let p=ue.documentElement,g=P.parentElement||P.parentNode?P.getBoundingClientRect():{top:0,left:0,width:0,height:0};return{top:g.top+(pe.pageYOffset||p.scrollTop)-(p.clientTop||0),left:g.left+(pe.pageXOffset||p.scrollLeft)-(p.clientLeft||0),width:g.width,height:g.height}},pad:function(P,p,g){return Array((p||2)+1-String(P).replace("-","").length).join(g||"0")+P},pick:nt,pInt:je,pushUnique:function(P,p){return 0>P.indexOf(p)&&!!P.push(p)},relativeLength:function(P,p,g){return/%$/.test(P)?p*parseFloat(P)/100+(g||0):parseFloat(P)},removeEvent:et,replaceNested:function(P,...p){let g,x;do for(x of(g=P,p))P=P.replace(x[0],x[1]);while(P!==g);return P},splat:Le,stableSort:function(P,p){let g,x,_=P.length;for(x=0;x<_;x++)P[x].safeI=x;for(P.sort(function(T,C){return(g=p(T,C))===0?T.safeI-C.safeI:g}),x=0;x<_;x++)delete P[x].safeI},syncTimeout:function(P,p,g){return p>0?setTimeout(P,p,g):(P.call(0,g),-1)},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},ucfirst:function(P){return Pe(P)?P.substring(0,1).toUpperCase()+P.substring(1):String(P)},uniqueKey:Ce,useSerialIds:function(P){return r=nt(P,r)},wrap:function(P,p,g){let x=P[p];P[p]=function(){let _=arguments,T=this;return g.apply(this,[function(){return x.apply(T,arguments.length?arguments:_)}].concat([].slice.call(arguments)))}}},{pageLang:ht,win:qe}=J,{defined:dt,error:kt,extend:mt,isNumber:cr,isObject:br,isString:Ht,merge:pn,objectEach:jr,pad:Pr,splat:Dr,timeUnits:kn,ucfirst:vc}=ke,Rte=J.isSafari&&qe.Intl&&!qe.Intl.DateTimeFormat.prototype.formatRange,Ote=class{constructor(P,p){this.options={timezone:"UTC"},this.variableTimezone=!1,this.Date=qe.Date,this.update(P),this.lang=p}update(P={}){this.dTLCache={},this.options=P=pn(!0,this.options,P);let{timezoneOffset:p,useUTC:g,locale:x}=P;this.Date=P.Date||qe.Date||Date;let _=P.timezone;dt(g)&&(_=g?"UTC":void 0),p&&p%60==0&&(_="Etc/GMT"+(p>0?"+":"")+p/60),this.variableTimezone=_!=="UTC"&&(_==null?void 0:_.indexOf("Etc/GMT"))!==0,this.timezone=_,this.lang&&x&&(this.lang.locale=x),["months","shortMonths","weekdays","shortWeekdays"].forEach(T=>{let C=/months/i.test(T),A=/short/.test(T),D={timeZone:"UTC"};D[C?"month":"weekday"]=A?"short":"long",this[T]=(C?[0,1,2,3,4,5,6,7,8,9,10,11]:[3,4,5,6,7,8,9]).map(R=>this.dateFormat(D,(C?31:1)*24*36e5*R))})}toParts(P){let[p,g,x,_,T,C,A]=this.dateTimeFormat({weekday:"narrow",day:"numeric",month:"numeric",year:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},P,"es").split(/(?:, | |\/|:)/g);return[_,x-1,g,T,C,A,Math.floor(Number(P)||0)%1e3,"DLMXJVS".indexOf(p)].map(Number)}dateTimeFormat(P,p,g=this.options.locale||ht){let x=JSON.stringify(P)+g;Ht(P)&&(P=this.str2dtf(P));let _=this.dTLCache[x];if(!_){P.timeZone??(P.timeZone=this.timezone);try{_=new Intl.DateTimeFormat(g,P)}catch(T){/Invalid time zone/i.test(T.message)?(kt(34),P.timeZone="UTC",_=new Intl.DateTimeFormat(g,P)):kt(T.message,!1)}}return this.dTLCache[x]=_,(_==null?void 0:_.format(p))||""}str2dtf(P,p={}){let g={L:{fractionalSecondDigits:3},S:{second:"2-digit"},M:{minute:"numeric"},H:{hour:"2-digit"},k:{hour:"numeric"},E:{weekday:"narrow"},a:{weekday:"short"},A:{weekday:"long"},d:{day:"2-digit"},e:{day:"numeric"},b:{month:"short"},B:{month:"long"},m:{month:"2-digit"},o:{month:"numeric"},y:{year:"2-digit"},Y:{year:"numeric"}};return Object.keys(g).forEach(x=>{P.indexOf(x)!==-1&&mt(p,g[x])}),p}makeTime(P,p,g=1,x=0,_,T,C){let A=this.Date.UTC(P,p,g,x,_||0,T||0,C||0);if(this.timezone!=="UTC"){let D=this.getTimezoneOffset(A);if(A+=D,[2,3,8,9,10,11].indexOf(p)!==-1&&(x<5||x>20)){let R=this.getTimezoneOffset(A);D!==R?A+=R-D:D-36e5!==this.getTimezoneOffset(A-36e5)||Rte||(A-=36e5)}}return A}parse(P){if(!Ht(P))return P??void 0;let p=(P=P.replace(/\//g,"-").replace(/(GMT|UTC)/,"")).indexOf("Z")>-1||/([+-][0-9]{2}):?[0-9]{2}$/.test(P),g=/^[0-9]{4}-[0-9]{2}(-[0-9]{2}|)$/.test(P);p||g||(P+="Z");let x=Date.parse(P);if(cr(x))return x+(!p||g?this.getTimezoneOffset(x):0)}getTimezoneOffset(P){if(this.timezone!=="UTC"){let[p,g,x,_,T=0]=this.dateTimeFormat({timeZoneName:"shortOffset"},P,"en").split(/(GMT|:)/).map(Number),C=-(60*(x+T/60)*6e4);if(cr(C))return C}return 0}dateFormat(P,p,g){let x=this.lang;if(!dt(p)||isNaN(p))return(x==null?void 0:x.invalidDate)||"";if(Ht(P=P??"%Y-%m-%d %H:%M:%S")){let _,T=/%\[([a-zA-Z]+)\]/g;for(;_=T.exec(P);)P=P.replace(_[0],this.dateTimeFormat(_[1],p,x==null?void 0:x.locale))}if(Ht(P)&&P.indexOf("%")!==-1){let _=this,[T,C,A,D,R,j,O,V]=this.toParts(p),U=(x==null?void 0:x.weekdays)||this.weekdays,Y=(x==null?void 0:x.shortWeekdays)||this.shortWeekdays,ne=(x==null?void 0:x.months)||this.months,K=(x==null?void 0:x.shortMonths)||this.shortMonths;jr(mt({a:Y?Y[V]:U[V].substr(0,3),A:U[V],d:Pr(A),e:Pr(A,2," "),w:V,v:(x==null?void 0:x.weekFrom)??"",b:K[C],B:ne[C],m:Pr(C+1),o:C+1,y:T.toString().substr(2,2),Y:T,H:Pr(D),k:D,I:Pr(D%12||12),l:D%12||12,M:Pr(R),p:D<12?"AM":"PM",P:D<12?"am":"pm",S:Pr(j),L:Pr(O,3)},J.dateFormats),function(Z,ae){if(Ht(P))for(;P.indexOf("%"+ae)!==-1;)P=P.replace("%"+ae,typeof Z=="function"?Z.call(_,p):Z)})}else if(br(P)){let _=(this.getTimezoneOffset(p)||0)/36e5,T=this.timezone||"Etc/GMT"+(_>=0?"+":"")+_,{prefix:C="",suffix:A=""}=P;P=C+this.dateTimeFormat(mt({timeZone:T},P),p)+A}return g?vc(P):P}resolveDTLFormat(P){return br(P,!0)?br(P,!0)&&P.main===void 0?{main:P}:P:{main:(P=Dr(P))[0],from:P[1],to:P[2]}}getDateFormat(P,p,g,x){let _=this.dateFormat("%m-%d %H:%M:%S.%L",p),T="01-01 00:00:00.000",C={millisecond:15,second:12,minute:9,hour:6,day:3},A="millisecond",D=A;for(A in kn){if(P&&P===kn.week&&+this.dateFormat("%w",p)===g&&_.substr(6)===T.substr(6)){A="week";break}if(P&&kn[A]>P){A=D;break}if(C[A]&&_.substr(C[A])!==T.substr(C[A]))break;A!=="week"&&(D=A)}return this.resolveDTLFormat(x[A]).main}},{defined:UR,extend:Bte,timeUnits:vn}=ke,nT=class extends Ote{getTimeTicks(P,p,g,x){let _=this,T=[],C={},{count:A=1,unitRange:D}=P,[R,j,O,V,U,Y]=_.toParts(p),ne=(p||0)%1e3,K;if(x??(x=1),UR(p)){if(ne=D>=vn.second?0:A*Math.floor(ne/A),D>=vn.second&&(Y=D>=vn.minute?0:A*Math.floor(Y/A)),D>=vn.minute&&(U=D>=vn.hour?0:A*Math.floor(U/A)),D>=vn.hour&&(V=D>=vn.day?0:A*Math.floor(V/A)),D>=vn.day&&(O=D>=vn.month?1:Math.max(1,A*Math.floor(O/A))),D>=vn.month&&(j=D>=vn.year?0:A*Math.floor(j/A)),D>=vn.year&&(R-=R%A),D===vn.week){A&&(p=_.makeTime(R,j,O,V,U,Y,ne));let oe=this.dateTimeFormat({timeZone:this.timezone,weekday:"narrow"},p,"es"),xe="DLMXJVS".indexOf(oe);O+=-xe+x+(xe<x?-7:0)}p=_.makeTime(R,j,O,V,U,Y,ne),_.variableTimezone&&UR(g)&&(K=g-p>4*vn.month||_.getTimezoneOffset(p)!==_.getTimezoneOffset(g));let Z=p,ae=1;for(;Z<g;)T.push(Z),D===vn.year?Z=_.makeTime(R+ae*A,0):D===vn.month?Z=_.makeTime(R,j+ae*A):K&&(D===vn.day||D===vn.week)?Z=_.makeTime(R,j,O+ae*A*(D===vn.day?1:7)):K&&D===vn.hour&&A>1?Z=_.makeTime(R,j,O,V+ae*A):Z+=D*A,ae++;T.push(Z),D<=vn.hour&&T.length<1e4&&T.forEach(oe=>{oe%18e5==0&&_.dateFormat("%H%M%S%L",oe)==="000000000"&&(C[oe]="day")})}return T.info=Bte(P,{higherRanks:C,totalRange:D*A}),T}},{isTouchDevice:Fte}=J,{fireEvent:zte,merge:jte}=ke,$o={colors:["#2caffe","#544fc5","#00e272","#fe6a35","#6b8abc","#d568fb","#2ee0ca","#fa4b42","#feb56a","#91e8e1"],symbols:["circle","diamond","square","triangle","triangle-down"],lang:{weekFrom:"week from",chartTitle:"Chart title",locale:void 0,loading:"Loading...",months:void 0,seriesName:"Series {add index 1}",shortMonths:void 0,weekdays:void 0,numericSymbols:["k","M","G","T","P","E"],pieSliceName:"Slice",resetZoom:"Reset zoom",yAxisTitle:"Values",resetZoomTitle:"Reset zoom level 1:1"},global:{buttonTheme:{fill:"#f7f7f7",padding:8,r:2,stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontSize:"0.8em",fontWeight:"normal"},states:{hover:{fill:"#e6e6e6"},select:{fill:"#e6e9ff",style:{color:"#000000",fontWeight:"bold"}},disabled:{style:{color:"#cccccc"}}}}},time:{Date:void 0,timezone:"UTC",timezoneOffset:0,useUTC:void 0},chart:{alignThresholds:!1,panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,allowMutatingData:!0,ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{},position:{}},reflow:!0,type:"line",zooming:{singleTouch:!1,resetButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}}},width:null,height:null,borderColor:"#334eff",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"},title:{style:{color:"#333333",fontWeight:"bold"},text:"Chart title",margin:15,minScale:.67},subtitle:{style:{color:"#666666",fontSize:"0.8em"},text:""},caption:{margin:15,style:{color:"#666666",fontSize:"0.8em"},text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",events:{},layout:"horizontal",itemMarginBottom:2,itemMarginTop:2,labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{style:{fontSize:"0.8em"},activeColor:"#0022ff",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"0.8em",textDecoration:"none",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#666666",textDecoration:"line-through"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{color:"#333333",fontSize:"0.8em",fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:{duration:300,easing:P=>Math.sqrt(1-Math.pow(P-1,2))},borderRadius:3,dateTimeLabelFormats:{millisecond:"%[AebHMSL]",second:"%[AebHMS]",minute:"%[AebHM]",hour:"%[AebHM]",day:"%[AebY]",week:"%v %[AebY]",month:"%[BY]",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,position:{x:0,y:3},shared:!1,snap:Fte?25:10,headerFormat:'<span style="font-size: 0.8em">{ucfirst point.key}</span><br/>',pointFormat:'<span style="color:{point.color}"></span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:"#ffffff",borderWidth:void 0,stickOnContact:!1,style:{color:"#333333",cursor:"default",fontSize:"0.8em"},useHTML:!1},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"0.6em"},text:"Highcharts.com"}},iT=new nT($o.time,$o.lang),Ma={defaultOptions:$o,defaultTime:iT,getOptions:function(){return $o},setOptions:function(P){var p;return zte(J,"setOptions",{options:P}),jte(!0,$o,P),P.time&&iT.update($o.time),P.lang&&"locale"in P.lang&&iT.update({locale:P.lang.locale}),(p=P.lang)!=null&&p.chartTitle&&($o.title={...$o.title,text:P.lang.chartTitle}),$o}},{win:Hte}=J,{isNumber:nv,isString:Vte,merge:Ute,pInt:ki,defined:GR}=ke,WR=(P,p,g)=>`color-mix(in srgb,${P},${p} ${100*g}%)`,aT=P=>Vte(P)&&!!P&&P!=="none";class Kr{static parse(p){return p?new Kr(p):Kr.None}constructor(p){let g,x,_,T;this.rgba=[NaN,NaN,NaN,NaN],this.input=p;const C=J.Color;if(C&&C!==Kr)return new C(p);if(typeof p=="object"&&p.stops!==void 0)this.stops=p.stops.map(A=>new Kr(A[1]));else if(typeof p=="string")for(this.input=p=Kr.names[p.toLowerCase()]||p,_=Kr.parsers.length;_--&&!x;)(g=(T=Kr.parsers[_]).regex.exec(p))&&(x=T.parse(g));x&&(this.rgba=x)}get(p){let g=this.input,x=this.rgba;if(this.output)return this.output;if(typeof g=="object"&&this.stops!==void 0){let _=Ute(g);return _.stops=[].slice.call(_.stops),this.stops.forEach((T,C)=>{_.stops[C]=[_.stops[C][0],T.get(p)]}),_}return x&&nv(x[0])?p!=="rgb"&&(p||x[3]!==1)?p==="a"?`${x[3]}`:"rgba("+x.join(",")+")":"rgb("+x[0]+","+x[1]+","+x[2]+")":g}brighten(p){let g=this.rgba;if(this.stops)this.stops.forEach(function(x){x.brighten(p)});else if(nv(p)&&p!==0)if(nv(g[0]))for(let x=0;x<3;x++)g[x]+=ki(255*p),g[x]<0&&(g[x]=0),g[x]>255&&(g[x]=255);else Kr.useColorMix&&aT(this.input)&&(this.output=WR(this.input,p>0?"white":"black",Math.abs(p)));return this}setOpacity(p){return this.rgba[3]=p,this}tweenTo(p,g){let x=this.rgba,_=p.rgba;if(!nv(x[0])||!nv(_[0]))return Kr.useColorMix&&aT(this.input)&&aT(p.input)&&g<.99?WR(this.input,p.input,g):p.input||"none";let T=_[3]!==1||x[3]!==1,C=(D,R)=>D+(x[R]-D)*(1-g),A=_.slice(0,3).map(C).map(Math.round);return T&&A.push(C(_[3],3)),(T?"rgba(":"rgb(")+A.join(",")+")"}}Kr.names={white:"#ffffff",black:"#000000"},Kr.parsers=[{regex:/rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?(?:\.\d+)?)\s*\)/,parse:function(P){return[ki(P[1]),ki(P[2]),ki(P[3]),parseFloat(P[4],10)]}},{regex:/rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)/,parse:function(P){return[ki(P[1]),ki(P[2]),ki(P[3]),1]}},{regex:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])?$/i,parse:function(P){return[ki(P[1]+P[1],16),ki(P[2]+P[2],16),ki(P[3]+P[3],16),GR(P[4])?ki(P[4]+P[4],16)/255:1]}},{regex:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})?$/i,parse:function(P){return[ki(P[1],16),ki(P[2],16),ki(P[3],16),GR(P[4])?ki(P[4],16)/255:1]}}],Kr.useColorMix=(c6=Hte.CSS)==null?void 0:c6.supports("color","color-mix(in srgb,red,blue 9%)"),Kr.None=new Kr("");let{parse:$R}=Kr,{win:Gte}=J,{isNumber:sT,objectEach:Wte}=ke;class Ii{constructor(p,g,x){this.pos=NaN,this.options=g,this.elem=p,this.prop=x}dSetter(){let p=this.paths,g=p==null?void 0:p[0],x=p==null?void 0:p[1],_=this.now||0,T=[];if(_!==1&&g&&x)if(g.length===x.length&&_<1)for(let C=0;C<x.length;C++){let A=g[C],D=x[C],R=[];for(let j=0;j<D.length;j++){let O=A[j],V=D[j];sT(O)&&sT(V)&&(D[0]!=="A"||j!==4&&j!==5)?R[j]=O+_*(V-O):R[j]=V}T.push(R)}else T=x;else T=this.toD||[];this.elem.attr("d",T,void 0,!0)}update(){let p=this.elem,g=this.prop,x=this.now,_=this.options.step;this[g+"Setter"]?this[g+"Setter"]():p.attr?p.element&&p.attr(g,x,null,!0):p.style[g]=x+this.unit,_&&_.call(p,x,this)}run(p,g,x){let _=this,T=_.options,C=function(R){return!C.stopped&&_.step(R)},A=Gte.requestAnimationFrame||function(R){setTimeout(R,13)},D=function(){for(let R=0;R<Ii.timers.length;R++)Ii.timers[R]()||Ii.timers.splice(R--,1);Ii.timers.length&&A(D)};p!==g||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=p,this.end=g,this.unit=x,this.now=this.start,this.pos=0,C.elem=this.elem,C.prop=this.prop,C()&&Ii.timers.push(C)===1&&A(D)):(delete T.curAnim[this.prop],T.complete&&Object.keys(T.curAnim).length===0&&T.complete.call(this.elem))}step(p){let g,x,_=+new Date,T=this.options,C=this.elem,A=T.complete,D=T.duration,R=T.curAnim;return C.attr&&!C.element?g=!1:p||_>=D+this.startTime?(this.now=this.end,this.pos=1,this.update(),R[this.prop]=!0,x=!0,Wte(R,function(j){j!==!0&&(x=!1)}),x&&A&&A.call(C),g=!1):(this.pos=T.easing((_-this.startTime)/D),this.now=this.start+(this.end-this.start)*this.pos,this.update(),g=!0),g}initPath(p,g,x){let _=p.startX,T=p.endX,C=x.slice(),A=p.isArea,D=A?2:1,R=g&&x.length>g.length&&x.hasStackedCliffs,j,O,V,U,Y=g==null?void 0:g.slice();if(!Y||R)return[C,C];function ne(Z,ae){for(;Z.length<O;){let oe=Z[0],xe=ae[O-Z.length];if(xe&&oe[0]==="M"&&(xe[0]==="C"?Z[0]=["C",oe[1],oe[2],oe[1],oe[2],oe[1],oe[2]]:Z[0]=["L",oe[1],oe[2]]),Z.unshift(oe),A){let ge=Z.pop();Z.push(Z[Z.length-1],ge)}}}function K(Z){for(;Z.length<O;){let ae=Z[Math.floor(Z.length/D)-1].slice();if(ae[0]==="C"&&(ae[1]=ae[5],ae[2]=ae[6]),A){let oe=Z[Math.floor(Z.length/D)].slice();Z.splice(Z.length/2,0,ae,oe)}else Z.push(ae)}}if(_&&T&&T.length){for(V=0;V<_.length;V++)if(_[V]===T[0]){j=V;break}else if(_[0]===T[T.length-_.length+V]){j=V,U=!0;break}else if(_[_.length-1]===T[T.length-_.length+V]){j=_.length-V;break}j===void 0&&(Y=[])}return Y.length&&sT(j)&&(O=C.length+j*D,U?(ne(Y,C),K(C)):(ne(C,Y),K(Y))),[Y,C]}fillSetter(){Ii.prototype.strokeSetter.apply(this,arguments)}strokeSetter(){this.elem.attr(this.prop,$R(this.start).tweenTo($R(this.end),this.pos),void 0,!0)}}Ii.timers=[];let{defined:$te,getStyle:Yte,isArray:Xte,isNumber:qte,isObject:oT,merge:YR,objectEach:Kte,pick:Zte}=ke;function lT(P){return oT(P)?YR({duration:500,defer:0},P):{duration:500*!!P,defer:0}}function XR(P,p){let g=Ii.timers.length;for(;g--;)Ii.timers[g].elem!==P||p&&p!==Ii.timers[g].prop||(Ii.timers[g].stopped=!0)}let Kn={animate:function(P,p,g){let x,_="",T,C,A;oT(g)||(A=arguments,g={duration:A[2],easing:A[3],complete:A[4]}),qte(g.duration)||(g.duration=400),g.easing=typeof g.easing=="function"?g.easing:Math[g.easing]||Math.easeInOutSine,g.curAnim=YR(p),Kte(p,function(D,R){XR(P,R),C=new Ii(P,g,R),T=void 0,R==="d"&&Xte(p.d)?(C.paths=C.initPath(P,P.pathArray,p.d),C.toD=p.d,x=0,T=1):P.attr?x=P.attr(R):(x=parseFloat(Yte(P,R))||0,R!=="opacity"&&(_="px")),T||(T=D),typeof T=="string"&&T.match("px")&&(T=T.replace(/px/g,"")),C.run(x,T,_)})},animObject:lT,getDeferredAnimation:function(P,p,g){let x=lT(p),_=g?[g]:P.series,T=0,C=0;return _.forEach(A=>{let D=lT(A.options.animation);T=oT(p)&&$te(p.defer)?x.defer:Math.max(T,D.duration+D.defer),C=Math.min(x.duration,D.duration)}),P.renderer.forExport&&(T=0),{defer:Math.max(0,T-C),duration:Math.min(T,C)}},setAnimation:function(P,p){p.renderer.globalAnimation=Zte(P,p.options.chart.animation,!0)},stop:XR},{SVG_NS:qR,win:Qte}=J,{attr:Jte,createElement:ere,css:tre,error:KR,isFunction:rre,isString:ZR,objectEach:QR,splat:nre}=ke,{trustedTypes:uT}=Qte,py=uT&&rre(uT.createPolicy)&&uT.createPolicy("highcharts",{createHTML:P=>P}),ire=py?py.createHTML(""):"";class Gr{static filterUserAttributes(p){return QR(p,(g,x)=>{let _=!0;Gr.allowedAttributes.indexOf(x)===-1&&(_=!1),["background","dynsrc","href","lowsrc","src"].indexOf(x)!==-1&&(_=ZR(g)&&Gr.allowedReferences.some(T=>g.indexOf(T)===0)),_||(KR(33,!1,void 0,{"Invalid attribute in config":`${x}`}),delete p[x]),ZR(g)&&p[x]&&(p[x]=g.replace(/</g,"&lt;"))}),p}static parseStyle(p){return p.split(";").reduce((g,x)=>{let _=x.split(":").map(C=>C.trim()),T=_.shift();return T&&_.length&&(g[T.replace(/-([a-z])/g,C=>C[1].toUpperCase())]=_.join(":")),g},{})}static setElementHTML(p,g){p.innerHTML=Gr.emptyHTML,g&&new Gr(g).addToDOM(p)}constructor(p){this.nodes=typeof p=="string"?this.parseMarkup(p):p}addToDOM(p){return function g(x,_){let T;return nre(x).forEach(function(C){let A,D=C.tagName,R=C.textContent?J.doc.createTextNode(C.textContent):void 0,j=Gr.bypassHTMLFiltering;if(D)if(D==="#text")A=R;else if(Gr.allowedTags.indexOf(D)!==-1||j){let O=D==="svg"?qR:_.namespaceURI||qR,V=J.doc.createElementNS(O,D),U=C.attributes||{};QR(C,function(Y,ne){ne!=="tagName"&&ne!=="attributes"&&ne!=="children"&&ne!=="style"&&ne!=="textContent"&&(U[ne]=Y)}),Jte(V,j?U:Gr.filterUserAttributes(U)),C.style&&tre(V,C.style),R&&V.appendChild(R),g(C.children||[],V),A=V}else KR(33,!1,void 0,{"Invalid tagName in config":D});A&&_.appendChild(A),T=A}),T}(this.nodes,p)}parseMarkup(p){let g,x=[];p=p.trim().replace(/ style=(["'])/g," data-style=$1");try{g=new DOMParser().parseFromString(py?py.createHTML(p):p,"text/html")}catch{}if(!g){let T=ere("div");T.innerHTML=p,g={body:T}}let _=(T,C)=>{let A=T.nodeName.toLowerCase(),D={tagName:A};A==="#text"&&(D.textContent=T.textContent||"");let R=T.attributes;if(R){let j={};[].forEach.call(R,O=>{O.name==="data-style"?D.style=Gr.parseStyle(O.value):j[O.name]=O.value}),D.attributes=j}if(T.childNodes.length){let j=[];[].forEach.call(T.childNodes,O=>{_(O,j)}),j.length&&(D.children=j)}C.push(D)};return[].forEach.call(g.body.childNodes,T=>_(T,x)),x}}Gr.allowedAttributes=["alt","aria-controls","aria-describedby","aria-expanded","aria-haspopup","aria-hidden","aria-label","aria-labelledby","aria-live","aria-pressed","aria-readonly","aria-roledescription","aria-selected","class","clip-path","color","colspan","cx","cy","d","disabled","dx","dy","fill","filterUnits","flood-color","flood-opacity","height","href","id","in","in2","markerHeight","markerWidth","offset","opacity","operator","orient","padding","paddingLeft","paddingRight","patternUnits","r","radius","refX","refY","result","role","rowspan","scope","slope","src","startOffset","stdDeviation","stroke-linecap","stroke-width","stroke","style","summary","tabindex","tableValues","target","text-align","text-anchor","textAnchor","textLength","title","type","valign","width","x","x1","x2","xlink:href","y","y1","y2","zIndex"],Gr.allowedReferences=["https://","http://","mailto:","/","../","./","#"],Gr.allowedTags=["#text","a","abbr","b","br","button","caption","circle","clipPath","code","dd","defs","div","dl","dt","em","feComponentTransfer","feComposite","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","filter","h1","h2","h3","h4","h5","h6","hr","i","img","li","linearGradient","marker","ol","p","path","pattern","pre","rect","small","span","stop","strong","style","sub","sup","svg","table","tbody","td","text","textPath","th","thead","title","tr","tspan","u","ul"],Gr.emptyHTML=ire,Gr.bypassHTMLFiltering=!1;let{defaultOptions:JR,defaultTime:eO}=Ma,{pageLang:are}=J,{extend:sre,getNestedProperty:ore,isArray:lre,isNumber:tO,isObject:ure,isString:cre,pick:hre,ucfirst:fre}=ke,vy={add:(P,p)=>P+p,divide:(P,p)=>p!==0?P/p:"",eq:(P,p)=>P==p,each:function(P){let p=arguments[arguments.length-1];return!!lre(P)&&P.map((g,x)=>gy(p.body,sre(ure(g)?g:{"@this":g},{"@index":x,"@first":x===0,"@last":x===P.length-1}))).join("")},ge:(P,p)=>P>=p,gt:(P,p)=>P>p,if:P=>!!P,le:(P,p)=>P<=p,lt:(P,p)=>P<p,multiply:(P,p)=>P*p,ne:(P,p)=>P!=p,subtract:(P,p)=>P-p,ucfirst:fre,unless:P=>!P},rO={};function gy(P="",p,g){var K;let x=RegExp(`\\{([\\p{L}\\d:\\.,;\\-\\/<>\\[\\]%_@+"'= #\\(\\)]+)\\}`,"gu"),_=RegExp(`\\(([\\p{L}\\d:\\.,;\\-\\/<>\\[\\]%_@+"'= ]+)\\)`,"gu"),T=[],C=/f$/,A=/\.(\d)/,D=((K=g==null?void 0:g.options)==null?void 0:K.lang)||JR.lang,R=(g==null?void 0:g.time)||eO,j=(g==null?void 0:g.numberFormatter)||nO.bind(g),O=(Z="")=>{let ae;return Z==="true"||Z!=="false"&&((ae=Number(Z)).toString()===Z?ae:/^["'].+["']$/.test(Z)?Z.slice(1,-1):ore(Z,p))},V,U,Y=0,ne;for(;(V=x.exec(P))!==null;){let Z=V,ae=_.exec(V[1]);ae&&(V=ae,ne=!0),U!=null&&U.isBlock||(U={ctx:p,expression:V[1],find:V[0],isBlock:V[1].charAt(0)==="#",start:V.index,startInner:V.index+V[0].length,length:V[0].length});let oe=(U.isBlock?Z:V)[1].split(" ")[0].replace("#","");vy[oe]&&(U.isBlock&&oe===U.fn&&Y++,U.fn||(U.fn=oe));let xe=V[1]==="else";if(U.isBlock&&U.fn&&(V[1]===`/${U.fn}`||xe))if(Y)!xe&&Y--;else{let ge=U.startInner,be=P.substr(ge,V.index-ge);U.body===void 0?(U.body=be,U.startInner=V.index+V[0].length):U.elseBody=be,U.find+=be+V[0],xe||(T.push(U),U=void 0)}else U.isBlock||T.push(U);if(ae&&!(U!=null&&U.isBlock))break}return T.forEach(Z=>{let ae,oe,{body:xe,elseBody:ge,expression:be,fn:Ie}=Z;if(Ie){let we=[Z],De=[],Re=be.length,Ue=0,Xe;for(oe=0;oe<=Re;oe++){let at=be.charAt(oe);Xe||at!=='"'&&at!=="'"?Xe===at&&(Xe=""):Xe=at,Xe||at!==" "&&oe!==Re||(De.push(be.substr(Ue,oe-Ue)),Ue=oe+1)}for(oe=vy[Ie].length;oe--;)we.unshift(O(De[oe+1]));ae=vy[Ie].apply(p,we),Z.isBlock&&typeof ae=="boolean"&&(ae=gy(ae?xe:ge,p,g))}else{let we=/^["'].+["']$/.test(be)?[be]:be.split(":");if(ae=O(we.shift()||""),we.length&&typeof ae=="number"){let De=we.join(":");if(C.test(De)){let Re=parseInt((De.match(A)||["","-1"])[1],10);ae!==null&&(ae=j(ae,Re,D.decimalPoint,De.indexOf(",")>-1?D.thousandsSep:""))}else ae=R.dateFormat(De,ae)}_.lastIndex=0,_.test(Z.find)&&cre(ae)&&(ae=`"${ae}"`)}P=P.replace(Z.find,hre(ae,""))}),ne?gy(P,p,g):P}function nO(P,p,g,x){var ne;p*=1;let _,T,[C,A]=(P=+P||0).toString().split("e").map(Number),D=((ne=this==null?void 0:this.options)==null?void 0:ne.lang)||JR.lang,R=(P.toString().split(".")[1]||"").split("e")[0].length,j=p,O={};g??(g=D.decimalPoint),x??(x=D.thousandsSep),p===-1?p=Math.min(R,20):tO(p)?p&&A<0&&((T=p+A)>=0?(C=+C.toExponential(T).split("e")[0],p=T):(C=Math.floor(C),P=p<20?+(C*Math.pow(10,A)).toFixed(p):0,A=0)):p=2,A&&(p??(p=2),P=C),tO(p)&&p>=0&&(O.minimumFractionDigits=p,O.maximumFractionDigits=p),x===""&&(O.useGrouping=!1);let V=x||g,U=V?"en":(this==null?void 0:this.locale)||D.locale||are,Y=JSON.stringify(O)+U;return _=(rO[Y]??(rO[Y]=new Intl.NumberFormat(U,O))).format(P),V&&(_=_.replace(/([,\.])/g,"_$1").replace(/_\,/g,x??",").replace("_.",g??".")),(p||+_!=0)&&(!(A<0)||j)||(_="0"),A&&+_!=0&&(_+="e"+(A<0?"":"+")+A),_}let La={dateFormat:function(P,p,g){return eO.dateFormat(P,p,g)},format:gy,helpers:vy,numberFormat:nO};(u=w||(w={})).rendererTypes={},u.getRendererType=function(P=s){return u.rendererTypes[P]||u.rendererTypes[s]},u.registerRendererType=function(P,p,g){u.rendererTypes[P]=p,(!s||g)&&(s=P,J.Renderer=p)};let iv=w,{clamp:dre,pick:pre,pushUnique:vre,stableSort:cT}=ke;(k||(k={})).distribute=function P(p,g,x){let _=p,T=_.reducedLen||g,C=(oe,xe)=>oe.target-xe.target,A=[],D=p.length,R=[],j=A.push,O,V,U,Y=!0,ne,K,Z=0,ae;for(O=D;O--;)Z+=p[O].size;if(Z>T){for(cT(p,(oe,xe)=>(xe.rank||0)-(oe.rank||0)),U=(ae=p[0].rank===p[p.length-1].rank)?D/2:-1,V=ae?U:D-1;U&&Z>T;)ne=p[O=Math.floor(V)],vre(R,O)&&(Z-=ne.size),V+=U,ae&&V>=p.length&&(U/=2,V=U);R.sort((oe,xe)=>xe-oe).forEach(oe=>j.apply(A,p.splice(oe,1)))}for(cT(p,C),p=p.map(oe=>({size:oe.size,targets:[oe.target],align:pre(oe.align,.5)}));Y;){for(O=p.length;O--;)ne=p[O],K=(Math.min.apply(0,ne.targets)+Math.max.apply(0,ne.targets))/2,ne.pos=dre(K-ne.size*ne.align,0,g-ne.size);for(O=p.length,Y=!1;O--;)O>0&&p[O-1].pos+p[O-1].size>p[O].pos&&(p[O-1].size+=p[O].size,p[O-1].targets=p[O-1].targets.concat(p[O].targets),p[O-1].align=.5,p[O-1].pos+p[O-1].size>g&&(p[O-1].pos=g-p[O-1].size),p.splice(O,1),Y=!0)}return j.apply(_,A),O=0,p.some(oe=>{let xe=0;return(oe.targets||[]).some(()=>(_[O].pos=oe.pos+xe,x!==void 0&&Math.abs(_[O].pos-_[O].target)>x?(_.slice(0,O+1).forEach(ge=>delete ge.pos),_.reducedLen=(_.reducedLen||g)-.1*g,_.reducedLen>.1*g&&P(_,g,x),!0):(xe+=_[O].size,O++,!1)))}),cT(_,C),_};let my=k,{animate:gre,animObject:mre,stop:iO}=Kn,{deg2rad:aO,doc:yf,svg:yre,SVG_NS:yy,win:xre,isFirefox:bre}=J,{addEvent:Sre,attr:hT,createElement:_re,crisp:xy,css:sO,defined:Xs,erase:wre,extend:av,fireEvent:fT,getAlignFactor:dT,isArray:oO,isFunction:lO,isNumber:Tre,isObject:Cre,isString:uO,merge:pT,objectEach:xf,pick:gc,pInt:by,pushUnique:Ere,replaceNested:Are,syncTimeout:kre,uniqueKey:cO}=ke;class In{_defaultGetter(p){let g=gc(this[p+"Value"],this[p],this.element?this.element.getAttribute(p):null,0);return/^-?[\d\.]+$/.test(g)&&(g=parseFloat(g)),g}_defaultSetter(p,g,x){x.setAttribute(g,p)}add(p){let g,x=this.renderer,_=this.element;return p&&(this.parentGroup=p),this.textStr!==void 0&&this.element.nodeName==="text"&&x.buildText(this),this.added=!0,(!p||p.handleZ||this.zIndex)&&(g=this.zIndexSetter()),g||(p?p.element:x.box).appendChild(_),this.onAdd&&this.onAdd(),this}addClass(p,g){let x=g?"":this.attr("class")||"";return(p=(p||"").split(/ /g).reduce(function(_,T){return x.indexOf(T)===-1&&_.push(T),_},x?[x]:[]).join(" "))!==x&&this.attr("class",p),this}afterSetters(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)}align(p,g,x,_=!0){let T=this.renderer,C=T.alignedObjects,A=!!p;p?(this.alignOptions=p,this.alignByTranslate=g,this.alignTo=x):(p=this.alignOptions||{},g=this.alignByTranslate,x=this.alignTo);let D=!x||uO(x)?x||"renderer":void 0;D&&(A&&Ere(C,this),x=void 0);let R=gc(x,T[D],T),j=(R.x||0)+(p.x||0)+((R.width||0)-(p.width||0))*dT(p.align),O=(R.y||0)+(p.y||0)+((R.height||0)-(p.height||0))*dT(p.verticalAlign),V={};return p.align&&(V["text-align"]=p.align),V[g?"translateX":"x"]=Math.round(j),V[g?"translateY":"y"]=Math.round(O),_&&(this[this.placed?"animate":"attr"](V),this.placed=!0),this.alignAttr=V,this}alignSetter(p){let g={left:"start",center:"middle",right:"end"};g[p]&&(this.alignValue=p,this.element.setAttribute("text-anchor",g[p]))}animate(p,g,x){let _=mre(gc(g,this.renderer.globalAnimation,!0)),T=_.defer;return yf.hidden&&(_.duration=0),_.duration!==0?(x&&(_.complete=x),kre(()=>{this.element&&gre(this,p,_)},T)):(this.attr(p,void 0,x||_.complete),xf(p,function(C,A){_.step&&_.step.call(this,C,{prop:A,pos:1,elem:this})},this)),this}applyTextOutline(p){let g=this.element;p.indexOf("contrast")!==-1&&(p=p.replace(/contrast/g,this.renderer.getContrast(g.style.fill)));let x=p.indexOf(" "),_=p.substring(x+1),T=p.substring(0,x);if(T&&T!=="none"&&J.svg){this.fakeTS=!0,T=T.replace(/(^[\d\.]+)(.*?)$/g,function(j,O,V){return 2*Number(O)+V}),this.removeTextOutline();let C=yf.createElementNS(yy,"tspan");hT(C,{class:"highcharts-text-outline",fill:_,stroke:_,"stroke-width":T,"stroke-linejoin":"round"});let A=g.querySelector("textPath")||g;[].forEach.call(A.childNodes,j=>{let O=j.cloneNode(!0);O.removeAttribute&&["fill","stroke","stroke-width","stroke"].forEach(V=>O.removeAttribute(V)),C.appendChild(O)});let D=0;[].forEach.call(A.querySelectorAll("text tspan"),j=>{D+=Number(j.getAttribute("dy"))});let R=yf.createElementNS(yy,"tspan");R.textContent="",hT(R,{x:Number(g.getAttribute("x")),dy:-D}),C.appendChild(R),A.insertBefore(C,A.firstChild)}}attr(p,g,x,_){let{element:T}=this,C=In.symbolCustomAttribs,A,D,R=this,j;return typeof p=="string"&&g!==void 0&&(A=p,(p={})[A]=g),typeof p=="string"?R=(this[p+"Getter"]||this._defaultGetter).call(this,p,T):(xf(p,function(O,V){j=!1,_||iO(this,V),this.symbolName&&C.indexOf(V)!==-1&&(D||(this.symbolAttr(p),D=!0),j=!0),this.rotation&&(V==="x"||V==="y")&&(this.doTransform=!0),j||(this[V+"Setter"]||this._defaultSetter).call(this,O,V,T)},this),this.afterSetters()),x&&x.call(this),R}clip(p){if(p&&!p.clipPath){let g=cO()+"-",x=this.renderer.createElement("clipPath").attr({id:g}).add(this.renderer.defs);av(p,{clipPath:x,id:g,count:0}),p.add(x)}return this.attr("clip-path",p?`url(${this.renderer.url}#${p.id})`:"none")}crisp(p,g){g=Math.round(g||p.strokeWidth||0);let x=p.x||this.x||0,_=p.y||this.y||0,T=(p.width||this.width||0)+x,C=(p.height||this.height||0)+_,A=xy(x,g),D=xy(_,g);return av(p,{x:A,y:D,width:xy(T,g)-A,height:xy(C,g)-D}),Xs(p.strokeWidth)&&(p.strokeWidth=g),p}complexColor(p,g,x){let _=this.renderer,T,C,A,D,R,j,O,V,U,Y,ne=[],K;fT(this.renderer,"complexColor",{args:arguments},function(){if(p.radialGradient?C="radialGradient":p.linearGradient&&(C="linearGradient"),C){if(A=p[C],R=_.gradients,j=p.stops,U=x.radialReference,oO(A)&&(p[C]=A={x1:A[0],y1:A[1],x2:A[2],y2:A[3],gradientUnits:"userSpaceOnUse"}),C==="radialGradient"&&U&&!Xs(A.gradientUnits)&&(D=A,A=pT(A,_.getRadialAttr(U,D),{gradientUnits:"userSpaceOnUse"})),xf(A,function(Z,ae){ae!=="id"&&ne.push(ae,Z)}),xf(j,function(Z){ne.push(Z)}),R[ne=ne.join(",")])Y=R[ne].attr("id");else{A.id=Y=cO();let Z=R[ne]=_.createElement(C).attr(A).add(_.defs);Z.radAttr=D,Z.stops=[],j.forEach(function(ae){ae[1].indexOf("rgba")===0?(O=(T=Kr.parse(ae[1])).get("rgb"),V=T.get("a")):(O=ae[1],V=1);let oe=_.createElement("stop").attr({offset:ae[0],"stop-color":O,"stop-opacity":V}).add(Z);Z.stops.push(oe)})}K="url("+_.url+"#"+Y+")",x.setAttribute(g,K),x.gradient=ne,p.toString=function(){return K}}})}css(p){let g=this.styles,x={},_=this.element,T,C=!g;if(g&&xf(p,function(A,D){g&&g[D]!==A&&(x[D]=A,C=!0)}),C){g&&(p=av(g,x)),p.width===null||p.width==="auto"?delete this.textWidth:_.nodeName.toLowerCase()==="text"&&p.width&&(T=this.textWidth=by(p.width)),av(this.styles,p),T&&!yre&&this.renderer.forExport&&delete p.width;let A=bre&&p.fontSize||null;A&&(Tre(A)||/^\d+$/.test(A))&&(p.fontSize+="px");let D=pT(p);_.namespaceURI===this.SVG_NS&&(["textOutline","textOverflow","whiteSpace","width"].forEach(R=>D&&delete D[R]),D.color&&(D.fill=D.color,delete D.color)),sO(_,D)}return this.added&&(this.element.nodeName==="text"&&this.renderer.buildText(this),p.textOutline&&this.applyTextOutline(p.textOutline)),this}dashstyleSetter(p){let g,x=this["stroke-width"];if(x==="inherit"&&(x=1),p){let _=(p=p.toLowerCase()).replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(g=_.length;g--;)_[g]=""+by(_[g])*gc(x,NaN);p=_.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",p)}}destroy(){let p=this,{element:g={},renderer:x,stops:_}=p,T=g.ownerSVGElement,C=g.nodeName==="SPAN"&&p.parentGroup||void 0,A;if(g.onclick=g.onmouseout=g.onmouseover=g.onmousemove=g.point=null,iO(p),p.clipPath&&T){let D=p.clipPath;[].forEach.call(T.querySelectorAll("[clip-path],[CLIP-PATH]"),function(R){R.getAttribute("clip-path").indexOf(D.element.id)>-1&&R.removeAttribute("clip-path")}),p.clipPath=D.destroy()}if(_){for(let D of _)D.destroy();_.length=0}for(p.safeRemoveChild(g);C!=null&&C.div&&C.div.childNodes.length===0;)A=C.parentGroup,p.safeRemoveChild(C.div),delete C.div,C=A;p.alignOptions&&wre(x.alignedObjects,p),xf(p,(D,R)=>{var j,O,V;(((j=p[R])==null?void 0:j.parentGroup)===p||["connector","foreignObject"].indexOf(R)!==-1)&&((V=(O=p[R])==null?void 0:O.destroy)==null||V.call(O)),delete p[R]})}dSetter(p,g,x){oO(p)&&(typeof p[0]=="string"&&(p=this.renderer.pathToSegments(p)),this.pathArray=p,p=p.reduce((_,T,C)=>T!=null&&T.join?(C?_+" ":"")+T.join(" "):(T||"").toString(),"")),/(NaN| {2}|^$)/.test(p)&&(p="M 0 0"),this[g]!==p&&(x.setAttribute(g,p),this[g]=p)}fillSetter(p,g,x){typeof p=="string"?x.setAttribute(g,p):p&&this.complexColor(p,g,x)}hrefSetter(p,g,x){x.setAttributeNS("http://www.w3.org/1999/xlink",g,p)}getBBox(p,g){let x,_,T,{element:C,renderer:A,styles:D,textStr:R}=this,{cache:j,cacheKeys:O}=A,V=C.namespaceURI===this.SVG_NS,U=gc(g,this.rotation,0),Y=A.styledMode?C&&In.prototype.getStyle.call(C,"font-size"):D.fontSize,ne=this.getBBoxCacheKey([A.rootFontSize,this.textWidth,this.alignValue,D.fontWeight,D.lineClamp,D.textOverflow,Y,U]);if(ne&&!p&&(x=j[ne]),!x||x.polygon){if(V||A.forExport){try{T=this.fakeTS&&function(Z){let ae=C.querySelector(".highcharts-text-outline");ae&&sO(ae,{display:Z})},lO(T)&&T("none"),x=C.getBBox?av({},C.getBBox()):{width:C.offsetWidth,height:C.offsetHeight,x:0,y:0},lO(T)&&T("")}catch{}(!x||x.width<0)&&(x={x:0,y:0,width:0,height:0})}else x=this.htmlGetBBox();_=x.height,V&&(x.height=_={"11px,17":14,"13px,20":16}[`${Y||""},${Math.round(_)}`]||_),U&&(x=this.getRotatedBox(x,U));let K={bBox:x};fT(this,"afterGetBBox",K),x=K.bBox}if(ne&&(R===""||x.height>0)){for(;O.length>250;)delete j[O.shift()];j[ne]||O.push(ne),j[ne]=x}return x}getBBoxCacheKey(p){if(Xs(this.textStr)){let g=""+this.textStr;return g.indexOf("<")===-1&&(g=g.replace(/\d/g,"0")),[g,...p].join(",")}}getRotatedBox(p,g){let{x,y:_,width:T,height:C}=p,{alignValue:A,translateY:D,rotationOriginX:R=0,rotationOriginY:j=0}=this,O=dT(A),V=Number(this.element.getAttribute("y")||0)-(D?0:_),U=g*aO,Y=(g-90)*aO,ne=Math.cos(U),K=Math.sin(U),Z=T*ne,ae=T*K,oe=Math.cos(Y),xe=Math.sin(Y),[[ge,be],[Ie,we]]=[R,j].map(Fr=>[Fr-Fr*ne,Fr*K]),De=x+O*(T-Z)+ge+we+V*oe,Re=De+Z,Ue=Re-C*oe,Xe=Ue-Z,at=_+V-O*ae-be+Ie+V*xe,xt=at+ae,st=xt-C*xe,gt=st-ae,pt=Math.min(De,Re,Ue,Xe),Pt=Math.min(at,xt,st,gt),Vt=Math.max(De,Re,Ue,Xe)-pt,Ar=Math.max(at,xt,st,gt)-Pt;return{x:pt,y:Pt,width:Vt,height:Ar,polygon:[[De,at],[Re,xt],[Ue,st],[Xe,gt]]}}getStyle(p){return xre.getComputedStyle(this.element||this,"").getPropertyValue(p)}hasClass(p){return(""+this.attr("class")).split(" ").indexOf(p)!==-1}hide(){return this.attr({visibility:"hidden"})}htmlGetBBox(){return{height:0,width:0,x:0,y:0}}constructor(p,g){this.onEvents={},this.opacity=1,this.SVG_NS=yy,this.element=g==="span"||g==="body"?_re(g):yf.createElementNS(this.SVG_NS,g),this.renderer=p,this.styles={},fT(this,"afterInit")}on(p,g){let{onEvents:x}=this;return x[p]&&x[p](),x[p]=Sre(this.element,p,g),this}opacitySetter(p,g,x){let _=Number(Number(p).toFixed(3));this.opacity=_,x.setAttribute(g,_)}reAlign(){var p;(p=this.alignOptions)!=null&&p.width&&this.alignOptions.align!=="left"&&(this.alignOptions.width=this.getBBox().width,this.placed=!1,this.align())}removeClass(p){return this.attr("class",(""+this.attr("class")).replace(uO(p)?RegExp(`(^| )${p}( |$)`):p," ").replace(/ +/g," ").trim())}removeTextOutline(){let p=this.element.querySelector("tspan.highcharts-text-outline");p&&this.safeRemoveChild(p)}safeRemoveChild(p){let g=p.parentNode;g&&g.removeChild(p)}setRadialReference(p){let g=this.element.gradient&&this.renderer.gradients[this.element.gradient]||void 0;return this.element.radialReference=p,g!=null&&g.radAttr&&g.animate(this.renderer.getRadialAttr(p,g.radAttr)),this}shadow(p){var T;let{renderer:g}=this,x=pT(((T=this.parentGroup)==null?void 0:T.rotation)===90?{offsetX:-1,offsetY:-1}:{},Cre(p)?p:{}),_=g.shadowDefinition(x);return this.attr({filter:p?`url(${g.url}#${_})`:"none"})}show(p=!0){return this.attr({visibility:p?"inherit":"visible"})}"stroke-widthSetter"(p,g,x){this[g]=p,x.setAttribute(g,p)}strokeWidth(){if(!this.renderer.styledMode)return this["stroke-width"]||0;let p=this.getStyle("stroke-width"),g=0,x;return/px$/.test(p)?g=by(p):p!==""&&(hT(x=yf.createElementNS(yy,"rect"),{width:p,"stroke-width":0}),this.element.parentNode.appendChild(x),g=x.getBBox().width,x.parentNode.removeChild(x)),g}symbolAttr(p){let g=this;In.symbolCustomAttribs.forEach(function(x){g[x]=gc(p[x],g[x])}),g.attr({d:g.renderer.symbols[g.symbolName](g.x,g.y,g.width,g.height,g)})}textSetter(p){p!==this.textStr&&(delete this.textPxLength,this.textStr=p,this.added&&this.renderer.buildText(this),this.reAlign())}titleSetter(p){let g=this.element,x=g.getElementsByTagName("title")[0]||yf.createElementNS(this.SVG_NS,"title");g.insertBefore?g.insertBefore(x,g.firstChild):g.appendChild(x),x.textContent=Are(gc(p,""),[/<[^>]*>/g,""]).replace(/&lt;/g,"<").replace(/&gt;/g,">")}toFront(){let p=this.element;return p.parentNode.appendChild(p),this}translate(p,g){return this.attr({translateX:p,translateY:g})}updateTransform(p="transform"){let{element:g,foreignObject:x,matrix:_,padding:T,rotation:C=0,rotationOriginX:A,rotationOriginY:D,scaleX:R,scaleY:j,text:O,translateX:V=0,translateY:U=0}=this,Y=[`translate(${V},${U})`];Xs(_)&&Y.push("matrix("+_.join(",")+")"),C&&(Y.push("rotate("+C+" "+(A??g.getAttribute("x")??this.x??0)+" "+(D??g.getAttribute("y")??this.y??0)+")"),(O==null?void 0:O.element.tagName)!=="SPAN"||O!=null&&O.foreignObject||O.attr({rotation:C,rotationOriginX:(A||0)-T,rotationOriginY:(D||0)-T})),(Xs(R)||Xs(j))&&Y.push(`scale(${R??1} ${j??1})`),Y.length&&!(O||this).textPath&&((x==null?void 0:x.element)||g).setAttribute(p,Y.join(" "))}visibilitySetter(p,g,x){p==="inherit"?x.removeAttribute(g):this[g]!==p&&x.setAttribute(g,p),this[g]=p}xGetter(p){return this.element.nodeName==="circle"&&(p==="x"?p="cx":p==="y"&&(p="cy")),this._defaultGetter(p)}zIndexSetter(p,g){let x=this.renderer,_=this.parentGroup,T=(_||x).element||x.box,C=this.element,A=T===x.box,D,R,j,O=!1,V,U=this.added,Y;if(Xs(p)?(C.setAttribute("data-z-index",p),p*=1,this[g]===p&&(U=!1)):Xs(this[g])&&C.removeAttribute("data-z-index"),this[g]=p,U){for((p=this.zIndex)&&_&&(_.handleZ=!0),Y=(D=T.childNodes).length-1;Y>=0&&!O;Y--)V=!Xs(j=(R=D[Y]).getAttribute("data-z-index")),R!==C&&(p<0&&V&&!A&&!Y?(T.insertBefore(C,D[Y]),O=!0):(by(j)<=p||V&&(!Xs(p)||p>=0))&&(T.insertBefore(C,D[Y+1]),O=!0));O||(T.insertBefore(C,D[3*!!A]),O=!0)}return O}}In.symbolCustomAttribs=["anchorX","anchorY","clockwise","end","height","innerR","r","start","width","x","y"],In.prototype.strokeSetter=In.prototype.fillSetter,In.prototype.yGetter=In.prototype.xGetter,In.prototype.matrixSetter=In.prototype.rotationOriginXSetter=In.prototype.rotationOriginYSetter=In.prototype.rotationSetter=In.prototype.scaleXSetter=In.prototype.scaleYSetter=In.prototype.translateXSetter=In.prototype.translateYSetter=In.prototype.verticalAlignSetter=function(P,p){this[p]=P,this.doTransform=!0};let qs=In,{defined:hO,extend:Ire,getAlignFactor:fO,isNumber:sv,merge:Dre,pick:Sy,removeEvent:dO}=ke;class mc extends qs{constructor(p,g,x,_,T,C,A,D,R,j){let O;super(p,"g"),this.paddingLeftSetter=this.paddingSetter,this.paddingRightSetter=this.paddingSetter,this.doUpdate=!1,this.textStr=g,this.x=x,this.y=_,this.anchorX=C,this.anchorY=A,this.baseline=R,this.className=j,this.addClass(j==="button"?"highcharts-no-tooltip":"highcharts-label"),j&&this.addClass("highcharts-"+j),this.text=p.text(void 0,0,0,D).attr({zIndex:1}),typeof T=="string"&&((O=/^url\((.*?)\)$/.test(T))||this.renderer.symbols[T])&&(this.symbolKey=T),this.bBox=mc.emptyBBox,this.padding=3,this.baselineOffset=0,this.needsBox=p.styledMode||O,this.deferredAttr={},this.alignFactor=0}alignSetter(p){let g=fO(p);this.textAlign=p,g!==this.alignFactor&&(this.alignFactor=g,this.bBox&&sv(this.xSetting)&&this.attr({x:this.xSetting}),this.updateTextPadding())}anchorXSetter(p,g){this.anchorX=p,this.boxAttr(g,Math.round(p)-this.getCrispAdjust()-this.xSetting)}anchorYSetter(p,g){this.anchorY=p,this.boxAttr(g,p-this.ySetting)}boxAttr(p,g){this.box?this.box.attr(p,g):this.deferredAttr[p]=g}css(p){if(p){let g={};p=Dre(p),mc.textProps.forEach(x=>{p[x]!==void 0&&(g[x]=p[x],delete p[x])}),this.text.css(g),"fontSize"in g||"fontWeight"in g||"width"in g?this.updateTextPadding():"textOverflow"in g&&this.updateBoxSize()}return qs.prototype.css.call(this,p)}destroy(){dO(this.element,"mouseenter"),dO(this.element,"mouseleave"),this.text&&this.text.destroy(),this.box&&(this.box=this.box.destroy()),qs.prototype.destroy.call(this)}fillSetter(p,g){p&&(this.needsBox=!0),this.fill=p,this.boxAttr(g,p)}getBBox(p,g){(this.textStr&&this.bBox.width===0&&this.bBox.height===0||this.rotation)&&this.updateBoxSize();let{padding:x,height:_=0,translateX:T=0,translateY:C=0,width:A=0}=this,D=Sy(this.paddingLeft,x),R=g??(this.rotation||0),j={width:A,height:_,x:T+this.bBox.x-D,y:C+this.bBox.y-x+this.baselineOffset};return R&&(j=this.getRotatedBox(j,R)),j}getCrispAdjust(){return(this.renderer.styledMode&&this.box?this.box.strokeWidth():this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2}heightSetter(p){this.heightSetting=p,this.doUpdate=!0}afterSetters(){super.afterSetters(),this.doUpdate&&(this.updateBoxSize(),this.doUpdate=!1)}onAdd(){this.text.add(this),this.attr({text:Sy(this.textStr,""),x:this.x||0,y:this.y||0}),this.box&&hO(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})}paddingSetter(p,g){sv(p)?p!==this[g]&&(this[g]=p,this.updateTextPadding()):this[g]=void 0}rSetter(p,g){this.boxAttr(g,p)}strokeSetter(p,g){this.stroke=p,this.boxAttr(g,p)}"stroke-widthSetter"(p,g){p&&(this.needsBox=!0),this["stroke-width"]=p,this.boxAttr(g,p)}"text-alignSetter"(p){this.textAlign=this["text-align"]=p,this.updateTextPadding()}textSetter(p){p!==void 0&&this.text.attr({text:p}),this.updateTextPadding(),this.reAlign()}updateBoxSize(){let p,g=this.text,x={},_=this.padding,T=this.bBox=(!sv(this.widthSetting)||!sv(this.heightSetting)||this.textAlign)&&hO(g.textStr)?g.getBBox(void 0,0):mc.emptyBBox;this.width=this.getPaddedWidth(),this.height=(this.heightSetting||T.height||0)+2*_;let C=this.renderer.fontMetrics(g);if(this.baselineOffset=_+Math.min((this.text.firstLineMetrics||C).b,T.height||1/0),this.heightSetting&&(this.baselineOffset+=(this.heightSetting-C.h)/2),this.needsBox&&!g.textPath){if(!this.box){let A=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect();A.addClass((this.className==="button"?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),A.add(this)}x.x=p=this.getCrispAdjust(),x.y=(this.baseline?-this.baselineOffset:0)+p,x.width=Math.round(this.width),x.height=Math.round(this.height),this.box.attr(Ire(x,this.deferredAttr)),this.deferredAttr={}}}updateTextPadding(){let p=this.text,g=p.styles.textAlign||this.textAlign;if(!p.textPath){this.updateBoxSize();let x=this.baseline?0:this.baselineOffset,_=(this.paddingLeft??this.padding)+fO(g)*(this.widthSetting??this.bBox.width);(_!==p.x||x!==p.y)&&(p.attr({align:g,x:_}),x!==void 0&&p.attr("y",x)),p.x=_,p.y=x}}widthSetter(p){this.widthSetting=sv(p)?p:void 0,this.doUpdate=!0}getPaddedWidth(){let p=this.padding,g=Sy(this.paddingLeft,p),x=Sy(this.paddingRight,p);return(this.widthSetting||this.bBox.width||0)+g+x}xSetter(p){this.x=p,this.alignFactor&&(p-=this.alignFactor*this.getPaddedWidth(),this["forceAnimate:x"]=!0),this.anchorX&&(this["forceAnimate:anchorX"]=!0),this.xSetting=Math.round(p),this.attr("translateX",this.xSetting)}ySetter(p){this.anchorY&&(this["forceAnimate:anchorY"]=!0),this.ySetting=this.y=Math.round(p),this.attr("translateY",this.ySetting)}}mc.emptyBBox={width:0,height:0,x:0,y:0},mc.textProps=["color","direction","fontFamily","fontSize","fontStyle","fontWeight","lineClamp","lineHeight","textAlign","textDecoration","textOutline","textOverflow","whiteSpace","width"];let{defined:pO,isNumber:Mre,pick:ov}=ke;function vO(P,p,g,x,_){let T=[];if(_){let C=_.start||0,A=_.end||0,D=ov(_.r,g),R=ov(_.r,x||g),j=2e-4/(_.borderRadius?1:Math.max(D,1)),O=Math.abs(A-C-2*Math.PI)<j;O&&(C=Math.PI/2,A=2.5*Math.PI-j);let V=_.innerR,U=ov(_.open,O),Y=Math.cos(C),ne=Math.sin(C),K=Math.cos(A),Z=Math.sin(A),ae=ov(_.longArc,A-C-Math.PI<j?0:1),oe=["A",D,R,0,ae,ov(_.clockwise,1),P+D*K,p+R*Z];oe.params={start:C,end:A,cx:P,cy:p},T.push(["M",P+D*Y,p+R*ne],oe),pO(V)&&((oe=["A",V,V,0,ae,pO(_.clockwise)?1-_.clockwise:0,P+V*Y,p+V*ne]).params={start:A,end:C,cx:P,cy:p},T.push(U?["M",P+V*K,p+V*Z]:["L",P+V*K,p+V*Z],oe)),U||T.push(["Z"])}return T}function gO(P,p,g,x,_){return _!=null&&_.r?vT(P,p,g,x,_):[["M",P,p],["L",P+g,p],["L",P+g,p+x],["L",P,p+x],["Z"]]}function vT(P,p,g,x,_){let T=(_==null?void 0:_.r)||0;return[["M",P+T,p],["L",P+g-T,p],["A",T,T,0,0,1,P+g,p+T],["L",P+g,p+x-T],["A",T,T,0,0,1,P+g-T,p+x],["L",P+T,p+x],["A",T,T,0,0,1,P,p+x-T],["L",P,p+T],["A",T,T,0,0,1,P+T,p],["Z"]]}let mO={arc:vO,callout:function(P,p,g,x,_){let T=Math.min((_==null?void 0:_.r)||0,g,x),C=T+6,A=_==null?void 0:_.anchorX,D=(_==null?void 0:_.anchorY)||0,R=vT(P,p,g,x,{r:T});if(!Mre(A)||A<g&&A>0&&D<x&&D>0)return R;if(P+A>g-C)if(D>p+C&&D<p+x-C)R.splice(3,1,["L",P+g,D-6],["L",P+g+6,D],["L",P+g,D+6],["L",P+g,p+x-T]);else if(A<g){let j=D<p+C,O=j?p:p+x;R.splice(j?2:5,0,["L",A,D],["L",P+g-T,O])}else R.splice(3,1,["L",P+g,x/2],["L",A,D],["L",P+g,x/2],["L",P+g,p+x-T]);else if(P+A<C)if(D>p+C&&D<p+x-C)R.splice(7,1,["L",P,D+6],["L",P-6,D],["L",P,D-6],["L",P,p+T]);else if(A>0){let j=D<p+C,O=j?p:p+x;R.splice(j?1:6,0,["L",A,D],["L",P+T,O])}else R.splice(7,1,["L",P,x/2],["L",A,D],["L",P,x/2],["L",P,p+T]);else D>x&&A<g-C?R.splice(5,1,["L",A+6,p+x],["L",A,p+x+6],["L",A-6,p+x],["L",P+T,p+x]):D<0&&A>C&&R.splice(1,1,["L",A-6,p],["L",A,p-6],["L",A+6,p],["L",g-T,p]);return R},circle:function(P,p,g,x){return vO(P+g/2,p+x/2,g/2,x/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},diamond:function(P,p,g,x){return[["M",P+g/2,p],["L",P+g,p+x/2],["L",P+g/2,p+x],["L",P,p+x/2],["Z"]]},rect:gO,roundedRect:vT,square:gO,triangle:function(P,p,g,x){return[["M",P+g/2,p],["L",P+g,p+x],["L",P,p+x],["Z"]]},"triangle-down":function(P,p,g,x){return[["M",P,p],["L",P+g,p],["L",P+g/2,p+x],["Z"]]}},{doc:gT,SVG_NS:Lre,win:yO}=J,{attr:mT,extend:Nre,fireEvent:Pre,isString:Rre,objectEach:Ore,pick:Bre}=ke,yT=(P,p)=>P.substring(0,p)+"",Fre=class{constructor(P){const p=P.styles;this.renderer=P.renderer,this.svgElement=P,this.width=P.textWidth,this.textLineHeight=p==null?void 0:p.lineHeight,this.textOutline=p==null?void 0:p.textOutline,this.ellipsis=(p==null?void 0:p.textOverflow)==="ellipsis",this.lineClamp=p==null?void 0:p.lineClamp,this.noWrap=(p==null?void 0:p.whiteSpace)==="nowrap"}buildSVG(){let P=this.svgElement,p=P.element,g=P.renderer,x=Bre(P.textStr,"").toString(),_=x.indexOf("<")!==-1,T=p.childNodes,C=!P.added&&g.box,A=[x,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,P.getStyle("font-size"),P.styles.lineClamp,this.width].join(",");if(A!==P.textCache){P.textCache=A,delete P.actualWidth;for(let D=T.length;D--;)p.removeChild(T[D]);if(_||this.ellipsis||this.width||P.textPath||x.indexOf(" ")!==-1&&(!this.noWrap||/<br.*?>/g.test(x))){if(x!==""){C&&C.appendChild(p);let D=new Gr(x);this.modifyTree(D.nodes),D.addToDOM(p),this.modifyDOM(),this.ellipsis&&(p.textContent||"").indexOf("")!==-1&&P.attr("title",this.unescapeEntities(P.textStr||"",["&lt;","&gt;"])),C&&C.removeChild(p)}}else p.appendChild(gT.createTextNode(this.unescapeEntities(x)));Rre(this.textOutline)&&P.applyTextOutline&&P.applyTextOutline(this.textOutline)}}modifyDOM(){let P,p=this.svgElement,g=mT(p.element,"x");for(p.firstLineMetrics=void 0;(P=p.element.firstChild)&&/^[\s\u200B]*$/.test(P.textContent||" ");)p.element.removeChild(P);[].forEach.call(p.element.querySelectorAll("tspan.highcharts-br"),(C,A)=>{C.nextSibling&&C.previousSibling&&(A===0&&C.previousSibling.nodeType===1&&(p.firstLineMetrics=p.renderer.fontMetrics(C.previousSibling)),mT(C,{dy:this.getLineHeight(C.nextSibling),x:g}))});let x=this.width||0;if(!x)return;let _=(C,A)=>{var ne;let D=C.textContent||"",R=D.replace(/([^\^])-/g,"$1- ").split(" "),j=!this.noWrap&&(R.length>1||p.element.childNodes.length>1),O=this.getLineHeight(A),V=Math.max(0,x-.8*O),U=0,Y=p.actualWidth;if(j){let K=[],Z=[];for(;A.firstChild&&A.firstChild!==C;)Z.push(A.firstChild),A.removeChild(A.firstChild);for(;R.length;)if(R.length&&!this.noWrap&&U>0&&(K.push(C.textContent||""),C.textContent=R.join(" ").replace(/- /g,"-")),this.truncate(C,void 0,R,U===0&&Y||0,x,V,(ae,oe)=>R.slice(0,oe).join(" ").replace(/- /g,"-")),Y=p.actualWidth,U++,this.lineClamp&&U>=this.lineClamp){R.length&&(this.truncate(C,C.textContent||"",void 0,0,x,V,yT),C.textContent=((ne=C.textContent)==null?void 0:ne.replace("",""))+"");break}Z.forEach(ae=>{A.insertBefore(ae,C)}),K.forEach(ae=>{A.insertBefore(gT.createTextNode(ae),C);let oe=gT.createElementNS(Lre,"tspan");oe.textContent="",mT(oe,{dy:O,x:g}),A.insertBefore(oe,C)})}else this.ellipsis&&D&&this.truncate(C,D,void 0,0,x,V,yT)},T=C=>{[].slice.call(C.childNodes).forEach(A=>{A.nodeType===yO.Node.TEXT_NODE?_(A,C):(A.className.baseVal.indexOf("highcharts-br")!==-1&&(p.actualWidth=0),T(A))})};T(p.element)}getLineHeight(P){let p=P.nodeType===yO.Node.TEXT_NODE?P.parentElement:P;return this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(p||this.svgElement.element).h}modifyTree(P){let p=(g,x)=>{let{attributes:_={},children:T,style:C={},tagName:A}=g,D=this.renderer.styledMode;if(A==="b"||A==="strong"?D?_.class="highcharts-strong":C.fontWeight="bold":(A==="i"||A==="em")&&(D?_.class="highcharts-emphasized":C.fontStyle="italic"),C!=null&&C.color&&(C.fill=C.color),A==="br"){_.class="highcharts-br",g.textContent="";let R=P[x+1];R!=null&&R.textContent&&(R.textContent=R.textContent.replace(/^ +/gm,""))}else A==="a"&&T&&T.some(R=>R.tagName==="#text")&&(g.children=[{children:T,tagName:"tspan"}]);A!=="#text"&&A!=="a"&&(g.tagName="tspan"),Nre(g,{attributes:_,style:C}),T&&T.filter(R=>R.tagName!=="#text").forEach(p)};P.forEach(p),Pre(this.svgElement,"afterModifyTree",{nodes:P})}truncate(P,p,g,x,_,T,C){let A,D,R=this.svgElement,{rotation:j}=R,O=[],V=g&&!x?1:0,U=(p||g||"").length,Y=U;g||(_=T);let ne=function(K,Z){let ae=Z||K,oe=P.parentNode;if(oe&&O[ae]===void 0&&oe.getSubStringLength)try{O[ae]=x+oe.getSubStringLength(0,g?ae+1:ae)}catch{}return O[ae]};if(R.rotation=0,x+(D=ne(P.textContent.length))>_){for(;V<=U;)Y=Math.ceil((V+U)/2),g&&(A=C(g,Y)),D=ne(Y,A&&A.length-1),V===U?V=U+1:D>_?U=Y-1:V=Y;U===0?P.textContent="":p&&U===p.length-1||(P.textContent=A||C(p||g,Y)),this.ellipsis&&D>_&&this.truncate(P,P.textContent||"",void 0,0,_,T,yT)}g&&g.splice(0,Y),R.actualWidth=D,R.rotation=j}unescapeEntities(P,p){return Ore(this.renderer.escapes,function(g,x){p&&p.indexOf(g)!==-1||(P=P.toString().replace(RegExp(g,"g"),x))}),P}},{defaultOptions:zre}=Ma,{charts:jre,deg2rad:xO,doc:bf,isFirefox:bO,isMS:SO,isWebKit:Hre,noop:Vre,SVG_NS:Ure,symbolSizes:xT,win:bT}=J,{addEvent:_y,attr:wy,createElement:Gre,crisp:_O,css:Ty,defined:yc,destroyObjectProperties:Wre,extend:xc,isArray:$re,isNumber:bc,isObject:lv,isString:Yre,merge:ST,pick:_T,pInt:Xre,replaceNested:qre,uniqueKey:Kre}=ke;class Cy{constructor(p,g,x,_,T,C,A){let D,R;this.x=0,this.y=0;const j=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}),O=j.element;A||j.css(this.getStyle(_||{})),p.appendChild(O),wy(p,"dir","ltr"),p.innerHTML.indexOf("xmlns")===-1&&wy(O,"xmlns",this.SVG_NS),this.box=O,this.boxWrapper=j,this.alignedObjects=[],this.url=this.getReferenceURL(),this.createElement("desc").add().element.appendChild(bf.createTextNode("Created with Highcharts 12.5.0")),this.defs=this.createElement("defs").add(),this.allowHTML=C,this.forExport=T,this.styledMode=A,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.rootFontSize=j.getStyle("font-size"),this.setSize(g,x,!1),bO&&p.getBoundingClientRect&&((D=function(){Ty(p,{left:0,top:0}),R=p.getBoundingClientRect(),Ty(p,{left:Math.ceil(R.left)-R.left+"px",top:Math.ceil(R.top)-R.top+"px"})})(),this.unSubPixelFix=_y(bT,"resize",D))}definition(p){return new Gr([p]).addToDOM(this.defs.element)}getReferenceURL(){if((bO||Hre)&&bf.getElementsByTagName("base").length){if(!yc(n)){let p=Kre(),g=new Gr([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:p},children:[{tagName:"rect",attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":`url(#${p})`,fill:"rgba(0,0,0,0.001)"}}]}]).addToDOM(bf.body);Ty(g,{position:"fixed",top:0,left:0,zIndex:9e5});let x=bf.elementFromPoint(6,6);n=(x==null?void 0:x.id)==="hitme",bf.body.removeChild(g)}if(n)return qre(bT.location.href.split("#")[0],[/<[^>]*>/g,""],[/([\('\)])/g,"\\$1"],[/ /g,"%20"])}return""}getStyle(p){return this.style=xc({fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif',fontSize:"1rem"},p),this.style}setStyle(p){this.boxWrapper.css(this.getStyle(p))}isHidden(){return!this.boxWrapper.getBBox().width}destroy(){let p=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),Wre(this.gradients||{}),this.gradients=null,this.defs=p.destroy(),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null,null}createElement(p){return new this.Element(this,p)}getRadialAttr(p,g){return{cx:p[0]-p[2]/2+(g.cx||0)*p[2],cy:p[1]-p[2]/2+(g.cy||0)*p[2],r:(g.r||0)*p[2]}}shadowDefinition(p){let g=[`highcharts-drop-shadow-${this.chartIndex}`,...Object.keys(p).map(_=>`${_}-${p[_]}`)].join("-").toLowerCase().replace(/[^a-z\d\-]/g,""),x=ST({color:"#000000",offsetX:1,offsetY:1,opacity:.15,width:5},p);return this.defs.element.querySelector(`#${g}`)||this.definition({tagName:"filter",attributes:{id:g,filterUnits:x.filterUnits},children:this.getShadowFilterContent(x)}),g}getShadowFilterContent(p){return[{tagName:"feDropShadow",attributes:{dx:p.offsetX,dy:p.offsetY,"flood-color":p.color,"flood-opacity":Math.min(5*p.opacity,1),stdDeviation:p.width/2}}]}buildText(p){new Fre(p).buildSVG()}getContrast(p){if(p==="transparent")return"#000000";let g=Kr.parse(p).rgba,x=" clamp(0,calc(9e9*(0.5 - (0.2126*r + 0.7152*g + 0.0722*b))),1)";if(bc(g[0])||!Kr.useColorMix){let _=g.map(C=>{let A=C/255;return A<=.04?A/12.92:Math.pow((A+.055)/1.055,2.4)}),T=.2126*_[0]+.7152*_[1]+.0722*_[2];return 1.05/(T+.05)>(T+.05)/.05?"#FFFFFF":"#000000"}return"color(from "+p+" srgb"+x+x+x+")"}button(p,g,x,_,T={},C,A,D,R,j){let O=this.label(p,g,x,R,void 0,void 0,j,void 0,"button"),V=this.styledMode,U=arguments,Y=0;T=ST(zre.global.buttonTheme,T),V&&(delete T.fill,delete T.stroke,delete T["stroke-width"]);let ne=T.states||{},K=T.style||{};delete T.states,delete T.style;let Z=[Gr.filterUserAttributes(T)],ae=[K];return V||["hover","select","disabled"].forEach((oe,xe)=>{Z.push(ST(Z[0],Gr.filterUserAttributes(U[xe+5]||ne[oe]||{}))),ae.push(Z[xe+1].style),delete Z[xe+1].style}),_y(O.element,SO?"mouseover":"mouseenter",function(){Y!==3&&O.setState(1)}),_y(O.element,SO?"mouseout":"mouseleave",function(){Y!==3&&O.setState(Y)}),O.setState=(oe=0)=>{if(oe!==1&&(O.state=Y=oe),O.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][oe]),!V){O.attr(Z[oe]);let xe=ae[oe];lv(xe)&&O.css(xe)}},O.attr(Z[0]),!V&&(O.css(xc({cursor:"default"},K)),j&&O.text.css({pointerEvents:"none"})),O.on("touchstart",oe=>oe.stopPropagation()).on("click",function(oe){Y!==3&&(_==null||_.call(O,oe))})}crispLine(p,g){let[x,_]=p;return yc(x[1])&&x[1]===_[1]&&(x[1]=_[1]=_O(x[1],g)),yc(x[2])&&x[2]===_[2]&&(x[2]=_[2]=_O(x[2],g)),p}path(p){let g=this.styledMode?{}:{fill:"none"};return $re(p)?g.d=p:lv(p)&&xc(g,p),this.createElement("path").attr(g)}circle(p,g,x){let _=lv(p)?p:p===void 0?{}:{x:p,y:g,r:x},T=this.createElement("circle");return T.xSetter=T.ySetter=function(C,A,D){D.setAttribute("c"+A,C)},T.attr(_)}arc(p,g,x,_,T,C){let A;lv(p)?(g=(A=p).y,x=A.r,_=A.innerR,T=A.start,C=A.end,p=A.x):A={innerR:_,start:T,end:C};let D=this.symbol("arc",p,g,x,x,A);return D.r=x,D}rect(p,g,x,_,T,C){let A=lv(p)?p:p===void 0?{}:{x:p,y:g,r:T,width:Math.max(x||0,0),height:Math.max(_||0,0)},D=this.createElement("rect");return this.styledMode||(C!==void 0&&(A["stroke-width"]=C,xc(A,D.crisp(A))),A.fill="none"),D.rSetter=function(R,j,O){D.r=R,wy(O,{rx:R,ry:R})},D.rGetter=function(){return D.r||0},D.attr(A)}roundedRect(p){return this.symbol("roundedRect").attr(p)}setSize(p,g,x){this.width=p,this.height=g,this.boxWrapper.animate({width:p,height:g},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:_T(x,!0)?void 0:0}),this.alignElements()}g(p){let g=this.createElement("g");return p?g.attr({class:"highcharts-"+p}):g}image(p,g,x,_,T,C){let A={preserveAspectRatio:"none"};bc(g)&&(A.x=g),bc(x)&&(A.y=x),bc(_)&&(A.width=_),bc(T)&&(A.height=T);let D=this.createElement("image").attr(A),R=function(j){D.attr({href:p}),C.call(D,j)};if(C){D.attr({href:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="});let j=new bT.Image;_y(j,"load",R),j.src=p,j.complete&&R({})}else D.attr({href:p});return D}symbol(p,g,x,_,T,C){var K,Z;let A,D,R,j,O=this,V=/^url\((.*?)\)$/,U=V.test(p),Y=!U&&(this.symbols[p]?p:"circle"),ne=Y&&this.symbols[Y];if(ne)typeof g=="number"&&(D=ne.call(this.symbols,g||0,x||0,_||0,T||0,C)),A=this.path(D),O.styledMode||A.attr("fill","none"),xc(A,{symbolName:Y||void 0,x:g,y:x,width:_,height:T}),C&&xc(A,C);else if(U){R=p.match(V)[1];let ae=A=this.image(R);ae.imgwidth=_T(C==null?void 0:C.width,(K=xT[R])==null?void 0:K.width),ae.imgheight=_T(C==null?void 0:C.height,(Z=xT[R])==null?void 0:Z.height),j=oe=>oe.attr({width:oe.width,height:oe.height}),["width","height"].forEach(oe=>{ae[`${oe}Setter`]=function(xe,ge){this[ge]=xe;let{alignByTranslate:be,element:Ie,width:we,height:De,imgwidth:Re,imgheight:Ue}=this,Xe=ge==="width"?Re:Ue,at=1;C&&C.backgroundSize==="within"&&we&&De&&Re&&Ue?(at=Math.min(we/Re,De/Ue),wy(Ie,{width:Math.round(Re*at),height:Math.round(Ue*at)})):Ie&&Xe&&Ie.setAttribute(ge,Xe),!be&&Re&&Ue&&this.translate(((we||0)-Re*at)/2,((De||0)-Ue*at)/2)}}),yc(g)&&ae.attr({x:g,y:x}),ae.isImg=!0,ae.symbolUrl=p,yc(ae.imgwidth)&&yc(ae.imgheight)?j(ae):(ae.attr({width:0,height:0}),Gre("img",{onload:function(){let oe=jre[O.chartIndex];this.width===0&&(Ty(this,{position:"absolute",top:"-999em"}),bf.body.appendChild(this)),xT[R]={width:this.width,height:this.height},ae.imgwidth=this.width,ae.imgheight=this.height,ae.element&&j(ae),this.parentNode&&this.parentNode.removeChild(this),O.imgCount--,O.imgCount||!oe||oe.hasLoaded||oe.onload()},src:R}),this.imgCount++)}return A}clipRect(p,g,x,_){return this.rect(p,g,x,_,0)}text(p,g,x,_){let T={};if(_&&(this.allowHTML||!this.forExport))return this.html(p,g,x);T.x=Math.round(g||0),x&&(T.y=Math.round(x)),yc(p)&&(T.text=p);let C=this.createElement("text").attr(T);return _&&(!this.forExport||this.allowHTML)||(C.xSetter=function(A,D,R){let j=R.getElementsByTagName("tspan"),O=R.getAttribute(D);for(let V=0,U;V<j.length;V++)(U=j[V]).getAttribute(D)===O&&U.setAttribute(D,A);R.setAttribute(D,A)}),C}fontMetrics(p){let g=bc(p)?p:Xre(qs.prototype.getStyle.call(p,"font-size")||0),x=g<24?g+3:Math.round(1.2*g),_=Math.round(.8*x);return{h:x,b:_,f:g}}rotCorr(p,g,x){let _=p;return g&&x&&(_=Math.max(_*Math.cos(g*xO),4)),{x:-p/3*Math.sin(g*xO),y:_}}pathToSegments(p){let g=[],x=[],_={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2};for(let T=0;T<p.length;T++)Yre(x[0])&&bc(p[T])&&x.length===_[x[0].toUpperCase()]&&p.splice(T,0,x[0].replace("M","L").replace("m","l")),typeof p[T]=="string"&&(x.length&&g.push(x.slice(0)),x.length=0),x.push(p[T]);return g.push(x.slice(0)),g}label(p,g,x,_,T,C,A,D,R){return new mc(this,p,g,x,_,T,C,A,D,R)}alignElements(){this.alignedObjects.forEach(p=>p.align())}}xc(Cy.prototype,{Element:qs,SVG_NS:Ure,escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},symbols:mO,draw:Vre}),iv.registerRendererType("svg",Cy,!0);let{composed:Zre,isFirefox:Qre}=J,{attr:Jre,css:Fl,createElement:ene,defined:wO,extend:tne,getAlignFactor:rne,isNumber:Ey,pInt:nne,pushUnique:ine}=ke;function TO(P,p,g){var _;let x=(_=this.div)==null?void 0:_.style;qs.prototype[`${p}Setter`].call(this,P,p,g),x&&(g.style[p]=x[p]=P)}let ane=(P,p)=>{var g;if(!P.div){let x=Jre(P.element,"class"),_=P.css,T=ene("div",x?{className:x}:void 0,{position:"absolute",left:`${P.translateX||0}px`,top:`${P.translateY||0}px`,...P.styles,display:P.display,opacity:P.opacity,visibility:P.visibility},((g=P.parentGroup)==null?void 0:g.div)||p);P.classSetter=(C,A,D)=>{D.setAttribute("class",C),T.className=C},P.translateXSetter=P.translateYSetter=(C,A)=>{P[A]=C,T.style[A==="translateX"?"left":"top"]=`${C}px`,P.doTransform=!0},P.scaleXSetter=P.scaleYSetter=(C,A)=>{P[A]=C,P.doTransform=!0},P.opacitySetter=P.visibilitySetter=TO,P.css=C=>(_.call(P,C),C.cursor&&(T.style.cursor=C.cursor),C.pointerEvents&&(T.style.pointerEvents=C.pointerEvents),P),P.on=function(){return qs.prototype.on.apply({element:T,onEvents:P.onEvents},arguments),P},P.div=T}return P.div};class Sf extends qs{static compose(p){ine(Zre,this.compose)&&(p.prototype.html=function(g,x,_){return new Sf(this,"span").attr({text:g,x:Math.round(x),y:Math.round(_)})})}constructor(p,g){super(p,g),Sf.useForeignObject?this.foreignObject=p.createElement("foreignObject").attr({zIndex:2}):this.css({position:"absolute",...p.styledMode?{}:{fontFamily:p.style.fontFamily,fontSize:p.style.fontSize}}),this.element.style.whiteSpace="nowrap"}getSpanCorrection(p,g,x){this.xCorr=-p*x,this.yCorr=-g}css(p){let g,{element:x}=this,_=x.tagName==="SPAN"&&p&&"width"in p,T=_&&p.width;return _&&(delete p.width,this.textWidth=nne(T)||void 0,g=!0),(p==null?void 0:p.textOverflow)==="ellipsis"&&(p.overflow="hidden",p.whiteSpace="nowrap"),p!=null&&p.lineClamp&&(p.display="-webkit-box",p.WebkitLineClamp=p.lineClamp,p.WebkitBoxOrient="vertical",p.overflow="hidden"),Ey(Number(p==null?void 0:p.fontSize))&&(p.fontSize+="px"),tne(this.styles,p),Fl(x,p),g&&this.updateTransform(),this}htmlGetBBox(){let{element:p}=this;return{x:p.offsetLeft,y:p.offsetTop,width:p.offsetWidth,height:p.offsetHeight}}updateTransform(){var oe;if(!this.added){this.alignOnAdd=!0;return}let{element:p,foreignObject:g,oldTextWidth:x,renderer:_,rotation:T,rotationOriginX:C,rotationOriginY:A,scaleX:D,scaleY:R,styles:{display:j="inline-block",whiteSpace:O},textAlign:V="left",textWidth:U,translateX:Y=0,translateY:ne=0,x:K=0,y:Z=0}=this,ae=()=>this.textPxLength?this.textPxLength:(Fl(p,{width:"",whiteSpace:O||"nowrap"}),p.offsetWidth);if(g||Fl(p,{marginLeft:`${Y}px`,marginTop:`${ne}px`}),p.tagName==="SPAN"){let xe,ge=[T,V,p.innerHTML,U,this.textAlign].join(","),be=-(((oe=this.parentGroup)==null?void 0:oe.padding)*1)||0;if(U!==x){let Re=ae(),Ue=U||0,Xe=!_.styledMode&&p.style.textOverflow===""&&p.style.webkitLineClamp;(Ue>x||Re>Ue||Xe)&&(/[\-\s\u00AD]/.test(p.textContent||p.innerText)||p.style.textOverflow==="ellipsis")&&(Fl(p,{width:(T||D||Re>Ue||Xe)&&Ey(U)?U+"px":"auto",display:j,whiteSpace:O||"normal"}),this.oldTextWidth=U)}g&&(Fl(p,{display:"inline-block",verticalAlign:"top"}),g.attr({width:_.width,height:_.height})),ge!==this.cTT&&(xe=_.fontMetrics(p).b,wO(T)&&!g&&(T!==(this.oldRotation||0)||V!==this.oldAlign)&&Fl(p,{transform:`rotate(${T}deg)`,transformOrigin:`${be}% ${be}px`}),this.getSpanCorrection(!wO(T)&&!this.textWidth&&this.textPxLength||p.offsetWidth,xe,rne(V)));let{xCorr:Ie=0,yCorr:we=0}=this,De={left:`${K+Ie}px`,top:`${Z+we}px`,textAlign:V,transformOrigin:`${(C??K)-Ie-K-be}px ${(A??Z)-we-Z-be}px`};(D||R)&&(De.transform=`scale(${D??1},${R??1})`),g?(super.updateTransform(),Ey(K)&&Ey(Z)?(g.attr({x:K+Ie,y:Z+we,width:p.offsetWidth+3,height:p.offsetHeight,"transform-origin":p.getAttribute("transform-origin")||"0 0"}),Fl(p,{display:j,textAlign:V})):Qre&&g.attr({width:0,height:0})):Fl(p,De),this.cTT=ge,this.oldRotation=T,this.oldAlign=V}}add(p){let{foreignObject:g,renderer:x}=this,_=x.box.parentNode,T=[];if(g)g.add(p),super.add(x.createElement("body").attr({xmlns:"http://www.w3.org/1999/xhtml"}).css({background:"transparent",margin:"0 3px 0 0"}).add(g));else{let C;if(this.parentGroup=p,p&&!(C=p.div)){let A=p;for(;A;)T.push(A),A=A.parentGroup;for(let D of T.reverse())C=ane(D,_)}(C||_).appendChild(this.element)}return this.added=!0,this.alignOnAdd&&this.updateTransform(),this}textSetter(p){p!==this.textStr&&(delete this.bBox,delete this.oldTextWidth,Gr.setElementHTML(this.element,p??""),this.textStr=p,this.doTransform=!0)}alignSetter(p){this.alignValue=this.textAlign=p,this.doTransform=!0}xSetter(p,g){this[g]=p,this.doTransform=!0}}let Sc=Sf.prototype;Sc.visibilitySetter=Sc.opacitySetter=TO,Sc.ySetter=Sc.rotationSetter=Sc.rotationOriginXSetter=Sc.rotationOriginYSetter=Sc.xSetter,(c=M||(M={})).xAxis={alignTicks:!0,allowDecimals:void 0,panningEnabled:!0,zIndex:2,zoomEnabled:!0,dateTimeLabelFormats:{millisecond:{main:"%[HMSL]",range:!1},second:{main:"%[HMS]",range:!1},minute:{main:"%[HM]",range:!1},hour:{main:"%[HM]",range:!1},day:{main:"%[eb]"},week:{main:"%[eb]"},month:{main:"%[bY]"},year:{main:"%Y"}},endOnTick:!1,gridLineDashStyle:"Solid",gridZIndex:1,labels:{autoRotationLimit:80,distance:15,enabled:!0,indentation:10,overflow:"justify",reserveSpace:void 0,rotation:void 0,staggerLines:0,step:0,useHTML:!1,zIndex:7,style:{color:"#333333",cursor:"default",fontSize:"0.8em",textOverflow:"ellipsis"}},maxPadding:.01,minorGridLineDashStyle:"Solid",minorTickLength:2,minorTickPosition:"outside",minorTicksPerMajor:5,minPadding:.01,offset:void 0,reversed:void 0,reversedStacks:!1,showEmpty:!0,showFirstLabel:!0,showLastLabel:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",title:{align:"middle",useHTML:!1,x:0,y:0,style:{color:"#666666",fontSize:"0.8em"}},visible:!0,minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#333333",lineWidth:1,gridLineColor:"#e6e6e6",gridLineWidth:void 0,tickColor:"#333333"},c.yAxis={reversedStacks:!0,endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:void 0},startOnTick:!0,title:{},stackLabels:{animation:{},allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){let{numberFormatter:P}=this.axis.chart;return P(this.total||0,-1)},style:{color:"#000000",fontSize:"0.7em",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0};let sne=M,{addEvent:one,isFunction:lne,objectEach:une,removeEvent:cne}=ke;(I||(I={})).registerEventOptions=function(P,p){P.eventOptions=P.eventOptions||{},une(p.events,function(g,x){P.eventOptions[x]!==g&&(P.eventOptions[x]&&(cne(P,x,P.eventOptions[x]),delete P.eventOptions[x]),lne(g)&&(P.eventOptions[x]=g,one(P,x,g,{order:0})))})};let Ay=I,{deg2rad:wT}=J,{clamp:hne,correctFloat:ky,defined:TT,destroyObjectProperties:fne,extend:CO,fireEvent:uv,getAlignFactor:dne,isNumber:Iy,merge:pne,objectEach:vne,pick:Ks}=ke,_f=class{constructor(P,p,g,x,_){this.isNew=!0,this.isNewLabel=!0,this.axis=P,this.pos=p,this.type=g||"",this.parameters=_||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,uv(this,"init"),g||x||this.addLabel()}addLabel(){var Ie,we;let P=this,p=P.axis,g=p.options,x=p.chart,_=p.categories,T=p.logarithmic,C=p.names,A=P.pos,D=Ks((Ie=P.options)==null?void 0:Ie.labels,g.labels),R=p.tickPositions,j=A===R[0],O=A===R[R.length-1],V=(!D.step||D.step===1)&&p.tickInterval===1,U=R.info,Y=P.label,ne,K,Z,ae=this.parameters.category||(_?Ks(_[A],C[A],A):A);T&&Iy(ae)&&(ae=ky(T.lin2log(ae))),p.dateTime&&(U?ne=(K=x.time.resolveDTLFormat(g.dateTimeLabelFormats[!((we=g.grid)!=null&&we.enabled)&&U.higherRanks[A]||U.unitName])).main:Iy(ae)&&(ne=p.dateTime.getXDateFormat(ae,g.dateTimeLabelFormats||{}))),P.isFirst=j,P.isLast=O;let oe={axis:p,chart:x,dateTimeLabelFormat:ne,isFirst:j,isLast:O,pos:A,tick:P,tickPositionInfo:U,value:ae};uv(this,"labelFormat",oe);let xe=De=>D.formatter?D.formatter.call(De,De):D.format?(De.text=p.defaultLabelFormatter.call(De),La.format(D.format,De,x)):p.defaultLabelFormatter.call(De),ge=xe.call(oe,oe),be=K==null?void 0:K.list;be?P.shortenLabel=function(){for(Z=0;Z<be.length;Z++)if(CO(oe,{dateTimeLabelFormat:be[Z]}),Y.attr({text:xe.call(oe,oe)}),Y.getBBox().width<p.getSlotWidth(P)-2*(D.padding||0))return;Y.attr({text:""})}:P.shortenLabel=void 0,V&&p._addedPlotLB&&P.moveLabel(ge,D),TT(Y)||P.movedLabel?Y&&Y.textStr!==ge&&!V&&(!Y.textWidth||D.style.width||Y.styles.width||Y.css({width:null}),Y.attr({text:ge}),Y.textPxLength=Y.getBBox().width):(P.label=Y=P.createLabel(ge,D),P.rotation=0)}createLabel(P,p,g){let x=this.axis,{renderer:_,styledMode:T}=x.chart,C=p.style.whiteSpace,A=TT(P)&&p.enabled?_.text(P,g==null?void 0:g.x,g==null?void 0:g.y,p.useHTML).add(x.labelGroup):void 0;return A&&(T||A.css(pne(p.style)),A.textPxLength=A.getBBox().width,!T&&C&&A.css({whiteSpace:C})),A}destroy(){fne(this,this.axis)}getPosition(P,p,g,x){let _=this.axis,T=_.chart,C=x&&T.oldChartHeight||T.chartHeight,A={x:P?ky(_.translate(p+g,void 0,void 0,x)+_.transB):_.left+_.offset+(_.opposite?(x&&T.oldChartWidth||T.chartWidth)-_.right-_.left:0),y:P?C-_.bottom+_.offset-(_.opposite?_.height:0):ky(C-_.translate(p+g,void 0,void 0,x)-_.transB)};return A.y=hne(A.y,-1e9,1e9),uv(this,"afterGetPosition",{pos:A}),A}getLabelPosition(P,p,g,x,_,T,C,A){let D,R,j=this.axis,O=j.transA,V=j.isLinked&&j.linkedParent?j.linkedParent.reversed:j.reversed,U=j.staggerLines,Y=j.tickRotCorr||{x:0,y:0},ne=x||j.reserveSpaceDefault?0:-j.labelOffset*(j.labelAlign==="center"?.5:1),K=_.distance,Z={};return D=j.side===0?g.rotation?-K:-g.getBBox().height:j.side===2?Y.y+K:Math.cos(g.rotation*wT)*(Y.y-g.getBBox(!1,0).height/2),TT(_.y)&&(D=j.side===0&&j.horiz?_.y+D:_.y),P=P+Ks(_.x,[0,1,0,-1][j.side]*K)+ne+Y.x-(T&&x?T*O*(V?-1:1):0),p=p+D-(T&&!x?T*O*(V?1:-1):0),U&&(R=C/(A||1)%U,j.opposite&&(R=U-R-1),p+=R*(j.labelOffset/U)),Z.x=P,Z.y=Math.round(p),uv(this,"afterGetLabelPosition",{pos:Z,tickmarkOffset:T,index:C}),Z}getLabelSize(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0}getMarkPath(P,p,g,x,_=!1,T){return T.crispLine([["M",P,p],["L",P+(_?0:-g),p+(_?g:0)]],x)}handleOverflow(P){var K;let p=this.axis,g=p.options.labels,x=P.x,_=p.chart.chartWidth,T=p.chart.spacing,C=Ks(p.labelLeft,Math.min(p.pos,T[3])),A=Ks(p.labelRight,Math.max(p.isRadial?0:p.pos+p.len,_-T[1])),D=this.label,R=this.rotation,j=dne(p.labelAlign||D.attr("align")),O=D.getBBox().width,V=p.getSlotWidth(this),U=V,Y=1,ne;R||g.overflow!=="justify"?R<0&&x-j*O<C?ne=Math.round(x/Math.cos(R*wT)-C):R>0&&x+j*O>A&&(ne=Math.round((_-x)/Math.cos(R*wT))):(x-j*O<C?U=P.x+U*(1-j)-C:x+(1-j)*O>A&&(U=A-P.x+U*j,Y=-1),(U=Math.min(V,U))<V&&p.labelAlign==="center"&&(P.x+=Y*(V-U-j*(V-Math.min(O,U)))),(O>U||p.autoRotation&&((K=D==null?void 0:D.styles)!=null&&K.width))&&(ne=U)),ne&&D&&(this.shortenLabel?this.shortenLabel():D.css(CO({},{width:Math.floor(ne)+"px",lineClamp:+!p.isRadial})))}moveLabel(P,p){let g=this,x=g.label,_=g.axis,T=!1,C;x&&x.textStr===P?(g.movedLabel=x,T=!0,delete g.label):vne(_.ticks,function(A){T||A.isNew||A===g||!A.label||A.label.textStr!==P||(g.movedLabel=A.label,T=!0,A.labelPos=g.movedLabel.xy,delete A.label)}),!T&&(g.labelPos||x)&&(C=g.labelPos||x.xy,g.movedLabel=g.createLabel(P,p,C),g.movedLabel&&g.movedLabel.attr({opacity:0}))}render(P,p,g){var Y;let x=this.axis,_=x.horiz,T=this.pos,C=Ks(this.tickmarkOffset,x.tickmarkOffset),A=this.getPosition(_,T,C,p),D=A.x,R=A.y,j=x.pos,O=j+x.len,V=_?D:R,U=Ks(g,(Y=this.label)==null?void 0:Y.newOpacity,1);!x.chart.polar&&(ky(V)<j||V>O)&&(g=0),g??(g=1),this.isActive=!0,this.renderGridLine(p,g),this.renderMark(A,g),this.renderLabel(A,p,U,P),this.isNew=!1,uv(this,"afterRender")}renderGridLine(P,p){let g=this.axis,x=g.options,_={},T=this.pos,C=this.type,A=Ks(this.tickmarkOffset,g.tickmarkOffset),D=g.chart.renderer,R=this.gridLine,j,O=x.gridLineWidth,V=x.gridLineColor,U=x.gridLineDashStyle;this.type==="minor"&&(O=x.minorGridLineWidth,V=x.minorGridLineColor,U=x.minorGridLineDashStyle),R||(g.chart.styledMode||(_.stroke=V,_["stroke-width"]=O||0,_.dashstyle=U),C||(_.zIndex=1),P&&(p=0),this.gridLine=R=D.path().attr(_).addClass("highcharts-"+(C?C+"-":"")+"grid-line").add(g.gridGroup)),R&&(j=g.getPlotLinePath({value:T+A,lineWidth:R.strokeWidth(),force:"pass",old:P,acrossPanes:!1}))&&R[P||this.isNew?"attr":"animate"]({d:j,opacity:p})}renderMark(P,p){let g=this.axis,x=g.options,_=g.chart.renderer,T=this.type,C=g.tickSize(T?T+"Tick":"tick"),A=P.x,D=P.y,R=Ks(x[T!=="minor"?"tickWidth":"minorTickWidth"],!T&&g.isXAxis?1:0),j=x[T!=="minor"?"tickColor":"minorTickColor"],O=this.mark,V=!O;C&&(g.opposite&&(C[0]=-C[0]),!O&&(this.mark=O=_.path().addClass("highcharts-"+(T?T+"-":"")+"tick").add(g.axisGroup),g.chart.styledMode||O.attr({stroke:j,"stroke-width":R})),O[V?"attr":"animate"]({d:this.getMarkPath(A,D,C[0],O.strokeWidth(),g.horiz,_),opacity:p}))}renderLabel(P,p,g,x){let _=this.axis,T=_.horiz,C=_.options,A=this.label,D=C.labels,R=D.step,j=Ks(this.tickmarkOffset,_.tickmarkOffset),O=P.x,V=P.y,U=!0;A&&Iy(O)&&(A.xy=P=this.getLabelPosition(O,V,A,T,D,j,x,R),(!this.isFirst||this.isLast||C.showFirstLabel)&&(!this.isLast||this.isFirst||C.showLastLabel)?!T||D.step||D.rotation||p||g===0||this.handleOverflow(P):U=!1,R&&x%R&&(U=!1),U&&Iy(P.y)?(P.opacity=g,A[this.isNewLabel?"attr":"animate"](P).show(!0),this.isNewLabel=!1):(A.hide(),this.isNewLabel=!0))}replaceMovedLabel(){let P=this.label,p=this.axis;P&&!this.isNew&&(P.animate({opacity:0},void 0,P.destroy),delete this.label),p.isDirty=!0,this.label=this.movedLabel,delete this.movedLabel}},{animObject:gne}=Kn,{xAxis:EO,yAxis:mne}=sne,{defaultOptions:CT}=Ma,{registerEventOptions:yne}=Ay,{deg2rad:xne}=J,{arrayMax:AO,arrayMin:bne,clamp:Dy,correctFloat:fa,defined:Rr,destroyObjectProperties:Sne,erase:kO,error:ET,extend:My,fireEvent:Zr,getClosestDistance:IO,insertItem:_ne,isArray:DO,isNumber:Ft,isString:MO,merge:Ly,normalizeTickInterval:wne,objectEach:Ny,pick:rr,relativeLength:Py,removeEvent:Tne,splat:Cne,syncTimeout:Ene}=ke,LO=(P,p)=>wne(p,void 0,void 0,rr(P.options.allowDecimals,p<.5||P.tickAmount!==void 0),!!P.tickAmount);My(CT,{xAxis:EO,yAxis:Ly(EO,mne)});class wf{constructor(p,g,x){this.init(p,g,x)}init(p,g,x=this.coll){let _=x==="xAxis",T=this.isZAxis||(p.inverted?!_:_);this.chart=p,this.horiz=T,this.isXAxis=_,this.coll=x,Zr(this,"init",{userOptions:g}),this.opposite=rr(g.opposite,this.opposite),this.side=rr(g.side,this.side,T?2*!this.opposite:this.opposite?1:3),this.setOptions(g);let C=this.options,A=C.labels;this.type??(this.type=C.type||"linear"),this.uniqueNames??(this.uniqueNames=C.uniqueNames??!0),Zr(this,"afterSetType"),this.userOptions=g,this.minPixelPadding=0,this.reversed=rr(C.reversed,this.reversed),this.visible=C.visible,this.zoomEnabled=C.zoomEnabled,this.hasNames=this.type==="category"||C.categories===!0,this.categories=DO(C.categories)&&C.categories||(this.hasNames?[]:void 0),this.names||(this.names=[],this.names.keys={}),this.plotLinesAndBandsGroups={},this.positiveValuesOnly=!!this.logarithmic,this.isLinked=Rr(C.linkedTo),this.ticks={},this.labelEdge=[],this.minorTicks={},this.plotLinesAndBands=[],this.alternateBands={},this.len??(this.len=0),this.minRange=this.userMinRange=C.minRange||C.maxZoom,this.range=C.range,this.offset=C.offset||0,this.max=void 0,this.min=void 0;let D=rr(C.crosshair,Cne(p.options.tooltip.crosshairs)[+!_]);this.crosshair=D===!0?{}:D,p.axes.indexOf(this)===-1&&(_?p.axes.splice(p.xAxis.length,0,this):p.axes.push(this),_ne(this,p[this.coll])),p.orderItems(this.coll),this.series=this.series||[],p.inverted&&!this.isZAxis&&_&&!Rr(this.reversed)&&(this.reversed=!0),this.labelRotation=Ft(A.rotation)?A.rotation:void 0,yne(this,C),Zr(this,"afterInit")}setOptions(p){let g=this.horiz?{labels:{autoRotation:[-45],padding:3},margin:15}:{labels:{padding:1},title:{rotation:90*this.side}};this.options=Ly(g,this.coll==="yAxis"?{title:{text:this.chart.options.lang.yAxisTitle}}:{},CT[this.coll],p),Zr(this,"afterSetOptions",{userOptions:p})}defaultLabelFormatter(){let p=this.axis,{numberFormatter:g}=this.chart,x=Ft(this.value)?this.value:NaN,_=p.chart.time,T=p.categories,C=this.dateTimeLabelFormat,A=CT.lang,D=A.numericSymbols,R=A.numericSymbolMagnitude||1e3,j=p.logarithmic?Math.abs(x):p.tickInterval,O=D==null?void 0:D.length,V,U;if(T)U=`${this.value}`;else if(C)U=_.dateFormat(C,x,!0);else if(O&&D&&j>=1e3)for(;O--&&U===void 0;)j>=(V=Math.pow(R,O+1))&&10*x%V==0&&D[O]!==null&&x!==0&&(U=g(x/V,-1)+D[O]);return U===void 0&&(U=Math.abs(x)>=1e4?g(x,-1):g(x,-1,void 0,"")),U}getSeriesExtremes(){let p,g=this;Zr(this,"getSeriesExtremes",null,function(){g.hasVisibleSeries=!1,g.dataMin=g.dataMax=g.threshold=void 0,g.softThreshold=!g.isXAxis,g.series.forEach(x=>{if(x.reserveSpace()){let _=x.options,T,C=_.threshold,A,D;if(g.hasVisibleSeries=!0,g.positiveValuesOnly&&0>=(C||0)&&(C=void 0),g.isXAxis)(T=x.getColumn("x")).length&&(T=g.logarithmic?T.filter(R=>R>0):T,A=(p=x.getXExtremes(T)).min,D=p.max,Ft(A)||A instanceof Date||(T=T.filter(Ft),A=(p=x.getXExtremes(T)).min,D=p.max),T.length&&(g.dataMin=Math.min(rr(g.dataMin,A),A),g.dataMax=Math.max(rr(g.dataMax,D),D)));else{let R=x.applyExtremes();Ft(R.dataMin)&&(A=R.dataMin,g.dataMin=Math.min(rr(g.dataMin,A),A)),Ft(R.dataMax)&&(D=R.dataMax,g.dataMax=Math.max(rr(g.dataMax,D),D)),Rr(C)&&(g.threshold=C),(!_.softThreshold||g.positiveValuesOnly)&&(g.softThreshold=!1)}}})}),Zr(this,"afterGetSeriesExtremes")}translate(p,g,x,_,T,C){var ne;let A=this.linkedParent||this,D=_&&A.old?A.old.min:A.min;if(!Ft(D))return NaN;let R=A.minPixelPadding,j=(A.isOrdinal||((ne=A.brokenAxis)==null?void 0:ne.hasBreaks)||A.logarithmic&&T)&&!!A.lin2val,O=1,V=0,U=_&&A.old?A.old.transA:A.transA,Y=0;return U||(U=A.transA),x&&(O*=-1,V=A.len),A.reversed&&(O*=-1,V-=O*(A.sector||A.len)),g?(Y=(p=p*O+V-R)/U+D,j&&(Y=A.lin2val(Y))):(j&&(p=A.val2lin(p)),Y=O*(p-D)*U+V+O*R+(Ft(C)?U*C:0),A.isRadial||(Y=fa(Y))),Y}toPixels(p,g){var x;return this.translate(((x=this.chart)==null?void 0:x.time.parse(p))??NaN,!1,!this.horiz,void 0,!0)+(g?0:this.pos)}toValue(p,g){return this.translate(p-(g?0:this.pos),!0,!this.horiz,void 0,!0)}getPlotLinePath(p){let g=this,x=g.chart,_=g.left,T=g.top,C=p.old,A=p.value,D=p.lineWidth,R=C&&x.oldChartHeight||x.chartHeight,j=C&&x.oldChartWidth||x.chartWidth,O=g.transB,V=p.translatedValue,U=p.force,Y,ne,K,Z,ae;function oe(ge,be,Ie){return U!=="pass"&&(ge<be||ge>Ie)&&(U?ge=Dy(ge,be,Ie):ae=!0),ge}let xe={value:A,lineWidth:D,old:C,force:U,acrossPanes:p.acrossPanes,translatedValue:V};return Zr(this,"getPlotLinePath",xe,function(ge){Y=K=(V=Dy(V=rr(V,g.translate(A,void 0,void 0,C)),-1e9,1e9))+O,ne=Z=R-V-O,Ft(V)?g.horiz?(ne=T,Z=R-g.bottom+(g.options.isInternal?0:x.scrollablePixelsY||0),Y=K=oe(Y,_,_+g.width)):(Y=_,K=j-g.right+(x.scrollablePixelsX||0),ne=Z=oe(ne,T,T+g.height)):(ae=!0,U=!1),ge.path=ae&&!U?void 0:x.renderer.crispLine([["M",Y,ne],["L",K,Z]],D||1)}),xe.path}getLinearTickPositions(p,g,x){let _,T,C,A=fa(Math.floor(g/p)*p),D=fa(Math.ceil(x/p)*p),R=[];if(fa(A+p)===A&&(C=20),this.single)return[g];for(_=A;_<=D&&(R.push(_),(_=fa(_+p,C))!==T);)T=_;return R}getMinorTickInterval(){let{minorTicks:p,minorTickInterval:g}=this.options;return p===!0?rr(g,"auto"):p!==!1?g:void 0}getMinorTickPositions(){var j;let p=this.options,g=this.tickPositions,x=this.minorTickInterval,_=this.pointRangePadding||0,T=(this.min||0)-_,C=(this.max||0)+_,A=(j=this.brokenAxis)!=null&&j.hasBreaks?this.brokenAxis.unitLength:C-T,D=[],R;if(A&&A/x<this.len/3){let O=this.logarithmic;if(O)this.paddedTicks.forEach(function(V,U,Y){U&&D.push.apply(D,O.getLogTickPositions(x,Y[U-1],Y[U],!0))});else if(this.dateTime&&this.getMinorTickInterval()==="auto")D=D.concat(this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(x),T,C,p.startOfWeek));else for(R=T+(g[0]-T)%x;R<=C&&R!==D[0];R+=x)D.push(R)}return D.length!==0&&this.trimTicks(D),D}adjustForMinRange(){let p=this.options,g=this.logarithmic,x=this.chart.time,{max:_,min:T,minRange:C}=this,A,D,R,j;this.isXAxis&&C===void 0&&!g&&(C=Rr(p.min)||Rr(p.max)||Rr(p.floor)||Rr(p.ceiling)?null:Math.min(5*(IO(this.series.map(O=>{let V=O.getColumn("x");return O.xIncrement?V.slice(0,2):V}))||0),this.dataMax-this.dataMin)),Ft(_)&&Ft(T)&&Ft(C)&&_-T<C&&(D=this.dataMax-this.dataMin>=C,A=(C-_+T)/2,R=[T-A,x.parse(p.min)??T-A],D&&(R[2]=g?g.log2lin(this.dataMin):this.dataMin),j=[(T=AO(R))+C,x.parse(p.max)??T+C],D&&(j[2]=g?g.log2lin(this.dataMax):this.dataMax),(_=bne(j))-T<C&&(R[0]=_-C,R[1]=x.parse(p.min)??_-C,T=AO(R))),this.minRange=C,this.min=T,this.max=_}getClosest(){let p,g;if(this.categories)g=1;else{let x=[];this.series.forEach(function(_){let T=_.closestPointRange,C=_.getColumn("x");C.length===1?x.push(C[0]):_.sorted&&Rr(T)&&_.reserveSpace()&&(g=Rr(g)?Math.min(g,T):T)}),x.length&&(x.sort((_,T)=>_-T),p=IO([x]))}return p&&g?Math.min(p,g):p||g}nameToX(p){let g=DO(this.options.categories),x=g?this.categories:this.names,_=p.options.x,T;return p.series.requireSorting=!1,Rr(_)||(_=this.uniqueNames&&x?g?x.indexOf(p.name):rr(x.keys[p.name],-1):p.series.autoIncrement()),_===-1?!g&&x&&(T=x.length):Ft(_)&&(T=_),T!==void 0?(this.names[T]=p.name,this.names.keys[p.name]=T):p.x&&(T=p.x),T}updateNames(){let p=this,g=this.names;g.length>0&&(Object.keys(g.keys).forEach(function(x){delete g.keys[x]}),g.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach(x=>{x.xIncrement=null,(!x.points||x.isDirtyData)&&(p.max=Math.max(p.max||0,x.dataTable.rowCount-1),x.processData(),x.generatePoints());let _=x.getColumn("x").slice();x.data.forEach((T,C)=>{let A=_[C];T!=null&&T.options&&T.name!==void 0&&(A=p.nameToX(T))!==void 0&&A!==T.x&&(_[C]=T.x=A)}),x.dataTable.setColumn("x",_)}))}setAxisTranslation(){var V;let p=this,g=p.max-p.min,x=p.linkedParent,_=!!p.categories,T=p.isXAxis,C=p.axisPointRange||0,A,D=0,R=0,j,O=p.transA;(T||_||C)&&(A=p.getClosest(),x?(D=x.minPointOffset,R=x.pointRangePadding):p.series.forEach(function(U){let Y=_?1:T?rr(U.options.pointRange,A,0):p.axisPointRange||0,ne=U.options.pointPlacement;if(C=Math.max(C,Y),!p.single||_){let K=U.is("xrange")?!T:T;D=Math.max(D,K&&MO(ne)?0:Y/2),R=Math.max(R,K&&ne==="on"?0:Y)}}),j=(V=p.ordinal)!=null&&V.slope&&A?p.ordinal.slope/A:1,p.minPointOffset=D*=j,p.pointRangePadding=R*=j,p.pointRange=Math.min(C,p.single&&_?1:g),T&&(p.closestPointRange=A)),p.translationSlope=p.transA=O=p.staticScale||p.len/(g+R||1),p.transB=p.horiz?p.left:p.bottom,p.minPixelPadding=O*D,Zr(this,"afterSetAxisTranslation")}minFromRange(){let{max:p,min:g}=this;return Ft(p)&&Ft(g)&&p-g||void 0}setTickInterval(p){var st,gt,pt,Pt;let{categories:g,chart:x,dataMax:_,dataMin:T,dateTime:C,isXAxis:A,logarithmic:D,options:R,softThreshold:j}=this,O=x.time,V=Ft(this.threshold)?this.threshold:void 0,U=this.minRange||0,{ceiling:Y,floor:ne,linkedTo:K,softMax:Z,softMin:ae}=R,oe=Ft(K)&&((st=x[this.coll])==null?void 0:st[K]),xe=R.tickPixelInterval,ge=R.maxPadding,be=R.minPadding,Ie=0,we,De=Ft(R.tickInterval)&&R.tickInterval>=0?R.tickInterval:void 0,Re,Ue,Xe,at;if(C||g||oe||this.getTickAmount(),Xe=rr(this.userMin,O.parse(R.min)),at=rr(this.userMax,O.parse(R.max)),oe?(this.linkedParent=oe,we=oe.getExtremes(),this.min=rr(we.min,we.dataMin),this.max=rr(we.max,we.dataMax),this.type!==oe.type&&ET(11,!0,x)):(j&&Rr(V)&&Ft(_)&&Ft(T)&&(T>=V?(Re=V,be=0):_<=V&&(Ue=V,ge=0)),this.min=rr(Xe,Re,T),this.max=rr(at,Ue,_)),Ft(this.max)&&Ft(this.min)&&(D&&(this.positiveValuesOnly&&!p&&0>=Math.min(this.min,rr(T,this.min))&&ET(10,!0,x),this.min=fa(D.log2lin(this.min),16),this.max=fa(D.log2lin(this.max),16)),this.range&&Ft(T)&&(this.userMin=this.min=Xe=Math.max(T,this.minFromRange()||0),this.userMax=at=this.max,this.range=void 0)),Zr(this,"foundExtremes"),this.adjustForMinRange(),Ft(this.min)&&Ft(this.max)){if(!Ft(this.userMin)&&Ft(ae)&&ae<this.min&&(this.min=Xe=ae),!Ft(this.userMax)&&Ft(Z)&&Z>this.max&&(this.max=at=Z),g||this.axisPointRange||(gt=this.stacking)!=null&&gt.usePercentage||oe||(Ie=this.max-this.min)&&(!Rr(Xe)&&be&&(this.min-=Ie*be),!Rr(at)&&ge&&(this.max+=Ie*ge)),!Ft(this.userMin)&&Ft(ne)&&(this.min=Math.max(this.min,ne)),!Ft(this.userMax)&&Ft(Y)&&(this.max=Math.min(this.max,Y)),j&&Ft(T)&&Ft(_)){let Vt=V||0;!Rr(Xe)&&this.min<Vt&&T>=Vt?this.min=R.minRange?Math.min(Vt,this.max-U):Vt:!Rr(at)&&this.max>Vt&&_<=Vt&&(this.max=R.minRange?Math.max(Vt,this.min+U):Vt)}!x.polar&&this.min>this.max&&(Rr(R.min)?this.max=this.min:Rr(R.max)&&(this.min=this.max)),Ie=this.max-this.min}if(this.min!==this.max&&Ft(this.min)&&Ft(this.max)?oe&&!De&&xe===oe.options.tickPixelInterval?this.tickInterval=De=oe.tickInterval:this.tickInterval=rr(De,this.tickAmount?Ie/Math.max(this.tickAmount-1,1):void 0,g?1:Ie*xe/Math.max(this.len,xe)):this.tickInterval=1,A&&!p){let Vt=this.min!==((pt=this.old)==null?void 0:pt.min)||this.max!==((Pt=this.old)==null?void 0:Pt.max);this.series.forEach(function(Ar){var Fr;Ar.forceCrop=(Fr=Ar.forceCropping)==null?void 0:Fr.call(Ar),Ar.processData(Vt)}),Zr(this,"postProcessData",{hasExtremesChanged:Vt})}this.setAxisTranslation(),Zr(this,"initialAxisTranslation"),this.pointRange&&!De&&(this.tickInterval=Math.max(this.pointRange,this.tickInterval));let xt=rr(R.minTickInterval,C&&!this.series.some(Vt=>!Vt.sorted)?this.closestPointRange:0);!De&&xt&&this.tickInterval<xt&&(this.tickInterval=xt),C||D||De||(this.tickInterval=LO(this,this.tickInterval)),this.tickAmount||(this.tickInterval=this.unsquish()),this.setTickPositions()}setTickPositions(){var j,O;let p=this.options,g=p.tickPositions,x=p.tickPositioner,_=this.getMinorTickInterval(),T=!this.isPanning,C=T&&p.startOnTick,A=T&&p.endOnTick,D=[],R;if(this.tickmarkOffset=this.categories&&p.tickmarkPlacement==="between"&&this.tickInterval===1?.5:0,this.single=this.min===this.max&&Rr(this.min)&&!this.tickAmount&&(this.min%1==0||p.allowDecimals!==!1),g)D=g.slice();else if(Ft(this.min)&&Ft(this.max)){if(!((j=this.ordinal)!=null&&j.positions)&&(this.max-this.min)/this.tickInterval>Math.max(2*this.len,200))D=[this.min,this.max],ET(19,!1,this.chart);else if(this.dateTime)D=this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(this.tickInterval,p.units),this.min,this.max,p.startOfWeek,(O=this.ordinal)==null?void 0:O.positions,this.closestPointRange,!0);else if(this.logarithmic)D=this.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max);else{let V=this.tickInterval,U=V;for(;U<=2*V&&(D=this.getLinearTickPositions(this.tickInterval,this.min,this.max),this.tickAmount&&D.length>this.tickAmount);)this.tickInterval=LO(this,U*=1.1)}D.length>this.len&&(D=[D[0],D[D.length-1]])[0]===D[1]&&(D.length=1),x&&(this.tickPositions=D,(R=x.apply(this,[this.min,this.max]))&&(D=R))}this.tickPositions=D,this.minorTickInterval=_==="auto"&&this.tickInterval?this.tickInterval/p.minorTicksPerMajor:_,this.paddedTicks=D.slice(0),this.trimTicks(D,C,A),!this.isLinked&&Ft(this.min)&&Ft(this.max)&&(this.single&&D.length<2&&!this.categories&&!this.series.some(V=>V.is("heatmap")&&V.options.pointPlacement==="between")&&(this.min-=.5,this.max+=.5),g||R||this.adjustTickAmount()),Zr(this,"afterSetTickPositions")}trimTicks(p,g,x){let _=p[0],T=p[p.length-1],C=!this.isOrdinal&&this.minPointOffset||0;if(Zr(this,"trimTicks"),!this.isLinked||!this.grid){if(g&&_!==-1/0)this.min=_;else for(;this.min-C>p[0];)p.shift();if(x)this.max=T;else for(;this.max+C<p[p.length-1];)p.pop();p.length===0&&Rr(_)&&!this.options.tickPositions&&p.push((T+_)/2)}}alignToOthers(){let p,g=this,x=g.chart,_=[this],T=g.options,C=x.options.chart,A=this.coll==="yAxis"&&C.alignThresholds,D=[];if(g.thresholdAlignment=void 0,(C.alignTicks!==!1&&T.alignTicks||A)&&T.startOnTick!==!1&&T.endOnTick!==!1&&!g.logarithmic){let R=O=>{let{horiz:V,options:U}=O;return[V?U.left:U.top,U.width,U.height,U.pane].join(",")},j=R(this);x[this.coll].forEach(function(O){let{series:V}=O;V.length&&V.some(U=>U.visible)&&O!==g&&R(O)===j&&(p=!0,_.push(O))})}if(p&&A){_.forEach(j=>{let O=j.getThresholdAlignment(g);Ft(O)&&D.push(O)});let R=D.length>1?D.reduce((j,O)=>j+=O,0)/D.length:void 0;_.forEach(j=>{j.thresholdAlignment=R})}return p}getThresholdAlignment(p){if((!Ft(this.dataMin)||this!==p&&this.series.some(g=>{var x;return g.isDirty||g.isDirtyData||((x=g.xAxis)==null?void 0:x.isDirty)}))&&this.getSeriesExtremes(),Ft(this.threshold)){let g=Dy((this.threshold-(this.dataMin||0))/((this.dataMax||0)-(this.dataMin||0)),0,1);return this.options.reversed&&(g=1-g),g}}getTickAmount(){let p=this.options,g=p.tickPixelInterval,x=p.tickAmount;Rr(p.tickInterval)||x||!(this.len<g)||this.isRadial||this.logarithmic||!p.startOnTick||!p.endOnTick||(x=2),!x&&this.alignToOthers()&&(x=Math.ceil(this.len/g)+1),x<4&&(this.finalTickAmt=x,x=5),this.tickAmount=x}adjustTickAmount(){let p=this,{finalTickAmt:g,max:x,min:_,options:T,tickPositions:C,tickAmount:A,thresholdAlignment:D}=p,R=C==null?void 0:C.length,j=rr(p.threshold,p.softThreshold?0:null),O,V,U=p.tickInterval,Y,ne=()=>C.push(fa(C[C.length-1]+U)),K=()=>C.unshift(fa(C[0]-U));if(Ft(D)&&(Y=D===0?0:D===1?A-1:Math.round(Dy(D*(A-1),1,A-2)),T.reversed&&(Y=A-1-Y)),p.hasData()&&Ft(_)&&Ft(x)){let Z=()=>{p.transA*=(R-1)/(A-1),p.min=T.startOnTick?C[0]:Math.min(_,C[0]),p.max=T.endOnTick?C[C.length-1]:Math.max(x,C[C.length-1])};if(Ft(Y)&&Ft(p.threshold)){for(;C[Y]!==j||C.length!==A||C[0]>_||C[C.length-1]<x;){for(C.length=0,C.push(p.threshold);C.length<A;)C[Y]===void 0||C[Y]>p.threshold?K():ne();if(U>8*p.tickInterval)break;U*=2}Z()}else if(R<A){for(;C.length<A;)C.length%2||_===j?ne():K();Z()}if(Rr(g)){for(V=O=C.length;V--;)(g===3&&V%2==1||g<=2&&V>0&&V<O-1)&&C.splice(V,1);p.finalTickAmt=void 0}}}setScale(){var C,A,D,R,j;let{coll:p,stacking:g}=this,x=!1,_=!1;this.series.forEach(O=>{var V;x=x||O.isDirtyData||O.isDirty,_=_||((V=O.xAxis)==null?void 0:V.isDirty)||!1}),this.setAxisSize();let T=this.len!==((C=this.old)==null?void 0:C.len);T||x||_||this.isLinked||this.forceRedraw||this.userMin!==((A=this.old)==null?void 0:A.userMin)||this.userMax!==((D=this.old)==null?void 0:D.userMax)||this.alignToOthers()?(g&&p==="yAxis"&&g.buildStacks(),this.forceRedraw=!1,this.userMinRange||(this.minRange=void 0),this.getSeriesExtremes(),this.setTickInterval(),g&&p==="xAxis"&&g.buildStacks(),this.isDirty||(this.isDirty=T||this.min!==((R=this.old)==null?void 0:R.min)||this.max!==((j=this.old)==null?void 0:j.max))):g&&g.cleanStacks(),x&&delete this.allExtremes,Zr(this,"afterSetScale")}setExtremes(p,g,x=!0,_,T){let C=this.chart;this.series.forEach(A=>{delete A.kdTree}),p=C.time.parse(p),g=C.time.parse(g),Zr(this,"setExtremes",T=My(T,{min:p,max:g}),A=>{this.userMin=A.min,this.userMax=A.max,this.eventArgs=A,x&&C.redraw(_)})}setAxisSize(){let p=this.chart,g=this.options,x=g.offsets||[0,0,0,0],_=this.horiz,T=this.width=Math.round(Py(rr(g.width,p.plotWidth-x[3]+x[1]),p.plotWidth)),C=this.height=Math.round(Py(rr(g.height,p.plotHeight-x[0]+x[2]),p.plotHeight)),A=this.top=Math.round(Py(rr(g.top,p.plotTop+x[0]),p.plotHeight,p.plotTop)),D=this.left=Math.round(Py(rr(g.left,p.plotLeft+x[3]),p.plotWidth,p.plotLeft));this.bottom=p.chartHeight-C-A,this.right=p.chartWidth-T-D,this.len=Math.max(_?T:C,0),this.pos=_?D:A}getExtremes(){let p=this.logarithmic;return{min:p?fa(p.lin2log(this.min)):this.min,max:p?fa(p.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}}getThreshold(p){let g=this.logarithmic,x=g?g.lin2log(this.min):this.min,_=g?g.lin2log(this.max):this.max;return p===null||p===-1/0?p=x:p===1/0?p=_:x>p?p=x:_<p&&(p=_),this.translate(p,0,1,0,1)}autoLabelAlign(p){let g=((p-90*this.side)%360+360)%360,x={align:"center"};return Zr(this,"autoLabelAlign",x,function(_){g>15&&g<165?_.align="right":g>195&&g<345&&(_.align="left")}),x.align}tickSize(p){let g=this.options,x=rr(g[p==="tick"?"tickWidth":"minorTickWidth"],p==="tick"&&this.isXAxis&&!this.categories?1:0),_=g[p==="tick"?"tickLength":"minorTickLength"],T;x&&_&&(g[p+"Position"]==="inside"&&(_=-_),T=[_,x]);let C={tickSize:T};return Zr(this,"afterTickSize",C),C.tickSize}labelMetrics(){let p=this.chart.renderer,g=this.ticks,x=g[Object.keys(g)[0]]||{};return this.chart.renderer.fontMetrics(x.label||x.movedLabel||p.box)}unsquish(){let p=this.options.labels,g=p.padding||0,x=this.horiz,_=this.tickInterval,T=this.len/((+!!this.categories+this.max-this.min)/_),C=p.rotation,A=fa(.8*this.labelMetrics().h),D=Math.max(this.max-this.min,0),R=function(Y){let ne=(Y+2*g)/(T||1);return(ne=ne>1?Math.ceil(ne):1)*_>D&&Y!==1/0&&T!==1/0&&D&&(ne=Math.ceil(D/_)),fa(ne*_)},j=_,O,V=Number.MAX_VALUE,U;if(x){if(!p.staggerLines&&(Ft(C)?U=[C]:T<p.autoRotationLimit&&(U=p.autoRotation)),U){let Y,ne;for(let K of U)(K===C||K&&K>=-90&&K<=90)&&(ne=(Y=R(Math.abs(A/Math.sin(xne*K))))+Math.abs(K/360))<V&&(V=ne,O=K,j=Y)}}else j=R(.75*A);return this.autoRotation=U,this.labelRotation=rr(O,Ft(C)?C:0),p.step?_:j}getSlotWidth(p){let g=this.chart,x=this.horiz,_=this.options.labels,T=Math.max(this.tickPositions.length-!this.categories,1),C=g.margin[3];if(p&&Ft(p.slotWidth))return p.slotWidth;if(x&&_.step<2&&!this.isRadial)return _.rotation?0:(this.staggerLines||1)*this.len/T;if(!x){let A=_.style.width;if(A!==void 0)return parseInt(String(A),10);if(!this.opposite&&C)return C-g.spacing[3]}return .33*g.chartWidth}renderUnsquish(){let p=this.chart,g=p.renderer,x=this.tickPositions,_=this.ticks,T=this.options.labels,C=T.style,A=this.horiz,D=this.getSlotWidth(),R=Math.max(1,Math.round(D-(A?2*(T.padding||0):T.distance||0))),j={},O=this.labelMetrics(),V=C.lineClamp,U,Y=V??(Math.floor(this.len/(x.length*O.h))||1),ne=0;MO(T.rotation)||(j.rotation=T.rotation||0),x.forEach(function(K){var oe;let Z=_[K];Z.movedLabel&&Z.replaceMovedLabel();let ae=((oe=Z.label)==null?void 0:oe.textPxLength)||0;ae>ne&&(ne=ae)}),this.maxLabelLength=ne,this.autoRotation?ne>R&&ne>O.h?j.rotation=this.labelRotation:this.labelRotation=0:D&&(U=R),j.rotation&&(U=ne>.5*p.chartHeight?.33*p.chartHeight:ne,V||(Y=1)),this.labelAlign=T.align||this.autoLabelAlign(this.labelRotation||0),this.labelAlign&&(j.align=this.labelAlign),x.forEach(function(K){let Z=_[K],ae=Z==null?void 0:Z.label,oe=C.width,xe={};ae&&(ae.attr(j),Z.shortenLabel?Z.shortenLabel():U&&!oe&&C.whiteSpace!=="nowrap"&&(U<(ae.textPxLength||0)||ae.element.tagName==="SPAN")?ae.css(My(xe,{width:`${U}px`,lineClamp:Y})):!ae.styles.width||xe.width||oe||ae.css({width:"auto"}),Z.rotation=j.rotation)},this),this.tickRotCorr=g.rotCorr(O.b,this.labelRotation||0,this.side!==0)}hasData(){return this.series.some(function(p){return p.hasData()})||this.options.showEmpty&&Rr(this.min)&&Rr(this.max)}addTitle(p){let g,x=this.chart.renderer,_=this.horiz,T=this.opposite,C=this.options.title,A=this.chart.styledMode;this.axisTitle||((g=C.textAlign)||(g=(_?{low:"left",middle:"center",high:"right"}:{low:T?"right":"left",middle:"center",high:T?"left":"right"})[C.align]),this.axisTitle=x.text(C.text||"",0,0,C.useHTML).attr({zIndex:7,rotation:C.rotation||0,align:g}).addClass("highcharts-axis-title"),A||this.axisTitle.css(Ly(C.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0),A||C.style.width||this.isRadial||this.axisTitle.css({width:this.len+"px"}),this.axisTitle[p?"show":"hide"](p)}generateTick(p){let g=this.ticks;g[p]?g[p].addLabel():g[p]=new _f(this,p)}createGroups(){let{axisParent:p,chart:g,coll:x,options:_}=this,T=g.renderer,C=(A,D,R)=>T.g(A).attr({zIndex:R}).addClass(`highcharts-${x.toLowerCase()}${D} `+(this.isRadial?`highcharts-radial-axis${D} `:"")+(_.className||"")).add(p);this.axisGroup||(this.gridGroup=C("grid","-grid",_.gridZIndex),this.axisGroup=C("axis","",_.zIndex),this.labelGroup=C("axis-labels","-labels",_.labels.zIndex))}getOffset(){let p=this,{chart:g,horiz:x,options:_,side:T,ticks:C,tickPositions:A,coll:D}=p,R=g.inverted&&!p.isZAxis?[1,0,3,2][T]:T,j=p.hasData(),O=_.title,V=_.labels,U=Ft(_.crossing),Y=g.axisOffset,ne=g.clipOffset,K=[-1,1,1,-1][T],Z,ae=0,oe,xe=0,ge=0,be,Ie;if(p.showAxis=Z=j||_.showEmpty,p.staggerLines=p.horiz&&V.staggerLines||void 0,p.createGroups(),j||p.isLinked?(A.forEach(function(we){p.generateTick(we)}),p.renderUnsquish(),p.reserveSpaceDefault=T===0||T===2||{1:"left",3:"right"}[T]===p.labelAlign,rr(V.reserveSpace,!U&&null,p.labelAlign==="center"||null,p.reserveSpaceDefault)&&A.forEach(function(we){ge=Math.max(C[we].getLabelSize(),ge)}),p.staggerLines&&(ge*=p.staggerLines),p.labelOffset=ge*(p.opposite?-1:1)):Ny(C,function(we,De){we.destroy(),delete C[De]}),O!=null&&O.text&&O.enabled!==!1&&(p.addTitle(Z),Z&&!U&&O.reserveSpace!==!1&&(p.titleOffset=ae=p.axisTitle.getBBox()[x?"height":"width"],xe=Rr(oe=O.offset)?0:rr(O.margin,x?5:10))),p.renderLine(),p.offset=K*rr(_.offset,Y[T]?Y[T]+(_.margin||0):0),p.tickRotCorr=p.tickRotCorr||{x:0,y:0},Ie=T===0?-p.labelMetrics().h:T===2?p.tickRotCorr.y:0,be=Math.abs(ge)+xe,ge&&(be-=Ie,be+=K*(x?rr(V.y,p.tickRotCorr.y+K*V.distance):rr(V.x,K*V.distance))),p.axisTitleMargin=rr(oe,be),p.getMaxLabelDimensions&&(p.maxLabelDimensions=p.getMaxLabelDimensions(C,A)),D!=="colorAxis"&&ne){let we=this.tickSize("tick");Y[T]=Math.max(Y[T],(p.axisTitleMargin||0)+ae+K*p.offset,be,A!=null&&A.length&&we?we[0]+K*p.offset:0);let De=!p.axisLine||_.offset?0:p.axisLine.strokeWidth()/2;ne[R]=Math.max(ne[R],De)}Zr(this,"afterGetOffset")}getLinePath(p){let g=this.chart,x=this.opposite,_=this.offset,T=this.horiz,C=this.left+(x?this.width:0)+_,A=g.chartHeight-this.bottom-(x?this.height:0)+_;return x&&(p*=-1),g.renderer.crispLine([["M",T?this.left:C,T?A:this.top],["L",T?g.chartWidth-this.right:C,T?A:g.chartHeight-this.bottom]],p)}renderLine(){!this.axisLine&&(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))}getTitlePosition(p){let g=this.horiz,x=this.left,_=this.top,T=this.len,C=this.options.title,A=g?x:_,D=this.opposite,R=this.offset,j=C.x,O=C.y,V=this.chart.renderer.fontMetrics(p),U=p?Math.max(p.getBBox(!1,0).height-V.h-1,0):0,Y={low:A+(g?0:T),middle:A+T/2,high:A+(g?T:0)}[C.align],ne=(g?_+this.height:x)+(g?1:-1)*(D?-1:1)*(this.axisTitleMargin||0)+[-U,U,V.f,-U][this.side],K={x:g?Y+j:ne+(D?this.width:0)+R+j,y:g?ne+O-(D?this.height:0)+R:Y+O};return Zr(this,"afterGetTitlePosition",{titlePosition:K}),K}renderMinorTick(p,g){let x=this.minorTicks;x[p]||(x[p]=new _f(this,p,"minor")),g&&x[p].isNew&&x[p].render(null,!0),x[p].render(null,!1,1)}renderTick(p,g,x){var C;let _=this.isLinked,T=this.ticks;(!_||p>=this.min&&p<=this.max||(C=this.grid)!=null&&C.isColumn)&&(T[p]||(T[p]=new _f(this,p)),x&&T[p].isNew&&T[p].render(g,!0,-1),T[p].render(g))}render(){let p,g,x=this,_=x.chart,T=x.logarithmic,C=_.renderer,A=x.options,D=x.isLinked,R=x.tickPositions,j=x.axisTitle,O=x.ticks,V=x.minorTicks,U=x.alternateBands,Y=A.stackLabels,ne=A.alternateGridColor,K=A.crossing,Z=x.tickmarkOffset,ae=x.axisLine,oe=x.showAxis,xe=gne(C.globalAnimation);if(x.labelEdge.length=0,x.overlap=!1,[O,V,U].forEach(function(ge){Ny(ge,function(be){be.isActive=!1})}),Ft(K)){let ge=this.isXAxis?_.yAxis[0]:_.xAxis[0],be=[1,-1,-1,1][this.side];if(ge){let Ie=ge.toPixels(K,!0);x.horiz&&(Ie=ge.len-Ie),x.offset=be*Ie}}if(x.hasData()||D){let ge=x.chart.hasRendered&&x.old&&Ft(x.old.min);x.minorTickInterval&&!x.categories&&x.getMinorTickPositions().forEach(function(be){x.renderMinorTick(be,ge)}),R.length&&(R.forEach(function(be,Ie){x.renderTick(be,Ie,ge)}),Z&&(x.min===0||x.single)&&(O[-1]||(O[-1]=new _f(x,-1,null,!0)),O[-1].render(-1))),ne&&R.forEach(function(be,Ie){g=R[Ie+1]!==void 0?R[Ie+1]+Z:x.max-Z,Ie%2==0&&be<x.max&&g<=x.max+(_.polar?-Z:Z)&&(U[be]||(U[be]=new J.PlotLineOrBand(x,{})),p=be+Z,U[be].options={from:T?T.lin2log(p):p,to:T?T.lin2log(g):g,color:ne,className:"highcharts-alternate-grid"},U[be].render(),U[be].isActive=!0)}),x._addedPlotLB||(x._addedPlotLB=!0,(A.plotLines||[]).concat(A.plotBands||[]).forEach(function(be){x.addPlotBandOrLine(be)}))}[O,V,U].forEach(function(ge){let be=[],Ie=xe.duration;Ny(ge,function(we,De){we.isActive||(we.render(De,!1,0),we.isActive=!1,be.push(De))}),Ene(function(){let we=be.length;for(;we--;)ge[be[we]]&&!ge[be[we]].isActive&&(ge[be[we]].destroy(),delete ge[be[we]])},ge!==U&&_.hasRendered&&Ie?Ie:0)}),ae&&(ae[ae.isPlaced?"animate":"attr"]({d:this.getLinePath(ae.strokeWidth())}),ae.isPlaced=!0,ae[oe?"show":"hide"](oe)),j&&oe&&(j[j.isNew?"attr":"animate"](x.getTitlePosition(j)),j.isNew=!1),Y!=null&&Y.enabled&&x.stacking&&x.stacking.renderStackTotals(),x.old={len:x.len,max:x.max,min:x.min,transA:x.transA,userMax:x.userMax,userMin:x.userMin},x.isDirty=!1,Zr(this,"afterRender")}redraw(){this.visible&&(this.render(),this.plotLinesAndBands.forEach(function(p){p.render()})),this.series.forEach(function(p){p.isDirty=!0})}getKeepProps(){return this.keepProps||wf.keepProps}destroy(p){let g=this,x=g.plotLinesAndBands,_=this.eventOptions;if(Zr(this,"destroy",{keepEvents:p}),p||Tne(g),[g.ticks,g.minorTicks,g.alternateBands].forEach(function(T){Sne(T)}),x){let T=x.length;for(;T--;)x[T].destroy()}for(let T in["axisLine","axisTitle","axisGroup","gridGroup","labelGroup","cross","scrollbar"].forEach(function(C){g[C]&&(g[C]=g[C].destroy())}),g.plotLinesAndBandsGroups)g.plotLinesAndBandsGroups[T]=g.plotLinesAndBandsGroups[T].destroy();Ny(g,function(T,C){g.getKeepProps().indexOf(C)===-1&&delete g[C]}),this.eventOptions=_}drawCrosshair(p,g){var O;let x=this.crosshair,_=(x==null?void 0:x.snap)??!0,T=this.chart,C,A,D,R=this.cross,j;if(Zr(this,"drawCrosshair",{e:p,point:g}),p||(p=(O=this.cross)==null?void 0:O.e),x&&(Rr(g)||!_)!==!1){if(_?Rr(g)&&(A=rr(this.coll!=="colorAxis"?g.crosshairPos:null,this.isXAxis?g.plotX:this.len-g.plotY)):A=p&&(this.horiz?p.chartX-this.pos:this.len-p.chartY+this.pos),Rr(A)&&(j={value:g&&(this.isXAxis?g.x:rr(g.stackY,g.y)),translatedValue:A},T.polar&&My(j,{isCrosshair:!0,chartX:p==null?void 0:p.chartX,chartY:p==null?void 0:p.chartY,point:g}),C=this.getPlotLinePath(j)||null),!Rr(C))return void this.hideCrosshair();D=this.categories&&!this.isRadial,R||(this.cross=R=T.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(D?"category ":"thin ")+(x.className||"")).attr({zIndex:rr(x.zIndex,2)}).add(),!T.styledMode&&(R.attr({stroke:x.color||(D?Kr.parse("#ccd3ff").setOpacity(.25).get():"#cccccc"),"stroke-width":rr(x.width,1)}).css({"pointer-events":"none"}),x.dashStyle&&R.attr({dashstyle:x.dashStyle}))),R.show().attr({d:C}),D&&!x.width&&R.attr({"stroke-width":this.transA}),this.cross.e=p}else this.hideCrosshair();Zr(this,"afterDrawCrosshair",{e:p,point:g})}hideCrosshair(){this.cross&&this.cross.hide(),Zr(this,"afterHideCrosshair")}update(p,g){let x=this.chart;p=Ly(this.userOptions,p),this.destroy(!0),this.init(x,p),x.isDirtyBox=!0,rr(g,!0)&&x.redraw()}remove(p){let g=this.chart,x=this.coll,_=this.series,T=_.length;for(;T--;)_[T]&&_[T].remove(!1);kO(g.axes,this),kO(g[x]||[],this),g.orderItems(x),this.destroy(),g.isDirtyBox=!0,rr(p,!0)&&g.redraw()}setTitle(p,g){this.update({title:p},g)}setCategories(p,g){this.update({categories:p},g)}}wf.keepProps=["coll","extKey","hcEvents","len","names","series","userMax","userMin"];let{addEvent:Ane,getMagnitude:kne,normalizeTickInterval:Ine,timeUnits:Ry}=ke;(function(P){function p(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)}function g(){if(this.type!=="datetime"){this.dateTime=void 0;return}this.dateTime||(this.dateTime=new x(this))}P.compose=function(_){return _.keepProps.includes("dateTime")||(_.keepProps.push("dateTime"),_.prototype.getTimeTicks=p,Ane(_,"afterSetType",g)),_};class x{constructor(T){this.axis=T}normalizeTimeTickInterval(T,C){let A=C||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],D=A[A.length-1],R=Ry[D[0]],j=D[1],O;for(O=0;O<A.length&&(R=Ry[(D=A[O])[0]],j=D[1],!A[O+1]||!(T<=(R*j[j.length-1]+Ry[A[O+1][0]])/2));O++);R===Ry.year&&T<5*R&&(j=[1,2,5]);let V=Ine(T/R,j,D[0]==="year"?Math.max(kne(T/R),1):1);return{unitRange:R,count:V,unitName:D[0]}}getXDateFormat(T,C){let{axis:A}=this,D=A.chart.time;return A.closestPointRange?D.getDateFormat(A.closestPointRange,T,A.options.startOfWeek,C)||D.resolveDTLFormat(C.year).main:D.resolveDTLFormat(C.day).main}}P.Additions=x})(L||(L={}));let Dne=L,{addEvent:NO,normalizeTickInterval:Mne,pick:Lne}=ke;(function(P){function p(){this.type!=="logarithmic"?this.logarithmic=void 0:this.logarithmic??(this.logarithmic=new x(this))}function g(){let _=this.logarithmic;_&&(this.lin2val=function(T){return _.lin2log(T)},this.val2lin=function(T){return _.log2lin(T)})}P.compose=function(_){return _.keepProps.includes("logarithmic")||(_.keepProps.push("logarithmic"),NO(_,"afterSetType",p),NO(_,"afterInit",g)),_};class x{constructor(T){this.axis=T}getLogTickPositions(T,C,A,D){let R=this.axis,j=R.len,O=R.options,V=[];if(D||(this.minorAutoInterval=void 0),T>=.5)T=Math.round(T),V=R.getLinearTickPositions(T,C,A);else if(T>=.08){let U,Y,ne,K,Z,ae,oe,xe=Math.floor(C);for(U=T>.3?[1,2,4]:T>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9],Y=xe;Y<A+1&&!oe;Y++)for(ne=0,K=U.length;ne<K&&!oe;ne++)(Z=this.log2lin(this.lin2log(Y)*U[ne]))>C&&(!D||ae<=A)&&ae!==void 0&&V.push(ae),ae>A&&(oe=!0),ae=Z}else{let U=this.lin2log(C),Y=this.lin2log(A),ne=D?R.getMinorTickInterval():O.tickInterval,K=O.tickPixelInterval/(D?5:1),Z=D?j/R.tickPositions.length:j;T=Mne(T=Lne(ne==="auto"?null:ne,this.minorAutoInterval,(Y-U)*K/(Z||1))),V=R.getLinearTickPositions(T,U,Y).map(this.log2lin),D||(this.minorAutoInterval=T/5)}return D||(R.tickInterval=T),V}lin2log(T){return Math.pow(10,T)}log2lin(T){return Math.log(T)/Math.LN10}}P.Additions=x})(N||(N={}));let Nne=N,{erase:Pne,extend:Rne,isNumber:PO}=ke;(function(P){let p;function g(R){return this.addPlotBandOrLine(R,"plotBands")}function x(R,j){let O=this.userOptions,V=new p(this,R);if(this.visible&&(V=V.render()),V){if(this._addedPlotLB||(this._addedPlotLB=!0,(O.plotLines||[]).concat(O.plotBands||[]).forEach(U=>{this.addPlotBandOrLine(U)})),j){let U=O[j]||[];U.push(R),O[j]=U}this.plotLinesAndBands.push(V)}return V}function _(R){return this.addPlotBandOrLine(R,"plotLines")}function T(R,j,O){O=O||this.options;let V=this.getPlotLinePath({value:j,force:!0,acrossPanes:O.acrossPanes}),U=[],Y=this.horiz,ne=!PO(this.min)||!PO(this.max)||R<this.min&&j<this.min||R>this.max&&j>this.max,K=this.getPlotLinePath({value:R,force:!0,acrossPanes:O.acrossPanes}),Z,ae=1,oe;if(K&&V)for(ne&&(oe=K.toString()===V.toString(),ae=0),Z=0;Z<K.length;Z+=2){let xe=K[Z],ge=K[Z+1],be=V[Z],Ie=V[Z+1];(xe[0]==="M"||xe[0]==="L")&&(ge[0]==="M"||ge[0]==="L")&&(be[0]==="M"||be[0]==="L")&&(Ie[0]==="M"||Ie[0]==="L")&&(Y&&be[1]===xe[1]?(be[1]+=ae,Ie[1]+=ae):Y||be[2]!==xe[2]||(be[2]+=ae,Ie[2]+=ae),U.push(["M",xe[1],xe[2]],["L",ge[1],ge[2]],["L",Ie[1],Ie[2]],["L",be[1],be[2]],["Z"])),U.isFlat=oe}return U}function C(R){this.removePlotBandOrLine(R)}function A(R){let j=this.plotLinesAndBands,O=this.options,V=this.userOptions;if(j){let U=j.length;for(;U--;)j[U].id===R&&j[U].destroy();[O.plotLines||[],V.plotLines||[],O.plotBands||[],V.plotBands||[]].forEach(function(Y){var ne;for(U=Y.length;U--;)((ne=Y[U])==null?void 0:ne.id)===R&&Pne(Y,Y[U])})}}function D(R){this.removePlotBandOrLine(R)}P.compose=function(R,j){let O=j.prototype;return O.addPlotBand||(p=R,Rne(O,{addPlotBand:g,addPlotLine:_,addPlotBandOrLine:x,getPlotBandPath:T,removePlotBand:C,removePlotLine:D,removePlotBandOrLine:A})),j}})(z||(z={}));let One=z,{addEvent:Bne,arrayMax:RO,arrayMin:OO,defined:Zs,destroyObjectProperties:Fne,erase:zne,fireEvent:jne,merge:BO,objectEach:Hne,pick:Vne}=ke;class Oy{static compose(p,g){return Bne(p,"afterInit",function(){this.labelCollectors.push(()=>{var _;let x=[];for(let T of this.axes)for(let{label:C,options:A}of T.plotLinesAndBands)C&&!((_=A==null?void 0:A.label)!=null&&_.allowOverlap)&&x.push(C);return x})}),One.compose(Oy,g)}constructor(p,g){this.axis=p,this.options=g,this.id=g.id}render(){jne(this,"render");let{axis:p,options:g}=this,{horiz:x,logarithmic:_}=p,{color:T,events:C,zIndex:A=0}=g,{renderer:D,time:R}=p.chart,j={},O=R.parse(g.to),V=R.parse(g.from),U=R.parse(g.value),Y=g.borderWidth,ne=g.label,{label:K,svgElem:Z}=this,ae=[],oe,xe=Zs(V)&&Zs(O),ge=Zs(U),be=!Z,Ie={class:"highcharts-plot-"+(xe?"band ":"line ")+(g.className||"")},we=xe?"bands":"lines";if(!p.chart.styledMode&&(ge?(Ie.stroke=T||"#999999",Ie["stroke-width"]=Vne(g.width,1),g.dashStyle&&(Ie.dashstyle=g.dashStyle)):xe&&(Ie.fill=T||"#e6e9ff",Y&&(Ie.stroke=g.borderColor,Ie["stroke-width"]=Y))),j.zIndex=A,we+="-"+A,(oe=p.plotLinesAndBandsGroups[we])||(p.plotLinesAndBandsGroups[we]=oe=D.g("plot-"+we).attr(j).add()),Z||(this.svgElem=Z=D.path().attr(Ie).add(oe)),Zs(U))ae=p.getPlotLinePath({value:(_==null?void 0:_.log2lin(U))??U,lineWidth:Z.strokeWidth(),acrossPanes:g.acrossPanes});else{if(!(Zs(V)&&Zs(O)))return;ae=p.getPlotBandPath((_==null?void 0:_.log2lin(V))??V,(_==null?void 0:_.log2lin(O))??O,g)}return!this.eventsAdded&&C&&(Hne(C,(De,Re)=>{Z==null||Z.on(Re,Ue=>{C[Re].apply(this,[Ue])})}),this.eventsAdded=!0),(be||!Z.d)&&(ae!=null&&ae.length)?Z.attr({d:ae}):Z&&(ae?(Z.show(),Z.animate({d:ae})):Z.d&&(Z.hide(),K&&(this.label=K=K.destroy()))),ne&&(Zs(ne.text)||Zs(ne.formatter))&&(ae!=null&&ae.length)&&p.width>0&&p.height>0&&!ae.isFlat?(ne=BO({align:x&&xe?"center":void 0,x:x?!xe&&4:10,verticalAlign:!x&&xe?"middle":void 0,y:x?xe?16:10:xe?6:-4,rotation:x&&!xe?90:0,...xe?{inside:!0}:{}},ne),this.renderLabel(ne,ae,xe,A)):K&&K.hide(),this}renderLabel(p,g,x,_){var Y,ne,K;let T=this.axis,C=T.chart.renderer,A=p.inside,D=this.label;D||(this.label=D=C.text(this.getLabelText(p),0,0,p.useHTML).attr({align:p.textAlign||p.align,rotation:p.rotation,class:"highcharts-plot-"+(x?"band":"line")+"-label "+(p.className||""),zIndex:_}),T.chart.styledMode||D.css(BO({color:(ne=(Y=T.chart.options.title)==null?void 0:Y.style)==null?void 0:ne.color,fontSize:"0.8em",textOverflow:x&&!A?"":"ellipsis"},p.style)),D.add());let R=g.xBounds||[g[0][1],g[1][1],x?g[2][1]:g[0][1]],j=g.yBounds||[g[0][2],g[1][2],x?g[2][2]:g[0][2]],O=OO(R),V=OO(j),U=RO(R)-O;D.align(p,!1,{x:O,y:V,width:U,height:RO(j)-V}),D.alignAttr.y-=C.fontMetrics(D).b,(!D.alignValue||D.alignValue==="left"||Zs(A))&&D.css({width:(((K=p.style)==null?void 0:K.width)||(x&&A?U:D.rotation===90?T.height-(D.alignAttr.y-T.top):(p.clip?T.width:T.chart.chartWidth)-(D.alignAttr.x-T.left)))+"px"}),D.show(!0)}getLabelText(p){return Zs(p.formatter)?p.formatter.call(this):p.text}destroy(){zne(this.axis.plotLinesAndBands,this),delete this.axis,Fne(this)}}let{animObject:Une}=Kn,{format:FO}=La,{composed:Gne,dateFormats:Wne,doc:zO,isSafari:$ne}=J,{distribute:Yne}=my,{addEvent:jO,clamp:Tf,css:HO,clearTimeout:By,discardElement:Xne,extend:qne,fireEvent:AT,getAlignFactor:VO,isArray:Kne,isNumber:Zne,isObject:Qne,isString:kT,merge:Jne,pick:Cf,pushUnique:eie,splat:IT,syncTimeout:tie}=ke;class DT{constructor(p,g,x){this.allowShared=!0,this.crosshairs=[],this.distance=0,this.isHidden=!0,this.isSticky=!1,this.options={},this.outside=!1,this.chart=p,this.init(p,g),this.pointer=x}bodyFormatter(p){return p.map(g=>{let x=g.series.tooltipOptions,_=g.formatPrefix||"point";return(x[_+"Formatter"]||g.tooltipFormatter).call(g,x[_+"Format"]||"")})}cleanSplit(p){this.chart.series.forEach(function(g){let x=g==null?void 0:g.tt;x&&(!x.isActive||p?g.tt=x.destroy():x.isActive=!1)})}defaultFormatter(p){let g,x=this.points||IT(this);return(g=(g=[p.headerFooterFormatter(x[0])]).concat(p.bodyFormatter(x))).push(p.headerFooterFormatter(x[0],!0)),g}destroy(){this.label&&(this.label=this.label.destroy()),this.split&&(this.cleanSplit(!0),this.tt&&(this.tt=this.tt.destroy())),this.renderer&&(this.renderer=this.renderer.destroy(),Xne(this.container)),By(this.hideTimer)}getAnchor(p,g){var j;let x,{chart:_,pointer:T}=this,C=_.inverted,A=_.plotTop,D=_.plotLeft;if(p=IT(p),(j=p[0].series)!=null&&j.yAxis&&!p[0].series.yAxis.options.reversedStacks&&(p=p.slice().reverse()),this.followPointer&&g)g.chartX===void 0&&(g=T.normalize(g)),x=[g.chartX-D,g.chartY-A];else if(p[0].tooltipPos)x=p[0].tooltipPos;else{let O=0,V=0;p.forEach(function(U){let Y=U.pos(!0);Y&&(O+=Y[0],V+=Y[1])}),O/=p.length,V/=p.length,this.shared&&p.length>1&&g&&(C?O=g.chartX:V=g.chartY),x=[O-D,V-A]}let R={point:p[0],ret:x};return AT(this,"getAnchor",R),R.ret.map(Math.round)}getClassName(p,g,x){let _=this.options,T=p.series,C=T.options;return[_.className,"highcharts-label",x&&"highcharts-tooltip-header",g?"highcharts-tooltip-box":"highcharts-tooltip",!x&&"highcharts-color-"+Cf(p.colorIndex,T.colorIndex),C==null?void 0:C.className].filter(kT).join(" ")}getLabel({anchorX:p,anchorY:g}={anchorX:0,anchorY:0}){let x=this,_=this.chart.styledMode,T=this.options,C=this.split&&this.allowShared,A=this.container,D=this.chart.renderer;if(this.label){let R=!this.label.hasClass("highcharts-label");(!C&&R||C&&!R)&&this.destroy()}if(!this.label){if(this.outside){let R=this.chart,j=R.options.chart.style,O=iv.getRendererType();this.container=A=J.doc.createElement("div"),A.className="highcharts-tooltip-container "+(R.renderTo.className.match(/(highcharts[a-zA-Z0-9-]+)\s?/gm)||""),HO(A,{position:"absolute",top:"1px",pointerEvents:"none",zIndex:Math.max(this.options.style.zIndex||0,((j==null?void 0:j.zIndex)||0)+3)}),this.renderer=D=new O(A,0,0,j,void 0,void 0,D.styledMode)}if(C?this.label=D.g("tooltip"):(this.label=D.label("",p,g,T.shape||"callout",void 0,void 0,T.useHTML,void 0,"tooltip").attr({padding:T.padding,r:T.borderRadius}),_||this.label.attr({fill:T.backgroundColor,"stroke-width":T.borderWidth||0}).css(T.style).css({pointerEvents:T.style.pointerEvents||(this.shouldStickOnContact()?"auto":"none")})),x.outside){let R=this.label;[R.xSetter,R.ySetter].forEach((j,O)=>{R[O?"ySetter":"xSetter"]=V=>{j.call(R,x.distance),R[O?"y":"x"]=V,A&&(A.style[O?"top":"left"]=`${V}px`)}})}this.label.attr({zIndex:8}).shadow(T.shadow??!T.fixed).add()}return A&&!A.parentElement&&J.doc.body.appendChild(A),this.label}getPlayingField(){let{body:p,documentElement:g}=zO,{chart:x,distance:_,outside:T}=this;return{width:T?Math.max(p.scrollWidth,g.scrollWidth,p.offsetWidth,g.offsetWidth,g.clientWidth)-2*_-2:x.chartWidth,height:T?Math.max(p.scrollHeight,g.scrollHeight,p.offsetHeight,g.offsetHeight,g.clientHeight):x.chartHeight}}getPosition(p,g,x){var at,xt;let{distance:_,chart:T,outside:C,pointer:A}=this,{inverted:D,plotLeft:R,plotTop:j,polar:O}=T,{plotX:V=0,plotY:U=0}=x,Y={},ne=D&&x.h||0,{height:K,width:Z}=this.getPlayingField(),ae=A.getChartPosition(),oe=st=>{let gt=st==="x";return[st,gt?Z:K,gt?p:g].concat(C?[gt?p*ae.scaleX:g*ae.scaleY,gt?ae.left-_+(V+R)*ae.scaleX:ae.top-_+(U+j)*ae.scaleY,0,gt?Z:K]:[gt?p:g,gt?V+R:U+j,gt?R:j,gt?R+T.plotWidth:j+T.plotHeight])},xe=oe("y"),ge=oe("x"),be,Ie=!!x.negative;!O&&((xt=(at=T.hoverSeries)==null?void 0:at.yAxis)!=null&&xt.reversed)&&(Ie=!Ie);let we=!this.followPointer&&Cf(x.ttBelow,!O&&!D===Ie),De=function(st,gt,pt,Pt,Vt,Ar,Fr){let Un=C?st==="y"?_*ae.scaleY:_*ae.scaleX:_,nr=(pt-Pt)/2,wr=Pt<Vt-_,$t=Vt+_+Pt<gt,Rt=Vt-Un-pt+nr,an=Vt+Un-nr;if(we&&$t)Y[st]=an;else if(!we&&wr)Y[st]=Rt;else if(wr)Y[st]=Math.min(Fr-Pt,Rt-ne<0?Rt:Rt-ne);else{if(!$t)return Y[st]=0,!1;Y[st]=Math.max(Ar,an+ne+pt>gt?an:an+ne)}},Re=function(st,gt,pt,Pt,Vt){if(Vt<_||Vt>gt-_)return!1;Vt<pt/2?Y[st]=1:Vt>gt-Pt/2?Y[st]=gt-Pt-2:Y[st]=Vt-pt/2},Ue=function(st){[xe,ge]=[ge,xe],be=st},Xe=()=>{De.apply(0,xe)!==!1?Re.apply(0,ge)!==!1||be||(Ue(!0),Xe()):be?Y.x=Y.y=0:(Ue(!0),Xe())};return(D&&!O||this.len>1)&&Ue(),Xe(),Y}getFixedPosition(p,g,x){var V;let _=x.series,{chart:T,options:C,split:A}=this,D=C.position,R=D.relativeTo,j=C.shared||(V=_==null?void 0:_.yAxis)!=null&&V.isRadial&&(R==="pane"||!R)?"plotBox":R,O=j==="chart"?T.renderer:T[j]||T.getClipBox(_,!0);return{x:O.x+(O.width-p)*VO(D.align)+D.x,y:O.y+(O.height-g)*VO(D.verticalAlign)+(!A&&D.y||0)}}hide(p){let g=this;By(this.hideTimer),p=Cf(p,this.options.hideDelay),this.isHidden||(this.hideTimer=tie(function(){let x=g.getLabel();g.getLabel().animate({opacity:0},{duration:p&&150,complete:()=>{x.hide(),g.container&&g.container.remove()}}),g.isHidden=!0},p))}init(p,g){this.chart=p,this.options=g,this.crosshairs=[],this.isHidden=!0,this.split=g.split&&!p.inverted&&!p.polar,this.shared=g.shared||this.split,this.outside=Cf(g.outside,!!(p.scrollablePixelsX||p.scrollablePixelsY))}shouldStickOnContact(p){return!!(!this.followPointer&&this.options.stickOnContact&&(!p||this.pointer.inClass(p.target,"highcharts-tooltip")))}move(p,g,x,_){let{followPointer:T,options:C}=this,A=Une(!T&&!this.isHidden&&!C.fixed&&C.animation),D=T||(this.len||0)>1,R={x:p,y:g};D?R.anchorX=R.anchorY=NaN:(R.anchorX=x,R.anchorY=_),A.step=()=>this.drawTracker(),this.getLabel().animate(R,A)}refresh(p,g){let{chart:x,options:_,pointer:T,shared:C}=this,A=IT(p),D=A[0],R=_.format,j=_.formatter||this.defaultFormatter,O=x.styledMode,V=this.allowShared;if(!_.enabled||!D.series)return;By(this.hideTimer),this.allowShared=!(!Kne(p)&&p.series&&p.series.noSharedTooltip),V=V&&!this.allowShared,this.followPointer=!this.split&&D.series.tooltipOptions.followPointer;let U=this.getAnchor(p,g),Y=U[0],ne=U[1];C&&this.allowShared&&(T.applyInactiveState(A),A.forEach(ae=>ae.setState("hover")),D.points=A),this.len=A.length;let K=kT(R)?FO(R,D,x):j.call(D,this);D.points=void 0;let Z=D.series;if(this.distance=Cf(Z.tooltipOptions.distance,16),K===!1)this.hide();else{if(this.split&&this.allowShared)this.renderSplit(K,A);else{let ae=Y,oe=ne;if(g&&T.isDirectTouch&&(ae=g.chartX-x.plotLeft,oe=g.chartY-x.plotTop),!(x.polar||Z.options.clip===!1||A.some(xe=>T.isDirectTouch||xe.series.shouldShowTooltip(ae,oe))))return void this.hide();{let xe=this.getLabel(V&&this.tt||{});(!_.style.width||O)&&xe.css({width:(this.outside?this.getPlayingField():x.spacingBox).width+"px"}),xe.attr({class:this.getClassName(D),text:K&&K.join?K.join(""):K}),this.outside&&xe.attr({x:Tf(xe.x||0,0,this.getPlayingField().width-(xe.width||0)-1)}),O||xe.attr({stroke:_.borderColor||D.color||Z.color||"#666666"}),this.updatePosition({plotX:Y,plotY:ne,negative:D.negative,ttBelow:D.ttBelow,series:Z,h:U[2]||0})}}this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1}AT(this,"refresh")}renderSplit(p,g){var Fr,Un;let x=this,{chart:_,chart:{chartWidth:T,chartHeight:C,plotHeight:A,plotLeft:D,plotTop:R,scrollablePixelsY:j=0,scrollablePixelsX:O,styledMode:V},distance:U,options:Y,options:{fixed:ne,position:K,positioner:Z},pointer:ae}=x,{scrollLeft:oe=0,scrollTop:xe=0}=((Fr=_.scrollablePlotArea)==null?void 0:Fr.scrollingContainer)||{},ge=x.outside&&typeof O!="number"?zO.documentElement.getBoundingClientRect():{left:oe,right:oe+T},be=x.getLabel(),Ie=this.renderer||_.renderer,we=!!((Un=_.xAxis[0])!=null&&Un.opposite),{left:De,top:Re}=ae.getChartPosition(),Ue=Z||ne,Xe=R+xe,at=0,xt=A-j,st=function(nr,wr,$t,Rt=[0,0],an=!0){let Or,gn;if($t.isHeader)gn=we?0:xt,Or=Tf(Rt[0]-nr/2,ge.left,ge.right-nr-(x.outside?De:0));else if(ne&&$t){let Ln=x.getFixedPosition(nr,wr,$t);Or=Ln.x,gn=Ln.y-Xe}else gn=Rt[1]-Xe,Or=Tf(Or=an?Rt[0]-nr-U:Rt[0]+U,an?Or:ge.left,ge.right);return{x:Or,y:gn}};kT(p)&&(p=[!1,p]);let gt=p.slice(0,g.length+1).reduce(function(nr,wr,$t){if(wr!==!1&&wr!==""){let Rt=g[$t-1]||{isHeader:!0,plotX:g[0].plotX,plotY:A,series:{}},an=Rt.isHeader,Or=an?x:Rt.series,gn=Or.tt=function(wn,$r,no){let Xl=wn,{isHeader:Ec,series:_v}=$r,xs=_v.tooltipOptions||Y;if(!Xl){let If={padding:xs.padding,r:xs.borderRadius};V||(If.fill=xs.backgroundColor,If["stroke-width"]=xs.borderWidth??(ne&&!Ec?0:1)),Xl=Ie.label("",0,0,xs[Ec?"headerShape":"shape"]||(ne&&!Ec?"rect":"callout"),void 0,void 0,xs.useHTML).addClass(x.getClassName($r,!0,Ec)).attr(If).add(be)}return Xl.isActive=!0,Xl.attr({text:no}),V||Xl.css(xs.style).attr({stroke:xs.borderColor||$r.color||_v.color||"#333333"}),Xl}(Or.tt,Rt,wr.toString()),Ln=gn.getBBox(),to=Ln.width+gn.strokeWidth();an&&(at=Ln.height,xt+=at,we&&(Xe-=at));let{anchorX:ro,anchorY:Zn}=function(wn){let $r,no,{isHeader:Xl,plotX:Ec=0,plotY:_v=0,series:xs}=wn;if(Xl)$r=Math.max(D+Ec,D),no=R+A/2;else{let{xAxis:If,yAxis:h6}=xs;$r=If.pos+Tf(Ec,-U,If.len+U),xs.shouldShowTooltip(0,h6.pos-R+_v,{ignoreX:!0})&&(no=h6.pos+_v)}return{anchorX:$r=Tf($r,ge.left-U,ge.right+U),anchorY:no}}(Rt);if(typeof Zn=="number"){let wn=Ln.height+1,$r=(Z||st).call(x,to,wn,Rt,[ro,Zn]);nr.push({align:Ue?0:void 0,anchorX:ro,anchorY:Zn,boxWidth:to,point:Rt,rank:Cf($r.rank,+!!an),size:wn,target:$r.y,tt:gn,x:$r.x})}else gn.isActive=!1}return nr},[]);!Ue&&gt.some(nr=>{let{outside:wr}=x,$t=(wr?De:0)+nr.anchorX;return $t<ge.left&&$t+nr.boxWidth<ge.right||$t<De-ge.left+nr.boxWidth&&ge.right-$t>$t})&&(gt=gt.map(nr=>{let{x:wr,y:$t}=st.call(this,nr.boxWidth,nr.size,nr.point,[nr.anchorX,nr.anchorY],!1);return qne(nr,{target:$t,x:wr})})),x.cleanSplit(),Yne(gt,xt);let pt={left:De,right:De};gt.forEach(function(nr){let{x:wr,boxWidth:$t,isHeader:Rt}=nr;!Rt&&(x.outside&&De+wr<pt.left&&(pt.left=De+wr),!Rt&&x.outside&&pt.left+$t>pt.right&&(pt.right=De+wr))}),gt.forEach(function(nr){let{x:wr,anchorX:$t,anchorY:Rt,pos:an,point:{isHeader:Or}}=nr,gn={visibility:an===void 0?"hidden":"inherit",x:wr,y:(an||0)+Xe+(ne&&K.y||0),anchorX:$t,anchorY:Rt};if(x.outside&&wr<$t){let Ln=De-pt.left;Ln>0&&(Or||(gn.x=wr+Ln,gn.anchorX=$t+Ln),Or&&(gn.x=(pt.right-pt.left)/2,gn.anchorX=$t+Ln))}nr.tt.attr(gn)});let{container:Pt,outside:Vt,renderer:Ar}=x;if(Vt&&Pt&&Ar){let{width:nr,height:wr,x:$t,y:Rt}=be.getBBox();Ar.setSize(nr+$t,wr+Rt,!1),Pt.style.left=pt.left+"px",Pt.style.top=Re+"px"}$ne&&be.attr({opacity:be.opacity===1?.999:1})}drawTracker(){let p=this;if(!this.shouldStickOnContact()){p.tracker&&(p.tracker=p.tracker.destroy());return}let g=p.chart,x=p.label,_=p.shared?g.hoverPoints:g.hoverPoint;if(!x||!_)return;let T={x:0,y:0,width:0,height:0},C=this.getAnchor(_),A=x.getBBox();C[0]+=g.plotLeft-(x.translateX||0),C[1]+=g.plotTop-(x.translateY||0),T.x=Math.min(0,C[0]),T.y=Math.min(0,C[1]),T.width=C[0]<0?Math.max(Math.abs(C[0]),A.width-C[0]):Math.max(Math.abs(C[0]),A.width),T.height=C[1]<0?Math.max(Math.abs(C[1]),A.height-Math.abs(C[1])):Math.max(Math.abs(C[1]),A.height),p.tracker?p.tracker.attr(T):(p.tracker=x.renderer.rect(T).addClass("highcharts-tracker").add(x),jO(p.tracker.element,"mouseenter",()=>{By(p.hideTimer)}),g.styledMode||p.tracker.attr({fill:"rgba(0,0,0,0)"}))}styledModeFormat(p){return p.replace('style="font-size: 0.8em"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex} {series.options.className} {point.options.className}"')}headerFooterFormatter(p,g){let x=p.series,_=x.tooltipOptions,T=x.xAxis,C=T==null?void 0:T.dateTime,A={isFooter:g,point:p},D=_.xDateFormat||"",R=_[g?"footerFormat":"headerFormat"];return AT(this,"headerFormatter",A,function(j){if(C&&!D&&Zne(p.key)&&(D=C.getXDateFormat(p.key,_.dateTimeLabelFormats)),C&&D){if(Qne(D)){let O=D;Wne[0]=V=>x.chart.time.dateFormat(O,V),D="%0"}(p.tooltipDateKeys||["key"]).forEach(O=>{R=R.replace(RegExp("point\\."+O+"([ \\)}])"),`(point.${O}:${D})$1`)})}x.chart.styledMode&&(R=this.styledModeFormat(R)),j.text=FO(R,p,this.chart)}),A.text||""}update(p){this.destroy(),this.init(this.chart,Jne(!0,this.options,p))}updatePosition(p){var ge;let{chart:g,container:x,distance:_,options:T,pointer:C,renderer:A}=this,{height:D=0,width:R=0}=this.getLabel(),{fixed:j,positioner:O}=T,{left:V,top:U,scaleX:Y,scaleY:ne}=C.getChartPosition(),K=(O||j&&this.getFixedPosition||this.getPosition).call(this,R,D,p),Z=J.doc,ae=(p.plotX||0)+g.plotLeft,oe=(p.plotY||0)+g.plotTop,xe;if(A&&x){if(O||j){let{scrollLeft:be=0,scrollTop:Ie=0}=((ge=g.scrollablePlotArea)==null?void 0:ge.scrollingContainer)||{};K.x+=be+V-_,K.y+=Ie+U-_}xe=(T.borderWidth||0)+2*_+2,A.setSize(Tf(R+xe,0,Z.documentElement.clientWidth)-1,D+xe,!1),(Y!==1||ne!==1)&&(HO(x,{transform:`scale(${Y}, ${ne})`}),ae*=Y,oe*=ne),ae+=V-K.x,oe+=U-K.y}this.move(Math.round(K.x),Math.round(K.y||0),ae,oe)}}(h=DT||(DT={})).compose=function(P){eie(Gne,"Core.Tooltip")&&jO(P,"afterInit",function(){let p=this.chart;p.options.tooltip&&(p.tooltip=new h(p,p.options.tooltip,this))})};let UO=DT,{animObject:rie}=Kn,{defaultOptions:nie}=Ma,{format:iie}=La,{addEvent:aie,crisp:sie,erase:oie,extend:Fy,fireEvent:MT,getNestedProperty:lie,isArray:uie,isFunction:cie,isNumber:zl,isObject:zy,merge:GO,pick:jl,syncTimeout:hie,removeEvent:WO,uniqueKey:fie}=ke;class cv{constructor(p,g,x){var _,T;this.formatPrefix="point",this.visible=!0,this.point=this,this.series=p,this.applyOptions(g,x),this.id??(this.id=fie()),this.resolveColor(),this.dataLabelOnNull??(this.dataLabelOnNull=p.options.nullInteraction),p.chart.pointCount++,this.category=((T=(_=p.xAxis)==null?void 0:_.categories)==null?void 0:T[this.x])??this.x,this.key=this.name??this.category,MT(this,"afterInit")}animateBeforeDestroy(){let p=this,g={x:p.startXPos,opacity:0},x=p.getGraphicalProps();x.singular.forEach(function(_){p[_]=p[_].animate(_==="dataLabel"?{x:p[_].startXPos,y:p[_].startYPos,opacity:0}:g)}),x.plural.forEach(function(_){p[_].forEach(function(T){T.element&&T.animate(Fy({x:p.startXPos},T.startYPos?{x:T.startXPos,y:T.startYPos}:{}))})})}applyOptions(p,g){let x=this.series,_=x.options.pointValKey||x.pointValKey;return Fy(this,p=cv.prototype.optionsToObject.call(this,p)),this.options=this.options?Fy(this.options,p):p,p.group&&delete this.group,p.dataLabels&&delete this.dataLabels,_&&(this.y=cv.prototype.getNestedProperty.call(this,_)),this.selected&&(this.state="select"),"name"in this&&g===void 0&&x.xAxis&&x.xAxis.hasNames&&(this.x=x.xAxis.nameToX(this)),this.x===void 0&&x?this.x=g??x.autoIncrement():zl(p.x)&&x.options.relativeXValue?this.x=x.autoIncrement(p.x):typeof this.x=="string"&&(g??(g=x.chart.time.parse(this.x)),zl(g)&&(this.x=g)),this.isNull=this.isValid&&!this.isValid(),this.formatPrefix=this.isNull?"null":"point",this}destroy(){if(!this.destroyed){let p=this,g=p.series,x=g.chart,_=g.options.dataSorting,T=x.hoverPoints,C=rie(p.series.chart.renderer.globalAnimation),A=()=>{for(let D in(p.graphic||p.graphics||p.dataLabel||p.dataLabels)&&(WO(p),p.destroyElements()),p)delete p[D]};p.legendItem&&x.legend.destroyItem(p),T&&(p.setState(),oie(T,p),T.length||(x.hoverPoints=null)),p===x.hoverPoint&&p.onMouseOut(),_!=null&&_.enabled?(this.animateBeforeDestroy(),hie(A,C.duration)):A(),x.pointCount--}this.destroyed=!0}destroyElements(p){let g=this,x=g.getGraphicalProps(p);x.singular.forEach(function(_){g[_]=g[_].destroy()}),x.plural.forEach(function(_){g[_].forEach(function(T){T!=null&&T.element&&T.destroy()}),delete g[_]})}firePointEvent(p,g,x){let _=this,T=this.series.options;_.manageEvent(p),p==="click"&&T.allowPointSelect&&(x=function(C){!_.destroyed&&_.select&&_.select(null,C.ctrlKey||C.metaKey||C.shiftKey)}),MT(_,p,g,x)}getClassName(){var p;return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(this.colorIndex!==void 0?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+((p=this.zone)!=null&&p.className?" "+this.zone.className.replace("highcharts-negative",""):"")}getGraphicalProps(p){let g,x,_=this,T=[],C={singular:[],plural:[]};for((p=p||{graphic:1,dataLabel:1}).graphic&&T.push("graphic","connector"),p.dataLabel&&T.push("dataLabel","dataLabelPath","dataLabelUpper"),x=T.length;x--;)_[g=T[x]]&&C.singular.push(g);return["graphic","dataLabel"].forEach(function(A){let D=A+"s";p[A]&&_[D]&&C.plural.push(D)}),C}getNestedProperty(p){if(p)return p.indexOf("custom.")===0?lie(p,this.options):this[p]}getZone(){let p=this.series,g=p.zones,x=p.zoneAxis||"y",_,T=0;for(_=g[0];this[x]>=_.value;)_=g[++T];return this.nonZonedColor||(this.nonZonedColor=this.color),_!=null&&_.color&&!this.options.color?this.color=_.color:this.color=this.nonZonedColor,_}hasNewShapeType(){return(this.graphic&&(this.graphic.symbolName||this.graphic.element.nodeName))!==this.shapeType}isValid(){return(zl(this.x)||this.x instanceof Date)&&zl(this.y)}optionsToObject(p){var j;let g=this.series,x=g.options.keys,_=x||g.pointArrayMap||["y"],T=_.length,C={},A,D=0,R=0;if(zl(p)||p===null)C[_[0]]=p;else if(uie(p))for(!x&&p.length>T&&((A=typeof p[0])=="string"?(j=g.xAxis)!=null&&j.dateTime?C.x=g.chart.time.parse(p[0]):C.name=p[0]:A==="number"&&(C.x=p[0]),D++);R<T;)x&&p[D]===void 0||(_[R].indexOf(".")>0?cv.prototype.setNestedProperty(C,p[D],_[R]):C[_[R]]=p[D]),D++,R++;else typeof p=="object"&&(C=p,p.dataLabels&&(g.hasDataLabels=()=>!0),p.marker&&(g._hasPointMarkers=!0));return C}pos(p,g=this.plotY){if(!this.destroyed){let{plotX:x,series:_}=this,{chart:T,xAxis:C,yAxis:A}=_,D=0,R=0;if(zl(x)&&zl(g))return p&&(D=C?C.pos:T.plotLeft,R=A?A.pos:T.plotTop),T.inverted&&C&&A?[A.len-g+R,C.len-x+D]:[x+D,g+R]}}resolveColor(){let p=this.series,g=p.chart.options.chart,x=p.chart.styledMode,_,T,C=g.colorCount,A;delete this.nonZonedColor,p.options.colorByPoint?(x||(_=(T=p.options.colors||p.chart.options.colors)[p.colorCounter],C=T.length),A=p.colorCounter,p.colorCounter++,p.colorCounter===C&&(p.colorCounter=0)):(x||(_=p.color),A=p.colorIndex),this.colorIndex=jl(this.options.colorIndex,A),this.color=jl(this.options.color,_)}setNestedProperty(p,g,x){return x.split(".").reduce(function(_,T,C,A){let D=A.length-1===C;return _[T]=D?g:zy(_[T],!0)?_[T]:{},_[T]},p),p}shouldDraw(){return!this.isNull}tooltipFormatter(p){var D;let{chart:g,pointArrayMap:x=["y"],tooltipOptions:_}=this.series,{valueDecimals:T="",valuePrefix:C="",valueSuffix:A=""}=_;return g.styledMode&&(p=((D=g.tooltip)==null?void 0:D.styledModeFormat(p))||p),x.forEach(R=>{R="{point."+R,(C||A)&&(p=p.replace(RegExp(R+"}","g"),C+R+"}"+A)),p=p.replace(RegExp(R+"}","g"),R+":,."+T+"f}")}),iie(p,this,g)}update(p,g,x,_){let T,C=this,A=C.series,D=C.graphic,R=A.chart,j=A.options;function O(){C.applyOptions(p);let V=D&&C.hasMockGraphic,U=C.y===null?!V:V;D&&U&&(C.graphic=D.destroy(),delete C.hasMockGraphic),zy(p,!0)&&(D!=null&&D.element&&p&&p.marker&&p.marker.symbol!==void 0&&(C.graphic=D.destroy()),p!=null&&p.dataLabels&&C.dataLabel&&(C.dataLabel=C.dataLabel.destroy())),T=C.index;let Y={};for(let ne of A.dataColumnKeys())Y[ne]=C[ne];A.dataTable.setRow(Y,T),j.data[T]=zy(j.data[T],!0)||zy(p,!0)?C.options:jl(p,j.data[T]),A.isDirty=A.isDirtyData=!0,!A.fixedBox&&A.hasCartesianSeries&&(R.isDirtyBox=!0),j.legendType==="point"&&(R.isDirtyLegend=!0),g&&R.redraw(x)}g=jl(g,!0),_===!1?O():C.firePointEvent("update",{options:p},O)}remove(p,g){this.series.removePoint(this.series.data.indexOf(this),p,g)}select(p,g){let x=this,_=x.series,T=_.chart;p=jl(p,!x.selected),this.selectedStaging=p,x.firePointEvent(p?"select":"unselect",{accumulate:g},function(){x.selected=x.options.selected=p,_.options.data[_.data.indexOf(x)]=x.options,x.setState(p&&"select"),g||T.getSelectedPoints().forEach(function(C){let A=C.series;C.selected&&C!==x&&(C.selected=C.options.selected=!1,A.options.data[A.data.indexOf(C)]=C.options,C.setState(T.hoverPoints&&A.options.inactiveOtherPoints?"inactive":""),C.firePointEvent("unselect"))})}),delete this.selectedStaging}onMouseOver(p){let{inverted:g,pointer:x}=this.series.chart;x&&(p=p?x.normalize(p):x.getChartCoordinatesFromPoint(this,g),x.runPointActions(p,this))}onMouseOut(){let p=this.series.chart;this.firePointEvent("mouseOut"),this.series.options.inactiveOtherPoints||(p.hoverPoints||[]).forEach(function(g){g.setState()}),p.hoverPoints=p.hoverPoint=null}manageEvent(p){var _,T,C,A,D,R,j;let g=GO(this.series.options.point,this.options),x=(_=g.events)==null?void 0:_[p];cie(x)&&(!((T=this.hcEvents)!=null&&T[p])||((A=(C=this.hcEvents)==null?void 0:C[p])==null?void 0:A.map(O=>O.fn).indexOf(x))===-1)?((D=this.importedUserEvent)==null||D.call(this),this.importedUserEvent=aie(this,p,x),this.hcEvents&&(this.hcEvents[p].userEvent=!0)):this.importedUserEvent&&!x&&((R=this.hcEvents)!=null&&R[p])&&((j=this.hcEvents)!=null&&j[p].userEvent)&&(WO(this,p),delete this.hcEvents[p],Object.keys(this.hcEvents)||delete this.importedUserEvent)}setState(p,g){var be,Ie;let x=this.series,_=this.state,T=x.options.states[p||"normal"]||{},C=nie.plotOptions[x.type].marker&&x.options.marker,A=C&&C.enabled===!1,D=((be=C==null?void 0:C.states)==null?void 0:be[p||"normal"])||{},R=D.enabled===!1,j=this.marker||{},O=x.chart,V=C&&x.markerAttribs,U=x.halo,Y,ne,K,Z=x.stateMarkerGraphic,ae;if((p=p||"")===this.state&&!g||this.selected&&p!=="select"||T.enabled===!1||p&&(R||A&&D.enabled===!1)||p&&j.states&&j.states[p]&&j.states[p].enabled===!1)return;if(this.state=p,V&&(Y=x.markerAttribs(this,p)),this.graphic&&!this.hasMockGraphic){if(_&&this.graphic.removeClass("highcharts-point-"+_),p&&this.graphic.addClass("highcharts-point-"+p),!O.styledMode){ne=x.pointAttribs(this,p),K=jl(O.options.chart.animation,T.animation);let we=ne.opacity;x.options.inactiveOtherPoints&&zl(we)&&(this.dataLabels||[]).forEach(function(De){De&&!De.hasClass("highcharts-data-label-hidden")&&(De.animate({opacity:we},K),De.connector&&De.connector.animate({opacity:we},K))}),this.graphic.animate(ne,K)}Y&&this.graphic.animate(Y,jl(O.options.chart.animation,D.animation,C.animation)),Z&&Z.hide()}else p&&D&&(ae=j.symbol||x.symbol,Z&&Z.currentSymbol!==ae&&(Z=Z.destroy()),Y&&(Z?Z[g?"animate":"attr"]({x:Y.x,y:Y.y}):ae&&(x.stateMarkerGraphic=Z=O.renderer.symbol(ae,Y.x,Y.y,Y.width,Y.height,GO(C,D)).add(x.markerGroup),Z.currentSymbol=ae)),!O.styledMode&&Z&&this.state!=="inactive"&&Z.attr(x.pointAttribs(this,p))),Z&&(Z[p&&this.isInside?"show":"hide"](),Z.element.point=this,Z.addClass(this.getClassName(),!0));let oe=T.halo,xe=this.graphic||Z,ge=(xe==null?void 0:xe.visibility)||"inherit";oe!=null&&oe.size&&xe&&ge!=="hidden"&&!this.isCluster?(U||(x.halo=U=O.renderer.path().add(xe.parentGroup)),U.show()[g?"animate":"attr"]({d:this.haloPath(oe.size)}),U.attr({class:"highcharts-halo highcharts-color-"+jl(this.colorIndex,x.colorIndex)+(this.className?" "+this.className:""),visibility:ge,zIndex:-1}),U.point=this,O.styledMode||U.attr(Fy({fill:this.color||x.color,"fill-opacity":oe.opacity},Gr.filterUserAttributes(oe.attributes||{})))):(Ie=U==null?void 0:U.point)!=null&&Ie.haloPath&&!U.point.destroyed&&U.animate({d:U.point.haloPath(0)},null,U.hide),MT(this,"afterSetState",{state:p})}haloPath(p){let g=this.pos();return g?this.series.chart.renderer.symbols.circle(sie(g[0],1)-p,g[1]-p,2*p,2*p):[]}}let Hl=cv,{parse:die}=Kr,{charts:LT,composed:pie,isTouchDevice:vie}=J,{addEvent:Na,attr:gie,css:NT,extend:PT,find:$O,fireEvent:Vl,isNumber:jy,isObject:Hy,objectEach:mie,offset:yie,pick:Qs,pushUnique:xie,splat:YO}=ke;class Dn{applyInactiveState(p=[]){var x,_;let g=[];for(let T of(p.forEach(C=>{let A=C.series;g.push(A),A.linkedParent&&g.push(A.linkedParent),A.linkedSeries&&g.push.apply(g,A.linkedSeries),A.navigatorSeries&&g.push(A.navigatorSeries),A.boosted&&A.markerGroup&&g.push.apply(g,this.chart.series.filter(D=>D.markerGroup===A.markerGroup))}),this.chart.series)){let C=T.options;((_=(x=C.states)==null?void 0:x.inactive)==null?void 0:_.enabled)!==!1&&(g.indexOf(T)===-1?T.setState("inactive",!0):C.inactiveOtherPoints&&T.setAllPointsToState("inactive"))}}destroy(){let p=this;this.eventsToUnbind.forEach(g=>g()),this.eventsToUnbind=[],!J.chartCount&&(Dn.unbindDocumentMouseUp.forEach(g=>g.unbind()),Dn.unbindDocumentMouseUp.length=0,Dn.unbindDocumentTouchEnd&&(Dn.unbindDocumentTouchEnd=Dn.unbindDocumentTouchEnd())),mie(p,function(g,x){p[x]=void 0})}getSelectionMarkerAttrs(p,g){let x={args:{chartX:p,chartY:g},attrs:{},shapeType:"rect"};return Vl(this,"getSelectionMarkerAttrs",x,_=>{let T,{chart:C,zoomHor:A,zoomVert:D}=this,{mouseDownX:R=0,mouseDownY:j=0}=C,O=_.attrs;O.x=C.plotLeft,O.y=C.plotTop,O.width=A?1:C.plotWidth,O.height=D?1:C.plotHeight,A&&(O.width=Math.max(1,Math.abs(T=p-R)),O.x=(T>0?0:T)+R),D&&(O.height=Math.max(1,Math.abs(T=g-j)),O.y=(T>0?0:T)+j)}),x}drag(p){let{chart:g}=this,{mouseDownX:x=0,mouseDownY:_=0}=g,{panning:T,panKey:C,selectionMarkerFill:A}=g.options.chart,D=g.plotLeft,R=g.plotTop,j=g.plotWidth,O=g.plotHeight,V=Hy(T)?T.enabled:T,U=C&&p[`${C}Key`],Y=p.chartX,ne=p.chartY,K,Z=this.selectionMarker;if((!Z||!Z.touch)&&(Y<D?Y=D:Y>D+j&&(Y=D+j),ne<R?ne=R:ne>R+O&&(ne=R+O),this.hasDragged=Math.sqrt(Math.pow(x-Y,2)+Math.pow(_-ne,2)),this.hasDragged>10)){K=g.isInsidePlot(x-D,_-R,{visiblePlotOnly:!0});let{shapeType:ae,attrs:oe}=this.getSelectionMarkerAttrs(Y,ne);this.hasZoom&&K&&!U&&!Z&&(this.selectionMarker=Z=g.renderer[ae](),Z.attr({class:"highcharts-selection-marker",zIndex:7}).add(),g.styledMode||Z.attr({fill:A||die("#334eff").setOpacity(.25).get()})),Z&&Z.attr(oe),K&&!Z&&V&&g.pan(p,T)}}dragStart(p){let g=this.chart;g.mouseIsDown=p.type,g.cancelClick=!1,g.mouseDownX=p.chartX,g.mouseDownY=p.chartY}getSelectionBox(p){let g={args:{marker:p},result:p.getBBox()};return Vl(this,"getSelectionBox",g),g.result}drop(p){let g,{chart:x,selectionMarker:_}=this;for(let T of x.axes)T.isPanning&&(T.isPanning=!1,(T.options.startOnTick||T.options.endOnTick||T.series.some(C=>C.boosted))&&(T.forceRedraw=!0,T.setExtremes(T.userMin,T.userMax,!1),g=!0));if(g&&x.redraw(),_&&p){if(this.hasDragged){let T=this.getSelectionBox(_);x.transform({axes:x.axes.filter(C=>C.zoomEnabled&&(C.coll==="xAxis"&&this.zoomX||C.coll==="yAxis"&&this.zoomY)),selection:{originalEvent:p,xAxis:[],yAxis:[],...T},from:T})}jy(x.index)&&(this.selectionMarker=_.destroy())}x&&jy(x.index)&&(NT(x.container,{cursor:x._cursor}),x.cancelClick=this.hasDragged>10,x.mouseIsDown=!1,this.hasDragged=0,this.pinchDown=[],this.hasPinchMoved=!1)}findNearestKDPoint(p,g,x){let _;return p.forEach(function(T){var V,U;var C;let A,D,R,j=!(T.noSharedTooltip&&g)&&0>T.options.findNearestPointBy.indexOf("y"),O=T.searchPoint(x,j);Hy(O,!0)&&O.series&&(!Hy(_,!0)||(A=(C=_).distX-O.distX,D=C.dist-O.dist,R=((V=O.series.group)==null?void 0:V.zIndex)-((U=C.series.group)==null?void 0:U.zIndex),(A!==0&&g?A:D!==0?D:R!==0?R:C.series.index>O.series.index?-1:1)>0))&&(_=O)}),_}getChartCoordinatesFromPoint(p,g){let{xAxis:x,yAxis:_}=p.series,T=p.shapeArgs;if(x&&_){let C=p.clientX??p.plotX??0,A=p.plotY||0;return p.isNode&&T&&jy(T.x)&&jy(T.y)&&(C=T.x,A=T.y),g?{chartX:_.len+_.pos-A,chartY:x.len+x.pos-C}:{chartX:C+x.pos,chartY:A+_.pos}}if(T!=null&&T.x&&T.y)return{chartX:T.x,chartY:T.y}}getChartPosition(){if(this.chartPosition)return this.chartPosition;let{container:p}=this.chart,g=yie(p);this.chartPosition={left:g.left,top:g.top,scaleX:1,scaleY:1};let{offsetHeight:x,offsetWidth:_}=p;return _>2&&x>2&&(this.chartPosition.scaleX=g.width/_,this.chartPosition.scaleY=g.height/x),this.chartPosition}getCoordinates(p){let g={xAxis:[],yAxis:[]};for(let x of this.chart.axes)g[x.isXAxis?"xAxis":"yAxis"].push({axis:x,value:x.toValue(p[x.horiz?"chartX":"chartY"])});return g}getHoverData(p,g,x,_,T,C){let A=[],D=function(U){return U.visible&&!(!T&&U.directTouch)&&Qs(U.options.enableMouseTracking,!0)},R=g,j,O={chartX:C?C.chartX:void 0,chartY:C?C.chartY:void 0,shared:T};Vl(this,"beforeGetHoverData",O),j=R&&!R.stickyTracking?[R]:x.filter(U=>U.stickyTracking&&(O.filter||D)(U));let V=_&&p||!C?p:this.findNearestKDPoint(j,T,C);return R=V==null?void 0:V.series,V&&(T&&!R.noSharedTooltip?(j=x.filter(function(U){return O.filter?O.filter(U):D(U)&&!U.noSharedTooltip})).forEach(function(U){var K;let Y=(K=U.options)==null?void 0:K.nullInteraction,ne=$O(U.points,function(Z){return Z.x===V.x&&(!Z.isNull||!!Y)});Hy(ne)&&(U.boosted&&U.boost&&(ne=U.boost.getPoint(ne)),A.push(ne))}):A.push(V)),Vl(this,"afterGetHoverData",O={hoverPoint:V}),{hoverPoint:O.hoverPoint,hoverSeries:R,hoverPoints:A}}getPointFromEvent(p){let g=p.target,x;for(;g&&!x;)x=g.point,g=g.parentNode;return x}onTrackerMouseOut(p){let g=this.chart,x=p.relatedTarget,_=g.hoverSeries;this.isDirectTouch=!1,!_||!x||_.stickyTracking||this.inClass(x,"highcharts-tooltip")||this.inClass(x,"highcharts-series-"+_.index)&&this.inClass(x,"highcharts-tracker")||_.onMouseOut()}inClass(p,g){let x=p,_;for(;x;){if(_=gie(x,"class")){if(_.indexOf(g)!==-1)return!0;if(_.indexOf("highcharts-container")!==-1)return!1}x=x.parentElement}}constructor(p,g){var x;this.hasDragged=0,this.pointerCaptureEventsToUnbind=[],this.eventsToUnbind=[],this.options=g,this.chart=p,this.runChartClick=!!((x=g.chart.events)!=null&&x.click),this.pinchDown=[],this.setDOMEvents(),Vl(this,"afterInit")}normalize(p,g){let x=p.touches,_=x?x.length?x.item(0):Qs(x.changedTouches,p.changedTouches)[0]:p;g||(g=this.getChartPosition());let T=_.pageX-g.left,C=_.pageY-g.top;return PT(p,{chartX:Math.round(T/=g.scaleX),chartY:Math.round(C/=g.scaleY)})}onContainerClick(p){let g=this.chart,x=g.hoverPoint,_=this.normalize(p),T=g.plotLeft,C=g.plotTop;!g.cancelClick&&(x&&this.inClass(_.target,"highcharts-tracker")?(Vl(x.series,"click",PT(_,{point:x})),g.hoverPoint&&x.firePointEvent("click",_)):(PT(_,this.getCoordinates(_)),g.isInsidePlot(_.chartX-T,_.chartY-C,{visiblePlotOnly:!0})&&Vl(g,"click",_)))}onContainerMouseDown(p){var x;let g=(1&(p.buttons||p.button))==1;p=this.normalize(p),J.isFirefox&&p.button!==0&&this.onContainerMouseMove(p),(p.button===void 0||g)&&(this.zoomOption(p),g&&((x=p.preventDefault)==null||x.call(p)),this.dragStart(p))}onContainerMouseLeave(p){let{pointer:g}=LT[Qs(Dn.hoverChartIndex,-1)]||{};p=this.normalize(p),this.onContainerMouseMove(p),g&&!this.inClass(p.relatedTarget,"highcharts-tooltip")&&(g.reset(),g.chartPosition=void 0)}onContainerMouseEnter(){delete this.chartPosition}onContainerMouseMove(p){var T;let g=this.chart,x=g.tooltip,_=this.normalize(p);this.setHoverChartIndex(p),(g.mouseIsDown==="mousedown"||this.touchSelect(_))&&this.drag(_),!((T=g.exporting)!=null&&T.openMenu)&&(this.inClass(_.target,"highcharts-tracker")||g.isInsidePlot(_.chartX-g.plotLeft,_.chartY-g.plotTop,{visiblePlotOnly:!0}))&&!(x!=null&&x.shouldStickOnContact(_))&&(this.inClass(_.target,"highcharts-no-tooltip")?this.reset(!1,0):this.runPointActions(_))}onDocumentTouchEnd(p){this.onDocumentMouseUp(p)}onContainerTouchMove(p){this.touchSelect(p)?this.onContainerMouseMove(p):this.touch(p)}onContainerTouchStart(p){this.touchSelect(p)?this.onContainerMouseDown(p):(this.zoomOption(p),this.touch(p,!0))}onDocumentMouseMove(p){let g=this.chart,x=g.tooltip,_=this.chartPosition,T=this.normalize(p,_);!_||g.isInsidePlot(T.chartX-g.plotLeft,T.chartY-g.plotTop,{visiblePlotOnly:!0})||x!=null&&x.shouldStickOnContact(T)||T.target!==g.container.ownerDocument&&this.inClass(T.target,"highcharts-tracker")||this.reset()}onDocumentMouseUp(p){var g,x,_;p!=null&&p.touches&&this.hasPinchMoved&&((g=p==null?void 0:p.preventDefault)==null||g.call(p)),(_=(x=LT[Qs(Dn.hoverChartIndex,-1)])==null?void 0:x.pointer)==null||_.drop(p)}pinch(p){let g=this,{chart:x,hasZoom:_,lastTouches:T}=g,C=[].map.call(p.touches||[],O=>g.normalize(O)),A=C.length,D=A===1&&(g.inClass(p.target,"highcharts-tracker")&&x.runTrackerClick||g.runChartClick),R=x.tooltip,j=A===1&&Qs(R==null?void 0:R.options.followTouchMove,!0);A>1?g.initiated=!0:j&&(g.initiated=!1),_&&g.initiated&&!D&&p.cancelable!==!1&&p.preventDefault(),p.type==="touchstart"?(g.pinchDown=C,g.res=!0,x.mouseDownX=p.chartX):j?this.runPointActions(g.normalize(p)):T&&(Vl(x,"touchpan",{originalEvent:p,touches:C},()=>{let O=V=>{let U=V[0],Y=V[1]||U;return{x:U.chartX,y:U.chartY,width:Y.chartX-U.chartX,height:Y.chartY-U.chartY}};x.transform({axes:x.axes.filter(V=>V.zoomEnabled&&(this.zoomHor&&V.horiz||this.zoomVert&&!V.horiz)),to:O(C),from:O(T),trigger:p.type})}),g.res&&(g.res=!1,this.reset(!1,0))),g.lastTouches=C}reset(p,g){let x=this.chart,_=x.hoverSeries,T=x.hoverPoint,C=x.hoverPoints,A=x.tooltip,D=A!=null&&A.shared?C:T;p&&D&&YO(D).forEach(function(R){R.series.isCartesian&&R.plotX===void 0&&(p=!1)}),p?A&&D&&YO(D).length&&(A.refresh(D),A.shared&&C?C.forEach(function(R){R.setState(R.state,!0),R.series.isCartesian&&(R.series.xAxis.crosshair&&R.series.xAxis.drawCrosshair(null,R),R.series.yAxis.crosshair&&R.series.yAxis.drawCrosshair(null,R))}):T&&(T.setState(T.state,!0),x.axes.forEach(function(R){R.crosshair&&T.series[R.coll]===R&&R.drawCrosshair(null,T)}))):(T&&T.onMouseOut(),C&&C.forEach(function(R){R.setState()}),_&&_.onMouseOut(),A&&A.hide(g),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),x.axes.forEach(function(R){R.hideCrosshair()}),x.hoverPoints=x.hoverPoint=void 0)}runPointActions(p,g,x){var ne;let _=this.chart,T=_.series,C=(ne=_.tooltip)!=null&&ne.options.enabled?_.tooltip:void 0,A=!!C&&C.shared,D=g||_.hoverPoint,R=(D==null?void 0:D.series)||_.hoverSeries,j=(!p||p.type!=="touchmove")&&(!!g||(R==null?void 0:R.directTouch)&&this.isDirectTouch),O=this.getHoverData(D,R,T,j,A,p);D=O.hoverPoint,R=O.hoverSeries;let V=O.hoverPoints,U=(R==null?void 0:R.tooltipOptions.followPointer)&&!R.tooltipOptions.split,Y=A&&R&&!R.noSharedTooltip;if(D&&(x||D!==_.hoverPoint||C!=null&&C.isHidden)){if((_.hoverPoints||[]).forEach(function(K){V.indexOf(K)===-1&&K.setState()}),_.hoverSeries!==R&&R.onMouseOver(),this.applyInactiveState(V),(V||[]).forEach(function(K){K.setState("hover")}),_.hoverPoint&&_.hoverPoint.firePointEvent("mouseOut"),!D.series)return;_.hoverPoints=V,_.hoverPoint=D,D.firePointEvent("mouseOver",void 0,()=>{C&&D&&C.refresh(Y?V:D,p)})}else if(U&&C&&!C.isHidden){let K=C.getAnchor([{}],p);_.isInsidePlot(K[0],K[1],{visiblePlotOnly:!0})&&C.updatePosition({plotX:K[0],plotY:K[1]})}this.unDocMouseMove||(this.unDocMouseMove=Na(_.container.ownerDocument,"mousemove",K=>{var Z,ae;return(ae=(Z=LT[Dn.hoverChartIndex??-1])==null?void 0:Z.pointer)==null?void 0:ae.onDocumentMouseMove(K)}),this.eventsToUnbind.push(this.unDocMouseMove)),_.axes.forEach(function(K){var oe;let Z,ae=((oe=K.crosshair)==null?void 0:oe.snap)??!0;ae&&((Z=_.hoverPoint)&&Z.series[K.coll]===K||(Z=$O(V,xe=>{var ge;return((ge=xe.series)==null?void 0:ge[K.coll])===K}))),Z||!ae?K.drawCrosshair(p,Z):K.hideCrosshair()})}setDOMEvents(){let p=this.chart.container,g=p.ownerDocument,x=T=>{var C,A;return T.parentElement||((A=(C=T.getRootNode())==null?void 0:C.host)==null?void 0:A.parentElement)};p.onmousedown=this.onContainerMouseDown.bind(this),p.onmousemove=this.onContainerMouseMove.bind(this),p.onclick=this.onContainerClick.bind(this),this.eventsToUnbind.push(Na(p,"mouseenter",this.onContainerMouseEnter.bind(this)),Na(p,"mouseleave",this.onContainerMouseLeave.bind(this))),Dn.unbindDocumentMouseUp.some(T=>T.doc===g)||Dn.unbindDocumentMouseUp.push({doc:g,unbind:Na(g,"mouseup",this.onDocumentMouseUp.bind(this))});let _=x(this.chart.renderTo);for(;_&&_.tagName!=="BODY";)this.eventsToUnbind.push(Na(_,"scroll",()=>{delete this.chartPosition})),_=x(_);this.eventsToUnbind.push(Na(p,"touchstart",this.onContainerTouchStart.bind(this),{passive:!1}),Na(p,"touchmove",this.onContainerTouchMove.bind(this),{passive:!1})),Dn.unbindDocumentTouchEnd||(Dn.unbindDocumentTouchEnd=Na(g,"touchend",this.onDocumentTouchEnd.bind(this),{passive:!1})),this.setPointerCapture(),Na(this.chart,"redraw",this.setPointerCapture.bind(this))}setPointerCapture(){var T,C;if(!vie)return;let p=this.pointerCaptureEventsToUnbind,g=this.chart,x=g.container,_=Qs((T=g.options.tooltip)==null?void 0:T.followTouchMove,!0)&&g.series.some(A=>A.options.findNearestPointBy.indexOf("y")>-1);!this.hasPointerCapture&&_?(p.push(Na(x,"pointerdown",A=>{var D,R;(D=A.target)!=null&&D.hasPointerCapture(A.pointerId)&&((R=A.target)==null||R.releasePointerCapture(A.pointerId))}),Na(x,"pointermove",A=>{var D,R;(R=(D=g.pointer)==null?void 0:D.getPointFromEvent(A))==null||R.onMouseOver(A)})),g.styledMode||NT(x,{"touch-action":"none"}),x.className+=" highcharts-no-touch-action",this.hasPointerCapture=!0):this.hasPointerCapture&&!_&&(p.forEach(A=>A()),p.length=0,g.styledMode||NT(x,{"touch-action":Qs((C=g.options.chart.style)==null?void 0:C["touch-action"],"manipulation")}),x.className=x.className.replace(" highcharts-no-touch-action",""),this.hasPointerCapture=!1)}setHoverChartIndex(p){var _;let g=this.chart,x=J.charts[Qs(Dn.hoverChartIndex,-1)];if(x&&x!==g){let T={relatedTarget:g.container};p&&!(p!=null&&p.relatedTarget)&&Object.assign({},p,T),(_=x.pointer)==null||_.onContainerMouseLeave(p||T)}x!=null&&x.mouseIsDown||(Dn.hoverChartIndex=g.index)}touch(p,g){var C;let x,{chart:_,pinchDown:T=[]}=this;this.setHoverChartIndex(),(p=this.normalize(p)).touches.length===1?_.isInsidePlot(p.chartX-_.plotLeft,p.chartY-_.plotTop,{visiblePlotOnly:!0})&&!((C=_.exporting)!=null&&C.openMenu)?(g&&this.runPointActions(p),p.type==="touchmove"&&(this.hasPinchMoved=x=!!T[0]&&Math.pow(T[0].chartX-p.chartX,2)+Math.pow(T[0].chartY-p.chartY,2)>=16),Qs(x,!0)&&this.pinch(p)):g&&this.reset():p.touches.length===2&&this.pinch(p)}touchSelect(p){return!!(this.chart.zooming.singleTouch&&p.touches&&p.touches.length===1)}zoomOption(p){let g=this.chart,x=g.inverted,_=g.zooming.type||"",T,C;/touch/.test(p.type)&&(_=Qs(g.zooming.pinchType,_)),this.zoomX=T=/x/.test(_),this.zoomY=C=/y/.test(_),this.zoomHor=T&&!x||C&&x,this.zoomVert=C&&!x||T&&x,this.hasZoom=T||C}}Dn.unbindDocumentMouseUp=[],(f=Dn||(Dn={})).compose=function(P){xie(pie,"Core.Pointer")&&Na(P,"beforeRender",function(){this.pointer=new f(this,this.options)})};let XO=Dn;(d=B||(B={})).setLength=function(P,p,g){return Array.isArray(P)?(P.length=p,P):P[g?"subarray":"slice"](0,p)},d.splice=function(P,p,g,x,_=[]){if(Array.isArray(P))return Array.isArray(_)||(_=Array.from(_)),{removed:P.splice(p,g,..._),array:P};let T=Object.getPrototypeOf(P).constructor,C=P[x?"subarray":"slice"](p,p+g),A=new T(P.length-g+_.length);return A.set(P.subarray(0,p),0),A.set(_,p),A.set(P.subarray(p+g),p+_.length),{removed:C,array:A}},d.convertToNumber=function(P,p){switch(typeof P){case"boolean":return+!!P;case"number":return isNaN(P)&&!p?null:P;default:return isNaN(P=parseFloat(`${P??""}`))&&!p?null:P}};let{setLength:bie,splice:qO}=B,{fireEvent:RT,objectEach:hv,uniqueKey:fv}=ke,Vy=class{constructor(P={}){this.autoId=!P.id,this.columns={},this.id=P.id||fv(),this.rowCount=0,this.versionTag=fv();let p=0;hv(P.columns||{},(g,x)=>{this.columns[x]=g.slice(),p=Math.max(p,g.length)}),this.applyRowCount(p)}applyRowCount(P){this.rowCount=P,hv(this.columns,(p,g)=>{p.length!==P&&(this.columns[g]=bie(p,P))})}deleteRows(P,p=1){if(p>0&&P<this.rowCount){let g=0;hv(this.columns,(x,_)=>{this.columns[_]=qO(x,P,p).array,g=x.length}),this.rowCount=g}RT(this,"afterDeleteRows",{rowIndex:P,rowCount:p}),this.versionTag=fv()}getColumn(P,p){return this.columns[P]}getColumns(P,p){return(P||Object.keys(this.columns)).reduce((g,x)=>(g[x]=this.columns[x],g),{})}getRow(P,p){return(p||Object.keys(this.columns)).map(g=>{var x;return(x=this.columns[g])==null?void 0:x[P]})}setColumn(P,p=[],g=0,x){this.setColumns({[P]:p},g,x)}setColumns(P,p,g){let x=this.rowCount;hv(P,(_,T)=>{this.columns[T]=_.slice(),x=_.length}),this.applyRowCount(x),g!=null&&g.silent||(RT(this,"afterSetColumns"),this.versionTag=fv())}setRow(P,p=this.rowCount,g,x){let{columns:_}=this,T=g?this.rowCount+1:p+1,C=Object.keys(P);if((x==null?void 0:x.addColumns)!==!1)for(let A=0,D=C.length;A<D;A++){let R=C[A];_[R]||(_[R]=[])}hv(_,(A,D)=>{A||(x==null?void 0:x.addColumns)===!1||(A=Array(T)),A&&(g?A=qO(A,p,0,!0,[P[D]??null]).array:A[p]=P[D]??null,_[D]=A)}),T>this.rowCount&&this.applyRowCount(T),x!=null&&x.silent||(RT(this,"afterSetRows"),this.versionTag=fv())}getModified(){return this.modified||this}},{extend:Sie,merge:_ie,pick:KO}=ke;var OT=H||(H={});function ZO(P,p,g){var ae,oe;let x=this.legendItem=this.legendItem||{},{chart:_,options:T}=this,{baseline:C=0,symbolWidth:A,symbolHeight:D}=P,R=this.symbol||"circle",j=D/2,O=_.renderer,V=x.group,U=C-Math.round((((ae=P.fontMetrics)==null?void 0:ae.b)||D)*(g?.4:.3)),Y={},ne,K=T.marker,Z=0;if(_.styledMode||(Y["stroke-width"]=Math.min(T.lineWidth||0,24),T.dashStyle?Y.dashstyle=T.dashStyle:T.linecap!=="square"&&(Y["stroke-linecap"]="round")),x.line=O.path().addClass("highcharts-graph").attr(Y).add(V),g&&(x.area=O.path().addClass("highcharts-area").add(V)),Y["stroke-linecap"]&&(Z=Math.min(x.line.strokeWidth(),A)/2),A){let xe=[["M",Z,U],["L",A-Z,U]];x.line.attr({d:xe}),(oe=x.area)==null||oe.attr({d:[...xe,["L",A-Z,C],["L",Z,C]]})}if(K&&K.enabled!==!1&&A){let xe=Math.min(KO(K.radius,j),j);R.indexOf("url")===0&&(K=_ie(K,{width:D,height:D}),xe=0),x.symbol=ne=O.symbol(R,A/2-xe,U-xe,2*xe,2*xe,Sie({context:"legend"},K)).addClass("highcharts-point").add(V),ne.isMarker=!0}}OT.areaMarker=function(P,p){ZO.call(this,P,p,!0)},OT.lineMarker=ZO,OT.rectangle=function(P,p){let g=p.legendItem||{},x=P.options,_=P.symbolHeight,T=x.squareSymbol,C=T?_:P.symbolWidth;g.symbol=this.chart.renderer.rect(T?(P.symbolWidth-_)/2:0,P.baseline-_+1,C,_,KO(P.options.symbolRadius,_/2)).addClass("highcharts-point").attr({zIndex:3}).add(g.group)};let QO=H,{defaultOptions:JO}=Ma,{extend:wie,extendClass:Tie,merge:Cie}=ke;var Js=G||(G={});function e3(P,p){let g=JO.plotOptions||{},x=p.defaultOptions,_=p.prototype;return _.type=P,_.pointClass||(_.pointClass=Hl),!Js.seriesTypes[P]&&(x&&(g[P]=x),Js.seriesTypes[P]=p,!0)}Js.seriesTypes=J.seriesTypes,Js.registerSeriesType=e3,Js.seriesType=function(P,p,g,x,_){let T=JO.plotOptions||{};if(p=p||"",T[P]=Cie(T[p],g),delete Js.seriesTypes[P],e3(P,Tie(Js.seriesTypes[p]||J.Series,x)),Js.seriesTypes[P].prototype.type=P,_){class C extends Hl{}wie(C.prototype,_),Js.seriesTypes[P].prototype.pointClass=C}return Js.seriesTypes[P]};let nn=G,{animObject:t3,setAnimation:Eie}=Kn,{defaultOptions:Uy}=Ma,{registerEventOptions:Aie}=Ay,{svg:kie,win:Iie}=J,{seriesTypes:Ef}=nn,{format:Die}=La,{arrayMax:BT,arrayMin:r3,clamp:n3,correctFloat:i3,crisp:Mie,defined:_n,destroyObjectProperties:Lie,diffObjects:Nie,erase:a3,error:Gy,extend:Af,find:Pie,fireEvent:Wr,getClosestDistance:Rie,getNestedProperty:s3,insertItem:o3,isArray:l3,isNumber:Mn,isString:Oie,merge:dv,objectEach:FT,pick:Qr,removeEvent:Bie,syncTimeout:u3}=ke;class gs{constructor(){this.zoneAxis="y"}init(p,g){var D,R,j;let x;Wr(this,"init",{options:g}),this.dataTable??(this.dataTable=new Vy);let _=p.series;this.eventsToUnbind=[],this.chart=p,this.options=this.setOptions(g);let T=this.options,C=T.visible!==!1;this.linkedSeries=[],this.bindAxes(),Af(this,{name:T.name,state:"",visible:C,selected:T.selected===!0}),Aie(this,T);let A=T.events;(A!=null&&A.click||(R=(D=T.point)==null?void 0:D.events)!=null&&R.click||T.allowPointSelect)&&(p.runTrackerClick=!0),this.getColor(),this.getSymbol(),this.isCartesian&&(p.hasCartesianSeries=!0),_.length&&(x=_[_.length-1]),this._i=Qr(x==null?void 0:x._i,-1)+1,this.opacity=this.options.opacity,p.orderItems("series",o3(this,_)),(j=T.dataSorting)!=null&&j.enabled?this.setDataSortingOptions():this.points||this.data||this.setData(T.data,!1),Wr(this,"afterInit")}is(p){return Ef[p]&&this instanceof Ef[p]}bindAxes(){let p,g=this,x=g.options,_=g.chart;Wr(this,"bindAxes",null,function(){(g.axisTypes||[]).forEach(function(T){(_[T]||[]).forEach(function(C){p=C.options,(Qr(x[T],0)===C.index||x[T]!==void 0&&x[T]===p.id)&&(o3(g,C.series),g[T]=C,C.isDirty=!0)}),g[T]||g.optionalAxis===T||Gy(18,!0,_)})}),Wr(this,"afterBindAxes")}hasData(){return this.visible&&this.dataMax!==void 0&&this.dataMin!==void 0||this.visible&&this.dataTable.rowCount>0}hasMarkerChanged(p,g){let x=p.marker,_=g.marker||{};return x&&(_.enabled&&!x.enabled||_.symbol!==x.symbol||_.height!==x.height||_.width!==x.width)}autoIncrement(p){let g,x=this.options,{pointIntervalUnit:_,relativeXValue:T}=this.options,C=this.chart.time,A=this.xIncrement??C.parse(x.pointStart)??0;if(this.pointInterval=g=Qr(this.pointInterval,x.pointInterval,1),T&&Mn(p)&&(g*=p),_){let D=C.toParts(A);_==="day"?D[2]+=g:_==="month"?D[1]+=g:_==="year"&&(D[0]+=g),g=C.makeTime.apply(C,D)-A}return T&&Mn(p)?A+g:(this.xIncrement=A+g,A)}setDataSortingOptions(){let p=this.options;Af(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1}),_n(p.pointRange)||(p.pointRange=1)}setOptions(p){var K,Z;let g,x=this.chart,_=x.options.plotOptions,T=x.userOptions||{},C=dv(p),A=x.styledMode,D={plotOptions:_,userOptions:C};Wr(this,"setOptions",D);let R=D.plotOptions[this.type],j=T.plotOptions||{},O=j.series||{},V=Uy.plotOptions[this.type]||{},U=j[this.type]||{};R.dataLabels=this.mergeArrays(V.dataLabels,R.dataLabels),this.userOptions=D.userOptions;let Y=dv(R,_.series,U,C);this.tooltipOptions=dv(Uy.tooltip,(K=Uy.plotOptions.series)==null?void 0:K.tooltip,V==null?void 0:V.tooltip,x.userOptions.tooltip,(Z=j.series)==null?void 0:Z.tooltip,U.tooltip,C.tooltip),this.stickyTracking=Qr(C.stickyTracking,U.stickyTracking,O.stickyTracking,!!this.tooltipOptions.shared&&!this.noSharedTooltip||Y.stickyTracking),R.marker===null&&delete Y.marker,this.zoneAxis=Y.zoneAxis||"y";let ne=this.zones=(Y.zones||[]).map(ae=>({...ae}));return(Y.negativeColor||Y.negativeFillColor)&&!Y.zones&&(g={value:Y[this.zoneAxis+"Threshold"]||Y.threshold||0,className:"highcharts-negative"},A||(g.color=Y.negativeColor,g.fillColor=Y.negativeFillColor),ne.push(g)),ne.length&&_n(ne[ne.length-1].value)&&ne.push(A?{}:{color:this.color,fillColor:this.fillColor}),Wr(this,"afterSetOptions",{options:Y}),Y}getName(){return this.options.name??Die(this.chart.options.lang.seriesName,this,this.chart)}getCyclic(p,g,x){let _,T,C=this.chart,A=`${p}Index`,D=`${p}Counter`,R=(x==null?void 0:x.length)||C.options.chart.colorCount;!g&&(_n(T=Qr(p==="color"?this.options.colorIndex:void 0,this[A]))?_=T:(C.series.length||(C[D]=0),_=C[D]%R,C[D]+=1),x&&(g=x[_])),_!==void 0&&(this[A]=_),this[p]=g}getColor(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.color="#cccccc":this.getCyclic("color",this.options.color||Uy.plotOptions[this.type].color,this.chart.options.colors)}getPointsCollection(){return(this.hasGroupedData?this.points:this.data)||[]}getSymbol(){let p=this.options.marker;this.getCyclic("symbol",p.symbol,this.chart.options.symbols)}getColumn(p,g){return(g?this.dataTable.getModified():this.dataTable).getColumn(p,!0)||[]}findPointIndex(p,g){var O;let x,_,T,{id:C,x:A}=p,D=this.points,R=this.options.dataSorting,j=this.cropStart||0;if(C){let V=this.chart.get(C);V instanceof Hl&&(x=V)}else if(this.linkedParent||this.enabledDataSorting||this.options.relativeXValue){let V=U=>!U.touched&&U.index===p.index;if(R!=null&&R.matchByName?V=U=>!U.touched&&U.name===p.name:this.options.relativeXValue&&(V=U=>!U.touched&&U.options.x===p.x),!(x=Pie(D,V)))return}return x&&(T=x==null?void 0:x.index)!==void 0&&(_=!0),T===void 0&&Mn(A)&&(T=this.getColumn("x").indexOf(A,g)),T!==-1&&T!==void 0&&this.cropped&&(T=T>=j?T-j:T),!_&&Mn(T)&&((O=D[T])!=null&&O.touched)&&(T=void 0),T}updateData(p,g){var K;let{options:x,requireSorting:_}=this,T=x.dataSorting,C=this.points,A=[],D=p.length===C.length,R=this.xIncrement,j,O,V,U,Y=!0;if(this.xIncrement=null,p.forEach((Z,ae)=>{var Ie;let oe,xe=_n(Z)&&this.pointClass.prototype.optionsToObject.call({series:this},Z)||{},{id:ge,x:be}=xe;ge||Mn(be)?((oe=this.findPointIndex(xe,U))===-1||oe===void 0?A.push(Z):C[oe]&&Z!==((Ie=x.data)==null?void 0:Ie[oe])?(C[oe].update(Z,!1,void 0,!1),C[oe].touched=!0,_&&(U=oe+1)):C[oe]&&(C[oe].touched=!0),(!D||ae!==oe||T!=null&&T.enabled||this.hasDerivedData)&&(j=!0)):A.push(Z)},this),j)for(O=C.length;O--;)(V=C[O])&&!V.touched&&((K=V.remove)==null||K.call(V,!1,g));else D&&!(T!=null&&T.enabled)?(p.forEach((Z,ae)=>{Z===C[ae].y||C[ae].destroyed||C[ae].update(Z,!1,void 0,!1)}),A.length=0):Y=!1;if(C.forEach(Z=>{Z&&(Z.touched=!1)}),!Y)return!1;A.forEach(Z=>{this.addPoint(Z,!1,void 0,void 0,!1)},this);let ne=this.getColumn("x");return R!==null&&this.xIncrement===null&&ne.length&&(this.xIncrement=BT(ne),this.autoIncrement()),!0}dataColumnKeys(){return["x",...this.pointArrayMap||["y"]]}setData(p,g=!0,x,_){var Ie,we;let T=this.points,C=(T==null?void 0:T.length)||0,A=this.options,D=this.chart,R=A.dataSorting,j=this.xAxis,O=A.turboThreshold,V=this.dataTable,U=this.dataColumnKeys(),Y=this.pointValKey||"y",ne=(this.pointArrayMap||[]).length,K=A.keys,Z,ae,oe=0,xe=1,ge;D.options.chart.allowMutatingData||(A.data&&delete this.options.data,this.userOptions.data&&delete this.userOptions.data,ge=dv(!0,p));let be=(p=ge||p||[]).length;if(R!=null&&R.enabled&&(p=this.sortData(p)),D.options.chart.allowMutatingData&&_!==!1&&be&&C&&!this.cropped&&!this.hasGroupedData&&this.visible&&!this.boosted&&(ae=this.updateData(p,x)),!ae){this.xIncrement=null,this.colorCounter=0;let De=O&&!A.relativeXValue&&be>O;if(De){let Re=this.getFirstValidPoint(p),Ue=this.getFirstValidPoint(p,be-1,-1),Xe=at=>!!(l3(at)&&(K||Mn(at[0])));if(Mn(Re)&&Mn(Ue)){let at=[],xt=[];for(let st of p)at.push(this.autoIncrement()),xt.push(st);V.setColumns({x:at,[Y]:xt})}else if(Xe(Re)&&Xe(Ue))if(ne){let at=+(Re.length===ne),xt=Array(U.length).fill(0).map(()=>[]);for(let st of p){at&&xt[0].push(this.autoIncrement());for(let gt=at;gt<=ne;gt++)(Ie=xt[gt])==null||Ie.push(st[gt-at])}V.setColumns(U.reduce((st,gt,pt)=>(st[gt]=xt[pt],st),{}))}else{K&&(oe=K.indexOf("x"),xe=K.indexOf("y"),oe=oe>=0?oe:0,xe=xe>=0?xe:1),Re.length===1&&(xe=0);let at=[],xt=[];if(oe===xe)for(let st of p)at.push(this.autoIncrement()),xt.push(st[xe]);else for(let st of p)at.push(st[oe]),xt.push(st[xe]);V.setColumns({x:at,[Y]:xt})}else De=!1}if(!De){let Re=U.reduce((Ue,Xe)=>(Ue[Xe]=[],Ue),{});for(Z=0;Z<be;Z++){let Ue=this.pointClass.prototype.applyOptions.apply({series:this},[p[Z]]);for(let Xe of U)Re[Xe][Z]=Ue[Xe]}V.setColumns(Re)}for(Oie(this.getColumn("y")[0])&&Gy(14,!0,D),this.data=[],this.options.data=this.userOptions.data=p,Z=C;Z--;)(we=T[Z])==null||we.destroy();j&&(j.minRange=j.userMinRange),this.isDirty=D.isDirtyBox=!0,this.isDirtyData=!!T,x=!1}A.legendType==="point"&&(this.processData(),this.generatePoints()),g&&D.redraw(x)}sortData(p){let g=this,x=g.options.dataSorting.sortKey||"y",_=function(T,C){return _n(C)&&T.pointClass.prototype.optionsToObject.call({series:T},C)||{}};return p.forEach(function(T,C){p[C]=_(g,T),p[C].index=C},this),p.concat().sort((T,C)=>{let A=s3(x,T),D=s3(x,C);return D<A?-1:+(D>A)}).forEach(function(T,C){T.x=C},this),g.linkedSeries&&g.linkedSeries.forEach(function(T){var D;let C=T.options,A=C.data;!((D=C.dataSorting)!=null&&D.enabled)&&A&&(A.forEach(function(R,j){A[j]=_(T,R),p[j]&&(A[j].x=p[j].x,A[j].index=j)}),T.setData(A,!1))}),p}getProcessedData(p){let g=this,{dataTable:x,isCartesian:_,options:T,xAxis:C}=g,A=T.cropThreshold,D=p||g.getExtremesFromAll,R=C==null?void 0:C.logarithmic,j=x.rowCount,O,V,U=0,Y,ne,K,Z=g.getColumn("x"),ae=x,oe=!1;return C&&(ne=(Y=C.getExtremes()).min,K=Y.max,oe=!!(C.categories&&!C.names.length),_&&g.sorted&&!D&&(!A||j>A||g.forceCrop)&&(Z[j-1]<ne||Z[0]>K?ae=new Vy:g.getColumn(g.pointValKey||"y").length&&(Z[0]<ne||Z[j-1]>K)&&(ae=(O=this.cropData(x,ne,K)).modified,U=O.start,V=!0))),Z=ae.getColumn("x")||[],{modified:ae,cropped:V,cropStart:U,closestPointRange:Rie([R?Z.map(R.log2lin):Z],()=>g.requireSorting&&!oe&&Gy(15,!1,g.chart))}}processData(p){let g=this.xAxis,x=this.dataTable;if(this.isCartesian&&!this.isDirty&&!g.isDirty&&!this.yAxis.isDirty&&!p)return!1;let _=this.getProcessedData();x.modified=_.modified,this.cropped=_.cropped,this.cropStart=_.cropStart,this.closestPointRange=this.basePointRange=_.closestPointRange,Wr(this,"afterProcessData")}cropData(p,g,x){let _=p.getColumn("x",!0)||[],T=_.length,C={},A,D,R=0,j=T;for(A=0;A<T;A++)if(_[A]>=g){R=Math.max(0,A-1);break}for(D=A;D<T;D++)if(_[D]>x){j=D+1;break}for(let O of this.dataColumnKeys()){let V=p.getColumn(O,!0);V&&(C[O]=V.slice(R,j))}return{modified:new Vy({columns:C}),start:R,end:j}}generatePoints(){var xe,ge,be,Ie,we;let p=this.options,g=this.processedData||p.data,x=this.dataTable.getModified(),_=this.getColumn("x",!0),T=this.pointClass,C=x.rowCount,A=this.cropStart||0,D=this.hasGroupedData,R=p.keys,j=[],O=(xe=p.dataGrouping)!=null&&xe.groupAll?A:0,V=this.pointArrayMap||["y"],U=this.dataColumnKeys(),Y,ne,K,Z,ae=this.data,oe;if(!ae&&!D){let De=[];De.length=(g==null?void 0:g.length)||0,ae=this.data=De}for(R&&D&&(this.options.keys=!1),Z=0;Z<C;Z++)ne=A+Z,D?((K=new T(this,x.getRow(Z,U)||[])).dataGroup=(ge=this.groupMap)==null?void 0:ge[O+Z],(be=K.dataGroup)!=null&&be.options&&(K.options=K.dataGroup.options,Af(K,K.dataGroup.options),delete K.dataLabels,K.key=K.name??K.category)):(K=ae[ne],oe=g?g[ne]:x.getRow(Z,V),K||oe===void 0?K&&(K.category=((we=(Ie=this.xAxis)==null?void 0:Ie.categories)==null?void 0:we[K.x])??K.x,K.key=K.name??K.category):ae[ne]=K=new T(this,oe,_[Z])),K&&(K.index=D?O+Z:ne,j[Z]=K);if(this.options.keys=R,ae&&(C!==(Y=ae.length)||D))for(Z=0;Z<Y;Z++)Z!==A||D||(Z+=C),ae[Z]&&(ae[Z].destroyElements(),ae[Z].plotX=void 0);this.data=ae,this.points=j,Wr(this,"afterGeneratePoints")}getXExtremes(p){return{min:r3(p),max:BT(p)}}getExtremes(p,g){var ge;let{xAxis:x,yAxis:_}=this,T=g||this.getExtremesFromAll||this.options.getExtremesFromAll,C=T&&this.cropped?this.dataTable:this.dataTable.getModified(),A=C.rowCount,D=p||this.stackedYData,R=D?[D]:((ge=this.keysAffectYAxis||this.pointArrayMap||["y"])==null?void 0:ge.map(be=>C.getColumn(be,!0)||[]))||[],j=this.getColumn("x",!0),O=[],V=this.requireSorting&&!this.is("column")?1:0,U=!!_&&_.positiveValuesOnly,Y=T||this.cropped||!x,ne,K,Z,ae=0,oe=0;for(x&&(ae=(ne=x.getExtremes()).min,oe=ne.max),Z=0;Z<A;Z++)if(K=j[Z],Y||(j[Z+V]||K)>=ae&&(j[Z-V]||K)<=oe)for(let be of R){let Ie=be[Z];Mn(Ie)&&(Ie>0||!U)&&O.push(Ie)}let xe={activeYData:O,dataMin:r3(O),dataMax:BT(O)};return Wr(this,"afterGetExtremes",{dataExtremes:xe}),xe}applyExtremes(){let p=this.getExtremes();return this.dataMin=p.dataMin,this.dataMax=p.dataMax,p}getFirstValidPoint(p,g=0,x=1){let _=p.length,T=g;for(;T>=0&&T<_;){if(_n(p[T]))return p[T];T+=x}}translate(){var oe;this.generatePoints();let p=this.options,g=p.stacking,x=this.xAxis,_=this.enabledDataSorting,T=this.yAxis,C=this.points,A=C.length,D=this.pointPlacementToXValue(),R=!!D,j=p.threshold,O=p.startFromThreshold?j:0,V=(p==null?void 0:p.nullInteraction)&&T.len,U,Y,ne,K,Z=Number.MAX_VALUE;function ae(xe){return n3(xe,-1e9,1e9)}for(U=0;U<A;U++){let xe,ge=C[U],be=ge.x,Ie,we,De=ge.y,Re=ge.low,Ue=g&&((oe=T.stacking)==null?void 0:oe.stacks[(this.negStacks&&De<(O?0:j)?"-":"")+this.stackKey]);ge.plotX=Mn(Y=x.translate(be,!1,!1,!1,!0,D))?i3(ae(Y)):void 0,g&&this.visible&&Ue&&Ue[be]&&(K=this.getStackIndicator(K,be,this.index),!ge.isNull&&K.key&&(we=(Ie=Ue[be]).points[K.key]),Ie&&l3(we)&&(Re=we[0],De=we[1],Re===O&&K.key===Ue[be].base&&(Re=Qr(Mn(j)?j:T.min)),T.positiveValuesOnly&&_n(Re)&&Re<=0&&(Re=void 0),ge.total=ge.stackTotal=Qr(Ie.total),ge.percentage=_n(ge.y)&&Ie.total?ge.y/Ie.total*100:void 0,ge.stackY=De,this.irregularWidths||Ie.setOffset(this.pointXOffset||0,this.barW||0,void 0,void 0,void 0,this.xAxis))),ge.yBottom=_n(Re)?ae(T.translate(Re,!1,!0,!1,!0)):void 0,this.dataModify&&(De=this.dataModify.modifyValue(De,U)),Mn(De)&&ge.plotX!==void 0?xe=Mn(xe=T.translate(De,!1,!0,!1,!0))?ae(xe):void 0:!Mn(De)&&V&&(xe=V),ge.plotY=xe,ge.isInside=this.isPointInside(ge),ge.clientX=R?i3(x.translate(be,!1,!1,!1,!0,D)):Y,ge.negative=(ge.y||0)<(j||0),ge.isNull||ge.visible===!1||(ne!==void 0&&(Z=Math.min(Z,Math.abs(Y-ne))),ne=Y),ge.zone=this.zones.length?ge.getZone():void 0,!ge.graphic&&this.group&&_&&(ge.isNew=!0)}this.closestPointRangePx=Z,Wr(this,"afterTranslate")}getValidPoints(p,g,x){let _=this.chart;return(p||this.points||[]).filter(function(T){let{plotX:C,plotY:A}=T;return(!!x||!T.isNull&&!!Mn(A))&&(!g||!!_.isInsidePlot(C,A,{inverted:_.inverted}))&&T.visible!==!1})}getSharedClipKey(){return this.sharedClipKey=(this.options.xAxis||0)+","+(this.options.yAxis||0),this.sharedClipKey}setClip(){let{chart:p,group:g,markerGroup:x}=this,_=p.sharedClips,T=p.renderer,C=p.getClipBox(this),A=this.getSharedClipKey(),D=_[A];Wr(this,"setClip",{clipBox:C}),D?D.animate(C):_[A]=D=T.clipRect(C),g&&g.clip(this.options.clip===!1?void 0:D),x&&x.clip()}animate(p){let{chart:g,group:x,markerGroup:_}=this,T=g.inverted,C=t3(this.options.animation),A=[this.getSharedClipKey(),C.duration,C.easing,C.defer].join(","),D=g.sharedClips[A],R=g.sharedClips[A+"m"];if(p&&x){let j=g.getClipBox(this);if(D)D.attr("height",j.height);else{j.width=0,T&&(j.x=g.plotHeight),D=g.renderer.clipRect(j),g.sharedClips[A]=D;let O={x:-99,y:-99,width:T?g.plotWidth+199:99,height:T?99:g.plotHeight+199};R=g.renderer.clipRect(O),g.sharedClips[A+"m"]=R}x.clip(D),_==null||_.clip(R)}else if(D&&!D.hasClass("highcharts-animating")){let j=g.getClipBox(this),O=C.step;(_!=null&&_.element.childNodes.length||g.series.length>1)&&(C.step=function(V,U){O&&O.apply(U,arguments),U.prop==="width"&&(R!=null&&R.element)&&R.attr(T?"height":"width",V+99)}),D.addClass("highcharts-animating").animate(j,C)}}afterAnimate(){this.setClip(),FT(this.chart.sharedClips,(p,g,x)=>{p&&!this.chart.container.querySelector(`[clip-path="url(#${p.id})"]`)&&(p.destroy(),delete x[g])}),this.finishedAnimating=!0,Wr(this,"afterAnimate")}drawPoints(p=this.points){let g,x,_,T,C,A,D,R=this.chart,j=R.styledMode,{colorAxis:O,options:V}=this,U=V.marker,Y=V.nullInteraction,ne=this[this.specialGroup||"markerGroup"],K=this.xAxis,Z=Qr(U.enabled,!K||!!K.isRadial||null,this.closestPointRangePx>=U.enabledThreshold*U.radius);if(U.enabled!==!1||this._hasPointMarkers)for(g=0;g<p.length;g++){T=(_=(x=p[g]).graphic)?"animate":"attr",C=x.marker||{},A=!!x.marker;let ae=x.isNull;if((Z&&!_n(C.enabled)||C.enabled)&&(!ae||Y)&&x.visible!==!1){let oe=Qr(C.symbol,this.symbol,"rect");D=this.markerAttribs(x,x.selected&&"select"),this.enabledDataSorting&&(x.startXPos=K.reversed?-(D.width||0):K.width);let xe=x.isInside!==!1;if(!_&&xe&&((D.width||0)>0||x.hasImage)&&(x.graphic=_=R.renderer.symbol(oe,D.x,D.y,D.width,D.height,A?C:U).add(ne),this.enabledDataSorting&&R.hasRendered&&(_.attr({x:x.startXPos}),T="animate")),_&&T==="animate"&&_[xe?"show":"hide"](xe).animate(D),_){let ge=this.pointAttribs(x,j||!x.selected?void 0:"select");j?O&&_.css({fill:ge.fill}):_[T](ge)}_&&_.addClass(x.getClassName(),!0)}else _&&(x.graphic=_.destroy())}}markerAttribs(p,g){let x=this.options,_=x.marker,T=p.marker||{},C=T.symbol||_.symbol,A={},D,R,j=Qr(T.radius,_==null?void 0:_.radius);g&&(D=_.states[g],R=T.states&&T.states[g],j=Qr(R==null?void 0:R.radius,D==null?void 0:D.radius,j&&j+((D==null?void 0:D.radiusPlus)||0))),p.hasImage=C&&C.indexOf("url")===0,p.hasImage&&(j=0);let O=p.pos();return Mn(j)&&O&&(x.crisp&&(O[0]=Mie(O[0],p.hasImage?0:C==="rect"?(_==null?void 0:_.lineWidth)||0:1)),A.x=O[0]-j,A.y=O[1]-j),j&&(A.width=A.height=2*j),A}pointAttribs(p,g){var Z;let x=this.options,_=x.marker,T=p==null?void 0:p.options,C=(T==null?void 0:T.marker)||{},A=T==null?void 0:T.color,D=p==null?void 0:p.color,R=(Z=p==null?void 0:p.zone)==null?void 0:Z.color,j,O,V=this.color,U,Y,ne=Qr(C.lineWidth,_.lineWidth),K=p!=null&&p.isNull&&x.nullInteraction?0:1;return V=A||R||D||V,U=C.fillColor||_.fillColor||V,Y=C.lineColor||_.lineColor||V,g=g||"normal",j=_.states[g]||{},ne=Qr((O=C.states&&C.states[g]||{}).lineWidth,j.lineWidth,ne+Qr(O.lineWidthPlus,j.lineWidthPlus,0)),U=O.fillColor||j.fillColor||U,Y=O.lineColor||j.lineColor||Y,{stroke:Y,"stroke-width":ne,fill:U,opacity:K=Qr(O.opacity,j.opacity,K)}}destroy(p){var D,R;let g,x,_=this,T=_.chart,C=/AppleWebKit\/533/.test(Iie.navigator.userAgent),A=_.data||[];for(Wr(_,"destroy",{keepEventsForUpdate:p}),this.removeEvents(p),(_.axisTypes||[]).forEach(function(j){x=_[j],x!=null&&x.series&&(a3(x.series,_),x.isDirty=x.forceRedraw=!0)}),_.legendItem&&_.chart.legend.destroyItem(_),g=A.length;g--;)(R=(D=A[g])==null?void 0:D.destroy)==null||R.call(D);for(let j of _.zones)Lie(j,void 0,!0);ke.clearTimeout(_.animationTimeout),FT(_,function(j,O){j instanceof qs&&!j.survive&&j[C&&O==="group"?"hide":"destroy"]()}),T.hoverSeries===_&&(T.hoverSeries=void 0),a3(T.series,_),T.orderItems("series"),FT(_,function(j,O){p&&O==="hcEvents"||delete _[O]})}applyZones(){let{area:p,chart:g,graph:x,zones:_,points:T,xAxis:C,yAxis:A,zoneAxis:D}=this,{inverted:R,renderer:j}=g,O=this[`${D}Axis`],{isXAxis:V,len:U=0,minPointOffset:Y=0}=O||{},ne=((x==null?void 0:x.strokeWidth())||0)/2+1,K=(Z,ae=0,oe=0)=>{R&&(oe=U-oe);let{translated:xe=0,lineClip:ge}=Z,be=oe-xe;ge==null||ge.push(["L",ae,Math.abs(be)<ne?oe-ne*(be<=0?-1:1):xe])};if(_.length&&(x||p)&&O&&Mn(O.min)){let Z=O.getExtremes().max+Y,ae=ge=>{ge.forEach((be,Ie)=>{(be[0]==="M"||be[0]==="L")&&(ge[Ie]=[be[0],V?U-be[1]:be[1],V?be[2]:U-be[2]])})};if(_.forEach(ge=>{ge.lineClip=[],ge.translated=n3(O.toPixels(Qr(ge.value,Z),!0)||0,0,U)}),x&&!this.showLine&&x.hide(),p&&p.hide(),D==="y"&&T.length<C.len)for(let ge of T){let{plotX:be,plotY:Ie,zone:we}=ge,De=we&&_[_.indexOf(we)-1];we&&K(we,be,Ie),De&&K(De,be,Ie)}let oe=[],xe=O.toPixels(O.getExtremes().min-Y,!0);_.forEach(ge=>{var gt,pt;let be=ge.lineClip||[],Ie=Math.round(ge.translated||0);C.reversed&&be.reverse();let{clip:we,simpleClip:De}=ge,Re=0,Ue=0,Xe=C.len,at=A.len;V?(Re=Ie,Xe=xe):(Ue=Ie,at=xe);let xt=[["M",Re,Ue],["L",Xe,Ue],["L",Xe,at],["L",Re,at],["Z"]],st=[xt[0],...be,xt[1],xt[2],...oe,xt[3],xt[4]];oe=be.reverse(),xe=Ie,R&&(ae(st),p&&ae(xt)),we?(we.animate({d:st}),De==null||De.animate({d:xt})):(we=ge.clip=j.path(st),p&&(De=ge.simpleClip=j.path(xt))),x&&((gt=ge.graph)==null||gt.clip(we)),p&&((pt=ge.area)==null||pt.clip(De))})}else this.visible&&(x&&x.show(),p&&p.show())}plotGroup(p,g,x,_,T){let C=this[p],A=!C,D={visibility:x,zIndex:_||.1};return _n(this.opacity)&&!this.chart.styledMode&&this.state!=="inactive"&&(D.opacity=this.opacity),C||(this[p]=C=this.chart.renderer.g().add(T)),C.addClass("highcharts-"+g+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(_n(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(C.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),C.attr(D)[A?"attr":"animate"](this.getPlotBox(g)),C}getPlotBox(p){let g=this.xAxis,x=this.yAxis,_=this.chart,T=_.inverted&&!_.polar&&g&&this.invertible&&p==="series";_.inverted&&(g=x,x=this.xAxis);let C={scale:1,translateX:g?g.left:_.plotLeft,translateY:x?x.top:_.plotTop,name:p};Wr(this,"getPlotBox",C);let{scale:A,translateX:D,translateY:R}=C;return{translateX:D,translateY:R,rotation:90*!!T,rotationOriginX:T?A*(g.len-x.len)/2:0,rotationOriginY:T?A*(g.len+x.len)/2:0,scaleX:T?-A:A,scaleY:A}}removeEvents(p){let{eventsToUnbind:g}=this;p||Bie(this),g.length&&(g.forEach(x=>{x()}),g.length=0)}render(){var j,O,V,U,Y;let p=this,{chart:g,options:x,hasRendered:_}=p,T=t3(x.animation),C=p.visible?"inherit":"hidden",A=x.zIndex,D=g.seriesGroup,R=p.finishedAnimating?0:T.duration;Wr(this,"render"),p.plotGroup("group","series",C,A,D),p.markerGroup=p.plotGroup("markerGroup","markers",C,A,D),x.clip!==!1&&p.setClip(),R&&((j=p.animate)==null||j.call(p,!0)),p.drawGraph&&(p.drawGraph(),p.applyZones()),p.visible&&p.drawPoints(),(O=p.drawDataLabels)==null||O.call(p),(V=p.redrawPoints)==null||V.call(p),x.enableMouseTracking&&((U=p.drawTracker)==null||U.call(p)),R&&((Y=p.animate)==null||Y.call(p)),_||(R&&T.defer&&(R+=T.defer),p.animationTimeout=u3(()=>{p.afterAnimate()},R||0)),p.isDirty=!1,p.hasRendered=!0,Wr(p,"afterRender")}redraw(){let p=this.isDirty||this.isDirtyData;this.translate(),this.render(),p&&delete this.kdTree}reserveSpace(){return this.visible||!this.chart.options.chart.ignoreHiddenSeries}searchPoint(p,g){let{xAxis:x,yAxis:_}=this,T=this.chart.inverted;return this.searchKDTree({clientX:T?x.len-p.chartY+x.pos:p.chartX-x.pos,plotY:T?_.len-p.chartX+_.pos:p.chartY-_.pos},g,p)}buildKDTree(p){this.buildingKdTree=!0;let g=this,x=g.options,_=x.findNearestPointBy.indexOf("y")>-1?2:1;delete g.kdTree,u3(function(){g.kdTree=function T(C,A,D){let R,j,O=C==null?void 0:C.length;if(O)return R=g.kdAxisArray[A%D],C.sort((V,U)=>(V[R]||0)-(U[R]||0)),{point:C[j=Math.floor(O/2)],left:T(C.slice(0,j),A+1,D),right:T(C.slice(j+1),A+1,D)}}(g.getValidPoints(void 0,!g.directTouch,x==null?void 0:x.nullInteraction),_,_),g.buildingKdTree=!1},x.kdNow||(p==null?void 0:p.type)==="touchstart"?0:1)}searchKDTree(p,g,x,_,T){let C=this,[A,D]=this.kdAxisArray,R=g?"distX":"dist",j=(C.options.findNearestPointBy||"").indexOf("y")>-1?2:1,O=!!C.isBubble,V=_||((Y,ne,K)=>{let Z=Y[K]||0,ae=ne[K]||0;return[Z===ae&&Y.index>ne.index||Z<ae?Y:ne,!1]}),U=T||((Y,ne)=>Y<ne);if(this.kdTree||this.buildingKdTree||this.buildKDTree(x),this.kdTree)return function Y(ne,K,Z,ae){var pt,Pt;let oe,xe,ge,be,Ie,we,De,Re=K.point,Ue=C.kdAxisArray[Z%ae],Xe=Re,at=!1;oe=ne[A],xe=Re[A],ge=_n(oe)&&_n(xe)?oe-xe:null,be=ne[D],Ie=Re[D],we=_n(be)&&_n(Ie)?be-Ie:0,De=O&&((pt=Re.marker)==null?void 0:pt.radius)||0,Re.dist=Math.sqrt((ge&&ge*ge||0)+we*we)-De,Re.distX=_n(ge)?Math.abs(ge)-De:Number.MAX_VALUE;let xt=(ne[Ue]||0)-(Re[Ue]||0)+(O&&((Pt=Re.marker)==null?void 0:Pt.radius)||0),st=xt<0?"left":"right",gt=xt<0?"right":"left";return K[st]&&([Xe,at]=V(Re,Y(ne,K[st],Z+1,ae),R)),K[gt]&&U(Math.sqrt(xt*xt),Xe[R],at)&&(Xe=V(Xe,Y(ne,K[gt],Z+1,ae),R)[0]),Xe}(p,this.kdTree,j,j)}pointPlacementToXValue(){let{options:p,xAxis:g}=this,x=p.pointPlacement;return x==="between"&&(x=g.reversed?-.5:.5),Mn(x)?x*(p.pointRange||g.pointRange):0}isPointInside(p){let{chart:g,xAxis:x,yAxis:_}=this,{plotX:T=-1,plotY:C=-1}=p;return C>=0&&C<=(_?_.len:g.plotHeight)&&T>=0&&T<=(x?x.len:g.plotWidth)}drawTracker(){var V;let p=this,g=p.options,x=g.trackByArea,_=[].concat((x?p.areaPath:p.graphPath)||[]),T=p.chart,C=T.pointer,A=T.renderer,D=((V=T.options.tooltip)==null?void 0:V.snap)||0,R=()=>{g.enableMouseTracking&&T.hoverSeries!==p&&p.onMouseOver()},j="rgba(192,192,192,"+(kie?1e-4:.002)+")",O=p.tracker;O?O.attr({d:_}):p.graph&&(p.tracker=O=A.path(_).attr({visibility:p.visible?"inherit":"hidden",zIndex:2}).addClass(x?"highcharts-tracker-area":"highcharts-tracker-line").add(p.group),T.styledMode||O.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:j,fill:x?j:"none","stroke-width":p.graph.strokeWidth()+(x?0:2*D)}),[p.tracker,p.markerGroup,...p.dataLabelsGroups||[]].forEach(U=>{U&&(U.addClass("highcharts-tracker").on("mouseover",R).on("mouseout",Y=>{C==null||C.onTrackerMouseOut(Y)}),g.cursor&&!T.styledMode&&U.css({cursor:g.cursor}),U.on("touchstart",R))})),Wr(this,"afterDrawTracker")}addPoint(p,g,x,_,T){let C,A,D=this.options,{chart:R,data:j,dataTable:O,xAxis:V}=this,U=(V==null?void 0:V.hasNames)&&V.names,Y=D.data,ne=this.getColumn("x");g=Qr(g,!0);let K={series:this};this.pointClass.prototype.applyOptions.apply(K,[p]);let Z=K.x;if(A=ne.length,this.requireSorting&&Z<ne[A-1])for(C=!0;A&&ne[A-1]>Z;)A--;O.setRow(K,A,!0,{addColumns:!1}),U&&K.name&&(U[Z]=K.name),Y==null||Y.splice(A,0,p),(C||this.processedData)&&(this.data.splice(A,0,null),this.processData()),D.legendType==="point"&&this.generatePoints(),x&&(j[0]&&j[0].remove?j[0].remove(!1):([j,Y].filter(_n).forEach(ae=>{ae.shift()}),O.deleteRows(0))),T!==!1&&Wr(this,"addPoint",{point:K}),this.isDirty=!0,this.isDirtyData=!0,g&&R.redraw(_)}removePoint(p,g,x){let _=this,{chart:T,data:C,points:A,dataTable:D}=_,R=C[p],j=function(){[(A==null?void 0:A.length)===C.length?A:void 0,C,_.options.data].filter(_n).forEach(O=>{O.splice(p,1)}),D.deleteRows(p),R==null||R.destroy(),_.isDirty=!0,_.isDirtyData=!0,g&&T.redraw()};Eie(x,T),g=Qr(g,!0),R?R.firePointEvent("remove",null,j):j()}remove(p,g,x,_){let T=this,C=T.chart;function A(){T.destroy(_),C.isDirtyLegend=C.isDirtyBox=!0,C.linkSeries(_),Qr(p,!0)&&C.redraw(g)}x!==!1?Wr(T,"remove",null,A):A()}update(p,g){var Z,ae;Wr(this,"update",{options:p=Nie(p,this.userOptions)});let x=this,_=x.chart,T=x.userOptions,C=x.initialType||x.type,A=_.options.plotOptions,D=Ef[C].prototype,R=x.finishedAnimating&&{animation:!1},j={},O,V,U=gs.keepProps.slice(),Y=p.type||T.type||_.options.chart.type,ne=!(this.hasDerivedData||Y&&Y!==this.type||p.keys!==void 0||p.pointStart!==void 0||p.pointInterval!==void 0||p.relativeXValue!==void 0||p.joinBy||p.mapData||["dataGrouping","pointStart","pointInterval","pointIntervalUnit","keys"].some(oe=>x.hasOptionChanged(oe)));Y=Y||C,ne?(U.push.apply(U,gs.keepPropsForPoints),p.visible!==!1&&U.push("area","graph"),x.parallelArrays.forEach(function(oe){U.push(oe+"Data")}),p.data&&(p.dataSorting&&Af(x.options.dataSorting,p.dataSorting),this.setData(p.data,!1))):this.dataTable.modified=this.dataTable,p.dataLabels&&T.dataLabels&&(p.dataLabels=this.mergeArrays(T.dataLabels,p.dataLabels)),p=dv(T,{index:T.index===void 0?x.index:T.index,pointStart:((Z=A==null?void 0:A.series)==null?void 0:Z.pointStart)??T.pointStart??x.getColumn("x")[0]},!ne&&{data:x.options.data},p,R),ne&&p.data&&(p.data=x.options.data),(U=["dataLabelsGroup","dataLabelsGroups","dataLabelsParentGroups","group","markerGroup","transformGroup"].concat(U)).forEach(function(oe){U[oe]=x[oe],delete x[oe]});let K=!1;if(Ef[Y]){if(K=Y!==x.type,x.remove(!1,!1,!1,!0),K)if(_.propFromSeries(),Object.setPrototypeOf)Object.setPrototypeOf(x,Ef[Y].prototype);else{let oe=Object.hasOwnProperty.call(x,"hcEvents")&&x.hcEvents;for(V in D)x[V]=void 0;Af(x,Ef[Y].prototype),oe?x.hcEvents=oe:delete x.hcEvents}}else Gy(17,!0,_,{missingModuleFor:Y});if(U.forEach(function(oe){x[oe]=U[oe]}),x.init(_,p),ne&&this.points)for(let oe of((O=x.options).visible===!1?(j.graphic=1,j.dataLabel=1):(this.hasMarkerChanged(O,T)&&(j.graphic=1),(ae=x.hasDataLabels)!=null&&ae.call(x)||(j.dataLabel=1)),this.points))oe!=null&&oe.series&&(oe.resolveColor(),Object.keys(j).length&&oe.destroyElements(j),O.showInLegend===!1&&oe.legendItem&&_.legend.destroyItem(oe));x.initialType=C,_.linkSeries(),_.setSortedData(),K&&x.linkedSeries.length&&(x.isDirtyData=!0),Wr(this,"afterUpdate"),Qr(g,!0)&&_.redraw(!!ne&&void 0)}setName(p){this.name=this.options.name=this.userOptions.name=p,this.chart.isDirtyLegend=!0}hasOptionChanged(p){var A,D;let g=this.chart,x=this.options[p],_=g.options.plotOptions,T=this.userOptions[p],C=Qr((A=_==null?void 0:_[this.type])==null?void 0:A[p],(D=_==null?void 0:_.series)==null?void 0:D[p]);return T&&!_n(C)?x!==T:x!==Qr(C,x)}onMouseOver(){let p=this.chart,g=p.hoverSeries,x=p.pointer;x==null||x.setHoverChartIndex(),g&&g!==this&&g.onMouseOut(),this.options.events.mouseOver&&Wr(this,"mouseOver"),this.setState("hover"),p.hoverSeries=this}onMouseOut(){let p=this.options,g=this.chart,x=g.tooltip,_=g.hoverPoint;g.hoverSeries=null,_&&_.onMouseOut(),this&&p.events.mouseOut&&Wr(this,"mouseOut"),x&&!this.stickyTracking&&(!x.shared||this.noSharedTooltip)&&x.hide(),g.series.forEach(function(T){T.setState("",!0)})}setState(p,g){var O,V;let x=this,{graph:_,options:T}=x,{inactiveOtherPoints:C,states:A}=T,D=Qr((O=A==null?void 0:A[p||"normal"])==null?void 0:O.animation,x.chart.options.chart.animation),{lineWidth:R,opacity:j}=T;if(p=p||"",x.state!==p&&([x.group,x.markerGroup,...x.dataLabelsGroups||[]].forEach(function(U){U&&(x.state&&U.removeClass("highcharts-series-"+x.state),p&&U.addClass("highcharts-series-"+p))}),x.state=p,!x.chart.styledMode)){if(((V=A[p])==null?void 0:V.enabled)===!1)return;if(p&&(R=A[p].lineWidth||R+(A[p].lineWidthPlus||0),j=Qr(A[p].opacity,j)),_&&!_.dashstyle&&Mn(R))for(let U of[_,...this.zones.map(Y=>Y.graph)])U==null||U.animate({"stroke-width":R},D);C||[x.group,x.markerGroup,...x.dataLabelsGroups||[],x.labelBySeries].forEach(function(U){U==null||U.animate({opacity:j},D)})}g&&C&&x.points&&x.setAllPointsToState(p||void 0)}setAllPointsToState(p){this.points.forEach(function(g){g.setState&&g.setState(p)})}setVisible(p,g){var D,R;let x=this,_=x.chart,T=_.options.chart.ignoreHiddenSeries,C=x.visible;x.visible=p=x.options.visible=x.userOptions.visible=p===void 0?!C:p;let A=p?"show":"hide";["group","markerGroup","tracker","tt"].forEach(j=>{var O;(O=x[j])==null||O[A]()}),(D=x.dataLabelsGroups)==null||D.forEach(j=>{j==null||j[A]()}),(_.hoverSeries===x||((R=_.hoverPoint)==null?void 0:R.series)===x)&&x.onMouseOut(),x.legendItem&&_.legend.colorizeItem(x,p),x.isDirty=!0,x.options.stacking&&_.series.forEach(j=>{j.options.stacking&&j.visible&&(j.isDirty=!0)}),x.linkedSeries.forEach(j=>{j.setVisible(p,!1)}),T&&(_.isDirtyBox=!0),Wr(x,A),g!==!1&&_.redraw()}show(){this.setVisible(!0)}hide(){this.setVisible(!1)}select(p){this.selected=p=this.options.selected=p===void 0?!this.selected:p,this.checkbox&&(this.checkbox.checked=p),Wr(this,p?"select":"unselect")}shouldShowTooltip(p,g,x={}){return x.series=this,x.visiblePlotOnly=!0,this.chart.isInsidePlot(p,g,x)}drawLegendSymbol(p,g){var x;(x=QO[this.options.legendSymbol||"rectangle"])==null||x.call(this,p,g)}}gs.defaultOptions={lineWidth:2,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1e3},enableMouseTracking:!0,events:{},marker:{enabledThreshold:2,lineColor:"#ffffff",lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:150},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},align:"center",borderWidth:0,defer:!0,formatter:function(){let{numberFormatter:P}=this.series.chart;return typeof this.y!="number"?"":P(this.y,-1)},padding:5,style:{fontSize:"0.7em",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:150},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:150},opacity:.2}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"},gs.types=nn.seriesTypes,gs.registerType=nn.registerSeriesType,gs.keepProps=["colorIndex","eventOptions","navigatorSeries","symbolIndex","baseSeries"],gs.keepPropsForPoints=["data","isDirtyData","isDirtyCanvas","points","dataTable","processedData","xIncrement","cropped","_hasPointMarkers","hasDataLabels","nodes","layout","level","mapMap","mapData","minY","maxY","minX","maxX","transformGroups"],Af(gs.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,directTouch:!1,invertible:!0,isCartesian:!0,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:Hl,requireSorting:!0,sorted:!0}),nn.series=gs;let da=gs,{animObject:Fie,setAnimation:zie}=Kn,{registerEventOptions:c3}=Ay,{composed:jie,marginNames:h3}=J,{distribute:Hie}=my,{format:Vie}=La,{addEvent:Wy,createElement:Uie,css:Gie,defined:zT,discardElement:Wie,find:$ie,fireEvent:Yo,isNumber:f3,merge:_c,pick:ms,pushUnique:Yie,relativeLength:jT,stableSort:Xie,syncTimeout:qie}=ke;class HT{constructor(p,g){this.allItems=[],this.initialItemY=0,this.itemHeight=0,this.itemMarginBottom=0,this.itemMarginTop=0,this.itemX=0,this.itemY=0,this.lastItemY=0,this.lastLineHeight=0,this.legendHeight=0,this.legendWidth=0,this.maxItemWidth=0,this.maxLegendWidth=0,this.offsetWidth=0,this.padding=0,this.pages=[],this.symbolHeight=0,this.symbolWidth=0,this.titleHeight=0,this.totalItemWidth=0,this.widthOption=0,this.chart=p,this.setOptions(g),g.enabled&&(this.render(),c3(this,g),Wy(this.chart,"endResize",function(){this.legend.positionCheckboxes()})),Wy(this.chart,"render",()=>{this.options.enabled&&this.proximate&&(this.proximatePositions(),this.positionItems())})}setOptions(p){let g=ms(p.padding,8);this.options=p,this.chart.styledMode||(this.itemStyle=p.itemStyle,this.itemHiddenStyle=_c(this.itemStyle,p.itemHiddenStyle)),this.itemMarginTop=p.itemMarginTop,this.itemMarginBottom=p.itemMarginBottom,this.padding=g,this.initialItemY=g-5,this.symbolWidth=ms(p.symbolWidth,16),this.pages=[],this.proximate=p.layout==="proximate"&&!this.chart.inverted,this.baseline=void 0}update(p,g){let x=this.chart;this.setOptions(_c(!0,this.options,p)),"events"in this.options&&c3(this,this.options),this.destroy(),x.isDirtyLegend=x.isDirtyBox=!0,ms(g,!0)&&x.redraw(),Yo(this,"afterUpdate",{redraw:g})}colorizeItem(p,g){var R;let x=p.color,{area:_,group:T,label:C,line:A,symbol:D}=p.legendItem||{};if((p instanceof da||p instanceof Hl)&&(p.color=((R=p.options)==null?void 0:R.legendSymbolColor)||x),T==null||T[g?"removeClass":"addClass"]("highcharts-legend-item-hidden"),!this.chart.styledMode){let{itemHiddenStyle:j={}}=this,O=j.color,{fillColor:V,fillOpacity:U,lineColor:Y,marker:ne}=p.options,K=Z=>(!g&&(Z.fill&&(Z.fill=O),Z.stroke&&(Z.stroke=O)),Z);C==null||C.css(_c(g?this.itemStyle:j)),A==null||A.attr(K({stroke:Y||p.color})),D&&D.attr(K(ne&&D.isMarker?p.pointAttribs():{fill:p.color})),_==null||_.attr(K({fill:V||p.color,"fill-opacity":V?1:U??.75}))}p.color=x,Yo(this,"afterColorizeItem",{item:p,visible:g})}positionItems(){this.allItems.forEach(this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()}positionItem(p){let{group:g,x=0,y:_=0}=p.legendItem||{},T=this.options,C=T.symbolPadding,A=!T.rtl,D=p.checkbox;if(g!=null&&g.element){let R={translateX:A?x:this.legendWidth-x-2*C-4,translateY:_},j=()=>{Yo(this,"afterPositionItem",{item:p})};g[zT(g.translateY)?"animate":"attr"](R,void 0,j)}D&&(D.x=x,D.y=_)}destroyItem(p){let g=p.legendItem||{};for(let x of["group","label","line","symbol"])g[x]&&(g[x]=g[x].destroy());p.checkbox=Wie(p.checkbox),p.legendItem=void 0}destroy(){for(let p of this.getAllItems())this.destroyItem(p);for(let p of["clipRect","up","down","pager","nav","box","title","group"])this[p]&&(this[p]=this[p].destroy());this.display=null}positionCheckboxes(){var T;let p,g=(T=this.group)==null?void 0:T.alignAttr,x=this.clipHeight||this.legendHeight,_=this.titleHeight;g&&(p=g.translateY,this.allItems.forEach(function(C){let A,D=C.checkbox;D&&(A=p+_+D.y+(this.scrollOffset||0)+3,Gie(D,{left:g.translateX+C.checkboxOffset+D.x-20+"px",top:A+"px",display:this.proximate||A>p-6&&A<p+x-6?"":"none"}))},this))}renderTitle(){let p=this.options,g=this.padding,x=p.title,_,T=0;x.text&&(this.title||(this.title=this.chart.renderer.label(x.text,g-3,g-4,void 0,void 0,void 0,p.useHTML,void 0,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(x.style),this.title.add(this.group)),x.width||this.title.css({width:this.maxLegendWidth+"px"}),T=(_=this.title.getBBox()).height,this.offsetWidth=_.width,this.contentGroup.attr({translateY:T})),this.titleHeight=T}setText(p){let g=this.options;p.legendItem.label.attr({text:g.labelFormat?Vie(g.labelFormat,p,this.chart):g.labelFormatter.call(p)})}renderItem(p){var Ie;let g=p.legendItem=p.legendItem||{},x=this.chart,_=x.renderer,T=this.options,C=T.layout==="horizontal",A=this.symbolWidth,D=T.symbolPadding||0,R=this.itemStyle,j=this.itemHiddenStyle,O=C?ms(T.itemDistance,20):0,V=!T.rtl,U=!p.series,Y=!U&&p.series.drawLegendSymbol?p.series:p,ne=Y.options,K=!!this.createCheckboxForItem&&ne&&ne.showCheckbox,Z=T.useHTML,ae=p.options.className,oe=g.label,xe=A+D+O+20*!!K;!oe&&(g.group=_.g("legend-item").addClass("highcharts-"+Y.type+"-series highcharts-color-"+p.colorIndex+(ae?" "+ae:"")+(U?" highcharts-series-"+p.index:"")).attr({zIndex:1}).add(this.scrollGroup),g.label=oe=_.text("",V?A+D:-D,this.baseline||0,Z),x.styledMode||oe.css(_c(p.visible?R:j)),oe.attr({align:V?"left":"right",zIndex:2}).add(g.group),!this.baseline&&(this.fontMetrics=_.fontMetrics(oe),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,oe.attr("y",this.baseline),this.symbolHeight=ms(T.symbolHeight,this.fontMetrics.f),T.squareSymbol&&(this.symbolWidth=ms(T.symbolWidth,Math.max(this.symbolHeight,16)),xe=this.symbolWidth+D+O+20*!!K,V&&oe.attr("x",this.symbolWidth+D))),Y.drawLegendSymbol(this,p),this.setItemEvents&&this.setItemEvents(p,oe,Z)),K&&!p.checkbox&&this.createCheckboxForItem&&this.createCheckboxForItem(p),this.colorizeItem(p,p.visible),(x.styledMode||!R.width)&&oe.css({width:Math.min(T.itemWidth||this.widthOption||x.spacingBox.width,T.maxWidth?jT(T.maxWidth,x.chartWidth):1/0)-xe+"px"}),this.setText(p);let ge=oe.getBBox(),be=((Ie=this.fontMetrics)==null?void 0:Ie.h)||0;p.itemWidth=p.checkboxOffset=T.itemWidth||g.labelWidth||ge.width+xe,this.maxItemWidth=Math.max(this.maxItemWidth,p.itemWidth),this.totalItemWidth+=p.itemWidth,this.itemHeight=p.itemHeight=Math.round(g.labelHeight||(ge.height>1.5*be?ge.height:be))}layoutItem(p){let g=this.options,x=this.padding,_=g.layout==="horizontal",T=p.itemHeight,C=this.itemMarginBottom,A=this.itemMarginTop,D=_?ms(g.itemDistance,20):0,R=this.maxLegendWidth,j=g.alignColumns&&this.totalItemWidth>R?this.maxItemWidth:p.itemWidth,O=p.legendItem||{};_&&this.itemX-x+j>R&&(this.itemX=x,this.lastLineHeight&&(this.itemY+=A+this.lastLineHeight+C),this.lastLineHeight=0),this.lastItemY=A+this.itemY+C,this.lastLineHeight=Math.max(T,this.lastLineHeight),O.x=this.itemX,O.y=this.itemY,_?this.itemX+=j:(this.itemY+=A+T+C,this.lastLineHeight=T),this.offsetWidth=this.widthOption||Math.max((_?this.itemX-x-(p.checkbox?0:D):j)+x,this.offsetWidth)}getAllItems(){let p=[];return this.chart.series.forEach(function(g){var _;let x=g==null?void 0:g.options;g&&ms(x.showInLegend,!zT(x.linkedTo)&&void 0,!0)&&(p=p.concat(((_=g.legendItem)==null?void 0:_.labels)||(x.legendType==="point"?g.data:g)))}),Yo(this,"afterGetAllItems",{allItems:p}),p}getAlignment(){let p=this.options;return this.proximate?p.align.charAt(0)+"tv":p.floating?"":p.align.charAt(0)+p.verticalAlign.charAt(0)+p.layout.charAt(0)}adjustMargins(p,g){let x=this.chart,_=this.options,T=this.getAlignment();T&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach((C,A)=>{C.test(T)&&!zT(p[A])&&(x[h3[A]]=Math.max(x[h3[A]],x.legend[(A+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][A]*_[A%2?"x":"y"]+(_.margin??12)+g[A]+(x.titleOffset[A]||0)))})}proximatePositions(){let p,g=this.chart,x=[],_=this.options.align==="left";for(let T of(this.allItems.forEach(function(C){let A,D,R=_,j,O;C.yAxis&&(C.xAxis.options.reversed&&(R=!R),C.points&&(A=$ie(R?C.points:C.points.slice(0).reverse(),function(V){return f3(V.plotY)})),D=this.itemMarginTop+C.legendItem.label.getBBox().height+this.itemMarginBottom,O=C.yAxis.top-g.plotTop,j=C.visible?(A?A.plotY:C.yAxis.height)+(O-.3*D):O+C.yAxis.height,x.push({target:j,size:D,item:C}))},this),Hie(x,g.plotHeight)))p=T.item.legendItem||{},f3(T.pos)&&(p.y=g.plotTop-g.spacing[0]+T.pos)}render(){let p=this.chart,g=p.spacingBox.width,x=p.renderer,_=this.options,T=this.padding,C=this.getAllItems(),A,D,R,j=this.group,O,V=this.box;this.itemX=T,this.itemY=this.initialItemY,this.offsetWidth=0,this.lastItemY=0,this.widthOption=jT(_.width,g-T),O=g-2*T-_.x,["rm","lm"].indexOf(this.getAlignment().substring(0,2))>-1&&(O/=2),this.maxLegendWidth=this.widthOption||O,j||(this.group=j=x.g("legend").addClass(_.className||"").attr({zIndex:7}).add(),this.contentGroup=x.g().attr({zIndex:1}).add(j),this.scrollGroup=x.g().add(this.contentGroup)),this.renderTitle(),Xie(C,(U,Y)=>{var ne,K;return(((ne=U.options)==null?void 0:ne.legendIndex)||0)-(((K=Y.options)==null?void 0:K.legendIndex)||0)}),_.reversed&&C.reverse(),this.allItems=C,this.display=A=!!C.length,this.lastLineHeight=0,this.maxItemWidth=0,this.totalItemWidth=0,this.itemHeight=0,C.forEach(this.renderItem,this),C.forEach(this.layoutItem,this),D=(_.maxWidth?Math.min(this.widthOption||this.offsetWidth,O,jT(_.maxWidth,p.chartWidth)||1/0):this.widthOption||this.offsetWidth)+T,R=this.lastItemY+this.lastLineHeight+this.titleHeight,R=this.handleOverflow(R)+T,V||(this.box=V=x.rect().addClass("highcharts-legend-box").attr({r:_.borderRadius}).add(j)),p.styledMode||V.attr({stroke:_.borderColor,"stroke-width":_.borderWidth||0,fill:_.backgroundColor||"none"}).shadow(_.shadow),D>0&&R>0&&V[V.placed?"animate":"attr"](V.crisp.call({},{x:0,y:0,width:D,height:R},V.strokeWidth())),j[A?"show":"hide"](),p.styledMode&&j.getStyle("display")==="none"&&(D=R=0),this.legendWidth=D,this.legendHeight=R,A&&this.align(),this.proximate||this.positionItems(),Yo(this,"afterRender")}align(p=this.chart.spacingBox){let g=this.chart,x=this.options,_=p.y;/(lth|ct|rth)/.test(this.getAlignment())&&g.titleOffset[0]>0?_+=g.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&g.titleOffset[2]>0&&(_-=g.titleOffset[2]),_!==p.y&&(p=_c(p,{y:_})),g.hasRendered||(this.group.placed=!1),this.group.align(_c(x,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":x.verticalAlign}),!0,p)}handleOverflow(p){let g=this,x=this.chart,_=x.renderer,T=this.options,C=T.y,A=T.verticalAlign==="top",D=this.padding,R=T.maxHeight,j=T.navigation,O=ms(j.animation,!0),V=j.arrowSize||12,U=this.pages,Y=this.allItems,ne=function(we){typeof we=="number"?Ie.attr({height:we}):Ie&&(g.clipRect=Ie.destroy(),g.contentGroup.clip()),g.contentGroup.div&&(g.contentGroup.div.style.clip=we?"rect("+D+"px,9999px,"+(D+we)+"px,0)":"auto")},K=function(we){return g[we]=_.circle(0,0,1.3*V).translate(V/2,V/2).add(be),x.styledMode||g[we].attr("fill","rgba(0,0,0,0.0001)"),g[we]},Z,ae,oe,xe,ge=x.spacingBox.height+(A?-C:C)-D,be=this.nav,Ie=this.clipRect;return T.layout!=="horizontal"||T.verticalAlign==="middle"||T.floating||(ge/=2),R&&(ge=Math.min(ge,R)),U.length=0,p&&ge>0&&p>ge&&j.enabled!==!1?(this.clipHeight=Z=Math.max(ge-20-this.titleHeight-D,0),this.currentPage=ms(this.currentPage,1),this.fullHeight=p,Y.forEach((we,De)=>{let Re=(oe=we.legendItem||{}).y||0,Ue=Math.round(oe.label.getBBox().height),Xe=U.length;(!Xe||Re-U[Xe-1]>Z&&(ae||Re)!==U[Xe-1])&&(U.push(ae||Re),Xe++),oe.pageIx=Xe-1,ae&&xe&&(xe.pageIx=Xe-1),De===Y.length-1&&Re+Ue-U[Xe-1]>Z&&Re>U[Xe-1]&&(U.push(Re),oe.pageIx=Xe),Re!==ae&&(ae=Re),xe=oe}),Ie||(Ie=g.clipRect=_.clipRect(0,D-2,9999,0),g.contentGroup.clip(Ie)),ne(Z),be||(this.nav=be=_.g().attr({zIndex:1}).add(this.group),this.up=_.symbol("triangle",0,0,V,V).add(be),K("upTracker").on("click",function(){g.scroll(-1,O)}),this.pager=_.text("",15,10).addClass("highcharts-legend-navigation"),!x.styledMode&&j.style&&this.pager.css(j.style),this.pager.add(be),this.down=_.symbol("triangle-down",0,0,V,V).add(be),K("downTracker").on("click",function(){g.scroll(1,O)})),g.scroll(0),p=ge):be&&(ne(),this.nav=be.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),p}scroll(p,g){let x=this.chart,_=this.pages,T=_.length,C=this.clipHeight,A=this.options.navigation,D=this.pager,R=this.padding,j=this.currentPage+p;j>T&&(j=T),j>0&&(g!==void 0&&zie(g,x),this.nav.attr({translateX:R,translateY:C+this.padding+7+this.titleHeight,visibility:"inherit"}),[this.up,this.upTracker].forEach(function(O){O.attr({class:j===1?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),D.attr({text:j+"/"+T}),[this.down,this.downTracker].forEach(function(O){O.attr({x:18+this.pager.getBBox().width,class:j===T?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})},this),x.styledMode||(this.up.attr({fill:j===1?A.inactiveColor:A.activeColor}),this.upTracker.css({cursor:j===1?"default":"pointer"}),this.down.attr({fill:j===T?A.inactiveColor:A.activeColor}),this.downTracker.css({cursor:j===T?"default":"pointer"})),this.scrollOffset=-_[j-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=j,this.positionCheckboxes(),qie(()=>{Yo(this,"afterScroll",{currentPage:j})},Fie(ms(g,x.renderer.globalAnimation,!0)).duration))}setItemEvents(p,g,x){let _=this,T=p.legendItem||{},C=_.chart.renderer.boxWrapper,A=p instanceof Hl,D=p instanceof da,R="highcharts-legend-"+(A?"point":"series")+"-active",j=_.chart.styledMode,O=x?[g,T.symbol]:[T.group],V=U=>{_.allItems.forEach(Y=>{p!==Y&&[Y].concat(Y.linkedSeries||[]).forEach(ne=>{ne.setState(U,!A)})})};for(let U of O)U&&U.on("mouseover",function(){p.visible&&V("inactive"),p.setState("hover"),p.visible&&C.addClass(R),j||g.css(_.options.itemHoverStyle)}).on("mouseout",function(){_.chart.styledMode||g.css(_c(p.visible?_.itemStyle:_.itemHiddenStyle)),V(""),C.removeClass(R),p.setState()}).on("click",function(Y){let ne=function(){p.setVisible&&p.setVisible(),V(p.visible?"inactive":"")};C.removeClass(R),Yo(_,"itemClick",{browserEvent:Y,legendItem:p},ne),A?p.firePointEvent("legendItemClick",{browserEvent:Y}):D&&Yo(p,"legendItemClick",{browserEvent:Y})})}createCheckboxForItem(p){p.checkbox=Uie("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:p.selected,defaultChecked:p.selected},this.options.itemCheckboxStyle,this.chart.container),Wy(p.checkbox,"click",function(g){let x=g.target;Yo(p.series||p,"checkboxClick",{checked:x.checked,item:p},function(){p.select()})})}}(v=HT||(HT={})).compose=function(P){Yie(jie,"Core.Legend")&&Wy(P,"beforeMargins",function(){this.legend=new v(this,this.options.legend)})};let d3=HT,{animate:VT,animObject:Kie,setAnimation:UT}=Kn,{defaultOptions:GT}=Ma,{numberFormat:Zie}=La,{registerEventOptions:p3}=Ay,{charts:wc,doc:pv,marginNames:v3,svg:Qie,win:WT}=J,{seriesTypes:$T}=nn,{addEvent:YT,attr:g3,createElement:XT,css:ys,defined:Ul,diffObjects:m3,discardElement:Jie,erase:eae,error:$y,extend:Gl,find:qT,fireEvent:dr,getAlignFactor:tae,getStyle:KT,isArray:rae,isNumber:kf,isObject:nae,isString:Yy,merge:eo,objectEach:ZT,pick:$i,pInt:iae,relativeLength:y3,removeEvent:x3,splat:Xy,syncTimeout:aae,uniqueKey:sae}=ke;class Wl{static chart(p,g,x){return new Wl(p,g,x)}constructor(p,g,x){this.sharedClips={};const _=[...arguments];(Yy(p)||p.nodeName)&&(this.renderTo=_.shift()),this.init(_[0],_[1])}setZoomOptions(){let p=this.options.chart,g=p.zooming;this.zooming={...g,type:$i(p.zoomType,g.type),key:$i(p.zoomKey,g.key),pinchType:$i(p.pinchType,g.pinchType),singleTouch:$i(p.zoomBySingleTouch,g.singleTouch,!1),resetButton:eo(g.resetButton,p.resetZoomButton)}}init(p,g){dr(this,"init",{args:arguments},function(){var C;let x=eo(GT,p),_=x.chart,T=this.renderTo||_.renderTo;this.userOptions=Gl({},p),(this.renderTo=Yy(T)?pv.getElementById(T):T)||$y(13,!0,this),this.margin=[],this.spacing=[],this.labelCollectors=[],this.callback=g,this.isResizing=0,this.options=x,this.axes=[],this.series=[],this.locale=x.lang.locale??((C=this.renderTo.closest("[lang]"))==null?void 0:C.lang),this.time=new nT(Gl(x.time||{},{locale:this.locale}),x.lang),x.time=this.time.options,this.numberFormatter=(_.numberFormatter||Zie).bind(this),this.styledMode=_.styledMode,this.hasCartesianSeries=_.showAxes,this.index=wc.length,wc.push(this),J.chartCount++,p3(this,_),this.xAxis=[],this.yAxis=[],this.pointCount=this.colorCounter=this.symbolCounter=0,this.setZoomOptions(),dr(this,"afterInit"),this.firstRender()})}initSeries(p){let g=this.options.chart,x=p.type||g.type,_=$T[x];_||$y(17,!0,this,{missingModuleFor:x});let T=new _;return typeof T.init=="function"&&T.init(this,p),T}setSortedData(){this.getSeriesOrderByLinks().forEach(function(p){p.points||p.data||!p.enabledDataSorting||p.setData(p.options.data,!1)})}getSeriesOrderByLinks(){return this.series.concat().sort(function(p,g){return p.linkedSeries.length||g.linkedSeries.length?g.linkedSeries.length-p.linkedSeries.length:0})}orderItems(p,g=0){let x=this[p],_=this.options[p]=Xy(this.options[p]).slice(),T=this.userOptions[p]=this.userOptions[p]?Xy(this.userOptions[p]).slice():[];if(this.hasRendered&&(_.splice(g),T.splice(g)),x)for(let C=g,A=x.length;C<A;++C){let D=x[C];D&&(D.index=C,D instanceof da&&(D.name=D.getName()),D.options.isInternal||(_[C]=D.options,T[C]=D.userOptions))}}getClipBox(p,g){var j,O;let x=this.inverted,{xAxis:_,yAxis:T}=p||{},{x:C,y:A,width:D,height:R}=eo(this.clipBox);return p&&(_&&_.len!==this.plotSizeX&&(D=_.len),T&&T.len!==this.plotSizeY&&(R=T.len),x&&!p.invertible&&([D,R]=[R,D])),g&&(C+=((j=x?T:_)==null?void 0:j.pos)??this.plotLeft,A+=((O=x?_:T)==null?void 0:O.pos)??this.plotTop),{x:C,y:A,width:D,height:R}}isInsidePlot(p,g,x={}){var K;let{inverted:_,plotBox:T,plotLeft:C,plotTop:A,scrollablePlotBox:D}=this,{scrollLeft:R=0,scrollTop:j=0}=x.visiblePlotOnly&&((K=this.scrollablePlotArea)==null?void 0:K.scrollingContainer)||{},O=x.series,V=x.visiblePlotOnly&&D||T,U=x.inverted?g:p,Y=x.inverted?p:g,ne={x:U,y:Y,isInsidePlot:!0,options:x};if(!x.ignoreX){let Z=O&&(_&&!this.polar?O.yAxis:O.xAxis)||{pos:C,len:1/0},ae=x.paneCoordinates?Z.pos+U:C+U;ae>=Math.max(R+C,Z.pos)&&ae<=Math.min(R+C+V.width,Z.pos+Z.len)||(ne.isInsidePlot=!1)}if(!x.ignoreY&&ne.isInsidePlot){let Z=!_&&x.axis&&!x.axis.isXAxis&&x.axis||O&&(_?O.xAxis:O.yAxis)||{pos:A,len:1/0},ae=x.paneCoordinates?Z.pos+Y:A+Y;ae>=Math.max(j+A,Z.pos)&&ae<=Math.min(j+A+V.height,Z.pos+Z.len)||(ne.isInsidePlot=!1)}return dr(this,"afterIsInsidePlot",ne),ne.isInsidePlot}redraw(p){dr(this,"beforeRedraw");let g=this.hasCartesianSeries?this.axes:this.colorAxis||[],x=this.series,_=this.pointer,T=this.legend,C=this.userOptions.legend,A=this.renderer,D=A.isHidden(),R=[],j,O,V,U=this.isDirtyBox,Y=this.isDirtyLegend,ne;for(A.rootFontSize=A.boxWrapper.getStyle("font-size"),this.setResponsive&&this.setResponsive(!1),UT(!!this.hasRendered&&p,this),D&&this.temporaryDisplay(),this.layOutTitles(!1),V=x.length;V--;)if(((ne=x[V]).options.stacking||ne.options.centerInCategory)&&(O=!0,ne.isDirty)){j=!0;break}if(j)for(V=x.length;V--;)(ne=x[V]).options.stacking&&(ne.isDirty=!0);x.forEach(function(K){K.isDirty&&(K.options.legendType==="point"?(typeof K.updateTotals=="function"&&K.updateTotals(),Y=!0):C&&(C.labelFormatter||C.labelFormat)&&(Y=!0)),K.isDirtyData&&dr(K,"updatedData")}),Y&&T&&T.options.enabled&&(T.render(),this.isDirtyLegend=!1),O&&this.getStacks(),g.forEach(function(K){K.updateNames(),K.setScale()}),this.getMargins(),g.forEach(function(K){K.isDirty&&(U=!0)}),g.forEach(function(K){let Z=K.min+","+K.max;K.extKey!==Z&&(K.extKey=Z,R.push(function(){dr(K,"afterSetExtremes",Gl(K.eventArgs,K.getExtremes())),delete K.eventArgs})),(U||O)&&K.redraw()}),U&&this.drawChartBox(),dr(this,"predraw"),x.forEach(function(K){(U||K.isDirty)&&K.visible&&K.redraw(),K.isDirtyData=!1}),_&&_.reset(!0),A.draw(),dr(this,"redraw"),dr(this,"render"),D&&this.temporaryDisplay(!0),R.forEach(function(K){K.call()})}get(p){let g=this.series;function x(T){return T.id===p||T.options&&T.options.id===p}let _=qT(this.axes,x)||qT(this.series,x);for(let T=0;!_&&T<g.length;T++)_=qT(g[T].points||[],x);return _}createAxes(){let p=this.userOptions;for(let g of(dr(this,"createAxes"),["xAxis","yAxis"]))for(let x of p[g]=Xy(p[g]||{}))new wf(this,x,g);dr(this,"afterCreateAxes")}getSelectedPoints(){return this.series.reduce((p,g)=>(g.getPointsCollection().forEach(x=>{$i(x.selectedStaging,x.selected)&&p.push(x)}),p),[])}getSelectedSeries(){return this.series.filter(p=>p.selected)}setTitle(p,g,x){this.applyDescription("title",p),this.applyDescription("subtitle",g),this.applyDescription("caption",void 0),this.layOutTitles(x)}applyDescription(p,g){var C;let x=this,_=this.options[p]=eo(this.options[p],g),T=this[p];T&&g&&(this[p]=T=T.destroy()),_&&!T&&((T=this.renderer.text(_.text,0,0,_.useHTML).attr({align:_.align,class:"highcharts-"+p,zIndex:_.zIndex||4}).css({textOverflow:"ellipsis",whiteSpace:"nowrap"}).add()).update=function(A,D){x.applyDescription(p,A),x.layOutTitles(D)},this.styledMode||T.css(Gl(p==="title"?{fontSize:this.options.isStock?"1em":"1.2em"}:{},_.style)),T.textPxLength=T.getBBox().width,T.css({whiteSpace:(C=_.style)==null?void 0:C.whiteSpace}),this[p]=T)}layOutTitles(p=!0){var A,D,R,j;let g=[0,0,0],{options:x,renderer:_,spacingBox:T}=this;["title","subtitle","caption"].forEach(O=>{var K;let V=this[O],U=this.options[O],Y=eo(T),ne=(V==null?void 0:V.textPxLength)||0;if(V&&U){dr(this,"layOutTitle",{alignTo:Y,key:O,textPxLength:ne});let Z=_.fontMetrics(V),ae=Z.b,oe=Z.h,xe=U.verticalAlign||"top",ge=xe==="top",be=ge&&U.minScale||1,Ie=O==="title"?ge?-3:0:ge?g[0]+2:0,we=Math.min(Y.width/ne,1),De=Math.max(be,we),Re=eo({y:xe==="bottom"?ae:Ie+ae},{align:O==="title"?we<be?"left":"center":(K=this.title)==null?void 0:K.alignValue},U),Ue=(U.width||(we>be?this.chartWidth:Y.width)/De)+"px";V.alignValue!==Re.align&&(V.placed=!1);let Xe=Math.round(V.css({width:Ue}).getBBox(U.useHTML).height);if(Re.height=Xe,V.align(Re,!1,Y).attr({align:Re.align,scaleX:De,scaleY:De,"transform-origin":`${Y.x+ne*De*tae(Re.align)} ${oe}`}),!U.floating){let at=Xe*(Xe<1.2*oe?1:De);xe==="top"?g[0]=Math.ceil(g[0]+at):xe==="bottom"&&(g[2]=Math.ceil(g[2]+at))}}},this),g[0]&&(((A=x.title)==null?void 0:A.verticalAlign)||"top")==="top"&&(g[0]+=((D=x.title)==null?void 0:D.margin)||0),g[2]&&((R=x.caption)==null?void 0:R.verticalAlign)==="bottom"&&(g[2]+=((j=x.caption)==null?void 0:j.margin)||0);let C=!this.titleOffset||this.titleOffset.join(",")!==g.join(",");this.titleOffset=g,dr(this,"afterLayOutTitles"),!this.isDirtyBox&&C&&(this.isDirtyBox=this.isDirtyLegend=C,this.hasRendered&&p&&this.isDirtyBox&&this.redraw())}getContainerBox(){let p=[].map.call(this.renderTo.children,x=>{if(x!==this.container){let _=x.style.display;return x.style.display="none",[x,_]}}),g={width:KT(this.renderTo,"width",!0)||0,height:KT(this.renderTo,"height",!0)||0};return p.filter(Boolean).forEach(([x,_])=>{x.style.display=_}),g}getChartSize(){var C;let p=this.options.chart,g=p.width,x=p.height,_=this.getContainerBox(),T=_.height<=1||!((C=this.renderTo.parentElement)!=null&&C.style.height)&&this.renderTo.style.height==="100%";this.chartWidth=Math.max(0,g||_.width||600),this.chartHeight=Math.max(0,y3(x,this.chartWidth)||(T?400:_.height)),this.containerBox=_}temporaryDisplay(p){let g=this.renderTo,x;if(p)for(;g!=null&&g.style;)g.hcOrigStyle&&(ys(g,g.hcOrigStyle),delete g.hcOrigStyle),g.hcOrigDetached&&(pv.body.removeChild(g),g.hcOrigDetached=!1),g=g.parentNode;else for(;g!=null&&g.style&&(pv.body.contains(g)||g.parentNode||(g.hcOrigDetached=!0,pv.body.appendChild(g)),(KT(g,"display",!1)==="none"||g.hcOricDetached)&&(g.hcOrigStyle={display:g.style.display,height:g.style.height,overflow:g.style.overflow},x={display:"block",overflow:"hidden"},g!==this.renderTo&&(x.height=0),ys(g,x),g.offsetWidth||g.style.setProperty("display","block","important")),(g=g.parentNode)!==pv.body););}setClassName(p){this.container.className="highcharts-container "+(p||"")}getContainer(){var V,U;let p,g=this.options,x=g.chart,_="data-highcharts-chart",T=sae(),C=this.renderTo,A=iae(g3(C,_));kf(A)&&wc[A]&&wc[A].hasRendered&&wc[A].destroy(),g3(C,_,this.index),C.innerHTML=Gr.emptyHTML,x.skipClone||C.offsetWidth||this.temporaryDisplay(),this.getChartSize();let D=this.chartHeight,R=this.chartWidth;ys(C,{overflow:"hidden"}),this.styledMode||(p=Gl({position:"relative",overflow:"hidden",width:R+"px",height:D+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none","touch-action":"manipulation",outline:"none",padding:"0px"},x.style||{}));let j=XT("div",{id:T},p,C);this.container=j,this.getChartSize(),R!==this.chartWidth&&(R=this.chartWidth,this.styledMode||ys(j,{width:$i((V=x.style)==null?void 0:V.width,R+"px")})),this.containerBox=this.getContainerBox(),this._cursor=j.style.cursor;let O=x.renderer||!Qie?iv.getRendererType(x.renderer):Cy;if(this.renderer=new O(j,R,D,void 0,x.forExport,(U=g.exporting)==null?void 0:U.allowHTML,this.styledMode),UT(void 0,this),this.setClassName(x.className),this.styledMode)for(let Y in g.defs)this.renderer.definition(g.defs[Y]);else this.renderer.setStyle(x.style);this.renderer.chartIndex=this.index,dr(this,"afterGetContainer")}getMargins(p){var T;let{spacing:g,margin:x,titleOffset:_}=this;this.resetMargins(),_[0]&&!Ul(x[0])&&(this.plotTop=Math.max(this.plotTop,_[0]+g[0])),_[2]&&!Ul(x[2])&&(this.marginBottom=Math.max(this.marginBottom,_[2]+g[2])),(T=this.legend)!=null&&T.display&&this.legend.adjustMargins(x,g),dr(this,"getMargins"),p||this.getAxisMargins()}getAxisMargins(){let p=this,g=p.axisOffset=[0,0,0,0],x=p.colorAxis,_=p.margin,T=C=>{C.forEach(A=>{A.visible&&A.getOffset()})};p.hasCartesianSeries?T(p.axes):x!=null&&x.length&&T(x),v3.forEach((C,A)=>{Ul(_[A])||(p[C]+=g[A])}),p.setChartSize()}getOptions(){return m3(this.userOptions,GT)}reflow(p){var T,C;let g=this,x=g.containerBox,_=g.getContainerBox();(T=g.pointer)==null||delete T.chartPosition,!((C=g.exporting)!=null&&C.isPrinting)&&!g.isResizing&&x&&_.width&&((_.width!==x.width||_.height!==x.height)&&(ke.clearTimeout(g.reflowTimeout),g.reflowTimeout=aae(function(){g.container&&g.setSize(void 0,void 0,!1)},100*!!p)),g.containerBox=_)}setReflow(){let p=this,g=x=>{var _;(_=p.options)!=null&&_.chart.reflow&&p.hasLoaded&&p.reflow(x)};if(typeof ResizeObserver=="function")new ResizeObserver(g).observe(p.renderTo);else{let x=YT(WT,"resize",g);YT(this,"destroy",x)}}setSize(p,g,x){let _=this,T=_.renderer;_.isResizing+=1,UT(x,_);let C=T.globalAnimation;_.oldChartHeight=_.chartHeight,_.oldChartWidth=_.chartWidth,p!==void 0&&(_.options.chart.width=p),g!==void 0&&(_.options.chart.height=g),_.getChartSize();let{chartWidth:A,chartHeight:D,scrollablePixelsX:R=0,scrollablePixelsY:j=0}=_;(_.isDirtyBox||A!==_.oldChartWidth||D!==_.oldChartHeight)&&(_.styledMode||(C?VT:ys)(_.container,{width:`${A+R}px`,height:`${D+j}px`},C),_.setChartSize(!0),T.setSize(A,D,C),_.axes.forEach(function(O){O.isDirty=!0,O.setScale()}),_.isDirtyLegend=!0,_.isDirtyBox=!0,_.layOutTitles(),_.getMargins(),_.redraw(C),_.oldChartHeight=void 0,dr(_,"resize"),setTimeout(()=>{_&&dr(_,"endResize")},Kie(C).duration)),_.isResizing-=1}setChartSize(p){let g,x,_,T,{chartHeight:C,chartWidth:A,inverted:D,spacing:R,renderer:j}=this,O=this.clipOffset,V=Math[D?"floor":"round"];this.plotLeft=g=Math.round(this.plotLeft),this.plotTop=x=Math.round(this.plotTop),this.plotWidth=_=Math.max(0,Math.round(A-g-(this.marginRight??0))),this.plotHeight=T=Math.max(0,Math.round(C-x-(this.marginBottom??0))),this.plotSizeX=D?T:_,this.plotSizeY=D?_:T,this.spacingBox=j.spacingBox={x:R[3],y:R[0],width:A-R[3]-R[1],height:C-R[0]-R[2]},this.plotBox=j.plotBox={x:g,y:x,width:_,height:T},O&&(this.clipBox={x:V(O[3]),y:V(O[0]),width:V(this.plotSizeX-O[1]-O[3]),height:V(this.plotSizeY-O[0]-O[2])}),p||(this.axes.forEach(function(U){U.setAxisSize(),U.setAxisTranslation()}),j.alignElements()),dr(this,"afterSetChartSize",{skipAxes:p})}resetMargins(){dr(this,"resetMargins");let p=this,g=p.options.chart,x=g.plotBorderWidth||0,_=Math.round(x)/2;["margin","spacing"].forEach(T=>{let C=g[T],A=nae(C)?C:[C,C,C,C];["Top","Right","Bottom","Left"].forEach((D,R)=>{p[T][R]=g[`${T}${D}`]??A[R]})}),v3.forEach((T,C)=>{p[T]=p.margin[C]??p.spacing[C]}),p.axisOffset=[0,0,0,0],p.clipOffset=[_,_,_,_],p.plotBorderWidth=x}drawChartBox(){let p=this.options.chart,g=this.renderer,x=this.chartWidth,_=this.chartHeight,T=this.styledMode,C=this.plotBGImage,A=p.backgroundColor,D=p.plotBackgroundColor,R=p.plotBackgroundImage,j=this.plotLeft,O=this.plotTop,V=this.plotWidth,U=this.plotHeight,Y=this.plotBox,ne=this.clipRect,K=this.clipBox,Z=this.chartBackground,ae=this.plotBackground,oe=this.plotBorder,xe,ge,be,Ie="animate";Z||(this.chartBackground=Z=g.rect().addClass("highcharts-background").add(),Ie="attr"),T?xe=ge=Z.strokeWidth():(ge=(xe=p.borderWidth||0)+8*!!p.shadow,be={fill:A||"none"},(xe||Z["stroke-width"])&&(be.stroke=p.borderColor,be["stroke-width"]=xe),Z.attr(be).shadow(p.shadow)),Z[Ie]({x:ge/2,y:ge/2,width:x-ge-xe%2,height:_-ge-xe%2,r:p.borderRadius}),Ie="animate",ae||(Ie="attr",this.plotBackground=ae=g.rect().addClass("highcharts-plot-background").add()),ae[Ie](Y),!T&&(ae.attr({fill:D||"none"}).shadow(p.plotShadow),R&&(C?(R!==C.attr("href")&&C.attr("href",R),C.animate(Y)):this.plotBGImage=g.image(R,j,O,V,U).add())),ne?ne.animate({width:K.width,height:K.height}):this.clipRect=g.clipRect(K),Ie="animate",oe||(Ie="attr",this.plotBorder=oe=g.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),T||oe.attr({stroke:p.plotBorderColor,"stroke-width":p.plotBorderWidth||0,fill:"none"}),oe[Ie](oe.crisp(Y,-oe.strokeWidth())),this.isDirtyBox=!1,dr(this,"afterDrawChartBox")}propFromSeries(){let p,g,x,_=this,T=_.options.chart,C=_.options.series;["inverted","angular","polar"].forEach(function(A){for(g=$T[T.type],x=T[A]||g&&g.prototype[A],p=C==null?void 0:C.length;!x&&p--;)(g=$T[C[p].type])&&g.prototype[A]&&(x=!0);_[A]=x})}linkSeries(p){let g=this,x=g.series;x.forEach(function(_){_.linkedSeries.length=0}),x.forEach(function(_){let{linkedTo:T}=_.options,C=Yy(T)&&(T===":previous"?x[_.index-1]:g.get(T));C&&C.linkedParent!==_&&(C.linkedSeries.push(_),_.linkedParent=C,C.enabledDataSorting&&_.setDataSortingOptions(),_.visible=_.options.visible??C.options.visible??_.visible)}),dr(this,"afterLinkSeries",{isUpdating:p})}renderSeries(){this.series.forEach(function(p){p.translate(),p.render()})}render(){var j;let p=this.axes,g=this.colorAxis,x=this.renderer,_=this.options.chart.axisLayoutRuns||2,T=O=>{O.forEach(V=>{V.visible&&V.render()})},C=0,A=!0,D,R=0;for(let O of(this.setTitle(),dr(this,"beforeMargins"),(j=this.getStacks)==null||j.call(this),this.getMargins(!0),this.setChartSize(),p)){let{options:V}=O,{labels:U}=V;if(this.hasCartesianSeries&&O.horiz&&O.visible&&U.enabled&&O.series.length&&O.coll!=="colorAxis"&&!this.polar){C=V.tickLength,O.createGroups();let Y=new _f(O,0,"",!0),ne=Y.createLabel("x",U);if(Y.destroy(),ne&&$i(U.reserveSpace,!kf(V.crossing))&&(C=ne.getBBox().height+U.distance+Math.max(V.offset||0,0)),C){ne==null||ne.destroy();break}}}for(this.plotHeight=Math.max(this.plotHeight-C,0);(A||D||_>1)&&R<_;){let O=this.plotWidth,V=this.plotHeight;for(let U of p)R===0?U.setScale():(U.horiz&&A||!U.horiz&&D)&&U.setTickInterval(!0);R===0?this.getAxisMargins():this.getMargins(),A=O/this.plotWidth>(R?1:1.1),D=V/this.plotHeight>(R?1:1.05),R++}this.drawChartBox(),this.hasCartesianSeries?T(p):g!=null&&g.length&&T(g),this.seriesGroup||(this.seriesGroup=x.g("series-group").attr({zIndex:3}).shadow(this.options.chart.seriesGroupShadow).add()),this.renderSeries(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0}addCredits(p){let g=this,x=eo(!0,this.options.credits,p);x.enabled&&!this.credits&&(this.credits=this.renderer.text(x.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){x.href&&(WT.location.href=x.href)}).attr({align:x.position.align,zIndex:8}),g.styledMode||this.credits.css(x.style),this.credits.add().align(x.position),this.credits.update=function(_){g.credits=g.credits.destroy(),g.addCredits(_)})}destroy(){var A,D;let p,g=this,x=g.axes,_=g.series,T=g.container,C=T==null?void 0:T.parentNode;for(dr(g,"destroy"),g.renderer.forExport?eae(wc,g):wc[g.index]=void 0,J.chartCount--,g.renderTo.removeAttribute("data-highcharts-chart"),x3(g),p=x.length;p--;)x[p]=x[p].destroy();for((D=(A=this.scroller)==null?void 0:A.destroy)==null||D.call(A),p=_.length;p--;)_[p]=_[p].destroy();["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","pointer","rangeSelector","legend","resetZoomButton","tooltip","renderer"].forEach(R=>{var j,O;g[R]=(O=(j=g[R])==null?void 0:j.destroy)==null?void 0:O.call(j)}),T&&(T.innerHTML=Gr.emptyHTML,x3(T),C&&Jie(T)),ZT(g,function(R,j){delete g[j]})}firstRender(){var _;let p=this,g=p.options;p.getContainer(),p.resetMargins(),p.setChartSize(),p.propFromSeries(),p.createAxes();let x=rae(g.series)?g.series:[];g.series=[],x.forEach(function(T){p.initSeries(T)}),p.linkSeries(),p.setSortedData(),dr(p,"beforeRender"),p.render(),(_=p.pointer)==null||_.getChartPosition(),p.renderer.imgCount||p.hasLoaded||p.onload(),p.temporaryDisplay(!0)}onload(){this.callbacks.concat([this.callback]).forEach(function(p){p&&this.index!==void 0&&p.apply(this,[this])},this),dr(this,"load"),dr(this,"render"),Ul(this.index)&&this.setReflow(),this.warnIfA11yModuleNotLoaded(),this.warnIfCSSNotLoaded(),this.hasLoaded=!0}warnIfA11yModuleNotLoaded(){let{options:p,title:g}=this;p&&!this.accessibility&&(this.renderer.boxWrapper.attr({role:"img","aria-label":((g==null?void 0:g.element.textContent)||"").replace(/</g,"&lt;")}),p.accessibility&&p.accessibility.enabled===!1||$y('Highcharts warning: Consider including the "accessibility.js" module to make your chart more usable for people with disabilities. Set the "accessibility.enabled" option to false to remove this warning. See https://www.highcharts.com/docs/accessibility/accessibility-module.',!1,this))}warnIfCSSNotLoaded(){this.styledMode&&WT.getComputedStyle(this.container).zIndex!=="0"&&$y(35,!1,this)}addSeries(p,g,x){let _,T=this;return p&&(g=$i(g,!0),dr(T,"addSeries",{options:p},function(){_=T.initSeries(p),T.isDirtyLegend=!0,T.linkSeries(),_.enabledDataSorting&&_.setData(p.data,!1),dr(T,"afterAddSeries",{series:_}),g&&T.redraw(x)})),_}addAxis(p,g,x,_){return this.createAxis(g?"xAxis":"yAxis",{axis:p,redraw:x,animation:_})}addColorAxis(p,g,x){return this.createAxis("colorAxis",{axis:p,redraw:g,animation:x})}createAxis(p,g){let x=new wf(this,g.axis,p);return $i(g.redraw,!0)&&this.redraw(g.animation),x}showLoading(p){let g=this,x=g.options,_=x.loading,T=function(){C&&ys(C,{left:g.plotLeft+"px",top:g.plotTop+"px",width:g.plotWidth+"px",height:g.plotHeight+"px"})},C=g.loadingDiv,A=g.loadingSpan;C||(g.loadingDiv=C=XT("div",{className:"highcharts-loading highcharts-loading-hidden"},null,g.container)),A||(g.loadingSpan=A=XT("span",{className:"highcharts-loading-inner"},null,C),YT(g,"redraw",T)),C.className="highcharts-loading",Gr.setElementHTML(A,$i(p,x.lang.loading,"")),!g.styledMode&&(ys(C,Gl(_.style,{zIndex:10})),ys(A,_.labelStyle),g.loadingShown||(ys(C,{opacity:0,display:""}),VT(C,{opacity:_.style.opacity||.5},{duration:_.showDuration||0}))),g.loadingShown=!0,T()}hideLoading(){let p=this.options,g=this.loadingDiv;g&&(g.className="highcharts-loading highcharts-loading-hidden",this.styledMode||VT(g,{opacity:0},{duration:p.loading.hideDuration||100,complete:function(){ys(g,{display:"none"})}})),this.loadingShown=!1}update(p,g,x,_){let T,C,A,D=this,R={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},j=p.isResponsiveOptions,O=[];dr(D,"update",{options:p}),j||D.setResponsive(!1,!0),p=m3(p,D.options),D.userOptions=eo(D.userOptions,p);let V=p.chart;V&&(eo(!0,D.options.chart,V),this.setZoomOptions(),"className"in V&&D.setClassName(V.className),("inverted"in V||"polar"in V||"type"in V)&&(D.propFromSeries(),T=!0),"alignTicks"in V&&(T=!0),"events"in V&&p3(this,V),ZT(V,function(ne,K){D.propsRequireUpdateSeries.indexOf("chart."+K)!==-1&&(C=!0),D.propsRequireDirtyBox.indexOf(K)!==-1&&(D.isDirtyBox=!0),D.propsRequireReflow.indexOf(K)!==-1&&(D.isDirtyBox=!0,j||(A=!0))}),!D.styledMode&&V.style&&D.renderer.setStyle(D.options.chart.style||{})),!D.styledMode&&p.colors&&(this.options.colors=p.colors),ZT(p,function(ne,K){D[K]&&typeof D[K].update=="function"?D[K].update(ne,!1):typeof D[R[K]]=="function"?D[R[K]](ne):K!=="colors"&&D.collectionsWithUpdate.indexOf(K)===-1&&eo(!0,D.options[K],p[K]),K!=="chart"&&D.propsRequireUpdateSeries.indexOf(K)!==-1&&(C=!0)}),this.collectionsWithUpdate.forEach(function(ne){p[ne]&&(Xy(p[ne]).forEach(function(K,Z){let ae,oe=Ul(K.id);oe&&(ae=D.get(K.id)),!ae&&D[ne]&&(ae=D[ne][$i(K.index,Z)])&&(oe&&Ul(ae.options.id)||ae.options.isInternal)&&(ae=void 0),ae&&ae.coll===ne&&(ae.update(K,!1),x&&(ae.touched=!0)),!ae&&x&&D.collectionsWithInit[ne]&&(D.collectionsWithInit[ne][0].apply(D,[K].concat(D.collectionsWithInit[ne][1]||[]).concat([!1])).touched=!0)}),x&&D[ne].forEach(function(K){K.touched||K.options.isInternal?delete K.touched:O.push(K)}))}),O.forEach(function(ne){ne.chart&&ne.remove&&ne.remove(!1)}),T&&D.axes.forEach(function(ne){ne.update({},!1)}),C&&D.getSeriesOrderByLinks().forEach(function(ne){ne.chart&&ne.update({},!1)},this);let U=V==null?void 0:V.width,Y=V&&(Yy(V.height)?y3(V.height,U||D.chartWidth):V.height);A||kf(U)&&U!==D.chartWidth||kf(Y)&&Y!==D.chartHeight?D.setSize(U,Y,_):$i(g,!0)&&D.redraw(_),dr(D,"afterUpdate",{options:p,redraw:g,animation:_})}setSubtitle(p,g){this.applyDescription("subtitle",p),this.layOutTitles(g)}setCaption(p,g){this.applyDescription("caption",p),this.layOutTitles(g)}showResetZoom(){let p=this,g=GT.lang,x=p.zooming.resetButton,_=x.theme,T=x.relativeTo==="chart"||x.relativeTo==="spacingBox"?null:"plotBox";function C(){p.zoomOut()}dr(this,"beforeShowResetZoom",null,function(){p.resetZoomButton=p.renderer.button(g.resetZoom,null,null,C,_).attr({align:x.position.align,title:g.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(x.position,!1,T)}),dr(this,"afterShowResetZoom")}zoomOut(){dr(this,"selection",{resetSelection:!0},()=>this.transform({reset:!0,trigger:"zoom"}))}pan(p,g){let x=this,_=typeof g=="object"?g:{enabled:g,type:"x"},T=_.type,C=T&&x[{x:"xAxis",xy:"axes",y:"yAxis"}[T]].filter(D=>D.options.panningEnabled&&!D.options.isInternal),A=x.options.chart;A!=null&&A.panning&&(A.panning=_),dr(this,"pan",{originalEvent:p},()=>{x.transform({axes:C,event:p,to:{x:p.chartX-(x.mouseDownX||0),y:p.chartY-(x.mouseDownY||0)},trigger:"pan"}),ys(x.container,{cursor:"move"})})}transform(p){var ne;let{axes:g=this.axes,event:x,from:_={},reset:T,selection:C,to:A={},trigger:D,allowResetButton:R=!0}=p,{inverted:j,time:O}=this;(ne=this.hoverPoints)==null||ne.forEach(K=>K.setState()),dr(this,"transform",p);let V=p.hasZoomed||!1,U,Y;for(let K of g){let{horiz:Z,len:ae,minPointOffset:oe=0,options:xe,reversed:ge}=K,be=Z?"width":"height",Ie=Z?"x":"y",we=$i(A[be],K.len),De=$i(_[be],K.len),Re=10>Math.abs(we)?1:we/De,Ue=(_[Ie]||0)+De/2-K.pos,Xe=Ue-((A[Ie]??K.pos)+we/2-K.pos)/Re,at=ge&&!j||!ge&&j?-1:1;if(!T&&(Ue<0||Ue>K.len))continue;let xt=K.chart.polar||K.isOrdinal?0:oe*at||0,st=K.toValue(Xe,!0),gt=K.toValue(Xe+ae/Re,!0),pt=st+xt,Pt=gt-xt,Vt=K.allExtremes;if(C&&C[K.coll].push({axis:K,min:Math.min(st,gt),max:Math.max(st,gt)}),pt>Pt&&([pt,Pt]=[Pt,pt]),Re===1&&!T&&K.coll==="yAxis"&&!Vt){for(let $r of K.series){let no=$r.getExtremes($r.getProcessedData(!0).modified.getColumn($r.pointValKey||"y")||[],!0);Vt??(Vt={dataMin:Number.MAX_VALUE,dataMax:-Number.MAX_VALUE}),kf(no.dataMin)&&kf(no.dataMax)&&(Vt.dataMin=Math.min(no.dataMin,Vt.dataMin),Vt.dataMax=Math.max(no.dataMax,Vt.dataMax))}K.allExtremes=Vt}let{dataMin:Ar,dataMax:Fr,min:Un,max:nr}=Gl(K.getExtremes(),Vt||{}),wr=O.parse(xe.min),$t=O.parse(xe.max),Rt=Ar??wr,an=Fr??$t,Or=Pt-pt,gn=K.categories?0:Math.min(Or,an-Rt),Ln=Rt-gn*(Ul(wr)?0:xe.minPadding),to=an+gn*(Ul($t)?0:xe.maxPadding),ro=K.allowZoomOutside||Re===1||D!=="zoom"&&Re>1,Zn=Math.min(wr??Ln,Ln,ro?Un:Ln),wn=Math.max($t??to,to,ro?nr:to);(!K.isOrdinal||Re!==1||T)&&(pt<Zn&&(pt=Zn,Re>=1&&(Pt=pt+Or)),Pt>wn&&(Pt=wn,Re>=1&&(pt=Pt-Or)),(T||K.series.length&&(pt!==Un||Pt!==nr)&&pt>=Zn&&Pt<=wn)&&(C?C[K.coll].push({axis:K,min:pt,max:Pt}):(K.isPanning=D!=="zoom",K.isPanning&&D!=="mousewheel"&&(Y=!0),K.setExtremes(T?void 0:pt,T?void 0:Pt,!1,!1,{move:Xe,trigger:D,scale:Re}),!T&&(pt>Zn||Pt<wn)&&(U=R)),V=!0),this.hasCartesianSeries||T||(U=R),x&&(this[Z?"mouseDownX":"mouseDownY"]=x[Z?"chartX":"chartY"]))}return V&&(C?dr(this,"selection",C,()=>{delete p.selection,p.trigger="zoom",this.transform(p)}):(!U||Y||this.resetZoomButton?!U&&this.resetZoomButton&&(this.resetZoomButton=this.resetZoomButton.destroy()):this.showResetZoom(),this.redraw(D==="zoom"&&(this.options.chart.animation??this.pointCount<100)))),V}}Gl(Wl.prototype,{callbacks:[],collectionsWithInit:{xAxis:[Wl.prototype.addAxis,[!0]],yAxis:[Wl.prototype.addAxis,[!1]],series:[Wl.prototype.addSeries]},collectionsWithUpdate:["xAxis","yAxis","series"],propsRequireDirtyBox:["backgroundColor","borderColor","borderWidth","borderRadius","plotBackgroundColor","plotBackgroundImage","plotBorderColor","plotBorderWidth","plotShadow","shadow"],propsRequireReflow:["margin","marginTop","marginRight","marginBottom","marginLeft","spacing","spacingTop","spacingRight","spacingBottom","spacingLeft"],propsRequireUpdateSeries:["chart.inverted","chart.polar","chart.ignoreHiddenSeries","chart.type","colors","plotOptions","time","tooltip"]});let{stop:oae}=Kn,{composed:lae}=J,{addEvent:$l,createElement:qy,css:QT,defined:JT,erase:uae,merge:b3,pushUnique:S3}=ke;function cae(){let P=this.scrollablePlotArea;(this.scrollablePixelsX||this.scrollablePixelsY)&&!P&&(this.scrollablePlotArea=P=new vv(this)),P==null||P.applyFixed()}function _3(){this.chart.scrollablePlotArea&&(this.chart.scrollablePlotArea.isDirty=!0)}class vv{static compose(p,g,x){S3(lae,this.compose)&&($l(p,"afterInit",_3),$l(g,"afterSetChartSize",_=>this.afterSetSize(_.target,_)),$l(g,"render",cae),$l(x,"show",_3))}static afterSetSize(p,g){let x,_,T,{minWidth:C,minHeight:A}=p.options.chart.scrollablePlotArea||{},{clipBox:D,plotBox:R,inverted:j,renderer:O}=p;if(!O.forExport)if(C?(p.scrollablePixelsX=x=Math.max(0,C-p.chartWidth),x&&(p.scrollablePlotBox=b3(p.plotBox),R.width=p.plotWidth+=x,D[j?"height":"width"]+=x,T=!0)):A&&(p.scrollablePixelsY=_=Math.max(0,A-p.chartHeight),JT(_)&&(p.scrollablePlotBox=b3(p.plotBox),R.height=p.plotHeight+=_,D[j?"width":"height"]+=_,T=!1)),JT(T)){if(!g.skipAxes)for(let V of p.axes)(V.horiz===T||p.hasParallelCoordinates&&V.coll==="yAxis")&&(V.setAxisSize(),V.setAxisTranslation())}else delete p.scrollablePlotBox}constructor(p){var U;let g;const x=p.options.chart,_=iv.getRendererType(),T=x.scrollablePlotArea||{},C=this.moveFixedElements.bind(this),A={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};p.scrollablePixelsX&&(A.overflowX="auto"),p.scrollablePixelsY&&(A.overflowY="auto"),this.chart=p;const D=this.parentDiv=qy("div",{className:"highcharts-scrolling-parent"},{position:"relative"},p.renderTo),R=this.scrollingContainer=qy("div",{className:"highcharts-scrolling"},A,D),j=this.innerContainer=qy("div",{className:"highcharts-inner-container"},void 0,R),O=this.fixedDiv=qy("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:(((U=x.style)==null?void 0:U.zIndex)||0)+2,top:0},void 0,!0),V=this.fixedRenderer=new _(O,p.chartWidth,p.chartHeight,x.style);this.mask=V.path().attr({fill:x.backgroundColor||"#fff","fill-opacity":T.opacity??.85,zIndex:-1}).addClass("highcharts-scrollable-mask").add(),R.parentNode.insertBefore(O,R),QT(p.renderTo,{overflow:"visible"}),$l(p,"afterShowResetZoom",C),$l(p,"afterApplyDrilldown",C),$l(p,"afterLayOutTitles",C),$l(R,"scroll",()=>{let{pointer:Y,hoverPoint:ne}=p;Y&&(delete Y.chartPosition,ne&&(g=ne),Y.runPointActions(void 0,g,!0))}),j.appendChild(p.container)}applyFixed(){var Re;let{chart:p,fixedRenderer:g,isDirty:x,scrollingContainer:_}=this,{axisOffset:T,chartWidth:C,chartHeight:A,container:D,plotHeight:R,plotLeft:j,plotTop:O,plotWidth:V,scrollablePixelsX:U=0,scrollablePixelsY:Y=0}=p,{scrollPositionX:ne=0,scrollPositionY:K=0}=p.options.chart.scrollablePlotArea||{},Z=C+U,ae=A+Y;g.setSize(C,A),(x??!0)&&(this.isDirty=!1,this.moveFixedElements()),oae(p.container),QT(D,{width:`${Z}px`,height:`${ae}px`}),p.renderer.boxWrapper.attr({width:Z,height:ae,viewBox:["0 0",Z,ae].join(" ")}),(Re=p.chartBackground)==null||Re.attr({width:Z,height:ae}),QT(_,{width:`${C}px`,height:`${A}px`}),JT(x)||(_.scrollLeft=U*ne,_.scrollTop=Y*K);let oe=O-T[0]-1,xe=j-T[3]-1,ge=O+R+T[2]+1,be=j+V+T[1]+1,Ie=j+V-U,we=O+R-Y,De=[["M",0,0]];U?De=[["M",0,oe],["L",j-1,oe],["L",j-1,ge],["L",0,ge],["Z"],["M",Ie,oe],["L",C,oe],["L",C,ge],["L",Ie,ge],["Z"]]:Y&&(De=[["M",xe,0],["L",xe,O-1],["L",be,O-1],["L",be,0],["Z"],["M",xe,we],["L",xe,A],["L",be,A],["L",be,we],["Z"]]),p.redrawTrigger!=="adjustHeight"&&this.mask.attr({d:De})}moveFixedElements(){let p,{container:g,inverted:x,scrollablePixelsX:_,scrollablePixelsY:T}=this.chart,C=this.fixedRenderer,A=vv.fixedSelectors;if(_&&!x?p=".highcharts-yaxis":_&&x||T&&!x?p=".highcharts-xaxis":T&&x&&(p=".highcharts-yaxis"),p&&!(this.chart.hasParallelCoordinates&&p===".highcharts-yaxis"))for(let D of[`${p}:not(.highcharts-radial-axis)`,`${p}-labels:not(.highcharts-radial-axis-labels)`])S3(A,D);else for(let D of[".highcharts-xaxis",".highcharts-yaxis"])for(let R of[`${D}:not(.highcharts-radial-axis)`,`${D}-labels:not(.highcharts-radial-axis-labels)`])uae(A,R);for(let D of A)[].forEach.call(g.querySelectorAll(D),R=>{(R.namespaceURI===C.SVG_NS?C.box:C.box.parentNode).appendChild(R),R.style.pointerEvents="auto"})}}vv.fixedSelectors=[".highcharts-breadcrumbs-group",".highcharts-contextbutton",".highcharts-caption",".highcharts-credits",".highcharts-drillup-button",".highcharts-legend",".highcharts-legend-checkbox",".highcharts-navigator-series",".highcharts-navigator-xaxis",".highcharts-navigator-yaxis",".highcharts-navigator",".highcharts-range-selector-group",".highcharts-reset-zoom",".highcharts-scrollbar",".highcharts-subtitle",".highcharts-title"];let{format:hae}=La,{series:fae}=nn,{destroyObjectProperties:dae,fireEvent:w3,getAlignFactor:eC,isNumber:tC,pick:gv}=ke,T3=class{constructor(P,p,g,x,_){const T=P.chart.inverted,C=P.reversed;this.axis=P;const A=this.isNegative=!!g!=!!C;this.options=p=p||{},this.x=x,this.total=null,this.cumulative=null,this.points={},this.hasValidPoints=!1,this.stack=_,this.leftCliff=0,this.rightCliff=0,this.alignOptions={align:p.align||(T?A?"left":"right":"center"),verticalAlign:p.verticalAlign||(T?"middle":A?"bottom":"top"),y:p.y,x:p.x},this.textAlign=p.textAlign||(T?A?"right":"left":"center")}destroy(){dae(this,this.axis)}render(P){let p=this.axis.chart,g=this.options,x=g.format,_=x?hae(x,this,p):g.formatter.call(this);if(this.label)this.label.attr({text:_,visibility:"hidden"});else{this.label=p.renderer.label(_,null,void 0,g.shape,void 0,void 0,g.useHTML,!1,"stack-labels");let T={r:g.borderRadius||0,text:_,padding:gv(g.padding,5),visibility:"hidden"};p.styledMode||(T.fill=g.backgroundColor,T.stroke=g.borderColor,T["stroke-width"]=g.borderWidth,this.label.css(g.style||{})),this.label.attr(T),this.label.added||this.label.add(P)}this.label.labelrank=p.plotSizeY,w3(this,"afterRender")}setOffset(P,p,g,x,_,T){let{alignOptions:C,axis:A,label:D,options:R,textAlign:j}=this,O=A.chart,V=this.getStackBox({xOffset:P,width:p,boxBottom:g,boxTop:x,defaultX:_,xAxis:T}),{verticalAlign:U}=C;if(D&&V){let Y=D.getBBox(void 0,0),ne=D.padding,K=gv(R.overflow,"justify")==="justify",Z;C.x=R.x||0,C.y=R.y||0;let{x:ae,y:oe}=this.adjustStackPosition({labelBox:Y,verticalAlign:U,textAlign:j});V.x-=ae,V.y-=oe,D.align(C,!1,V),(Z=O.isInsidePlot(D.alignAttr.x+C.x+ae,D.alignAttr.y+C.y+oe))||(K=!1),K&&fae.prototype.justifyDataLabel.call(A,D,C,D.alignAttr,Y,V),D.attr({x:D.alignAttr.x,y:D.alignAttr.y,rotation:R.rotation,rotationOriginX:Y.width*eC(R.textAlign||"center"),rotationOriginY:Y.height/2}),gv(!K&&R.crop,!0)&&(Z=tC(D.x)&&tC(D.y)&&O.isInsidePlot(D.x-ne+(D.width||0),D.y)&&O.isInsidePlot(D.x+ne,D.y)),D[Z?"show":"hide"]()}w3(this,"afterSetOffset",{xOffset:P,width:p})}adjustStackPosition({labelBox:P,verticalAlign:p,textAlign:g}){return{x:P.width/2+P.width/2*(2*eC(g)-1),y:P.height/2*2*(1-eC(p))}}getStackBox(P){let p=this.axis,g=p.chart,{boxTop:x,defaultX:_,xOffset:T,width:C,boxBottom:A}=P,D=p.stacking.usePercentage?100:gv(x,this.total,0),R=p.toPixels(D),j=P.xAxis||g.xAxis[0],O=gv(_,j.translate(this.x))+T,V=Math.abs(R-p.toPixels(A||tC(p.min)&&p.logarithmic&&p.logarithmic.lin2log(p.min)||0)),U=g.inverted,Y=this.isNegative;return U?{x:(Y?R:R-V)-g.plotLeft,y:j.height-O-C+j.top-g.plotTop,width:V,height:C}:{x:O+j.transB-g.plotLeft,y:(Y?R-V:R)-g.plotTop,width:C,height:V}}},{getDeferredAnimation:pae}=Kn,{series:{prototype:vae}}=nn,{addEvent:C3,correctFloat:mv,defined:E3,destroyObjectProperties:gae,fireEvent:mae,isNumber:rC,objectEach:Tc,pick:nC}=ke;function yae(){let P=this.inverted;this.axes.forEach(p=>{var g;(g=p.stacking)!=null&&g.stacks&&p.hasVisibleSeries&&(p.stacking.oldStacks=p.stacking.stacks)}),this.series.forEach(p=>{var x;let g=((x=p.xAxis)==null?void 0:x.options)||{};p.options.stacking&&p.reserveSpace()&&(p.stackKey=[p.type,nC(p.options.stack,""),P?g.top:g.left,P?g.height:g.width].join(","))})}function xae(){var p;let P=this.stacking;if(P){let g=P.stacks;Tc(g,(x,_)=>{gae(x),delete g[_]}),(p=P.stackTotalGroup)==null||p.destroy()}}function bae(){this.stacking||(this.stacking=new Eae(this))}function Sae(P,p,g,x){return!E3(P)||P.x!==p||x&&P.stackKey!==x?P={x:p,index:0,key:x,stackKey:x}:P.index++,P.key=[g,p,P.index].join(","),P}function _ae(){let P,p=this,g=p.yAxis,x=p.stackKey||"",_=g.stacking.stacks,T=p.getColumn("x",!0),C=p.options.stacking,A=p[C+"Stacker"];A&&[x,"-"+x].forEach(D=>{var U;let R=T.length,j,O,V;for(;R--;)j=T[R],P=p.getStackIndicator(P,j,p.index,D),O=(U=_[D])==null?void 0:U[j],(V=O==null?void 0:O.points[P.key||""])&&A.call(p,V,O,R)})}function wae(P,p,g){let x=p.total?100/p.total:0;P[0]=mv(P[0]*x),P[1]=mv(P[1]*x),this.stackedYData[g]=P[1]}function Tae(P){(this.is("column")||this.is("columnrange"))&&(this.options.centerInCategory&&this.chart.series.length>1?vae.setStackedPoints.call(this,P,"group"):P.stacking.resetStacks())}function Cae(P,p){var we,De;let g,x,_,T,C,A,D,R=p||this.options.stacking;if(!R||!this.reserveSpace()||({group:"xAxis"}[R]||"yAxis")!==P.coll)return;let j=this.getColumn("x",!0),O=this.getColumn(this.pointValKey||"y",!0),V=[],U=O.length,Y=this.options,ne=Y.threshold||0,K=Y.startFromThreshold?ne:0,Z=Y.stack,ae=p?`${this.type},${R}`:this.stackKey||"",oe="-"+ae,xe=this.negStacks,ge=P.stacking,be=ge.stacks,Ie=ge.oldStacks;for(ge.stacksTouched+=1,D=0;D<U;D++){let Re=j[D]||0,Ue=O[D],Xe=rC(Ue)&&Ue||0;A=(g=this.getStackIndicator(g,Re,this.index)).key||"",be[C=(x=xe&&Xe<(K?0:ne))?oe:ae]||(be[C]={}),be[C][Re]||((we=Ie[C])!=null&&we[Re]?(be[C][Re]=Ie[C][Re],be[C][Re].total=null):be[C][Re]=new T3(P,P.options.stackLabels,!!x,Re,Z)),_=be[C][Re],Ue!==null?(_.points[A]=_.points[this.index]=[nC(_.cumulative,K)],E3(_.cumulative)||(_.base=A),_.touched=ge.stacksTouched,g.index>0&&this.singleStacks===!1&&(_.points[A][0]=_.points[this.index+","+Re+",0"][0])):(delete _.points[A],delete _.points[this.index]);let at=_.total||0;R==="percent"?(T=x?ae:oe,at=xe&&((De=be[T])!=null&&De[Re])?(T=be[T][Re]).total=Math.max(T.total||0,at)+Math.abs(Xe):mv(at+Math.abs(Xe))):R==="group"?rC(Ue)&&at++:at=mv(at+Xe),R==="group"?_.cumulative=(at||1)-1:_.cumulative=mv(nC(_.cumulative,K)+Xe),_.total=at,Ue!==null&&(_.points[A].push(_.cumulative),V[D]=_.cumulative,_.hasValidPoints=!0)}R==="percent"&&(ge.usePercentage=!0),R!=="group"&&(this.stackedYData=V),ge.oldStacks={}}class Eae{constructor(p){this.oldStacks={},this.stacks={},this.stacksTouched=0,this.axis=p}buildStacks(){let p,g,x=this.axis,_=x.series,T=x.coll==="xAxis",C=x.options.reversedStacks,A=_.length;for(this.resetStacks(),this.usePercentage=!1,g=A;g--;)p=_[C?g:A-g-1],T&&p.setGroupedPoints(x),p.setStackedPoints(x);if(!T)for(g=0;g<A;g++)_[g].modifyStacks();mae(x,"afterBuildStacks")}cleanStacks(){this.oldStacks&&(this.stacks=this.oldStacks,Tc(this.stacks,p=>{Tc(p,g=>{g.cumulative=g.total})}))}resetStacks(){Tc(this.stacks,p=>{Tc(p,(g,x)=>{rC(g.touched)&&g.touched<this.stacksTouched?(g.destroy(),delete p[x]):(g.total=null,g.cumulative=null)})})}renderStackTotals(){var A;let p=this.axis,g=p.chart,x=g.renderer,_=this.stacks,T=pae(g,((A=p.options.stackLabels)==null?void 0:A.animation)||!1),C=this.stackTotalGroup=this.stackTotalGroup||x.g("stack-labels").attr({zIndex:6,opacity:0}).add();C.translate(g.plotLeft,g.plotTop),Tc(_,D=>{Tc(D,R=>{R.render(C)})}),C.animate({opacity:1},T)}}($||($={})).compose=function(P,p,g){let x=p.prototype,_=g.prototype;x.getStacks||(C3(P,"init",bae),C3(P,"destroy",xae),x.getStacks=yae,_.getStackIndicator=Sae,_.modifyStacks=_ae,_.percentStacker=wae,_.setGroupedPoints=Tae,_.setStackedPoints=Cae)};let Aae=$,{defined:kae,merge:A3,isObject:Iae}=ke;class k3 extends da{drawGraph(){let p=this.options,g=(this.gappedPath||this.getGraphPath).call(this),x=this.chart.styledMode;[this,...this.zones].forEach((_,T)=>{let C,A=_.graph,D=A?"animate":"attr",R=_.dashStyle||p.dashStyle;A?(A.endX=this.preventGraphAnimation?null:g.xMap,A.animate({d:g})):g.length&&(_.graph=A=this.chart.renderer.path(g).addClass("highcharts-graph"+(T?` highcharts-zone-graph-${T-1} `:" ")+(T&&_.className||"")).attr({zIndex:1}).add(this.group)),A&&!x&&(C={stroke:!T&&p.lineColor||_.color||this.color||"#cccccc","stroke-width":p.lineWidth||0,fill:this.fillGraph&&this.color||"none"},R?C.dashstyle=R:p.linecap!=="square"&&(C["stroke-linecap"]=C["stroke-linejoin"]="round"),A[D](C).shadow(p.shadow&&A3({filterUnits:"userSpaceOnUse"},Iae(p.shadow)?p.shadow:{}))),A&&(A.startX=g.xMap,A.isArea=g.isArea)})}getGraphPath(p,g,x){let _=this,T=_.options,C=[],A=[],D,R=T.step,j=(p=p||_.points).reversed;return j&&p.reverse(),(R={right:1,center:2}[R]||R&&3)&&j&&(R=4-R),(p=this.getValidPoints(p,!1,T.nullInteraction||!(T.connectNulls&&!g&&!x))).forEach(function(O,V){let U,Y=O.plotX,ne=O.plotY,K=p[V-1],Z=O.isNull||typeof ne!="number";(O.leftCliff||K!=null&&K.rightCliff)&&!x&&(D=!0),Z&&!kae(g)&&V>0?D=!T.connectNulls:Z&&!g?D=!0:(V===0||D?U=[["M",O.plotX,O.plotY]]:_.getPointSpline?U=[_.getPointSpline(p,O,V)]:R?(U=R===1?[["L",K.plotX,ne]]:R===2?[["L",(K.plotX+Y)/2,K.plotY],["L",(K.plotX+Y)/2,ne]]:[["L",Y,K.plotY]]).push(["L",Y,ne]):U=[["L",Y,ne]],A.push(O.x),R&&(A.push(O.x),R===2&&A.push(O.x)),C.push.apply(C,U),D=!1)}),C.xMap=A,_.graphPath=C,C}}k3.defaultOptions=A3(da.defaultOptions,{legendSymbol:"lineMarker"}),nn.registerSeriesType("line",k3);let{seriesTypes:{line:iC}}=nn,{extend:Dae,merge:Mae,objectEach:Lae,pick:Ky}=ke;class aC extends iC{drawGraph(){this.areaPath=[],super.drawGraph.apply(this);let{areaPath:p,options:g}=this;[this,...this.zones].forEach((x,_)=>{let T={},C=x.fillColor||g.fillColor,A=x.area,D=A?"animate":"attr";A?(A.endX=this.preventGraphAnimation?null:p.xMap,A.animate({d:p})):(T.zIndex=0,(A=x.area=this.chart.renderer.path(p).addClass("highcharts-area"+(_?` highcharts-zone-area-${_-1} `:" ")+(_&&x.className||"")).add(this.group)).isArea=!0),this.chart.styledMode||(T.fill=C||x.color||this.color,T["fill-opacity"]=C?1:g.fillOpacity??.75,A.css({pointerEvents:this.stickyTracking?"none":"auto"})),A[D](T),A.startX=p.xMap,A.shiftUnit=g.step?2:1})}getGraphPath(p){let g,x,_,T=iC.prototype.getGraphPath,C=this.options,A=C.stacking,D=this.yAxis,R=[],j=[],O=this.index,V=D.stacking.stacks[this.stackKey],U=C.threshold,Y=Math.round(D.getThreshold(C.threshold)),ne=Ky(C.connectNulls,A==="percent"),K=function(be,Ie,we){let De=p[be],Re=A&&V[De.x].points[O],Ue=De[we+"Null"]||0,Xe=De[we+"Cliff"]||0,at,xt,st=!0;Xe||Ue?(at=(Ue?Re[0]:Re[1])+Xe,xt=Re[0]+Xe,st=!!Ue):!A&&p[Ie]&&p[Ie].isNull&&(at=xt=U),at!==void 0&&(j.push({plotX:g,plotY:at===null?Y:D.getThreshold(at),isNull:st,isCliff:!0}),R.push({plotX:g,plotY:xt===null?Y:D.getThreshold(xt),doCurve:!1}))};p=p||this.points,A&&(p=this.getStackPoints(p));for(let be=0,Ie=p.length;be<Ie;++be)A||(p[be].leftCliff=p[be].rightCliff=p[be].leftNull=p[be].rightNull=void 0),x=p[be].isNull,g=Ky(p[be].rectPlotX,p[be].plotX),_=A?Ky(p[be].yBottom,Y):Y,(!x||ne)&&(ne||K(be,be-1,"left"),x&&!A&&ne||(j.push(p[be]),R.push({x:be,plotX:g,plotY:_})),ne||K(be,be+1,"right"));let Z=T.call(this,j,!0,!0);R.reversed=!0;let ae=T.call(this,R,!0,!0),oe=ae[0];oe&&oe[0]==="M"&&(ae[0]=["L",oe[1],oe[2]]);let xe=Z.concat(ae);xe.length&&xe.push(["Z"]);let ge=T.call(this,j,!1,ne);return this.chart.series.length>1&&A&&j.some(be=>be.isCliff)&&(xe.hasStackedCliffs=ge.hasStackedCliffs=!0),xe.xMap=Z.xMap,this.areaPath=xe,ge}getStackPoints(p){let g=this,x=[],_=[],T=this.xAxis,C=this.yAxis,A=C.stacking.stacks[this.stackKey],D={},R=C.series,j=R.length,O=C.options.reversedStacks?1:-1,V=R.indexOf(g);if(p=p||this.points,this.options.stacking){for(let Y=0;Y<p.length;Y++)p[Y].leftNull=p[Y].rightNull=void 0,D[p[Y].x]=p[Y];Lae(A,function(Y,ne){Y.total!==null&&_.push(ne)}),_.sort(function(Y,ne){return Y-ne});let U=R.map(Y=>Y.visible);_.forEach(function(Y,ne){let K=0,Z,ae;if(D[Y]&&!D[Y].isNull)x.push(D[Y]),[-1,1].forEach(function(oe){let xe=oe===1?"rightNull":"leftNull",ge=A[_[ne+oe]],be=0;if(ge){let Ie=V;for(;Ie>=0&&Ie<j;){let we=R[Ie].index;!(Z=ge.points[we])&&(we===g.index?D[Y][xe]=!0:U[Ie]&&(ae=A[Y].points[we])&&(be-=ae[1]-ae[0])),Ie+=O}}D[Y][oe===1?"rightCliff":"leftCliff"]=be});else{let oe=V;for(;oe>=0&&oe<j;){let xe=R[oe].index;if(Z=A[Y].points[xe]){K=Z[1];break}oe+=O}K=Ky(K,0),K=C.translate(K,0,1,0,1),x.push({isNull:!0,plotX:T.translate(Y,0,0,0,1),x:Y,plotY:K,yBottom:K})}})}return x}}aC.defaultOptions=Mae(iC.defaultOptions,{threshold:0,legendSymbol:"areaMarker"}),Dae(aC.prototype,{singleStacks:!1}),nn.registerSeriesType("area",aC);let{line:I3}=nn.seriesTypes,{merge:Nae,pick:Zy}=ke;class sC extends I3{getPointSpline(p,g,x){let _,T,C,A,D=g.plotX||0,R=g.plotY||0,j=p[x-1],O=p[x+1];function V(Y){return Y&&!Y.isNull&&Y.doCurve!==!1&&!g.isCliff}if(V(j)&&V(O)){let Y=j.plotX||0,ne=j.plotY||0,K=O.plotX||0,Z=O.plotY||0,ae=0;_=(1.5*D+Y)/2.5,T=(1.5*R+ne)/2.5,C=(1.5*D+K)/2.5,A=(1.5*R+Z)/2.5,C!==_&&(ae=(A-T)*(C-D)/(C-_)+R-A),T+=ae,A+=ae,T>ne&&T>R?(T=Math.max(ne,R),A=2*R-T):T<ne&&T<R&&(T=Math.min(ne,R),A=2*R-T),A>Z&&A>R?(A=Math.max(Z,R),T=2*R-A):A<Z&&A<R&&(A=Math.min(Z,R),T=2*R-A),g.rightContX=C,g.rightContY=A,g.controlPoints={low:[_,T],high:[C,A]}}let U=["C",Zy(j.rightContX,j.plotX,0),Zy(j.rightContY,j.plotY,0),Zy(_,D,0),Zy(T,R,0),D,R];return j.rightContX=j.rightContY=void 0,U}}sC.defaultOptions=Nae(I3.defaultOptions),nn.registerSeriesType("spline",sC);let D3=sC,{area:Pae,area:{prototype:oC}}=nn.seriesTypes,{extend:Rae,merge:Oae}=ke;class lC extends D3{}lC.defaultOptions=Oae(D3.defaultOptions,Pae.defaultOptions),Rae(lC.prototype,{getGraphPath:oC.getGraphPath,getStackPoints:oC.getStackPoints,drawGraph:oC.drawGraph}),nn.registerSeriesType("areaspline",lC);let{animObject:Bae}=Kn,{parse:Fae}=Kr,{noop:zae}=J,{clamp:Qy,crisp:Jy,defined:M3,extend:L3,fireEvent:N3,isArray:P3,isNumber:e1,merge:uC,pick:yv,objectEach:jae}=ke;class t1 extends da{animate(p){let g,x,_=this,T=this.yAxis,C=T.pos,A=T.reversed,D=_.options,{clipOffset:R,inverted:j}=this.chart,O={},V=j?"translateX":"translateY";p&&R?(O.scaleY=.001,x=Qy(T.toPixels(D.threshold||0),C,C+T.len),j?O.translateX=(x+=A?-Math.floor(R[0]):Math.ceil(R[2]))-T.len:O.translateY=x+=A?Math.ceil(R[0]):-Math.floor(R[2]),_.clipBox&&_.setClip(),_.group.attr(O)):(g=Number(_.group.attr(V)),_.group.animate({scaleY:1},L3(Bae(_.options.animation),{step:function(U,Y){_.group&&(O[V]=g+Y.pos*(C-g),_.group.attr(O))}})))}init(p,g){super.init.apply(this,arguments);let x=this;(p=x.chart).hasRendered&&p.series.forEach(function(_){_.type===x.type&&(_.isDirty=!0)})}getColumnMetrics(){var ne,K;let p=this,g=p.options,x=p.xAxis,_=p.yAxis,T=x.options.reversedStacks,C=x.reversed&&!T||!x.reversed&&T,A={},D,R=0;g.grouping===!1?R=1:p.chart.series.forEach(function(Z){let ae,oe=Z.yAxis,xe=Z.options;Z.type===p.type&&Z.reserveSpace()&&_.len===oe.len&&_.pos===oe.pos&&(xe.stacking&&xe.stacking!=="group"?(A[D=Z.stackKey]===void 0&&(A[D]=R++),ae=A[D]):xe.grouping!==!1&&(ae=R++),Z.columnIndex=ae)});let j=Math.min(Math.abs(x.transA)*(!((ne=x.brokenAxis)!=null&&ne.hasBreaks)&&((K=x.ordinal)==null?void 0:K.slope)||g.pointRange||x.closestPointRange||x.tickInterval||1),x.len),O=j*g.groupPadding,V=(j-2*O)/(R||1),U=Math.min(g.maxPointWidth||x.len,yv(g.pointWidth,V*(1-2*g.pointPadding))),Y=(p.columnIndex||0)+ +!!C;return p.columnMetrics={width:U,offset:(V-U)/2+(O+Y*V-j/2)*(C?-1:1),paddedWidth:V,columnCount:R},p.columnMetrics}crispCol(p,g,x,_){let T=this.borderWidth,C=this.chart.inverted;return _=Jy(g+_,T,C)-(g=Jy(g,T,C)),this.options.crisp&&(x=Jy(p+x,T)-(p=Jy(p,T))),{x:p,y:g,width:x,height:_}}adjustForMissingColumns(p,g,x,_){var T;if(!x.isNull&&_.columnCount>1){let C=this.xAxis.series.filter(j=>j.visible).map(j=>j.index),A=0,D=0;jae((T=this.xAxis.stacking)==null?void 0:T.stacks,j=>{var Y;let O=typeof x.x=="number"?(Y=j[x.x.toString()])==null?void 0:Y.points:void 0,V=O==null?void 0:O[this.index],U={};if(O&&P3(V)){let ne=this.index,K=Object.keys(O).filter(Z=>!Z.match(",")&&O[Z]&&O[Z].length>1).map(parseFloat).filter(Z=>C.indexOf(Z)!==-1).filter(Z=>{let ae=this.chart.series[Z].options,oe=ae.stacking&&ae.stack;if(M3(oe)){if(e1(U[oe]))return ne===Z&&(ne=U[oe]),!1;U[oe]=Z}return!0}).sort((Z,ae)=>ae-Z);A=K.indexOf(ne),D=K.length}}),A=this.xAxis.reversed?D-1-A:A;let R=(D-1)*_.paddedWidth+g;p=(x.plotX||0)+R/2-g-A*_.paddedWidth}return p}translate(){let p=this,g=p.chart,x=p.options,_=p.dense=p.closestPointRange*p.xAxis.transA<2,T=p.borderWidth=yv(x.borderWidth,+!_),C=p.xAxis,A=p.yAxis,D=x.threshold,R=yv(x.minPointLength,5),j=p.getColumnMetrics(),O=j.width,V=p.pointXOffset=j.offset,U=p.dataMin,Y=p.dataMax,ne=p.translatedThreshold=A.getThreshold(D),K=p.barW=Math.max(O,1+2*T);x.pointPadding&&x.crisp&&(K=Math.ceil(K)),da.prototype.translate.apply(p),p.points.forEach(function(Z){let ae=yv(Z.yBottom,ne),oe=999+Math.abs(ae),xe=Z.plotX||0,ge=Qy(Z.plotY,-oe,A.len+oe),be,Ie=Math.min(ge,ae),we=Math.max(ge,ae)-Ie,De=O,Re=xe+V,Ue=K;R&&Math.abs(we)<R&&(we=R,be=!A.reversed&&!Z.negative||A.reversed&&Z.negative,e1(D)&&e1(Y)&&Z.y===D&&Y<=D&&(A.min||0)<D&&(U!==Y||(A.max||0)<=D)&&(be=!be,Z.negative=!Z.negative),Ie=Math.abs(Ie-ne)>R?ae-R:ne-(be?R:0)),M3(Z.options.pointWidth)&&(Re-=Math.round(((De=Ue=Math.ceil(Z.options.pointWidth))-O)/2)),x.centerInCategory&&(Re=p.adjustForMissingColumns(Re,De,Z,j)),Z.barX=Re,Z.pointWidth=De,Z.tooltipPos=g.inverted?[Qy(A.len+A.pos-g.plotLeft-ge,A.pos-g.plotLeft,A.len+A.pos-g.plotLeft),C.len+C.pos-g.plotTop-Re-Ue/2,we]:[C.left-g.plotLeft+Re+Ue/2,Qy(ge+A.pos-g.plotTop,A.pos-g.plotTop,A.len+A.pos-g.plotTop),we],Z.shapeType=p.pointClass.prototype.shapeType||"roundedRect",Z.shapeArgs=p.crispCol(Re,Ie,Ue,Z.isNull?0:we)}),N3(this,"afterColumnTranslate")}drawGraph(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")}pointAttribs(p,g){var K;let x=this.options,_=this.pointAttrToOptions||{},T=_.stroke||"borderColor",C=_["stroke-width"]||"borderWidth",A,D,R,j=p&&p.color||this.color,O=p&&p[T]||x[T]||j,V=p&&p.options.dashStyle||x.dashStyle,U=p&&p[C]||x[C]||this[C]||0,Y=p!=null&&p.isNull&&x.nullInteraction?0:(p==null?void 0:p.opacity)??x.opacity??1;p&&this.zones.length&&(D=p.getZone(),j=p.options.color||D&&(D.color||p.nonZonedColor)||this.color,D&&(O=D.borderColor||O,V=D.dashStyle||V,U=D.borderWidth||U)),g&&p&&(R=(A=uC(x.states[g],((K=p.options.states)==null?void 0:K[g])||{})).brightness,j=A.color||R!==void 0&&Fae(j).brighten(A.brightness).get()||j,O=A[T]||O,U=A[C]||U,V=A.dashStyle||V,Y=yv(A.opacity,Y));let ne={fill:j,stroke:O,"stroke-width":U,opacity:Y};return V&&(ne.dashstyle=V),ne}drawPoints(p=this.points){let g,x=this,_=this.chart,T=x.options,C=T.nullInteraction,A=_.renderer,D=T.animationLimit||250;p.forEach(function(R){let j=R.plotY,O=R.graphic,V=!!O,U=O&&_.pointCount<D?"animate":"attr";e1(j)&&(R.y!==null||C)?(g=R.shapeArgs,O&&R.hasNewShapeType()&&(O=O.destroy()),x.enabledDataSorting&&(R.startXPos=x.xAxis.reversed?-(g&&g.width||0):x.xAxis.width),!O&&(R.graphic=O=A[R.shapeType](g).add(R.group||x.group),O&&x.enabledDataSorting&&_.hasRendered&&_.pointCount<D&&(O.attr({x:R.startXPos}),V=!0,U="animate")),O&&V&&O[U](uC(g)),_.styledMode||O[U](x.pointAttribs(R,R.selected&&"select")).shadow(R.allowShadow!==!1&&T.shadow),O&&(O.addClass(R.getClassName(),!0),O.attr({visibility:R.visible?"inherit":"hidden"}))):O&&(R.graphic=O.destroy())})}drawTracker(p=this.points){var A;let g,x=this,_=x.chart,T=_.pointer,C=function(D){T==null||T.normalize(D);let R=T==null?void 0:T.getPointFromEvent(D);T&&R&&x.options.enableMouseTracking&&(_.isInsidePlot(D.chartX-_.plotLeft,D.chartY-_.plotTop,{visiblePlotOnly:!0})||T!=null&&T.inClass(D.target,"highcharts-data-label"))&&(T.isDirectTouch=!0,R.onMouseOver(D))};p.forEach(function(D){g=P3(D.dataLabels)?D.dataLabels:D.dataLabel?[D.dataLabel]:[],D.graphic&&(D.graphic.element.point=D),g.forEach(function(R){(R.div||R.element).point=D})}),x._hasTracking||((A=x.trackerGroups)==null||A.reduce((D,R)=>(R==="dataLabelsGroup"?D.push(...x.dataLabelsGroups||[]):D.push(x[R]),D),[]).forEach(D=>{D&&(D.addClass("highcharts-tracker").on("mouseover",C).on("mouseout",function(R){T==null||T.onTrackerMouseOut(R)}).on("touchstart",C),!_.styledMode&&x.options.cursor&&D.css({cursor:x.options.cursor}))}),x._hasTracking=!0),N3(this,"afterDrawTracker")}remove(){let p=this,g=p.chart;g.hasRendered&&g.series.forEach(function(x){x.type===p.type&&(x.isDirty=!0)}),da.prototype.remove.apply(p,arguments)}}t1.defaultOptions=uC(da.defaultOptions,{borderRadius:3,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"}),L3(t1.prototype,{directTouch:!0,getSymbol:zae,negStacks:!0,trackerGroups:["group","dataLabelsGroup"]}),nn.registerSeriesType("column",t1);let r1=t1,{getDeferredAnimation:Hae}=Kn,{format:Vae}=La,{defined:Cc,extend:R3,fireEvent:n1,getAlignFactor:O3,isArray:Yl,isString:xv,merge:bv,objectEach:Uae,pick:Sv,pInt:Gae,splat:B3}=ke;(function(P){function p(){return D(this).some(j=>j==null?void 0:j.enabled)}function g(j,O,V,U,Y){var Re;let{chart:ne,enabledDataSorting:K}=this,Z=this.isCartesian&&ne.inverted,ae=j.plotX,oe=j.plotY,xe=V.rotation||0,ge=Cc(ae)&&Cc(oe)&&ne.isInsidePlot(ae,Math.round(oe),{inverted:Z,paneCoordinates:!0,series:this}),be=xe===0&&Sv(V.overflow,K?"none":"justify")==="justify",Ie=this.visible&&j.visible!==!1&&Cc(ae)&&(j.series.forceDL||K&&!be||ge||Sv(V.inside,!!this.options.stacking)&&U&&ne.isInsidePlot(ae,Z?U.x+1:U.y+U.height-1,{inverted:Z,paneCoordinates:!0,series:this})),we=j.pos();if(Ie&&we){var De;let Ue=O.getBBox(),Xe=O.getBBox(void 0,0);if(U=R3({x:we[0],y:Math.round(we[1]),width:0,height:0},U||{}),V.alignTo==="plotEdges"&&this.isCartesian&&(U[Z?"x":"y"]=0,U[Z?"width":"height"]=((Re=this.yAxis)==null?void 0:Re.len)||0),R3(V,{width:Ue.width,height:Ue.height}),De=U,K&&this.xAxis&&!be&&this.setDataLabelStartPos(j,O,Y,ge,De),O.align(bv(V,{width:Xe.width,height:Xe.height}),!1,U,!1),O.alignAttr.x+=O3(V.align)*(Xe.width-Ue.width),O.alignAttr.y+=O3(V.verticalAlign)*(Xe.height-Ue.height),O[O.placed?"animate":"attr"]({"text-align":O.alignAttr["text-align"]||"center",x:O.alignAttr.x+(Ue.width-Xe.width)/2,y:O.alignAttr.y+(Ue.height-Xe.height)/2,rotationOriginX:(O.width||0)/2,rotationOriginY:(O.height||0)/2}),be&&U.height>=0)this.justifyDataLabel(O,V,O.alignAttr,Ue,U,Y);else if(Sv(V.crop,!0)){let{x:at,y:xt}=O.alignAttr;Ie=ne.isInsidePlot(at,xt,{paneCoordinates:!0,series:this})&&ne.isInsidePlot(at+Ue.width-1,xt+Ue.height-1,{paneCoordinates:!0,series:this})}V.shape&&!xe&&O[Y?"attr":"animate"]({anchorX:we[0],anchorY:we[1]})}Y&&K&&(O.placed=!1),Ie||K&&!be?(O.show(),O.placed=!0):(O.hide(),O.placed=!1)}function x(j,O){var U,Y;n1(this,"initDataLabelsGroup",{index:j,zIndex:(O==null?void 0:O.zIndex)??6}),this.dataLabelsGroup=(U=this.dataLabelsGroups)==null?void 0:U[j];let V=this.plotGroup("dataLabelsGroup","data-labels",this.hasRendered?"inherit":"hidden",(O==null?void 0:O.zIndex)??6,(Y=this.dataLabelsParentGroups)==null?void 0:Y[j]);return this.dataLabelsGroups||(this.dataLabelsGroups=[]),this.dataLabelsGroups[j]=V,this.dataLabelsGroup=this.dataLabelsGroups[0],V}function _(j,O,V){let U=!!this.hasRendered,Y=this.initDataLabelsGroup(j,V).attr({opacity:+U});return!U&&Y&&(this.visible&&Y.show(),this.options.animation?Y.animate({opacity:1},O):Y.attr({opacity:1})),Y}function T(j){var Ie;let O;j=j||this.points;let V=this,U=V.chart,Y=V.options,ne=U.renderer,{backgroundColor:K,plotBackgroundColor:Z}=U.options.chart,ae=ne.getContrast(xv(Z)&&Z||xv(K)&&K||"#000000"),oe=D(V),{animation:xe,defer:ge}=oe[0],be=ge?Hae(U,xe,V):{defer:0,duration:0};n1(this,"drawDataLabels"),(Ie=V.hasDataLabels)!=null&&Ie.call(V)&&j.forEach(we=>{var Xe,at,xt;let De=we.dataLabels||[],Re=we.color||V.color;B3(A(oe,we.dlOptions||((Xe=we.options)==null?void 0:Xe.dataLabels))).forEach((st,gt)=>{var gn;O=this.initDataLabels(gt,be,st);let pt=st.enabled&&(we.visible||we.dataLabelOnHidden)&&(!we.isNull||we.dataLabelOnNull)&&function(Ln,to){let ro=to.filter;if(ro){let Zn=ro.operator,wn=Ln[ro.property],$r=ro.value;return Zn===">"&&wn>$r||Zn==="<"&&wn<$r||Zn===">="&&wn>=$r||Zn==="<="&&wn<=$r||Zn==="=="&&wn==$r||Zn==="==="&&wn===$r||Zn==="!="&&wn!=$r||Zn==="!=="&&wn!==$r||!1}return!0}(we,st),{backgroundColor:Pt,borderColor:Vt,distance:Ar,style:Fr={}}=st,Un,nr,wr,$t={},Rt=De[gt],an=!Rt,Or;pt&&(nr=Cc(Un=Sv(st[we.formatPrefix+"Format"],st.format))?Vae(Un,we,U):(st[we.formatPrefix+"Formatter"]||st.formatter).call(we,st),wr=st.rotation,!U.styledMode&&(Fr.color=Sv(st.color,Fr.color,xv(V.color)?V.color:void 0,"#000000"),Fr.color==="contrast"?(Pt!=="none"&&(Or=Pt),we.contrastColor=ne.getContrast(Or!=="auto"&&xv(Or)&&Or||(xv(Re)?Re:"")),Fr.color=Or||!Cc(Ar)&&st.inside||0>Gae(Ar||0)||Y.stacking?we.contrastColor:ae):delete we.contrastColor,Y.cursor&&(Fr.cursor=Y.cursor)),$t={r:st.borderRadius||0,rotation:wr,padding:st.padding,zIndex:1},U.styledMode||($t.fill=Pt==="auto"?we.color:Pt,$t.stroke=Vt==="auto"?we.color:Vt,$t["stroke-width"]=st.borderWidth),Uae($t,(Ln,to)=>{Ln===void 0&&delete $t[to]})),!Rt||pt&&Cc(nr)&&!!(Rt.div||(gn=Rt.text)!=null&&gn.foreignObject)==!!st.useHTML&&(Rt.rotation&&st.rotation||Rt.rotation===st.rotation)||(Rt=void 0,an=!0),pt&&Cc(nr)&&nr!==""&&(Rt?$t.text=nr:(Rt=ne.label(nr,0,0,st.shape,void 0,void 0,st.useHTML,void 0,"data-label")).addClass(" highcharts-data-label-color-"+we.colorIndex+" "+(st.className||"")+(st.useHTML?" highcharts-tracker":"")),Rt&&(Rt.options=st,Rt.attr($t),U.styledMode?Fr.width&&Rt.css({width:Fr.width,textOverflow:Fr.textOverflow,whiteSpace:Fr.whiteSpace}):Rt.css(Fr).shadow(st.shadow),n1(Rt,"beforeAddingDataLabel",{labelOptions:st,point:we}),Rt.added||Rt.add(O),V.alignDataLabel(we,Rt,st,void 0,an),Rt.isActive=!0,De[gt]&&De[gt]!==Rt&&De[gt].destroy(),De[gt]=Rt))});let Ue=De.length;for(;Ue--;)(at=De[Ue])!=null&&at.isActive?De[Ue].isActive=!1:((xt=De[Ue])==null||xt.destroy(),De.splice(Ue,1));we.dataLabel=De[0],we.dataLabels=De}),n1(this,"afterDrawDataLabels")}function C(j,O,V,U,Y,ne){let K=this.chart,Z=O.align,ae=O.verticalAlign,oe=j.box?0:j.padding||0,xe=K.inverted?this.yAxis:this.xAxis,ge=xe?xe.left-K.plotLeft:0,be=K.inverted?this.xAxis:this.yAxis,Ie=be?be.top-K.plotTop:0,{x:we=0,y:De=0}=O,Re,Ue;return(Re=(V.x||0)+oe+ge)<0&&(Z==="right"&&we>=0?(O.align="left",O.inside=!0):we-=Re,Ue=!0),(Re=(V.x||0)+U.width-oe+ge)>K.plotWidth&&(Z==="left"&&we<=0?(O.align="right",O.inside=!0):we+=K.plotWidth-Re,Ue=!0),(Re=V.y+oe+Ie)<0&&(ae==="bottom"&&De>=0?(O.verticalAlign="top",O.inside=!0):De-=Re,Ue=!0),(Re=(V.y||0)+U.height-oe+Ie)>K.plotHeight&&(ae==="top"&&De<=0?(O.verticalAlign="bottom",O.inside=!0):De+=K.plotHeight-Re,Ue=!0),Ue&&(O.x=we,O.y=De,j.placed=!ne,j.align(O,void 0,Y)),Ue}function A(j,O){let V=[],U;if(Yl(j)&&!Yl(O))V=j.map(function(Y){return bv(Y,O)});else if(Yl(O)&&!Yl(j))V=O.map(function(Y){return bv(j,Y)});else if(Yl(j)||Yl(O)){if(Yl(j)&&Yl(O))for(U=Math.max(j.length,O.length);U--;)V[U]=bv(j[U],O[U])}else V=bv(j,O);return V}function D(j){var V,U;let O=j.chart.options.plotOptions;return B3(A(A((V=O==null?void 0:O.series)==null?void 0:V.dataLabels,(U=O==null?void 0:O[j.type])==null?void 0:U.dataLabels),j.options.dataLabels))}function R(j,O,V,U,Y){let ne=this.chart,K=ne.inverted,Z=this.xAxis,ae=Z.reversed,oe=((K?O.height:O.width)||0)/2,xe=j.pointWidth,ge=xe?xe/2:0;O.startXPos=K?Y.x:ae?-oe-ge:Z.width-oe+ge,O.startYPos=K?ae?this.yAxis.height-oe+ge:-oe-ge:Y.y,U?O.visibility==="hidden"&&(O.show(),O.attr({opacity:0}).animate({opacity:1})):O.attr({opacity:1}).animate({opacity:0},void 0,O.hide),ne.hasRendered&&(V&&O.attr({x:O.startXPos,y:O.startYPos}),O.placed=!0)}P.compose=function(j){let O=j.prototype;O.initDataLabels||(O.initDataLabels=_,O.initDataLabelsGroup=x,O.alignDataLabel=g,O.drawDataLabels=T,O.justifyDataLabel=C,O.mergeArrays=A,O.setDataLabelStartPos=R,O.hasDataLabels=p)}})(W||(W={}));let i1=W,{composed:Wae}=J,{series:F3}=nn,{merge:$ae,pushUnique:Yae}=ke;function Xae(P,p,g,x,_){var U,Y;let{chart:T,options:C}=this,A=T.inverted,D=((U=this.xAxis)==null?void 0:U.len)||T.plotSizeX||0,R=((Y=this.yAxis)==null?void 0:Y.len)||T.plotSizeY||0,j=P.dlBox||P.shapeArgs,O=P.below??(P.plotY||0)>(this.translatedThreshold??R),V=g.inside??!!C.stacking;if(j){if(x=$ae(j),g.overflow!=="allow"||g.crop!==!1||C.clip!==!1){x.y<0&&(x.height+=x.y,x.y=0);let ne=x.y+x.height-R;ne>0&&ne<x.height-1&&(x.height-=ne)}A&&(x={x:R-x.y-x.height,y:D-x.x-x.width,width:x.height,height:x.width}),V||(A?(x.x+=O?0:x.width,x.width=0):(x.y+=O?x.height:0,x.height=0))}g.align??(g.align=!A||V?"center":O?"right":"left"),g.verticalAlign??(g.verticalAlign=A||V?"middle":O?"top":"bottom"),F3.prototype.alignDataLabel.call(this,P,p,g,x,_),g.inside&&P.contrastColor&&p.css({color:P.contrastColor})}(X||(X={})).compose=function(P){i1.compose(F3),Yae(Wae,"ColumnDataLabel")&&(P.prototype.alignDataLabel=Xae)};let qae=X,{extend:Kae,merge:Zae}=ke;class cC extends r1{}cC.defaultOptions=Zae(r1.defaultOptions,{}),Kae(cC.prototype,{inverted:!0}),nn.registerSeriesType("bar",cC);let{column:Qae,line:z3}=nn.seriesTypes,{addEvent:Jae,extend:ese,merge:tse}=ke;class a1 extends z3{applyJitter(){let p=this,g=this.options.jitter,x=this.points.length;g&&this.points.forEach(function(_,T){["x","y"].forEach(function(C,A){if(g[C]&&!_.isNull){let D=`plot${C.toUpperCase()}`,R=p[`${C}Axis`],j=g[C]*R.transA;if(R&&!R.logarithmic){let O,V=Math.max(0,(_[D]||0)-j),U=Math.min(R.len,(_[D]||0)+j);_[D]=V+(U-V)*((O=1e4*Math.sin(T+A*x))-Math.floor(O)),C==="x"&&(_.clientX=_.plotX)}}})})}drawGraph(){this.options.lineWidth?super.drawGraph():this.graph&&(this.graph=this.graph.destroy())}}a1.defaultOptions=tse(z3.defaultOptions,{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}"></span> <span style="font-size: 0.8em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}}),ese(a1.prototype,{drawTracker:Qae.prototype.drawTracker,sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"]}),Jae(a1,"afterTranslate",function(){this.applyJitter()}),nn.registerSeriesType("scatter",a1);let{deg2rad:j3}=J,{fireEvent:rse,isNumber:hC,pick:s1,relativeLength:nse}=ke;(m=ee||(ee={})).getCenter=function(){let P=this.options,p=this.chart,g=2*(P.slicedOffset||0),x=p.plotWidth-2*g,_=p.plotHeight-2*g,T=P.center,C=Math.min(x,_),A=P.thickness,D,R=P.size,j=P.innerSize||0,O,V;typeof R=="string"&&(R=parseFloat(R)),typeof j=="string"&&(j=parseFloat(j));let U=[s1(T==null?void 0:T[0],"50%"),s1(T==null?void 0:T[1],"50%"),s1(R&&R<0?void 0:P.size,"100%"),s1(j&&j<0?void 0:P.innerSize||0,"0%")];for(!p.angular||this instanceof da||(U[3]=0),O=0;O<4;++O)V=U[O],D=O<2||O===2&&/%$/.test(V),U[O]=nse(V,[x,_,C,U[2]][O])+(D?g:0);return U[3]>U[2]&&(U[3]=U[2]),hC(A)&&2*A<U[2]&&A>0&&(U[3]=U[2]-2*A),rse(this,"afterGetCenter",{positions:U}),U},m.getStartAndEndRadians=function(P,p){let g=hC(P)?P:0,x=hC(p)&&p>g&&p-g<360?p:g+360;return{start:j3*(g+-90),end:j3*(x+-90)}};let H3=ee,{setAnimation:ise}=Kn,{addEvent:V3,defined:ase,extend:sse,isNumber:ose,pick:lse,relativeLength:use}=ke;class U3 extends Hl{getConnectorPath(p){let g=p.dataLabelPosition,x=p.options||{},_=x.connectorShape,T=this.connectorShapes[_]||_;return g&&T.call(this,{...g.computed,alignment:g.alignment},g.connectorPosition,x)||[]}getTranslate(){return this.sliced&&this.slicedTranslation||{translateX:0,translateY:0}}haloPath(p){let g=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(g.x,g.y,g.r+p,g.r+p,{innerR:g.r-1,start:g.start,end:g.end,borderRadius:g.borderRadius})}constructor(p,g,x){super(p,g,x),this.half=0,this.name??(this.name=p.chart.options.lang.pieSliceName);const _=T=>{this.slice(T.type==="select")};V3(this,"select",_),V3(this,"unselect",_)}isValid(){return ose(this.y)&&this.y>=0}setVisible(p,g=!0){p!==this.visible&&this.update({visible:p??!this.visible},g,void 0,!1)}slice(p,g,x){let _=this.series;ise(x,_.chart),g=lse(g,!0),this.sliced=this.options.sliced=p=ase(p)?p:!this.sliced,_.options.data[_.data.indexOf(this)]=this.options,this.graphic&&this.graphic.animate(this.getTranslate())}}sse(U3.prototype,{connectorShapes:{fixedOffset:function(P,p,g){let x=p.breakAt,_=p.touchingSliceAt,T=g.softConnector?["C",P.x+(P.alignment==="left"?-5:5),P.y,2*x.x-_.x,2*x.y-_.y,x.x,x.y]:["L",x.x,x.y];return[["M",P.x,P.y],T,["L",_.x,_.y]]},straight:function(P,p){let g=p.touchingSliceAt;return[["M",P.x,P.y],["L",g.x,g.y]]},crookedLine:function(P,p,g){let{angle:x=this.angle||0,breakAt:_,touchingSliceAt:T}=p,{series:C}=this,[A,D,R]=C.center,j=R/2,{plotLeft:O,plotWidth:V}=C.chart,U=P.alignment==="left",{x:Y,y:ne}=P,K=_.x;if(g.crookDistance){let ae=use(g.crookDistance,1);K=U?A+j+(V+O-A-j)*(1-ae):O+(A-j)*ae}else K=A+(D-ne)*Math.tan(x-Math.PI/2);let Z=[["M",Y,ne]];return(U?K<=Y&&K>=_.x:K>=Y&&K<=_.x)&&Z.push(["L",K,ne]),Z.push(["L",_.x,_.y],["L",T.x,T.y]),Z}}});let{getStartAndEndRadians:cse}=H3,{noop:G3}=J,{clamp:hse,extend:fse,fireEvent:W3,merge:fC,pick:dse}=ke;class dC extends da{animate(p){let g=this,x=g.points,_=g.startAngleRad;p||x.forEach(function(T){let C=T.graphic,A=T.shapeArgs;C&&A&&(C.attr({r:dse(T.startR,g.center&&g.center[3]/2),start:_,end:_}),C.animate({r:A.r,start:A.start,end:A.end},g.options.animation))})}drawEmpty(){let p,g,x=this.startAngleRad,_=this.endAngleRad,T=this.options;this.total===0&&this.center?(p=this.center[0],g=this.center[1],this.graph||(this.graph=this.chart.renderer.arc(p,g,this.center[1]/2,0,x,_).addClass("highcharts-empty-series").add(this.group)),this.graph.attr({d:mO.arc(p,g,this.center[2]/2,0,{start:x,end:_,innerR:this.center[3]/2})}),this.chart.styledMode||this.graph.attr({"stroke-width":T.borderWidth,fill:T.fillColor||"none",stroke:T.color||"#cccccc"})):this.graph&&(this.graph=this.graph.destroy())}drawPoints(){let p=this.chart.renderer;this.points.forEach(function(g){g.graphic&&g.hasNewShapeType()&&(g.graphic=g.graphic.destroy()),g.graphic||(g.graphic=p[g.shapeType](g.shapeArgs).add(g.series.group),g.delayedRendering=!0)})}generatePoints(){super.generatePoints(),this.updateTotals()}getX(p,g,x,_){let T=this.center,C=this.radii?this.radii[x.index]||0:T[2]/2,A=_.dataLabelPosition,D=(A==null?void 0:A.distance)||0,R=Math.asin(hse((p-T[1])/(C+D),-1,1));return T[0]+Math.cos(R)*(C+D)*(g?-1:1)+(D>0?(g?-1:1)*(_.padding||0):0)}hasData(){return this.points.some(p=>p.visible)}redrawPoints(){let p,g,x,_,T=this,C=T.chart;this.drawEmpty(),T.group&&!C.styledMode&&T.group.shadow(T.options.shadow),T.points.forEach(function(A){let D={};g=A.graphic,!A.isNull&&g?(_=A.shapeArgs,p=A.getTranslate(),C.styledMode||(x=T.pointAttribs(A,A.selected&&"select")),A.delayedRendering?(g.setRadialReference(T.center).attr(_).attr(p),C.styledMode||g.attr(x).attr({"stroke-linejoin":"round"}),A.delayedRendering=!1):(g.setRadialReference(T.center),C.styledMode||fC(!0,D,x),fC(!0,D,_,p),g.animate(D)),g.attr({visibility:A.visible?"inherit":"hidden"}),g.addClass(A.getClassName(),!0)):g&&(A.graphic=g.destroy())})}sortByAngle(p,g){p.sort(function(x,_){return x.angle!==void 0&&(_.angle-x.angle)*g})}translate(p){W3(this,"translate"),this.generatePoints();let g=this.options,x=g.slicedOffset,_=cse(g.startAngle,g.endAngle),T=this.startAngleRad=_.start,C=(this.endAngleRad=_.end)-T,A=this.points,D=g.ignoreHiddenPoint,R=A.length,j,O,V,U,Y,ne,K,Z=0;for(p||(this.center=p=this.getCenter()),ne=0;ne<R;ne++){K=A[ne],j=T+Z*C,K.isValid()&&(!D||K.visible)&&(Z+=K.percentage/100),O=T+Z*C;let ae={x:p[0],y:p[1],r:p[2]/2,innerR:p[3]/2,start:Math.round(1e3*j)/1e3,end:Math.round(1e3*O)/1e3};K.shapeType="arc",K.shapeArgs=ae,(V=(O+j)/2)>1.5*Math.PI?V-=2*Math.PI:V<-Math.PI/2&&(V+=2*Math.PI),K.slicedTranslation={translateX:Math.round(Math.cos(V)*x),translateY:Math.round(Math.sin(V)*x)},U=Math.cos(V)*p[2]/2,Y=Math.sin(V)*p[2]/2,K.tooltipPos=[p[0]+.7*U,p[1]+.7*Y],K.half=+(V<-Math.PI/2||V>Math.PI/2),K.angle=V}W3(this,"afterTranslate")}updateTotals(){let p=this.points,g=p.length,x=this.options.ignoreHiddenPoint,_,T,C=0;for(_=0;_<g;_++)(T=p[_]).isValid()&&(!x||T.visible)&&(C+=T.y);for(_=0,this.total=C;_<g;_++)(T=p[_]).percentage=C>0&&(T.visible||!x)?T.y/C*100:0,T.total=C}}dC.defaultOptions=fC(da.defaultOptions,{borderRadius:3,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{connectorPadding:5,connectorShape:"crookedLine",crookDistance:void 0,distance:30,enabled:!0,formatter:function(){return this.isNull?void 0:this.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}}),fse(dC.prototype,{axisTypes:[],directTouch:!0,drawGraph:void 0,drawTracker:r1.prototype.drawTracker,getCenter:H3.getCenter,getSymbol:G3,invertible:!1,isCartesian:!1,noSharedTooltip:!0,pointAttribs:r1.prototype.pointAttribs,pointClass:U3,requireSorting:!1,searchPoint:G3,trackerGroups:["group","dataLabelsGroup"]}),nn.registerSeriesType("pie",dC);let{composed:pse,noop:vse}=J,{distribute:gse}=my,{series:$3}=nn,{arrayMax:mse,clamp:Y3,defined:X3,isNumber:yse,pick:xse,pushUnique:bse,relativeLength:q3}=ke;(function(P){let p={radialDistributionY:function(C,A){var D;return(((D=A.dataLabelPosition)==null?void 0:D.top)||0)+C.distributeBox.pos},radialDistributionX:function(C,A,D,R,j){let O=j.dataLabelPosition;return C.getX(D<((O==null?void 0:O.top)||0)+2||D>((O==null?void 0:O.bottom)||0)-2?R:D,A.half,A,j)},justify:function(C,A,D,R){var j;return R[0]+(C.half?-1:1)*(D+(((j=A.dataLabelPosition)==null?void 0:j.distance)||0))},alignToPlotEdges:function(C,A,D,R){let j=C.getBBox().width;return A?j+R:D-j-R},alignToConnectors:function(C,A,D,R){let j=0,O;return C.forEach(function(V){(O=V.dataLabel.getBBox().width)>j&&(j=O)}),A?j+R:D-j-R}};function g(C,A){let D=Math.PI/2,{start:R=0,end:j=0}=C.shapeArgs||{},O=C.angle||0;A>0&&R<D&&j>D&&O>D/2&&O<1.5*D&&(O=O<=D?Math.max(D/2,(R+D)/2):Math.min(1.5*D,(D+j)/2));let{center:V,options:U}=this,Y=V[2]/2,ne=Math.cos(O),K=Math.sin(O),Z=V[0]+ne*Y,ae=V[1]+K*Y,oe=Math.min((U.slicedOffset||0)+(U.borderWidth||0),A/5);return{natural:{x:Z+ne*A,y:ae+K*A},computed:{},alignment:A<0?"center":C.half?"right":"left",connectorPosition:{angle:O,breakAt:{x:Z+ne*oe,y:ae+K*oe},touchingSliceAt:{x:Z,y:ae}},distance:A}}function x(){var Ie;let C=this,A=C.points,D=C.chart,R=D.plotWidth,j=D.plotHeight,O=D.plotLeft,V=Math.round(D.chartWidth/3),U=C.center,Y=U[2]/2,ne=U[1],K=[[],[]],Z=[0,0,0,0],ae=C.dataLabelPositioners,oe,xe,ge,be=0;C.visible&&((Ie=C.hasDataLabels)!=null&&Ie.call(C))&&(A.forEach(we=>{(we.dataLabels||[]).forEach(De=>{De.shortened&&(De.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),De.shortened=!1)})}),$3.prototype.drawDataLabels.apply(C),A.forEach(we=>{(we.dataLabels||[]).forEach((De,Re)=>{var xt;let Ue=U[2]/2,Xe=De.options,at=q3((Xe==null?void 0:Xe.distance)||0,Ue);Re===0&&K[we.half].push(we),!X3((xt=Xe==null?void 0:Xe.style)==null?void 0:xt.width)&&De.getBBox().width>V&&(De.css({width:Math.round(.7*V)+"px"}),De.shortened=!0),De.dataLabelPosition=this.getDataLabelPosition(we,at),be=Math.max(be,at)})}),K.forEach((we,De)=>{let Re=we.length,Ue=[],Xe,at,xt=0,st;Re&&(C.sortByAngle(we,De-.5),be>0&&(Xe=Math.max(0,ne-Y-be),at=Math.min(ne+Y+be,D.plotHeight),we.forEach(gt=>{(gt.dataLabels||[]).forEach(pt=>{var Vt;let Pt=pt.dataLabelPosition;Pt&&Pt.distance>0&&(Pt.top=Math.max(0,ne-Y-Pt.distance),Pt.bottom=Math.min(ne+Y+Pt.distance,D.plotHeight),xt=pt.getBBox().height||21,pt.lineHeight=D.renderer.fontMetrics(pt.text||pt).h+2*pt.padding,gt.distributeBox={target:(((Vt=pt.dataLabelPosition)==null?void 0:Vt.natural.y)||0)-Pt.top+pt.lineHeight/2,size:xt,rank:gt.y},Ue.push(gt.distributeBox))})}),gse(Ue,st=at+xt-Xe,st/5)),we.forEach(gt=>{(gt.dataLabels||[]).forEach(pt=>{let Pt=pt.options||{},Vt=gt.distributeBox,Ar=pt.dataLabelPosition,Fr=(Ar==null?void 0:Ar.natural.y)||0,Un=Pt.connectorPadding||0,nr=pt.lineHeight||21,wr=(nr-pt.getBBox().height)/2,$t=0,Rt=Fr,an="inherit";if(Ar){if(Ue&&X3(Vt)&&Ar.distance>0&&(Vt.pos===void 0?an="hidden":(ge=Vt.size,Rt=ae.radialDistributionY(gt,pt))),Pt.justify)$t=ae.justify(gt,pt,Y,U);else switch(Pt.alignTo){case"connectors":$t=ae.alignToConnectors(we,De,R,O);break;case"plotEdges":$t=ae.alignToPlotEdges(pt,De,R,O);break;default:$t=ae.radialDistributionX(C,gt,Rt-wr,Fr,pt)}if(Ar.attribs={visibility:an,align:Ar.alignment},Ar.posAttribs={x:$t+(Pt.x||0)+({left:Un,right:-Un}[Ar.alignment]||0),y:Rt+(Pt.y||0)-nr/2},Ar.computed.x=$t,Ar.computed.y=Rt-wr,xse(Pt.crop,!0)){let Or;$t-(xe=pt.getBBox().width)<Un&&De===1?(Or=Math.round(xe-$t+Un),Z[3]=Math.max(Or,Z[3])):$t+xe>R-Un&&De===0&&(Or=Math.round($t+xe-R+Un),Z[1]=Math.max(Or,Z[1])),Rt-ge/2<0?Z[0]=Math.max(Math.round(-Rt+ge/2),Z[0]):Rt+ge/2>j&&(Z[2]=Math.max(Math.round(Rt+ge/2-j),Z[2])),Ar.sideOverflow=Or}}})}))}),(mse(Z)===0||this.verifyDataLabelOverflow(Z))&&(this.placeDataLabels(),this.points.forEach(we=>{var De;(De=we.dataLabels)==null||De.forEach((Re,Ue)=>{var st,gt;let{connectorColor:Xe,connectorWidth:at=1}=Re.options||{},xt=Re.dataLabelPosition;if(yse(at)){let pt;oe=Re.connector,xt&&xt.distance>0?(pt=!oe,oe||(Re.connector=oe=D.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+we.colorIndex+(we.className?" "+we.className:"")).add((st=C.dataLabelsGroups)==null?void 0:st[Ue])),D.styledMode||oe.attr({"stroke-width":at,stroke:Xe||we.color||"#666666"}),oe[pt?"attr":"animate"]({d:we.getConnectorPath(Re)}),oe.attr({visibility:(gt=xt.attribs)==null?void 0:gt.visibility})):oe&&(Re.connector=oe.destroy())}})})))}function _(){this.points.forEach(C=>{(C.dataLabels||[]).forEach(A=>{var R,j;let D=A.dataLabelPosition;D?(D.sideOverflow&&(A.css({width:Math.max(A.getBBox().width-D.sideOverflow,0)+"px",textOverflow:((j=(R=A.options)==null?void 0:R.style)==null?void 0:j.textOverflow)||"ellipsis"}),A.shortened=!0),A.attr(D.attribs),A[A.moved?"animate":"attr"](D.posAttribs),A.moved=!0):A&&A.attr({y:-9999})}),delete C.distributeBox},this)}function T(C){let A=this.center,D=this.options,R=D.center,j=D.minSize||80,O=j,V=D.size!==null;return!V&&(R[0]!==null?O=Math.max(A[2]-Math.max(C[1],C[3]),j):(O=Math.max(A[2]-C[1]-C[3],j),A[0]+=(C[3]-C[1])/2),R[1]!==null?O=Y3(O,j,A[2]-Math.max(C[0],C[2])):(O=Y3(O,j,A[2]-C[0]-C[2]),A[1]+=(C[0]-C[2])/2),O<A[2]?(A[2]=O,A[3]=Math.min(D.thickness?Math.max(0,O-2*D.thickness):Math.max(0,q3(D.innerSize||0,O)),O),this.translate(A),this.drawDataLabels&&this.drawDataLabels()):V=!0),V}P.compose=function(C){if(i1.compose($3),bse(pse,"PieDataLabel")){let A=C.prototype;A.dataLabelPositioners=p,A.alignDataLabel=vse,A.drawDataLabels=x,A.getDataLabelPosition=g,A.placeDataLabels=_,A.verifyDataLabelOverflow=T}}})(le||(le={}));let Sse=le;(y=ie||(ie={})).getCenterOfPoints=function(P){let p=P.reduce((g,x)=>(g.x+=x.x,g.y+=x.y,g),{x:0,y:0});return{x:p.x/P.length,y:p.y/P.length}},y.getDistanceBetweenPoints=function(P,p){return Math.sqrt(Math.pow(p.x-P.x,2)+Math.pow(p.y-P.y,2))},y.getAngleBetweenPoints=function(P,p){return Math.atan2(p.x-P.x,p.y-P.y)},y.pointInPolygon=function({x:P,y:p},g){let x=g.length,_,T,C=!1;for(_=0,T=x-1;_<x;T=_++){let[A,D]=g[_],[R,j]=g[T];D>p!=j>p&&P<(R-A)*(p-D)/(j-D)+A&&(C=!C)}return C};let{pointInPolygon:_se}=ie,{addEvent:wse,getAlignFactor:Tse,fireEvent:K3,objectEach:Z3,pick:Cse}=ke;function Q3(P,p){let g,x=!1;return P&&(g=P.newOpacity,P.oldOpacity!==g&&(P.hasClass("highcharts-data-label")?(P[g?"removeClass":"addClass"]("highcharts-data-label-hidden"),x=!0,P[P.isOld?"animate":"attr"]({opacity:g},void 0,function(){p.styledMode||P.css({pointerEvents:g?"auto":"none"})}),K3(p,"afterHideOverlappingLabel")):P.attr({opacity:g})),P.isOld=!0),x}let{defaultOptions:Ese}=Ma,{noop:J3}=J,{addEvent:e6,extend:Ase,isObject:t6,merge:kse,relativeLength:pC}=ke,Ise={radius:0,scope:"stack",where:void 0},r6=J3,n6=J3;function Dse(P,p,g,x,_={}){let T=r6(P,p,g,x,_),{brStart:C=!0,brEnd:A=!0,innerR:D=0,r:R=g,start:j=0,end:O=0}=_;if(_.open||!_.borderRadius)return T;let V=O-j,U=Math.sin(V/2),Y=Math.max(Math.min(pC(_.borderRadius||0,R-D),(R-D)/2,R*U/(1+U)),0),ne=Math.min(Y,V/Math.PI*2*D),K=T.length-1;for(;K--;)(C||K!==0&&K!==3)&&(A||K!==1&&K!==2)&&function(Z,ae,oe){let xe,ge,be,Ie=Z[ae],we=Z[ae+1];if(we[0]==="Z"&&(we=Z[0]),(Ie[0]==="M"||Ie[0]==="L")&&we[0]==="A"?(xe=Ie,ge=we,be=!0):Ie[0]==="A"&&(we[0]==="M"||we[0]==="L")&&(xe=we,ge=Ie),xe&&ge&&ge.params){let De=ge[1],Re=ge[5],Ue=ge.params,{start:Xe,end:at,cx:xt,cy:st}=Ue,gt=Re?De-oe:De+oe,pt=gt?Math.asin(oe/gt):0,Pt=Re?pt:-pt,Vt=Math.cos(pt)*gt;be?(Ue.start=Xe+Pt,xe[1]=xt+Vt*Math.cos(Xe),xe[2]=st+Vt*Math.sin(Xe),Z.splice(ae+1,0,["A",oe,oe,0,0,1,xt+De*Math.cos(Ue.start),st+De*Math.sin(Ue.start)])):(Ue.end=at-Pt,ge[6]=xt+De*Math.cos(Ue.end),ge[7]=st+De*Math.sin(Ue.end),Z.splice(ae+1,0,["A",oe,oe,0,0,1,xt+Vt*Math.cos(at),st+Vt*Math.sin(at)])),ge[4]=Math.abs(Ue.end-Ue.start)<Math.PI?0:1}}(T,K,K>1?ne:Y);return T}function Mse(){var P,p;if(this.options.borderRadius&&!(this.chart.is3d&&this.chart.is3d())){let{options:g,yAxis:x}=this,_=g.stacking==="percent",T=(p=(P=Ese.plotOptions)==null?void 0:P[this.type])==null?void 0:p.borderRadius,C=vC(g.borderRadius,t6(T)?T:{}),A=x.options.reversed;for(let D of this.points){let{shapeArgs:R}=D;if(D.shapeType==="roundedRect"&&R){let{width:j=0,height:O=0,y:V=0}=R,U=V,Y=O;if(C.scope==="stack"&&D.stackTotal){let ae=x.translate(_?100:D.stackTotal,!1,!0,!1,!0),oe=x.translate(g.threshold||0,!1,!0,!1,!0),xe=this.crispCol(0,Math.min(ae,oe),0,Math.abs(ae-oe));U=xe.y,Y=xe.height}let ne=(D.negative?-1:1)*(A?-1:1)==-1,K=C.where;!K&&this.is("waterfall")&&Math.abs((D.yBottom||0)-(this.translatedThreshold||0))>this.borderWidth&&(K="all"),K||(K="end");let Z=Math.min(pC(C.radius,j),j/2,K==="all"?O/2:1/0)||0;K==="end"&&(ne&&(U-=Z),Y+=Z),Ase(R,{brBoxHeight:Y,brBoxY:U,r:Z})}}}}function vC(P,p){return t6(P)||(P={radius:P||0}),kse(Ise,p,P)}function Lse(){let P=vC(this.options.borderRadius);for(let p of this.points){let g=p.shapeArgs;g&&(g.borderRadius=pC(P.radius,(g.r||0)-(g.innerR||0)))}}function Nse(P,p,g,x,_={}){let T=n6(P,p,g,x,_),{r:C=0,brBoxHeight:A=x,brBoxY:D=p}=_,R=p-D,j=D+A-(p+x),O=R-C>-.1?0:C,V=j-C>-.1?0:C,U=Math.max(O&&R,0),Y=Math.max(V&&j,0),ne=[P+O,p],K=[P+g-O,p],Z=[P+g,p+O],ae=[P+g,p+x-V],oe=[P+g-V,p+x],xe=[P+V,p+x],ge=[P,p+x-V],be=[P,p+O],Ie=(we,De)=>Math.sqrt(Math.pow(we,2)-Math.pow(De,2));if(U){let we=Ie(O,O-U);ne[0]-=we,K[0]+=we,Z[1]=be[1]=p+O-U}if(x<O-U){let we=Ie(O,O-U-x);Z[0]=ae[0]=P+g-O+we,oe[0]=Math.min(Z[0],oe[0]),xe[0]=Math.max(ae[0],xe[0]),ge[0]=be[0]=P+O-we,Z[1]=be[1]=p+x}if(Y){let we=Ie(V,V-Y);oe[0]+=we,xe[0]-=we,ae[1]=ge[1]=p+x-V+Y}if(x<V-Y){let we=Ie(V,V-Y-x);Z[0]=ae[0]=P+g-V+we,K[0]=Math.min(Z[0],K[0]),ne[0]=Math.max(ae[0],ne[0]),ge[0]=be[0]=P+V-we,ae[1]=ge[1]=p}return T.length=0,T.push(["M",...ne],["L",...K],["A",O,O,0,0,1,...Z],["L",...ae],["A",V,V,0,0,1,...oe],["L",...xe],["A",V,V,0,0,1,...ge],["L",...be],["A",O,O,0,0,1,...ne],["Z"]),T}let{diffObjects:Pse,extend:Rse,find:Ose,merge:Bse,pick:o1,uniqueKey:Fse}=ke;function zse(P,p){let g=P.condition;(g.callback||function(){return this.chartWidth<=o1(g.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=o1(g.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=o1(g.minWidth,0)&&this.chartHeight>=o1(g.minHeight,0)}).call(this)&&p.push(P._id)}function jse(P,p){let g=this.options.responsive,x=this.currentResponsive,_=[],T;!p&&g&&g.rules&&g.rules.forEach(D=>{D._id===void 0&&(D._id=Fse()),this.matchResponsiveRule(D,_)},this);let C=Bse(..._.map(D=>Ose((g==null?void 0:g.rules)||[],R=>R._id===D)).map(D=>D==null?void 0:D.chartOptions));C.isResponsiveOptions=!0,_=_.toString()||void 0;let A=x==null?void 0:x.ruleIds;_!==A&&(x&&(this.currentResponsive=void 0,this.updatingResponsive=!0,this.update(x.undoOptions,P,!0),this.updatingResponsive=!1),_?((T=Pse(C,this.options,!0,this.collectionsWithUpdate)).isResponsiveOptions=!0,this.currentResponsive={ruleIds:_,mergedOptions:C,undoOptions:T},this.updatingResponsive||this.update(C,P,!0)):this.currentResponsive=void 0)}(fe||(fe={})).compose=function(P){let p=P.prototype;return p.matchResponsiveRule||Rse(p,{matchResponsiveRule:zse,setResponsive:jse}),P};let Hse=fe;J.AST=Gr,J.Axis=wf,J.Chart=Wl,J.Color=Kr,J.DataLabel=i1,J.DataTableCore=Vy,J.Fx=Ii,J.HTMLElement=Sf,J.Legend=d3,J.LegendSymbol=QO,J.PlotLineOrBand=Oy,J.Point=Hl,J.Pointer=XO,J.RendererRegistry=iv,J.Series=da,J.SeriesRegistry=nn,J.StackItem=T3,J.SVGElement=qs,J.SVGRenderer=Cy,J.Templating=La,J.Tick=_f,J.Time=nT,J.Tooltip=UO,J.animate=Kn.animate,J.animObject=Kn.animObject,J.chart=Wl.chart,J.color=Kr.parse,J.dateFormat=La.dateFormat,J.defaultOptions=Ma.defaultOptions,J.distribute=my.distribute,J.format=La.format,J.getDeferredAnimation=Kn.getDeferredAnimation,J.getOptions=Ma.getOptions,J.numberFormat=La.numberFormat,J.seriesType=nn.seriesType,J.setAnimation=Kn.setAnimation,J.setOptions=Ma.setOptions,J.stop=Kn.stop,J.time=Ma.defaultTime,J.timers=Ii.timers,{compose:function(P,p,g){let x=P.types.pie;if(!p.symbolCustomAttribs.includes("borderRadius")){let _=g.prototype.symbols;e6(P,"afterColumnTranslate",Mse,{order:9}),e6(x,"afterTranslate",Lse),p.symbolCustomAttribs.push("borderRadius","brBoxHeight","brBoxY","brEnd","brStart"),r6=_.arc,n6=_.roundedRect,_.arc=Dse,_.roundedRect=Nse}},optionsToObject:vC}.compose(J.Series,J.SVGElement,J.SVGRenderer),qae.compose(J.Series.types.column),i1.compose(J.Series),Dne.compose(J.Axis),Sf.compose(J.SVGRenderer),d3.compose(J.Chart),Nne.compose(J.Axis),(o=(b=J.Chart).prototype).hideOverlappingLabels||(o.hideOverlappingLabels=function(P){let p=P.length,g=(j,O)=>!(O.x>=j.x+j.width||O.x+O.width<=j.x||O.y>=j.y+j.height||O.y+O.height<=j.y),x=(j,O)=>{for(let V of j)if(_se({x:V[0],y:V[1]},O))return!0;return!1},_,T,C,A,D,R=!1;for(let j=0;j<p;j++)(_=P[j])&&(_.oldOpacity=_.opacity,_.newOpacity=1,_.absoluteBox=function(O){var V,U;if(O&&(!O.alignAttr||O.placed)){let Y=O.box?0:O.padding||0,ne=O.alignAttr||{x:O.attr("x"),y:O.attr("y")},{height:K,polygon:Z,width:ae}=O.getBBox(),oe=Tse(O.alignValue)*ae;return O.width=ae,O.height=K,{x:ne.x+(((V=O.parentGroup)==null?void 0:V.translateX)||0)+Y-oe,y:ne.y+(((U=O.parentGroup)==null?void 0:U.translateY)||0)+Y,width:ae-2*Y,height:K-2*Y,polygon:Z}}}(_));P.sort((j,O)=>((O==null?void 0:O.labelrank)||0)-((j==null?void 0:j.labelrank)||0));for(let j=0;j<p;++j){A=(T=P[j])&&T.absoluteBox;let O=A==null?void 0:A.polygon;for(let V=j+1;V<p;++V){D=(C=P[V])&&C.absoluteBox;let U=!1;if(A&&D&&T!==C&&(T==null?void 0:T.newOpacity)!==0&&(C==null?void 0:C.newOpacity)!==0&&(T==null?void 0:T.visibility)!=="hidden"&&(C==null?void 0:C.visibility)!=="hidden"){let Y=D.polygon;if(O&&Y&&O!==Y?x(O,Y)&&(U=!0):g(A,D)&&(U=!0),U){let ne=(T==null?void 0:T.labelrank)<(C==null?void 0:C.labelrank)?T:C,K=ne==null?void 0:ne.text;ne&&(ne.newOpacity=0),K!=null&&K.element.querySelector("textPath")&&K.hide()}}}}for(let j of P)j&&Q3(j,this)&&(R=!0);R&&K3(this,"afterHideAllOverlappingLabels")},wse(b,"render",function(){var g;let P=this,p=[];for(let x of P.labelCollectors||[])p=p.concat(x());for(let x of P.yAxis||[])x.stacking&&x.options.stackLabels&&!x.options.stackLabels.allowOverlap&&Z3(x.stacking.stacks,_=>{Z3(_,T=>{T.label&&p.push(T.label)})});for(let x of P.series||[])if(x.visible&&((g=x.hasDataLabels)!=null&&g.call(x))){let _=T=>{for(let C of T)C.visible&&(C.dataLabels||[]).forEach(A=>{var R;let D=A.options||{};A.labelrank=Cse(D.labelrank,C.labelrank,(R=C.shapeArgs)==null?void 0:R.height),D.allowOverlap??Number(D.distance)>0?(A.oldOpacity=A.opacity,A.newOpacity=1,Q3(A,P)):p.push(A)})};_(x.nodes||[]),_(x.points)}this.hideOverlappingLabels(p)})),Sse.compose(J.Series.types.pie),Oy.compose(J.Chart,J.Axis),XO.compose(J.Chart),Hse.compose(J.Chart),vv.compose(J.Axis,J.Chart,J.Series),Aae.compose(J.Axis,J.Chart,J.Series),UO.compose(J.Pointer),ke.extend(J,ke);let Vse=J;return me.default})())})(Lte);var i9e=Lte.exports;const Hx=Ws(i9e);var Nte={exports:{}};(function(e,t){(function(r,n){e.exports=n(Q)})(typeof self<"u"?self:Ud,function(r){return function(n){function i(s){if(a[s])return a[s].exports;var o=a[s]={i:s,l:!1,exports:{}};return n[s].call(o.exports,o,o.exports,i),o.l=!0,o.exports}var a={};return i.m=n,i.c=a,i.d=function(s,o,l){i.o(s,o)||Object.defineProperty(s,o,{configurable:!1,enumerable:!0,get:l})},i.n=function(s){var o=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(o,"a",o),o},i.o=function(s,o){return Object.prototype.hasOwnProperty.call(s,o)},i.p="",i(i.s=0)}([function(n,i,a){function s(){return s=Object.assign?Object.assign.bind():function(S){for(var w=1;w<arguments.length;w++){var k=arguments[w];for(var M in k)Object.prototype.hasOwnProperty.call(k,M)&&(S[M]=k[M])}return S},s.apply(this,arguments)}function o(S){return h(S)||c(S)||u(S)||l()}function l(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u(S,w){if(S){if(typeof S=="string")return f(S,w);var k=Object.prototype.toString.call(S).slice(8,-1);return k==="Object"&&S.constructor&&(k=S.constructor.name),k==="Map"||k==="Set"?Array.from(S):k==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(k)?f(S,w):void 0}}function c(S){if(typeof Symbol<"u"&&S[Symbol.iterator]!=null||S["@@iterator"]!=null)return Array.from(S)}function h(S){if(Array.isArray(S))return f(S)}function f(S,w){(w==null||w>S.length)&&(w=S.length);for(var k=0,M=new Array(w);k<w;k++)M[k]=S[k];return M}function d(S){"@babel/helpers - typeof";return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(S)}Object.defineProperty(i,"__esModule",{value:!0}),a.d(i,"HighchartsReact",function(){return b});var v=a(1),m=a.n(v),y=typeof window<"u"?v.useLayoutEffect:v.useEffect,b=Object(v.memo)(Object(v.forwardRef)(function(S,w){var k=Object(v.useRef)(),M=Object(v.useRef)(),I=Object(v.useRef)(S.constructorType),L=Object(v.useRef)(S.highcharts);return y(function(){function N(){var B=S.highcharts||(typeof window>"u"?"undefined":d(window))==="object"&&window.Highcharts,H=S.constructorType||"chart";B?B[H]?S.options?M.current=B[H](k.current,S.options,S.callback):console.warn('The "options" property was not passed.'):console.warn('The "constructorType" property is incorrect or some required module is not imported.'):console.warn('The "highcharts" property was not passed.')}if(M.current){if(S.allowChartUpdate!==!1)if(S.constructorType!==I.current||S.highcharts!==L.current)I.current=S.constructorType,L.current=S.highcharts,N();else if(!S.immutable&&M.current){var z;(z=M.current).update.apply(z,[S.options].concat(o(S.updateArgs||[!0,!0])))}else N()}else N()},[S.options,S.allowChartUpdate,S.updateArgs,S.containerProps,S.highcharts,S.constructorType]),y(function(){return function(){M.current&&(M.current.destroy(),M.current=null)}},[]),Object(v.useImperativeHandle)(w,function(){return{get chart(){return M.current},container:k}},[]),m.a.createElement("div",s({},S.containerProps,{ref:k}))}));i.default=b},function(n,i){n.exports=r}])})})(Nte);var a9e=Nte.exports;const s9e=Ws(a9e),N7={"Line Chart":{title:{text:"Line Chart"},xAxis:{categories:[]},yAxis:{title:{text:"Value"}},series:[]},"Column Chart":{title:{text:"Column Chart"},xAxis:{categories:[]},yAxis:{title:{text:"Value"}},series:[]},"Bar Chart":{chart:{type:"bar"},title:{text:"Bar Chart"},xAxis:{categories:[]},yAxis:{title:{text:"Value"}},series:[]},"Pie Chart":{chart:{type:"pie"},title:{text:"Pie Chart"},series:[]},"Area Chart":{title:{text:"Area Chart"},xAxis:{categories:[]},yAxis:{title:{text:"Value"}},series:[]}},P7=(e,t="")=>{if(!e||!e.trim())return{};try{let r=t.trim(),n=e.trim();!n.startsWith("return")&&!n.startsWith("const")&&!n.startsWith("let")&&!n.startsWith("var")&&(n=`return (${n})`);const i=`${r}
${n}`;return new Function(i)()||{}}catch(r){throw r}},Vx=`// @bind:input(type='text')
const title = 'Chart Title';

// @bind:chart-data(displayTitle='Chart Data')
const chartData = {
  xAxis: {
    type: 'category',
    data: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun']
  },
  series: [
    {
      type: 'line',
      unit: 'pcs',
      name: 'Sales',
      yAxis: 0,
      data: [150, 230, 224, 218, 135, 147, 260]
    },
    {
      type: 'bar',
      unit: 'pcs',
      name: 'Revenue',
      yAxis: 1,
      data: [120, 200, 150, 80, 70, 110, 130]
    }
  ]
};`;class o9e extends Bt.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t.message}}componentDidCatch(t,r){console.error("Highcharts ErrorBoundary caught error:",t,r)}componentDidUpdate(t){t.resetKey!==this.props.resetKey&&this.setState({hasError:!1,error:null})}render(){return this.state.hasError?E.jsxs("div",{className:"text-danger text-center p-3 border rounded bg-light",children:[E.jsx("div",{className:"fw-bold mb-1",children:"Chart Render Error"}),E.jsx("small",{className:"text-muted",children:this.state.error})]}):this.props.children}}const R7=({options:e,containerProps:t,onError:r})=>{const[n,i]=Q.useState(null),a=Q.useRef(null);return Q.useEffect(()=>{const s=Hx.error;return Hx.error=function(o,l){const u=typeof o=="number"?`Highcharts error #${o}`:String(o);i(u),r&&r(u),console.warn("Highcharts error:",o)},()=>{Hx.error=s}},[r]),Q.useEffect(()=>{i(null)},[e]),n?E.jsxs("div",{className:"text-warning text-center p-3",children:[E.jsx("div",{className:"fw-bold mb-1",children:"Chart Error"}),E.jsx("small",{className:"text-muted",children:n})]}):E.jsx(o9e,{resetKey:e,children:E.jsx(s9e,{ref:a,highcharts:Hx,options:e,containerProps:t})})},l9e=({content:e,properties:t={},oldContent:r,isEditing:n,isPreview:i,isDiffMode:a,onUpdate:s,onUpdateProperties:o,onSave:l,onCancel:u,onEditStart:c})=>{const[h,f]=Q.useState(e),[d,v]=Q.useState((t==null?void 0:t.script)||Vx),[m,y]=Q.useState(!1),[b,S]=Q.useState(!1),[w,k]=Q.useState({}),[M,I]=Q.useState(null),[L,N]=Q.useState([]),[z,B]=Q.useState(50),[H,G]=Q.useState(35),[$,W]=Q.useState(null),X=Q.useRef(null),ee=Bt.useRef(null),le=Bt.useRef(null),ie=Bt.useRef(!1);Q.useEffect(()=>{if(n){f(e),v((t==null?void 0:t.script)||Vx);const ce=Qi((t==null?void 0:t.script)||Vx);N(ce)}},[n,e,t]),Q.useEffect(()=>()=>{le.current&&le.current.dispose()},[]),Q.useEffect(()=>{const ce=Ae=>{if($){if($==="horizontal"){const Ge=(window.innerWidth-Ae.clientX)/window.innerWidth*100;Ge>20&&Ge<70&&G(Ge)}else if($==="vertical"&&X.current){const Le=X.current.getBoundingClientRect(),Ge=Ae.clientY-Le.top,nt=Le.height-24,lt=Ge/nt*100;lt>10&&lt<90&&B(lt)}}},ve=()=>{W(null),document.documentElement.style.cursor=""};return $&&(window.addEventListener("mousemove",ce,{passive:!0}),window.addEventListener("mouseup",ve),document.documentElement.style.cursor=$==="horizontal"?"col-resize":"row-resize"),()=>{window.removeEventListener("mousemove",ce),window.removeEventListener("mouseup",ve),document.documentElement.style.cursor=""}},[$]),Q.useEffect(()=>{if(n){const ce=setTimeout(()=>{if(ie.current)ie.current=!1;else{const ve=Qi(d);N(ve)}try{const ve=P7(h||"{}",d);k(ve),I(null)}catch(ve){I(ve.message)}},600);return()=>clearTimeout(ce)}},[n,h,d]);const fe=(ce,ve)=>{ee.current=ce,le.current&&le.current.dispose(),le.current=ve.languages.registerCompletionItemProvider("javascript",{triggerCharacters:["@",":"],provideCompletionItems:(Ae,Le)=>{if(Ae!==ce.getModel())return{suggestions:[]};if(!Ae.getLineContent(Le.lineNumber).includes("//"))return{suggestions:[]};const nt=Ae.getValueInRange({startLineNumber:1,startColumn:1,endLineNumber:Le.lineNumber,endColumn:Le.column});let lt=0;for(let et=0;et<nt.length;et++)nt[et]==="{"&&lt++,nt[et]==="}"&&lt--;const He=lt>0,Ee=He?"  ":"",Ye=(et,ft)=>He?`${et}: ${ft}`:`const ${et} = ${ft};`;return{suggestions:[{label:"@bind:input-text",kind:ve.languages.CompletionItemKind.Snippet,insertText:`@bind:input(type='text', displayTitle='Label')
${Ee}${Ye("variable","'value'")}`,detail:"Text Input",documentation:"Creates a text input field. Place above the variable/property."},{label:"@bind:input-number",kind:ve.languages.CompletionItemKind.Snippet,insertText:`@bind:input(type='number', displayTitle='Label')
${Ee}${Ye("variable","0")}`,detail:"Number Input",documentation:"Creates a numeric input field."},{label:"@bind:checkbox",kind:ve.languages.CompletionItemKind.Snippet,insertText:`@bind:input(type='checkbox', displayTitle='Label')
${Ee}${Ye("variable","true")}`,detail:"Checkbox",documentation:"Creates a toggle switch."},{label:"@bind:range",kind:ve.languages.CompletionItemKind.Snippet,insertText:`@bind:input(type='range', min='0', max='100', step='1', displayTitle='Label')
${Ee}${Ye("variable","50")}`,detail:"Range Slider",documentation:"Creates a range slider."},{label:"@bind:color",kind:ve.languages.CompletionItemKind.Snippet,insertText:`@bind:input(type='color', displayTitle='Label')
${Ee}${Ye("variable","'#ff0000'")}`,detail:"Color Picker",documentation:"Creates a color picker."},{label:"@bind:select",kind:ve.languages.CompletionItemKind.Snippet,insertText:`@bind:select(options='Label 1:val1,Label 2:val2', displayTitle='Label')
${Ee}${Ye("variable","'val1'")}`,detail:"Dropdown Select",documentation:"Creates a dropdown menu."},{label:"@bind:date",kind:ve.languages.CompletionItemKind.Snippet,insertText:`@bind:input(type='date', displayTitle='Label')
${Ee}${Ye("variable","'2024-01-01'")}`,detail:"Date Picker",documentation:"Creates a date picker."},{label:"@bind:textarea",kind:ve.languages.CompletionItemKind.Snippet,insertText:`@bind:textarea(rows='3', displayTitle='Label')
${Ee}${Ye("variable","''")}`,detail:"Text Area",documentation:"Creates a multi-line text area."},{label:"@bind:radio",kind:ve.languages.CompletionItemKind.Snippet,insertText:`@bind:input(type='radio', options='Label 1:val1,Label 2:val2', displayTitle='Label')
${Ee}${Ye("variable","'val1'")}`,detail:"Radio Group",documentation:"Creates a group of radio buttons."},{label:"@bind:collection",kind:ve.languages.CompletionItemKind.Snippet,insertText:`@bind:collection(displayTitle='Items', itemType='marker')
${Ee}${Ye("items","[{ lat: 0, lng: 0 }]")}`,detail:"Collection",documentation:"Creates a dynamic list of objects."},{label:"@bind:table",kind:ve.languages.CompletionItemKind.Snippet,insertText:`@bind:table(displayTitle='Data')
${Ee}${Ye("data",`[
${Ee}  { label: 'A', value: 10 },
${Ee}  { label: 'B', value: 20 }
${Ee}]`)}`,detail:"Table",documentation:'Creates an editable table. Attributes: readonly="c1,c2", noRowOperations="true".'},{label:"@bind:chart-data",kind:ve.languages.CompletionItemKind.Snippet,insertText:`@bind:chart-data(displayTitle='Data')
${Ee}${Ye("chartData",`{
${Ee}  xAxis: {
${Ee}    type: 'category',
${Ee}    data: ['Mon', 'Tue']
${Ee}  },
${Ee}  series: [
${Ee}    {
${Ee}      type: 'line',
${Ee}      unit: '',
${Ee}      name: 'Series 1',
${Ee}      yAxis: 0,
${Ee}      data: [10, 20]
${Ee}    }
${Ee}  ]
${Ee}}`)}`,detail:"Chart Data",documentation:"Binds a chart data object to the editable table."},{label:"@template",kind:ve.languages.CompletionItemKind.Snippet,insertText:`@template:name
const templateName = {
  // @bind:input(type='text', displayTitle='Label')
  key: 'value'
};`,detail:"Template Definition",documentation:"Defines a reusable schema for collection items using an annotated object."}]}}})},re=ce=>{const ve=`(${JSON.stringify(N7[ce],null,2)})`;f(ve),y(!1)},me=()=>{const ce={...t,script:d};l?l({content:h,properties:ce}):(o&&o(ce),s(h))},J=ce=>ce?ce.split(",").map(ve=>{const[Ae,Le]=ve.split(":").map(Ge=>Ge.trim());return{label:Ae,value:Le!==void 0?Le:Ae}}):[],te=(ce,ve)=>{if(!ee.current)return;let Ae=ve;typeof ce.value=="number"?(Ae=Number(ve),isNaN(Ae)&&(Ae=ce.value)):typeof ce.value=="boolean"?Ae=!!ve:Ae=String(ve);let Le;typeof Ae=="string"?Le=JSON.stringify(Ae):Le=String(Ae);const Ge=ee.current.getModel();if(!Ge)return;const nt=Ge.getPositionAt(ce.range[0]),lt=Ge.getPositionAt(ce.range[1]),He={startLineNumber:nt.lineNumber,startColumn:nt.column,endLineNumber:lt.lineNumber,endColumn:lt.column};ie.current=!0,ee.current.executeEdits("form-update",[{range:He,text:Le,forceMoveMarkers:!0}]);const Ee=Ge.getValue(),Ye=Qi(Ee);N(Ye)},ue=(ce,ve)=>{if(!ee.current)return;const Ae=ee.current.getModel();if(!Ae)return;let Le=JSON.stringify(ve,null,2);if(ce.element==="chart-data")if(ve&&ve.xAxis&&Array.isArray(ve.xAxis.data)){const Ee=JSON.stringify(ve.xAxis.data),Ye=(ve.series||[]).map(ut=>{const et=JSON.stringify(ut.data);return`{
      type: '${ut.type??"line"}',
      unit: '${ut.unit||""}',
      name: '${ut.name||""}',
      yAxis: ${ut.yAxis||0},
      data: ${et}
    }`});Le=`{
  xAxis: {
    type: '${ve.xAxis.type??"category"}',
    ${ve.xAxis.name?`name: '${ve.xAxis.name}',
    `:""}data: ${Ee}
  },
  series: [
    ${Ye.join(`,
    `)}
  ]
}`}else Array.isArray(ve)&&Array.isArray(ve[0])&&(Le=`[
  ${ve.map(Ye=>JSON.stringify(Ye)).join(`,
  `)}
]`);const Ge=Ae.getPositionAt(ce.range[0]),nt=Ae.getPositionAt(ce.range[1]);ie.current=!0,ee.current.executeEdits("var-update",[{range:{startLineNumber:Ge.lineNumber,startColumn:Ge.column,endLineNumber:nt.lineNumber,endColumn:nt.column},text:Le,forceMoveMarkers:!0}]);const lt=Ae.getValue(),He=Qi(lt);N(He)},pe=ce=>{var Ye;if(!ee.current||!ce.isCollection)return;const ve=ee.current.getModel();if(!ve)return;let Ae="{}";if(ce.templateSchema)Ae=`{
${Object.entries(ce.templateSchema).map(([et,ft])=>{let Ce="''";return ft.attributes.type==="number"&&(Ce="0"),ft.attributes.type==="checkbox"&&(Ce="false"),`  ${et}: ${Ce}`}).join(`,
`)}
}`;else if(ce.children&&ce.children.length>0){const ut=ce.children[0];ut.children&&(Ae=`{
${ut.children.map(ft=>{let Ce="''";ft.attributes.type==="number"&&(Ce="0"),ft.attributes.type==="checkbox"&&(Ce="false");let ke="";return ft.element==="input"?ke=`// @bind:input(${Object.entries(ft.attributes).map(([qe,dt])=>`${qe}='${dt}'`).join(", ")})`:ft.element==="select"?ke=`// @bind:select(${Object.entries(ft.attributes).map(([qe,dt])=>`${qe}='${dt}'`).join(", ")})`:ft.element==="textarea"&&(ke=`// @bind:textarea(${Object.entries(ft.attributes).map(([qe,dt])=>`${qe}='${dt}'`).join(", ")})`),`  ${ke}
  ${ft.name}: ${Ce}`}).join(`,
`)}
}`)}else Ae=`{
  // @bind:input(type='text')
  label: 'New Item',
  // @bind:input(type='number')
  value: 0
}`;const Le=ve.getPositionAt(ce.range[1]-1),Ge=((Ye=ce.children)==null?void 0:Ye.length)===0,nt=Ae.split(`
`).map((ut,et)=>et===0?ut:"  "+ut).join(`
`),lt=Ge?nt:`,
  ${nt}`;ie.current=!0,ee.current.executeEdits("collection-add",[{range:{startLineNumber:Le.lineNumber,startColumn:Le.column,endLineNumber:Le.lineNumber,endColumn:Le.column},text:lt,forceMoveMarkers:!0}]);const He=ve.getValue(),Ee=Qi(He);N(Ee)},Se=(ce,ve,Ae)=>{if(!ee.current)return;const Le=ee.current.getModel();if(!Le)return;let Ge=ce.range[0],nt=ce.range[1];if(Le.getValueInRange({startLineNumber:Le.getPositionAt(nt).lineNumber,startColumn:Le.getPositionAt(nt).column,endLineNumber:Le.getPositionAt(nt).lineNumber,endColumn:Le.getPositionAt(nt+1).column})===",")nt+=1;else if(ve>0){const et={startLineNumber:Le.getPositionAt(Ge-1).lineNumber,startColumn:Le.getPositionAt(Ge-1).column,endLineNumber:Le.getPositionAt(Ge).lineNumber,endColumn:Le.getPositionAt(Ge).column};Le.getValueInRange(et)===","&&(Ge-=1)}const He=Le.getPositionAt(Ge),Ee=Le.getPositionAt(nt);ie.current=!0,ee.current.executeEdits("collection-delete",[{range:{startLineNumber:He.lineNumber,startColumn:He.column,endLineNumber:Ee.lineNumber,endColumn:Ee.column},text:"",forceMoveMarkers:!0}]);const Ye=Le.getValue(),ut=Qi(Ye);N(ut)},je=ce=>ce.element==="select"?E.jsx(Tt.Select,{size:"sm",value:String(ce.value),onChange:ve=>te(ce,ve.target.value),...ce.attributes,children:ce.attributes.options?J(ce.attributes.options).map(ve=>E.jsx("option",{value:ve.value,children:ve.label},ve.value)):E.jsx("option",{value:String(ce.value),children:String(ce.value)})}):ce.attributes.type==="checkbox"?E.jsx(Tt.Check,{type:"switch",checked:!!ce.value,onChange:ve=>te(ce,ve.target.checked),...ce.attributes}):ce.attributes.type==="radio"?E.jsx("div",{children:ce.attributes.options?J(ce.attributes.options).map(ve=>E.jsx(Tt.Check,{type:"radio",id:`${ce.path}-${ve.value}`,label:ve.label,name:ce.path,value:ve.value,checked:String(ce.value)===String(ve.value),onChange:Ae=>te(ce,Ae.target.value),inline:!0},ve.value)):E.jsx("div",{className:"text-danger small",children:"Radio requires options"})}):ce.attributes.type==="range"?E.jsxs("div",{className:"d-flex align-items-center gap-2",children:[E.jsx(Tt.Range,{value:Number(ce.value),onChange:ve=>te(ce,ve.target.value),...ce.attributes}),E.jsx("span",{className:"small text-muted",children:ce.value})]}):ce.element==="textarea"?E.jsx(Tt.Control,{as:"textarea",size:"sm",rows:3,value:String(ce.value),onChange:ve=>te(ce,ve.target.value),...ce.attributes}):E.jsx(Tt.Control,{size:"sm",value:String(ce.value),onChange:ve=>te(ce,ce.attributes.type==="number"?Number(ve.target.value):ve.target.value),...ce.attributes,type:ce.attributes.type||"text"}),Pe=()=>L.length===0?E.jsxs("div",{className:"p-3 text-muted small text-center",children:["No bound variables found.",E.jsx("br",{}),"Use ",E.jsx("code",{children:"// @bind:input(type='text')"})," to create inputs."]}):E.jsxs("div",{className:"p-3",children:[E.jsx("h6",{className:"mb-3 border-bottom pb-2",children:"Properties"}),E.jsx(Tt,{children:L.filter(ce=>ce.element!=="chart-data").map((ce,ve)=>{var Ae;return ce.element==="table"?E.jsx(h_,{variable:ce,onUpdate:Le=>ue(ce,Le)},`${ce.name}-${ve}`):ce.isCollection?E.jsxs("div",{className:"mb-4",children:[E.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[E.jsx(Tt.Label,{className:"small fw-bold text-muted mb-0",children:ce.attributes.displayTitle||ce.name}),E.jsxs(We,{size:"sm",variant:"outline-success",onClick:()=>pe(ce),style:{padding:"0px 4px",fontSize:"10px"},children:[E.jsx(sl,{size:12})," Add"]})]}),E.jsx("div",{className:"border rounded bg-white overflow-hidden",children:E.jsx($h,{size:"sm",hover:!0,className:"mb-0 small",style:{tableLayout:"fixed"},children:E.jsxs("tbody",{children:[(Ae=ce.children)==null?void 0:Ae.map((Le,Ge)=>{var nt;return E.jsxs("tr",{children:[E.jsx("td",{className:"p-2",children:(nt=Le.children)==null?void 0:nt.map((lt,He)=>E.jsx(Tt.Group,{className:"mb-1",children:E.jsxs("div",{className:"d-flex align-items-center gap-2",children:[E.jsxs("label",{className:"text-muted",style:{width:"60px",fontSize:"0.75rem"},children:[lt.attributes.displayTitle||lt.name,":"]}),E.jsx("div",{className:"flex-grow-1",children:je(lt)})]})},He))}),E.jsx("td",{style:{width:"30px",verticalAlign:"middle"},className:"text-center p-0",children:E.jsx(We,{variant:"link",className:"text-danger p-0",onClick:()=>Se(Le,Ge),children:E.jsx(Ri,{size:14})})})]},Ge)}),(!ce.children||ce.children.length===0)&&E.jsx("tr",{children:E.jsx("td",{colSpan:2,className:"text-center text-muted p-2",children:"Empty collection"})})]})})})]},`${ce.name}-${ve}`):E.jsxs(Tt.Group,{className:"mb-3",children:[E.jsx(Tt.Label,{className:"small fw-bold text-muted mb-1",children:ce.attributes.displayTitle||ce.name}),je(ce)]},`${ce.name}-${ve}`)})})]}),Te=ce=>{ce.value&&ce.value.xAxis?ue(ce,{...ce.value,xAxis:{...ce.value.xAxis,data:[]},series:[]}):ue(ce,[])},Ve=(ce,ve)=>{var nt;const Ae=ce.value;let Le=[];if(Ae.xAxis&&Array.isArray(Ae.xAxis.data)){const lt=[((nt=Ae.xAxis)==null?void 0:nt.name)||""];(Ae.series||[]).forEach(Ee=>lt.push(Ee.name||"")),Le.push(lt);const He=Ae.xAxis.data.length;for(let Ee=0;Ee<He;Ee++){const Ye=[Ae.xAxis.data[Ee]];(Ae.series||[]).forEach(ut=>{var et;return Ye.push(((et=ut.data)==null?void 0:et[Ee])??"")}),Le.push(Ye)}}else Array.isArray(Ae)&&(Le=Ae);if(Le.length>0&&Array.isArray(Le[0])){const lt=Le[0].map((He,Ee)=>Le.map(Ye=>Ye[Ee]));ve(lt)}},ze=()=>{var nt,lt;const ce=L.filter(He=>He.element==="chart-data");if(ce.length>0){const He=ce[0],Ee=He.value||{};let Ye=[];const ut=Ee.xAxis&&Array.isArray(Ee.xAxis.data);if(ut){if((Ee.series||[]).some(kt=>kt.name)||((nt=Ee.xAxis)==null?void 0:nt.name)){const kt=[((lt=Ee.xAxis)==null?void 0:lt.name)||""];(Ee.series||[]).forEach(mt=>kt.push(mt.name||"")),Ye.push(kt)}const dt=Ee.xAxis.data.length;for(let kt=0;kt<dt;kt++){const mt=[Ee.xAxis.data[kt]];(Ee.series||[]).forEach(cr=>{var br;return mt.push(((br=cr==null?void 0:cr.data)==null?void 0:br[kt])??"")}),Ye.push(mt)}}else Ye=Array.isArray(Ee)?Ee:[];const et=qe=>{var dt;if(ut){if(qe.length===0){ue(He,{...Ee,xAxis:{...Ee.xAxis,data:[]},series:[]});return}const kt=qe.length>0&&qe[0].some((Dr,kn)=>kn>0&&typeof Dr=="string"&&Dr.trim()!==""&&isNaN(Number(Dr))),mt=kt?qe.slice(1):qe,cr=kt?qe[0]:null,br=mt.map(Dr=>Dr[0]),Ht=((dt=qe[0])==null?void 0:dt.length)||0,pn=Math.max(0,Ht-1),jr=[];for(let Dr=0;Dr<pn;Dr++){const kn=(Ee.series||[])[Dr]||{};jr.push({type:kn.type||"line",unit:kn.unit||"",yAxis:kn.yAxis||0,name:kt?String(cr[Dr+1]):kn.name||`Series ${Dr+1}`,data:mt.map(vc=>vc[Dr+1]??null)})}const Pr={...Ee.xAxis,data:br};kt&&(Pr.name=String(cr[0]||"")),ue(He,{...Ee,xAxis:Pr,series:jr})}else ue(He,qe)},ft=qe=>{const dt=Ye.map(kt=>{if(Array.isArray(kt)){const mt=[...kt];return mt.splice(qe,1),mt}return kt});et(dt)},Ce=()=>{const qe=Ye.length>0?Ye.map(dt=>[...Array.isArray(dt)?dt:[],""]):[["",""]];et(qe)},ke=qe=>{var dt,kt;if(!ut)return null;if(qe===0)return E.jsxs("div",{className:"d-flex flex-column gap-1",children:[E.jsx("div",{style:{height:"18px"}}),E.jsx(Tt.Control,{list:"hc-xaxis-types",size:"sm",style:{fontSize:"0.7rem",padding:"0 4px",height:"24px"},value:((dt=Ee.xAxis)==null?void 0:dt.type)||"",onChange:mt=>ue(He,{...Ee,xAxis:{...Ee.xAxis||{},type:mt.target.value}})}),E.jsxs("datalist",{id:"hc-xaxis-types",children:[E.jsx("option",{value:"category"}),E.jsx("option",{value:"time"})]})]});{const mt=qe-1,cr=((kt=Ee.series)==null?void 0:kt[mt])||{};return E.jsxs("div",{className:"d-flex flex-column gap-1",children:[E.jsxs("div",{className:"d-flex justify-content-between align-items-center",style:{height:"18px"},children:[E.jsxs(Tt.Select,{size:"sm",style:{fontSize:"0.65rem",padding:"0 2px",width:"auto",border:"none",background:"transparent"},value:cr.yAxis||0,onChange:br=>{const Ht=[...Ee.series||[]];Ht[mt]||(Ht[mt]={}),Ht[mt]={...Ht[mt],yAxis:Number(br.target.value)},ue(He,{...Ee,series:Ht})},children:[E.jsx("option",{value:0,children:"L Axis"}),E.jsx("option",{value:1,children:"R Axis"})]}),E.jsx(We,{variant:"link",className:"text-danger p-0 shadow-none",onClick:()=>ft(qe),style:{opacity:.5},children:E.jsx(Ri,{size:12})})]}),E.jsx(Tt.Control,{list:`hc-series-types-${mt}`,size:"sm",style:{fontSize:"0.7rem",padding:"0 4px",height:"24px"},value:cr.type||"",onChange:br=>{const Ht=[...Ee.series||[]];Ht[mt]||(Ht[mt]={}),Ht[mt]={...Ht[mt],type:br.target.value},ue(He,{...Ee,series:Ht})}}),E.jsxs("datalist",{id:`hc-series-types-${mt}`,children:[E.jsx("option",{value:"line"}),E.jsx("option",{value:"column"}),E.jsx("option",{value:"bar"}),E.jsx("option",{value:"area"}),E.jsx("option",{value:"scatter"}),E.jsx("option",{value:"pie"})]}),E.jsx(Tt.Control,{size:"sm",placeholder:"Unit",style:{fontSize:"0.7rem",padding:"0 4px",height:"24px"},value:cr.unit||"",onChange:br=>{const Ht=[...Ee.series||[]];Ht[mt]||(Ht[mt]={}),Ht[mt]={...Ht[mt],unit:br.target.value},ue(He,{...Ee,series:Ht})}})]})}},ht={...He,value:Ye};return E.jsx("div",{className:"p-3 bg-light h-100 overflow-auto border-top",children:E.jsx(h_,{variable:ht,onUpdate:et,onTranspose:()=>Ve(He,et),onRemove:()=>Te(He),onColumnDelete:ut?ft:void 0,onColumnAdd:ut?Ce:void 0,renderHeaderCell:ke})})}const ve=He=>{const Ee=et=>{const ft=[];let Ce="",ke=!1;for(let ht=0;ht<et.length;ht++){const qe=et[ht],dt=et[ht+1];qe==='"'?ke&&dt==='"'?(Ce+='"',ht++):ke=!ke:(qe===","||qe==="	")&&!ke?(ft.push(Ce.trim()),Ce=""):Ce+=qe}return ft.push(Ce.trim()),ft},ut=He.split(/\r?\n/).filter(et=>et.trim()!=="").map(et=>Ee(et).map(ft=>!isNaN(Number(ft))&&ft!==""?Number(ft):ft));if(ut.length>0&&ee.current){const et=ee.current.getModel(),ft=et.getLineCount(),Ce=ut[0].some((jr,Pr)=>Pr>0&&typeof jr=="string"&&jr.trim()!==""&&isNaN(Number(jr))),ke=Ce?ut.slice(1):ut,ht=Ce?ut[0]:null,qe=ke.map(jr=>jr[0]),dt=JSON.stringify(qe),kt=Ce&&ht&&ht[0]?String(ht[0]):"",mt=ut[0].length,cr=[];for(let jr=1;jr<mt;jr++){const Pr=ke.map(vc=>vc[jr]),Dr=JSON.stringify(Pr),kn=Ce&&ht?String(ht[jr]):`Series ${jr}`;cr.push(`{
      type: 'line',
      unit: '',
      name: '${kn}',
      yAxis: 0,
      data: ${Dr}
    }`)}const br=`
// @bind:chart-data(displayTitle='Data')
const chartData = {
  xAxis: {
    type: 'category',
    ${kt?`name: '${kt}',
    `:""}data: ${dt}
  },
  series: [
    ${cr.join(`,
    `)}
  ]
};
`;ee.current.executeEdits("create-data",[{range:{startLineNumber:ft+1,startColumn:1,endLineNumber:ft+1,endColumn:1},text:br,forceMoveMarkers:!0}]);const Ht=et.getValue(),pn=Qi(Ht);N(pn)}},Ae=He=>{const Ee=He.clipboardData.getData("text");Ee&&ve(Ee)},Le=He=>{He.preventDefault();const Ee=He.dataTransfer.files[0];if(Ee){const Ye=new FileReader;Ye.onload=ut=>{var et;(et=ut.target)!=null&&et.result&&ve(ut.target.result)},Ye.readAsText(Ee)}},Ge=He=>{var Ye;const Ee=(Ye=He.target.files)==null?void 0:Ye[0];if(Ee){const ut=new FileReader;ut.onload=et=>{var ft;(ft=et.target)!=null&&ft.result&&ve(et.target.result)},ut.readAsText(Ee)}};return E.jsx("div",{className:"d-flex flex-column align-items-center justify-content-center h-100 bg-light text-muted p-4",onPaste:Ae,onDrop:Le,onDragOver:He=>He.preventDefault(),tabIndex:0,style:{outline:"none"},children:E.jsxs("div",{className:"mb-3 text-center",children:[E.jsx("p",{className:"mb-2 fw-bold",children:"No Data Source"}),E.jsx("p",{className:"small mb-3",children:"Paste Excel/CSV data or drop a file here to auto-create a binding."}),E.jsxs(We,{variant:"outline-primary",size:"sm",onClick:()=>{var He;return(He=document.getElementById("create-data-upload-hc"))==null?void 0:He.click()},children:[E.jsx(HL,{size:14,className:"me-1"})," Upload CSV"]}),E.jsx("input",{id:"create-data-upload-hc",type:"file",accept:".csv,.tsv,text/plain",style:{display:"none"},onChange:Ge})]})})};if(n)return E.jsxs(bt,{show:!0,fullscreen:!0,onHide:u,animation:!1,children:[E.jsxs(bt.Header,{children:[E.jsxs(bt.Title,{className:"d-flex align-items-center gap-2",children:[E.jsx(Bu,{size:20}),E.jsx("span",{children:"Highcharts Editor"})]}),E.jsxs("div",{className:"d-flex gap-2 ms-4",children:[E.jsx(We,{variant:"outline-secondary",onClick:u,children:"Cancel"}),E.jsx(We,{variant:"primary",onClick:me,children:"Save & Close"})]}),E.jsxs(We,{variant:"outline-primary",className:"ms-auto",onClick:()=>y(!0),children:[E.jsx(ZW,{size:16,className:"me-1"})," Templates"]})]}),E.jsxs(bt.Body,{className:"p-2 d-flex gap-2 position-relative bg-light",style:{height:"calc(100vh - 60px)",userSelect:$?"none":"auto"},children:[E.jsx("div",{className:"bg-white border rounded shadow-sm overflow-auto",style:{width:"25%",minWidth:"200px"},children:Pe()}),E.jsxs("div",{className:"d-flex flex-column bg-white border rounded shadow-sm",style:{width:`calc(75% - ${H}% - 16px)`,minWidth:0,overflow:"hidden",flexShrink:0},children:[E.jsxs("div",{className:"flex-grow-1 p-3 position-relative border-bottom",style:{height:"50%",minHeight:"300px"},children:[E.jsx("div",{className:"position-absolute top-0 start-0 m-2 text-muted small user-select-none opacity-50",children:"Preview"}),M&&E.jsxs("div",{className:"position-absolute top-0 end-0 m-2 alert alert-danger py-1 px-2 small shadow-sm",style:{zIndex:10},children:["Syntax Error: ",M]}),E.jsx("div",{className:"h-100 d-flex align-items-center justify-content-center",children:E.jsx(R7,{options:w,containerProps:{style:{width:"100%",height:"100%"}}})})]}),E.jsx("div",{className:"flex-grow-1 overflow-auto",style:{height:"50%"},children:ze()})]}),E.jsx("div",{onMouseDown:ce=>{ce.preventDefault(),W("horizontal")},className:"d-flex align-items-center justify-content-center",style:{width:"4px",margin:"0 -2px",cursor:"col-resize",zIndex:10,userSelect:"none"},children:E.jsx("div",{style:{width:"2px",height:"40px",borderRadius:"1px",background:$==="horizontal"?"#0d6efd":"#dee2e6",transition:"background-color 0.2s"}})}),E.jsxs("div",{ref:X,className:"d-flex flex-column bg-dark border border-secondary rounded shadow-sm overflow-hidden",style:{width:`${H}%`,minWidth:"200px"},children:[E.jsxs("div",{style:{height:`calc(${z}% - 12px)`},className:"d-flex flex-column",children:[E.jsxs("div",{className:"bg-secondary text-white px-2 py-1 small d-flex justify-content-between align-items-center",children:[E.jsx("span",{children:"Variables"}),E.jsx(We,{variant:"link",className:"text-white p-0",size:"sm",onClick:()=>S(!0),title:"Syntax Help",children:E.jsx(XW,{size:14})})]}),E.jsx(op,{height:"calc(100% - 25px)",defaultLanguage:"javascript",theme:"vs-dark",value:d,onChange:ce=>v(ce||""),onMount:fe,options:{minimap:{enabled:!1},fontSize:12,lineNumbers:"off",scrollBeyondLastLine:!1,automaticLayout:!0,readOnly:!1,padding:{top:5,bottom:5}}})]}),E.jsx("div",{onMouseDown:ce=>{ce.preventDefault(),W("vertical")},className:"d-flex align-items-center justify-content-center bg-dark border-top border-bottom border-secondary",style:{cursor:"row-resize",height:"24px",zIndex:10,userSelect:"none"},children:E.jsx("div",{style:{width:"40px",height:"4px",borderRadius:"2px",background:$==="vertical"?"#0d6efd":"#495057",transition:"background-color 0.2s"}})}),E.jsxs("div",{style:{height:`calc(${100-z}% - 12px)`},className:"d-flex flex-column",children:[E.jsx("div",{className:"bg-secondary text-white px-2 py-1 small",children:E.jsx("span",{children:"Chart Config (Highcharts)"})}),E.jsx(op,{height:"calc(100% - 25px)",defaultLanguage:"javascript",theme:"vs-dark",value:String(h||""),onChange:ce=>f(ce),options:{minimap:{enabled:!1},fontSize:13,lineNumbers:"on",scrollBeyondLastLine:!1,automaticLayout:!0,tabSize:2,padding:{top:10,bottom:10}}})]})]}),!!$&&E.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:1e4,cursor:$==="horizontal"?"col-resize":"row-resize",background:"transparent"}})]}),E.jsxs(bt,{show:m,onHide:()=>y(!1),size:"lg",centered:!0,children:[E.jsx(bt.Header,{closeButton:!0,children:E.jsx(bt.Title,{children:"Highcharts Gallery"})}),E.jsx(bt.Body,{children:E.jsx("div",{className:"d-flex flex-wrap gap-3 justify-content-center",children:Object.keys(N7).map(ce=>E.jsx(Vr,{className:"border hover-shadow",style:{width:"200px",cursor:"pointer"},onClick:()=>re(ce),children:E.jsxs(Vr.Body,{className:"text-center",children:[E.jsx(Bu,{size:32,className:"text-primary mb-2"}),E.jsx("div",{className:"fw-bold",children:ce})]})},ce))})})]}),E.jsxs(bt,{show:b,onHide:()=>S(!1),size:"lg",centered:!0,children:[E.jsx(bt.Header,{closeButton:!0,children:E.jsx(bt.Title,{children:"Variable Binding Help"})}),E.jsxs(bt.Body,{children:[E.jsxs("p",{className:"small text-muted",children:["Bind JavaScript variables to form controls using ",E.jsx("strong",{children:"trailing comments"})," or ",E.jsx("strong",{children:"comments on the line above"}),". The value in the code will automatically update when the form control changes, and vice-versa."]}),E.jsxs("div",{className:"alert alert-info py-2 small",children:[E.jsx("strong",{children:"Note:"})," Use ",E.jsx("code",{children:"displayTitle='Label'"})," in any binding to show a custom label in the form."]}),E.jsxs($h,{bordered:!0,hover:!0,size:"sm",className:"small",children:[E.jsx("thead",{className:"table-light",children:E.jsxs("tr",{children:[E.jsx("th",{children:"Control Type"}),E.jsx("th",{children:"Syntax Example"}),E.jsx("th",{children:"Description"})]})}),E.jsxs("tbody",{children:[E.jsxs("tr",{children:[E.jsx("td",{children:"Text Input"}),E.jsx("td",{children:E.jsxs("code",{children:["// @bind:input(type='text')",E.jsx("br",{}),"const name = 'John'"]})}),E.jsx("td",{children:"Standard text input field."})]}),E.jsxs("tr",{children:[E.jsx("td",{children:"Number Input"}),E.jsx("td",{children:E.jsxs("code",{children:["// @bind:input(type='number')",E.jsx("br",{}),"const age = 25"]})}),E.jsx("td",{children:"Input for numeric values."})]}),E.jsxs("tr",{children:[E.jsx("td",{children:"Checkbox"}),E.jsx("td",{children:E.jsxs("code",{children:["// @bind:input(type='checkbox')",E.jsx("br",{}),"const show = true"]})}),E.jsx("td",{children:"Toggle switch for boolean values."})]}),E.jsxs("tr",{children:[E.jsx("td",{children:"Range Slider"}),E.jsx("td",{children:E.jsxs("code",{children:["// @bind:input(type='range', min='0', max='100')",E.jsx("br",{}),"const opacity = 50"]})}),E.jsx("td",{children:"Slider for selecting a value within a range."})]}),E.jsxs("tr",{children:[E.jsx("td",{children:"Color Picker"}),E.jsx("td",{children:E.jsxs("code",{children:["// @bind:input(type='color')",E.jsx("br",{}),"const color = '#ff0000'"]})}),E.jsx("td",{children:"Color selection input."})]}),E.jsxs("tr",{children:[E.jsx("td",{children:"Dropdown"}),E.jsx("td",{children:E.jsxs("code",{children:["// @bind:select(options='S:small,M:medium,L:large')",E.jsx("br",{}),"const size = 'M'"]})}),E.jsxs("td",{children:["Select dropdown. Options format: ",E.jsx("code",{children:"Label:Value"})," or just ",E.jsx("code",{children:"Value"}),"."]})]}),E.jsxs("tr",{children:[E.jsx("td",{children:"Text Area"}),E.jsx("td",{children:E.jsxs("code",{children:["// @bind:textarea(rows='3')",E.jsx("br",{}),"const desc = '...'"]})}),E.jsx("td",{children:"Multi-line text input."})]}),E.jsxs("tr",{children:[E.jsx("td",{children:"Radio Group"}),E.jsx("td",{children:E.jsxs("code",{children:["// @bind:input(type='radio', options='Male:m,Female:f')",E.jsx("br",{}),"const gender = 'm'"]})}),E.jsx("td",{children:"Radio button group."})]}),E.jsxs("tr",{children:[E.jsx("td",{children:"Table"}),E.jsx("td",{children:E.jsxs("code",{children:["// @bind:table(displayTitle='Data')",E.jsx("br",{}),"const rows = [","{"," label: 'A', value: 1 ","}","]"]})}),E.jsxs("td",{children:["Excel-like editable table. Support: ",E.jsx("code",{children:"readonly='c1'"}),", ",E.jsx("code",{children:"noRowOperations='true'"}),"."]})]}),E.jsxs("tr",{children:[E.jsx("td",{children:"Chart Data"}),E.jsx("td",{children:E.jsxs("code",{children:["// @bind:chart-data(displayTitle='Data')",E.jsx("br",{}),"const data = ","{"," xAxis: ..., series: ... ","}"]})}),E.jsxs("td",{children:["Binds a chart object to the editable table. Structure: ",E.jsxs("code",{children:["{"," xAxis: ","{"," data: [] ","}",", series: ["," { "," data: [] "," }","] ","}"]}),"."]})]}),E.jsxs("tr",{children:[E.jsx("td",{children:"Collection"}),E.jsx("td",{children:E.jsxs("code",{children:["// @bind:collection(itemType='marker', displayTitle='Markers')",E.jsx("br",{}),"const items = [","{"," lat: 0, lng: 0 ","}","]"]})}),E.jsxs("td",{children:["Dynamic list of objects. Schema can be inferred or defined via ",E.jsx("strong",{children:"@template"}),"."]})]}),E.jsxs("tr",{children:[E.jsx("td",{children:"Template"}),E.jsx("td",{children:E.jsxs("code",{children:["// @template:marker",E.jsx("br",{}),"const markerDef = ","{",E.jsx("br",{}),"// @bind:input(type='number', displayTitle='Lat')",E.jsx("br",{}),"lat: 0,",E.jsx("br",{}),"// @bind:input(type='number', displayTitle='Lng')",E.jsx("br",{}),"lng: 0",E.jsx("br",{}),"}",";"]})}),E.jsx("td",{children:"Defines a reusable schema for collection items using an annotated object."})]})]})]})]})]})]});if(a)return E.jsxs("div",{children:[E.jsx("h6",{children:"Changes since last save"}),r!==void 0?E.jsx(hN,{oldText:String(r),newText:String(e)}):E.jsx("div",{className:"p-3 border rounded border-success bg-light",children:"New Cell"})]});if(!e)return E.jsxs("div",{onDoubleClick:()=>!i&&c&&c(),className:"d-flex flex-column align-items-center justify-content-center border rounded bg-light text-muted mx-auto",style:{height:"400px",maxWidth:"800px"},children:[E.jsx(Bu,{size:48,className:"mb-2 opacity-50"}),E.jsx("span",{className:"small",children:"No Highcharts Configuration"}),E.jsx("span",{className:"small opacity-75",children:"(Double click to edit)"})]});const $e={title:{text:"Highcharts Sample"},xAxis:{categories:["A","B","C"]},yAxis:{title:{text:"Value"}},series:[{type:"column",name:"Data",data:[10,20,30]}]};try{const ce=P7(e,(t==null?void 0:t.script)||Vx);return E.jsx("div",{onDoubleClick:()=>!i&&c&&c(),className:"p-2 mx-auto",style:{height:"400px",maxWidth:"800px"},children:E.jsx(R7,{options:ce||$e,containerProps:{style:{width:"100%",height:"100%"}}})})}catch(ce){return E.jsxs("div",{onDoubleClick:()=>!i&&c&&c(),className:"p-3 border rounded border-danger bg-light",children:[E.jsx("div",{className:"text-danger fw-bold mb-2",children:"Invalid Chart Configuration"}),E.jsx("pre",{className:"small mb-0 text-muted",children:ce.message})]})}},u9e=({content:e,isEditing:t,isPreview:r,notebookId:n,onUpdate:i,onCancel:a,onEditStart:s})=>{const[o,l]=Q.useState(e),[u,c]=Q.useState(""),[h,f]=Q.useState(!1),[d,v]=Q.useState(null),[m,y]=Q.useState("");Q.useEffect(()=>{t&&l(e)},[t,e]),Q.useEffect(()=>{let N=!0;return(async()=>{const B=String(e||"");if(B.startsWith("file:")){const H=B.replace("file:","");try{const G=await Er.getFile(H);N&&G?c(G.content):N&&c("")}catch{N&&c("")}}else N&&c(B)})(),()=>{N=!1}},[e]);const b=N=>{const z=String(e||"").trim(),B=String(N).trim();z.startsWith("file:")&&B!==z?(y(z.replace("file:","").trim()),v(N),f(!0)):i(N)},S=()=>{i(d),f(!1)},w=async()=>{m&&(await Er.deleteFile(m),window.dispatchEvent(new CustomEvent("files-updated"))),i(d),f(!1)},k=N=>{N.preventDefault(),N.stopPropagation();const z=N.dataTransfer.getData("application/json");if(z)try{const G=JSON.parse(z);if(G.type==="cms-file"){b(`file:${G.id}`);return}}catch{}const B=N.dataTransfer.files;if(B&&B.length>0){const G=B[0];if(G.type.startsWith("image/")){const $=new FileReader;$.onload=async W=>{var X;if((X=W.target)!=null&&X.result){const ee=await Er.saveFile({name:G.name,type:G.type,size:G.size,content:W.target.result,notebookId:n,category:"working",uploader:"User"});b(`file:${ee.id}`),window.dispatchEvent(new CustomEvent("files-updated"))}},$.readAsDataURL(G);return}}const H=N.dataTransfer.getData("text/plain");H&&(H.startsWith("http")||H.startsWith("data:image/"))&&b(H)},M=N=>{const z=N.clipboardData.items;for(let B=0;B<z.length;B++)if(z[B].type.indexOf("image")!==-1){const H=z[B].getAsFile();if(H){const G=new FileReader;G.onload=async $=>{var W;if((W=$.target)!=null&&W.result){const X=await Er.saveFile({name:H.name,type:H.type,size:H.size,content:$.target.result,notebookId:n,category:"working",uploader:"User"});b(`file:${X.id}`),window.dispatchEvent(new CustomEvent("files-updated"))}},G.readAsDataURL(H),N.preventDefault()}return}},I=()=>{b(o)},L=()=>E.jsxs(bt,{show:h,onHide:()=>f(!1),centered:!0,children:[E.jsx(bt.Header,{closeButton:!0,children:E.jsx(bt.Title,{children:"Replace Image"})}),E.jsxs(bt.Body,{children:[E.jsx("p",{children:"You are replacing an existing image file."}),E.jsx("p",{children:"Do you want to delete the old image file from storage?"})]}),E.jsxs(bt.Footer,{children:[E.jsx(We,{variant:"secondary",onClick:()=>f(!1),children:"Cancel"}),E.jsx(We,{variant:"outline-danger",onClick:w,children:"Delete Old File"}),E.jsx(We,{variant:"primary",onClick:S,children:"Keep Old File"})]})]});return t?E.jsxs("div",{className:"p-4 text-center border rounded",onDragOver:N=>{N.preventDefault(),N.stopPropagation()},onDrop:k,onPaste:M,children:[E.jsx(Tt.Control,{type:"text",placeholder:"Image URL or drag & drop file",value:String(o||""),onChange:N=>l(N.target.value),className:"mb-2",autoFocus:!0}),E.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[E.jsx("p",{className:"mb-0 text-muted small",children:"Upload or URL (or drag from Files/OS)"}),E.jsxs("div",{className:"d-flex gap-2",children:[E.jsx(We,{size:"sm",variant:"outline-secondary",onClick:a,children:"Cancel"}),E.jsx(We,{size:"sm",variant:"primary",onClick:I,children:"Done"})]})]}),L()]}):E.jsxs(E.Fragment,{children:[e?E.jsx("div",{onDoubleClick:()=>!r&&s&&s(),onDragOver:N=>{N.preventDefault(),N.stopPropagation()},onDrop:k,onPaste:M,tabIndex:0,children:E.jsx("img",{src:u,alt:"",className:"img-fluid"})}):E.jsxs("div",{onDoubleClick:()=>!r&&s&&s(),onDragOver:N=>{N.preventDefault(),N.stopPropagation()},onDrop:k,onPaste:M,tabIndex:0,className:"d-flex flex-column align-items-center justify-content-center border rounded bg-light text-muted",style:{height:"300px"},children:[E.jsx(KW,{size:48,className:"mb-2 opacity-50"}),E.jsx("span",{className:"small",children:"No Image"}),E.jsx("span",{className:"small opacity-75",children:"(Double click to edit or drag image)"})]}),L()]})},O7=e=>{const t=Array.from(document.querySelectorAll('style, link[rel="stylesheet"]')).map(n=>n.outerHTML).join(`
`),r=JSON.stringify(e);return`
      <!DOCTYPE html>
      <html>
        <head>
          <meta charset="utf-8">
          ${t}
          <style>
            body { margin: 0; padding: 1rem; overflow: hidden; background-color: transparent; }
            #root { min-height: 20px; }
          </style>
        </head>
        <body>
          <div id="root"></div>
          <script type="module">
            const root = document.getElementById('root');
            
            // Helper to resize iframe
            const resizeObserver = new ResizeObserver(() => {
                const height = document.body.scrollHeight;
                window.parent.postMessage({ type: 'resize', height }, '*');
            });
            resizeObserver.observe(document.body);

            // 1. Define loadScript (simple injection in this isolated context)
            window.loadScript = (src) => {
                return new Promise((resolve, reject) => {
                    if (document.querySelector('script[src="' + src + '"]')) {
                        resolve();
                        return;
                    }
                    const s = document.createElement('script');
                    s.src = src;
                    s.async = true;
                    s.onload = resolve;
                    s.onerror = reject;
                    document.head.appendChild(s);
                });
            };

            // 2. Define onCleanup (mostly no-op since iframe destruction handles it, 
            // but we provide it for API compatibility)
            window.onCleanup = (fn) => { 
                // We could potentially store these if we implemented hot-reloading 
                // without iframe teardown, but for now we teardown completely.
            };

            // 3. Run User Code
            async function run() {
                try {
                    const AsyncFunction = Object.getPrototypeOf(async function(){}).constructor;
                    // Use the safely encoded string
                    const userFn = new AsyncFunction('loadScript', 'container', 'onCleanup', ${r});
                    
                    const result = await userFn(window.loadScript, root, window.onCleanup);

                    if (result instanceof Node) {
                        root.innerHTML = ''; // Clear container if they return a node (assuming they want to replace)
                        root.appendChild(result);
                    } else if (typeof result === 'string') {
                         const div = document.createElement('div');
                         div.innerHTML = result;
                         root.appendChild(div);
                    } else if (result !== undefined && result !== null) {
                        const pre = document.createElement('pre');
                        pre.style.color = 'orange';
                        pre.textContent = 'Result: ' + String(result);
                        root.appendChild(pre);
                    }
                } catch (err) {
                    console.error(err);
                    const errDiv = document.createElement('div');
                    errDiv.className = 'text-danger p-2 border border-danger rounded bg-light';
                    errDiv.textContent = 'Error: ' + err.message;
                    root.appendChild(errDiv);
                }
            }

            run();
          <\/script>
        </body>
      </html>
    `},c9e=({content:e,isEditing:t,isPreview:r,onUpdate:n,onCancel:i,onEditStart:a})=>{const[s,o]=Q.useState(typeof e=="string"?e:""),l=Q.useRef(null),[u,c]=Q.useState(100);Q.useEffect(()=>{typeof e=="string"&&o(e)},[e]),Q.useEffect(()=>{const d=v=>{l.current&&v.source===l.current.contentWindow&&v.data&&v.data.type==="resize"&&c(Math.max(50,v.data.height))};return window.addEventListener("message",d),()=>window.removeEventListener("message",d)},[]);const h=()=>{l.current&&(l.current.srcdoc=O7(s))},f=()=>{n(s)};return Q.useEffect(()=>{!t&&l.current&&s&&(l.current.srcdoc=O7(s))},[t,s]),t?E.jsxs(bt,{show:!0,fullscreen:!0,onHide:i,animation:!1,children:[E.jsxs(bt.Header,{children:[E.jsxs(bt.Title,{className:"d-flex align-items-center gap-2",children:[E.jsx("span",{children:"Script Editor"}),E.jsx(No,{bg:"warning",text:"dark",className:"fs-6",children:"Javascript (Sandboxed)"})]}),E.jsxs("div",{className:"d-flex gap-2",children:[E.jsxs(We,{variant:"success",onClick:h,children:[E.jsx(QW,{size:16,className:"me-1"})," Run"]}),E.jsx(We,{variant:"outline-secondary",onClick:i,children:"Cancel"}),E.jsx(We,{variant:"primary",onClick:f,children:"Save & Close"})]})]}),E.jsxs(bt.Body,{className:"p-0 d-flex",style:{height:"calc(100vh - 60px)"},children:[E.jsx("div",{className:"flex-grow-1 border-end",style:{width:"50%"},children:E.jsx(op,{height:"100%",defaultLanguage:"javascript",theme:"vs-dark",value:s,onChange:d=>o(d||""),options:{minimap:{enabled:!1},fontSize:14,wordWrap:"on",automaticLayout:!0}})}),E.jsxs("div",{className:"flex-grow-1 p-0 bg-light",style:{width:"50%",position:"relative"},children:[E.jsx("div",{className:"d-flex justify-content-between align-items-center px-3 py-2 border-bottom bg-white",children:E.jsx("h6",{className:"text-muted mb-0",children:"Live Preview (Isolated)"})}),E.jsx("div",{className:"h-100 p-3",style:{overflow:"auto"},children:E.jsx("iframe",{ref:l,title:"Script Preview",style:{width:"100%",height:"100%",border:"1px solid #dee2e6",borderRadius:"4px",background:"white"},sandbox:"allow-scripts allow-same-origin allow-modals allow-popups"})})]})]})]}):E.jsx("div",{onDoubleClick:()=>!r&&a&&a(),className:"script-cell-view",children:s?E.jsx("div",{className:"position-relative w-100",children:E.jsx("iframe",{ref:l,title:"Script Output",style:{width:"100%",height:`${u}px`,border:"none",transition:"height 0.1s ease"},sandbox:"allow-scripts allow-same-origin allow-modals allow-popups"})}):E.jsxs("div",{className:"d-flex flex-column align-items-center justify-content-center border rounded bg-light text-muted p-5",style:{height:"200px"},children:[E.jsx(Xfe,{size:48,className:"mb-2 opacity-50"}),E.jsx("span",{children:"Empty Script Cell"}),E.jsx("span",{className:"small opacity-75",children:"(Double click to edit)"})]})})};function Pte(e){const{notebook:t,activeCellId:r,editingCellId:n,setFocus:i,setEditing:a,updateCell:s,runAllBelow:o}=U_(),[l,u]=Q.useState("idle"),[c,h]=Q.useState(null),[f,d]=Q.useState(null),[v,m]=Q.useState(void 0),y=r===e,b=n===e,S=Q.useMemo(()=>{if(!t)return null;const H=G=>{for(const $ of G){if($.id===e)return $;if($.type==="section"&&Array.isArray($.content)){const W=H($.content);if(W)return W}}return null};return H(t.content)},[t,e]),w=Q.useCallback(H=>s(e,{content:H}),[e,s]),k=Q.useCallback(async H=>{if(!S)return;const G=S.properties||{};return s(e,{properties:{...G,...H}})},[S,e,s]),M=Q.useCallback(()=>{u("running"),m(void 0)},[]),I=Q.useCallback(async(H,G)=>{if(u(G?"error":"success"),G){const ee=G instanceof Error?G:new Error(String(G));d(ee)}else d(null);h(G||H),m(void 0);const X=(S==null?void 0:S.properties)||{};await s(e,{properties:{...X,lastOutput:H,lastError:G,lastExecutedAt:new Date().toISOString()}})},[e,s,S]),L=Q.useCallback(()=>{d(null),u("idle")},[]),N=Q.useCallback(()=>{i(e)},[e,i]),z=Q.useCallback(H=>{a(H?e:null)},[e,a]),B=Q.useCallback(()=>o(e),[e,o]);return{cell:S,isFocused:y,isEditing:b,status:l,output:c,error:f,progress:v,updateContent:w,updateProperties:k,updateCell:s,startExecution:M,finishExecution:I,resetError:L,focus:N,setEditMode:z,runAllBelow:B,setStatus:u,setProgress:m}}class h9e extends Q.Component{constructor(r){super(r);io(this,"handleRetry",()=>{this.setState({hasError:!1,error:null,showDetails:!1}),this.props.onRetry&&this.props.onRetry()});io(this,"handleReport",()=>{const{id:r,name:n,addIssue:i}=this.props,{error:a}=this.state;!i||!r||i({title:`Crash: ${n}`,description:`Automated crash report.

Error: ${(a==null?void 0:a.message)||"Unknown error"}
Cell ID: ${r}

Stack Trace:
\`\`\`
${(a==null?void 0:a.stack)||"No stack trace available"}
\`\`\``,cellId:r,createdAt:new Date().toISOString()})});io(this,"toggleDetails",()=>{this.setState(r=>({showDetails:!r.showDetails}))});this.state={hasError:!1,error:null,showDetails:!1}}static getDerivedStateFromError(r){return{hasError:!0,error:r,showDetails:!1}}componentDidCatch(r,n){console.error(`BlastShield [${this.props.name}] caught an error:`,r,n)}componentDidMount(){const{id:r,registerCrash:n}=this.props;r&&this.state.hasError&&(n==null||n(r))}componentDidUpdate(r,n){const{id:i,registerCrash:a,unregisterCrash:s}=this.props;i&&(this.state.hasError&&!n.hasError?a==null||a(i):!this.state.hasError&&n.hasError&&(s==null||s(i)))}componentWillUnmount(){const{id:r,unregisterCrash:n}=this.props;r&&this.state.hasError&&(n==null||n(r))}renderPreview(){const{preview:r,cellType:n}=this.props;return r?E.jsxs("div",{className:"mt-2 p-2 border rounded bg-white position-relative",style:{opacity:.5,pointerEvents:"none",maxHeight:"100px",overflow:"hidden"},children:[E.jsx("div",{className:"position-absolute top-0 end-0 p-1",children:E.jsx("span",{className:"badge bg-secondary opacity-75",style:{fontSize:"0.6rem"},children:"PREVIEW"})}),n==="markdown"&&typeof r=="string"?E.jsxs("div",{className:"small text-muted font-monospace",style:{fontSize:"0.75rem"},children:[r.slice(0,300),r.length>300?"...":""]}):E.jsxs("div",{className:"d-flex align-items-center gap-2 text-muted py-2",children:[E.jsx(Kk,{size:16}),E.jsxs("span",{className:"small uppercase fw-bold",style:{fontSize:"0.7rem"},children:[n||"CELL"," CONTENT"]})]})]}):null}render(){var r,n,i;if(this.state.hasError){const a=this.props.type==="cell";return E.jsx(Vr,{className:`border-danger bg-light mb-3 ${a?"mx-0 shadow-sm":""}`,children:E.jsxs(Vr.Body,{className:a?"p-2":"p-3",children:[E.jsxs("div",{className:"d-flex align-items-center mb-2",children:[E.jsx(Kk,{className:"text-danger me-2",size:a?18:24}),E.jsxs("h6",{className:`mb-0 text-danger ${a?"small fw-bold":""}`,children:[this.props.name," ",a?"Error":"Crashed"]})]}),!a&&E.jsx("p",{className:"small text-muted mb-3",children:"Something went wrong in this component. You can try to recover by clicking the retry button below."}),E.jsxs("div",{className:"d-flex gap-2 mb-2 align-items-center flex-wrap",children:[E.jsxs(We,{variant:"outline-danger",size:"sm",onClick:this.handleRetry,className:"d-flex align-items-center gap-1 py-0 px-2",style:a?{fontSize:"0.75rem"}:{},children:[E.jsx(Qfe,{size:12})," Retry"]}),this.props.addIssue&&E.jsxs(We,{variant:"outline-secondary",size:"sm",onClick:this.handleReport,className:"d-flex align-items-center gap-1 py-0 px-2",style:a?{fontSize:"0.75rem"}:{},children:[E.jsx(iS,{size:12})," Report"]}),E.jsx(We,{variant:"link",size:"sm",onClick:this.toggleDetails,className:"text-muted p-0 text-decoration-none",style:{fontSize:a?"0.75rem":"0.875rem"},children:this.state.showDetails?E.jsxs(E.Fragment,{children:["Hide Details ",E.jsx(zfe,{size:12})]}):E.jsxs(E.Fragment,{children:["Show Details ",E.jsx(YW,{size:12})]})})]}),a&&this.renderPreview(),E.jsx(vL,{in:this.state.showDetails,children:E.jsx("div",{className:"mt-2",children:E.jsx(Vr,{className:"bg-white border-danger-subtle",children:E.jsxs(Vr.Body,{className:"p-2",children:[E.jsxs("div",{className:"text-danger fw-bold mb-1",style:{fontSize:"0.75rem"},children:[(r=this.state.error)==null?void 0:r.name,": ",(n=this.state.error)==null?void 0:n.message]}),E.jsx("pre",{className:"mb-0 overflow-auto",style:{fontSize:"0.65rem",maxHeight:"100px"},children:(i=this.state.error)==null?void 0:i.stack})]})})})})]})})}return this.props.children}}const Vd=e=>{const{registerCrash:t,unregisterCrash:r,addIssue:n}=U_();return E.jsx(h9e,{...e,registerCrash:t,unregisterCrash:r,addIssue:n})},g_=({cell:e,isPreview:t,isDiffMode:r,diffStatus:n,oldCell:i,onDelete:a,onMove:s,onCopy:o,onCut:l,isFirst:u,isLast:c,issues:h,onFilterIssues:f,notebookId:d})=>{const{cell:v,isEditing:m,focus:y,setEditMode:b,updateContent:S,updateProperties:w,updateCell:k,error:M,resetError:I}=Pte(e.id),{notify:L}=R0(),N=v||e,[z,B]=Q.useState(!1),[H,G]=Q.useState(null),$=Q.useRef(null),[W,X]=Q.useState(!1),[ee,le]=Q.useState(""),[ie,fe]=Q.useState(""),[re,me]=Q.useState(null);Q.useEffect(()=>{const Te=Ve=>{var ze;Ve.detail.id===N.id&&((ze=$.current)==null||ze.scrollIntoView({behavior:"smooth"}))};return window.addEventListener("scroll-to-cell",Te),()=>window.removeEventListener("scroll-to-cell",Te)},[N.id]),Q.useEffect(()=>{const Te=Ve=>{Ve.key==="Escape"&&H&&G(null)};return window.addEventListener("keydown",Te),()=>window.removeEventListener("keydown",Te)},[H]);const J=()=>{G(null),X(!1),le(""),fe("")},te=(Te,Ve,ze,$e,ce)=>{const ve=`![${ze||"image"}](${Ve})
`,Ae=Te.selectionStart,Le=Te.selectionEnd,Ge=$e.substring(0,Ae)+ve+$e.substring(Le);ce(Ge)},ue=async(Te,Ve,ze)=>{const $e=Te.clipboardData.items,ce=Te.currentTarget;for(let ve=0;ve<$e.length;ve++)if($e[ve].type.startsWith("image/")){const Ae=$e[ve].getAsFile();if(Ae){Te.preventDefault();try{const Le=await aS(Ae),Ge=await new Promise(lt=>{const He=new FileReader;He.onload=Ee=>{var Ye;return lt((Ye=Ee.target)==null?void 0:Ye.result)},He.readAsDataURL(Ae)}),nt=await Er.saveFile({name:Ae.name,type:Ae.type,size:Ae.size,content:Ge,thumbnail:Le,category:"issue-attachment"});te(ce,`cms-image://${nt.id}`,Ae.name,Ve,ze)}catch(Le){console.error("Failed to process image",Le)}return}}},pe=async(Te,Ve,ze)=>{Te.preventDefault(),Te.stopPropagation();const $e=Te.dataTransfer.files,ce=Te.currentTarget;if($e&&$e.length>0){for(let ve=0;ve<$e.length;ve++)if($e[ve].type.startsWith("image/")){const Ae=$e[ve];try{const Le=await aS(Ae),Ge=await new Promise(lt=>{const He=new FileReader;He.onload=Ee=>{var Ye;return lt((Ye=Ee.target)==null?void 0:Ye.result)},He.readAsDataURL(Ae)}),nt=await Er.saveFile({name:Ae.name,type:Ae.type,size:Ae.size,content:Ge,thumbnail:Le,category:"issue-attachment"});te(ce,`cms-image://${nt.id}`,Ae.name,Ve,ze)}catch(Le){console.error("Failed to process image",Le)}return}}},Se=()=>{if(ee){let Te,Ve;H&&(Te=H.startIndex,Ve=H.length),window.dispatchEvent(new CustomEvent("create-issue",{detail:{cellId:N.id,author:"User",text:(H==null?void 0:H.text)||"",startIndex:Te,length:Ve,context:(H==null?void 0:H.context)||{prefix:"",suffix:""},title:ee,description:ie,createdAt:new Date().toISOString()}})),J()}},je=async Te=>{try{await k(N.id,{content:Te.content,properties:Te.properties}),b(!1),L("Cell saved successfully","success")}catch(Ve){console.error("Failed to save cell:",Ve),L("Failed to save cell","danger")}},Pe=()=>{switch(N.type){case"markdown":return E.jsx(H_e,{content:N.content,oldContent:i==null?void 0:i.content,isEditing:m,isPreview:t,isDiffMode:r,issues:h,onUpdate:async Te=>{try{await S(Te),b(!1),L("Cell updated","success")}catch{L("Update failed","danger")}},onCancel:()=>b(!1),onEditStart:()=>b(!0),onSelectionChange:Te=>{G(Te)},onHoverIssue:me});case"chart":return E.jsx(n9e,{content:N.content,properties:N.properties,oldContent:i==null?void 0:i.content,isEditing:m,isPreview:t,isDiffMode:r,onUpdate:async Te=>{try{await S(Te),b(!1),L("Chart data updated","success")}catch{L("Update failed","danger")}},onUpdateProperties:async Te=>{try{await w(Te),L("Properties updated","success")}catch{L("Failed to update properties","danger")}},onSave:je,onCancel:()=>b(!1),onEditStart:()=>b(!0)});case"image":return E.jsx(u9e,{content:N.content,isEditing:m,isPreview:t,notebookId:d,onUpdate:async Te=>{try{await S(Te),b(!1),L("Image updated","success")}catch{L("Update failed","danger")}},onCancel:()=>b(!1),onEditStart:()=>b(!0)});case"script":return E.jsx(c9e,{content:N.content,isEditing:m,isPreview:t,onUpdate:async Te=>{try{await S(Te),b(!1),L("Script updated","success")}catch{L("Update failed","danger")}},onCancel:()=>b(!1),onEditStart:()=>b(!0)});case"highcharts":return E.jsx(l9e,{content:N.content,properties:N.properties,oldContent:i==null?void 0:i.content,isEditing:m,isPreview:t,isDiffMode:r,onUpdate:async Te=>{try{await S(Te),b(!1),L("Chart data updated","success")}catch{L("Update failed","danger")}},onUpdateProperties:async Te=>{try{await w(Te),L("Properties updated","success")}catch{L("Failed to update properties","danger")}},onSave:je,onCancel:()=>b(!1),onEditStart:()=>b(!0)});default:return E.jsx("div",{children:"Unknown cell type"})}};return E.jsxs("div",{ref:$,className:"position-relative",onClick:y,children:[t?E.jsx("div",{className:"cell-preview py-2",children:E.jsxs(Vd,{id:N.id,name:N.type,type:"cell",preview:N.content,cellType:N.type,onRetry:I,children:[M&&(()=>{throw M})(),Pe()]})}):E.jsxs(Vr,{className:"cell-card border-0 shadow-sm mb-2",children:[E.jsxs(Vr.Header,{className:"bg-white border-0 py-1 d-flex justify-content-between align-items-center",children:[E.jsxs("div",{className:"d-flex align-items-center gap-2",children:[E.jsxs(bL,{size:"sm",className:"cell-controls align-items-center",children:[E.jsx(We,{variant:"link",className:"text-muted p-1",onClick:()=>b(!m),title:"Edit Cell",children:E.jsx(ede,{size:14,className:m?"text-primary":""})}),E.jsx("span",{className:"text-muted opacity-25 mx-1",children:"|"}),E.jsx(We,{variant:"link",className:"text-muted p-1",onClick:()=>s("up"),disabled:u,title:"Move Up",children:E.jsx(WW,{size:14})}),E.jsx(We,{variant:"link",className:"text-muted p-1",onClick:()=>s("down"),disabled:c,title:"Move Down",children:E.jsx(GW,{size:14})}),E.jsx("span",{className:"text-muted opacity-25 mx-1",children:"|"}),E.jsx(We,{variant:"link",className:"text-muted p-1",onClick:o,title:"Copy",children:E.jsx(qW,{size:14})}),E.jsx(We,{variant:"link",className:"text-muted p-1",onClick:l,title:"Cut",children:E.jsx(JW,{size:14})}),E.jsx("span",{className:"text-muted opacity-25 mx-1",children:"|"}),E.jsx(We,{variant:"link",className:"text-danger p-1",onClick:a,title:"Delete",children:E.jsx(Ri,{size:14})}),E.jsx("span",{className:"text-muted opacity-25 mx-1",children:"|"}),E.jsx(We,{variant:"link",className:"text-muted p-1",onClick:()=>B(!0),title:"Properties",children:E.jsx(e$,{size:14})})]}),r&&n&&E.jsx(No,{bg:n==="added"?"success":n==="removed"?"danger":"warning",className:"text-uppercase small",children:n})]}),E.jsxs("div",{className:"d-flex gap-1 align-items-center",children:[E.jsx(We,{variant:"link",size:"sm",className:"text-muted p-1 cell-controls",onClick:()=>{G(null),le(""),fe(""),X(!0)},title:"Add Issue to Cell",children:E.jsx(iS,{size:16})}),h.filter(Te=>!Te.closed).length>0&&E.jsx(No,{bg:"danger",pill:!0,className:"me-2",onClick:()=>f&&f(N.id),style:{cursor:"pointer"},title:"Filter issues for this cell",children:h.filter(Te=>!Te.closed).length})]})]}),E.jsx(Vr.Body,{className:`p-3 pt-1 ${n==="removed"?"opacity-50 grayscale":""}`,style:n==="removed"?{textDecoration:"line-through"}:{},children:E.jsxs(Vd,{id:N.id,name:N.type,type:"cell",preview:N.content,cellType:N.type,onRetry:I,children:[M&&(()=>{throw M})(),Pe()]})}),E.jsx(o$,{show:z,onHide:()=>B(!1),title:"Cell Properties",properties:N.properties,onSave:w}),E.jsx("style",{children:`
                        .cell-card {
                        transition: all 0.2s;
                        }
                        .cell-card:hover { border-color: #007bff !important; }
                        
                        .issue-marker {
                            cursor: pointer;
                            transition: all 0.2s;
                            background-color: rgba(255, 193, 7, 0.2);
                            border-bottom: 2px solid #ffc107;
                        }
                        .issue-marker:hover {
                            background-color: rgba(255, 193, 7, 0.4);
                        }
                    `})]}),H&&E.jsx("div",{className:"position-fixed bg-white shadow rounded p-1 d-flex gap-1",style:{left:H.x,top:H.y+24,zIndex:2e3},onMouseDown:Te=>{Te.preventDefault(),Te.stopPropagation()},children:E.jsxs(We,{variant:"outline-primary",size:"sm",onClick:()=>X(!0),children:[E.jsx(iS,{size:14,className:"me-1"})," Create Issue"]})}),re&&E.jsxs("div",{className:"issue-tooltip shadow",style:{position:"fixed",left:re.x+15,top:re.y+15,zIndex:2100,backgroundColor:"#fff",border:"1px solid #ddd",borderRadius:"8px",padding:"10px 12px",maxWidth:"320px",fontSize:"0.85rem",pointerEvents:"none"},children:[E.jsx("strong",{className:"text-primary d-block mb-1",children:re.issue.title}),E.jsx("div",{className:"text-muted mb-2 d-flex justify-content-between align-items-center",style:{fontSize:"0.75rem"},children:E.jsxs("span",{children:[E.jsx("span",{className:"fw-bold",children:re.issue.author||"User"}),"  ",new Date(re.issue.createdAt).toLocaleString()]})}),E.jsx("p",{className:"mb-0 text-dark overflow-hidden",style:{display:"-webkit-box",WebkitLineClamp:4,WebkitBoxOrient:"vertical"},children:re.issue.description||"No description provided."})]}),E.jsxs(bt,{show:W,onHide:J,centered:!0,children:[E.jsx(bt.Header,{closeButton:!0,children:E.jsx(bt.Title,{children:"Create Issue"})}),E.jsx(bt.Body,{children:E.jsxs(Tt.Group,{className:"mb-3",children:[E.jsx(Tt.Label,{children:"Reference Text"}),E.jsx("blockquote",{className:"blockquote-footer mt-1 mb-2 text-truncate",children:H==null?void 0:H.text}),E.jsx(Tt.Label,{children:"Title"}),E.jsx(Tt.Control,{type:"text",className:"mb-2",value:ee,onChange:Te=>le(Te.target.value),autoFocus:!0}),E.jsx(Tt.Label,{children:"Description (Markdown)"}),E.jsx(Tt.Control,{as:"textarea",rows:4,value:ie,placeholder:"Describe the issue... (Drag & drop images or paste)",onChange:Te=>fe(Te.target.value),onKeyDown:Te=>Te.key==="Enter"&&Te.ctrlKey&&Se(),onPaste:Te=>ue(Te,ie,fe),onDrop:Te=>pe(Te,ie,fe),onDragOver:Te=>Te.preventDefault()}),E.jsx(Tt.Text,{className:"text-muted small",children:"Ctrl+Enter to create"})]})}),E.jsxs(bt.Footer,{children:[E.jsx(We,{variant:"secondary",onClick:J,children:"Cancel"}),E.jsx(We,{variant:"primary",onClick:Se,children:"Create"})]})]})]})},m_=({onInsert:e,onPaste:t,onInsertImage:r,onInsertMarkdown:n,alwaysVisible:i,notebookId:a})=>{const[s,o]=Q.useState(!1),[l,u]=Q.useState(!1),[c,h]=Q.useState(!1),[f,d]=Q.useState(!1),[v,m]=Q.useState(!1),y=Q.useRef(null);Q.useEffect(()=>{const k=ib.subscribe(M=>{m(!!M&&M.app==="czms")});return()=>{k()}},[]),Q.useEffect(()=>{const k=async M=>{var z,B,H;if(!s&&!l&&!c)return;const I=(z=M.clipboardData)==null?void 0:z.items;if(!I)return;const L=(B=M.clipboardData)==null?void 0:B.getData("text/plain");if(L)try{const G=JSON.parse(L);if((G.app==="czms"||G.id)&&t){M.preventDefault(),M.stopImmediatePropagation(),t(G),o(!1);return}}catch{}for(const G of I)if(G.type.startsWith("image/")&&r){M.preventDefault(),M.stopImmediatePropagation();const $=G.getAsFile();if($){d(!0);const W=new FileReader;W.onload=async X=>{var ee;try{if((ee=X.target)!=null&&ee.result){const le=await Er.saveFile({name:$.name||`clipboard-${Date.now()}.png`,type:$.type,size:$.size,content:X.target.result,notebookId:a,category:"working",uploader:"User"});window.dispatchEvent(new CustomEvent("files-updated")),r(le.id)}}finally{d(!1),o(!1)}},W.readAsDataURL($);return}}const N=(H=M.clipboardData)==null?void 0:H.getData("text/html");if(N&&n){const G=kde(N);if(G.trim()){M.preventDefault(),M.stopImmediatePropagation(),n(G),o(!1);return}}L&&L.trim()&&n&&(M.preventDefault(),M.stopImmediatePropagation(),n(L),o(!1))};return window.addEventListener("paste",k,!0),()=>window.removeEventListener("paste",k,!0)},[s,l,c,r,n,t,a]);const b=k=>{k.preventDefault(),k.stopPropagation(),u(!0)},S=k=>{k.preventDefault(),k.stopPropagation(),u(!1)},w=async k=>{k.preventDefault(),k.stopPropagation(),u(!1);const M=k.dataTransfer.getData("application/json");if(M)try{const L=JSON.parse(M);if(L.type==="cms-file"&&L.id&&r)if(L.mimeType&&L.mimeType.startsWith("image/")){r(L.id);return}else{console.warn("Only image files can be dropped here.");return}}catch{}const I=k.dataTransfer.files;if(I&&I.length>0){const L=I[0];if(L.type.startsWith("image/")){const N=new FileReader;N.onload=async z=>{var B;if((B=z.target)!=null&&B.result&&r){const H=await Er.saveFile({name:L.name,type:L.type,size:L.size,content:z.target.result,notebookId:a,category:"working",uploader:"User"});window.dispatchEvent(new CustomEvent("files-updated")),r(H.id)}},N.readAsDataURL(L)}}};return s?E.jsxs("div",{ref:y,className:"d-flex justify-content-center py-2 my-1 position-relative",style:{zIndex:10},tabIndex:0,children:[E.jsxs("div",{className:"d-flex gap-2 align-items-center bg-white p-2 rounded shadow-sm border anim-fade-in",children:[E.jsx("span",{className:"small text-muted fw-bold me-1",children:"Insert:"}),E.jsxs(We,{variant:"outline-primary",size:"sm",onClick:()=>{e("markdown"),o(!1)},title:"Text Cell",children:[E.jsx(rde,{size:16})," ",E.jsx("span",{className:"d-none d-md-inline ms-1",children:"Text"})]}),E.jsxs(We,{variant:"outline-primary",size:"sm",onClick:()=>{e("chart"),o(!1)},title:"ECharts Cell",children:[E.jsx(Bu,{size:16})," ",E.jsx("span",{className:"d-none d-md-inline ms-1",children:"ECharts"})]}),E.jsxs(We,{variant:"outline-primary",size:"sm",onClick:()=>{e("highcharts"),o(!1)},title:"Highcharts Cell",children:[E.jsx(Bu,{size:16})," ",E.jsx("span",{className:"d-none d-md-inline ms-1",children:"Highcharts"})]}),E.jsxs(We,{variant:"outline-primary",size:"sm",onClick:()=>{e("image"),o(!1)},title:"Image Cell",children:[E.jsx(KW,{size:16})," ",E.jsx("span",{className:"d-none d-md-inline ms-1",children:"Image"})]}),E.jsxs(We,{variant:"outline-primary",size:"sm",onClick:()=>{e("script"),o(!1)},title:"Script Cell",children:[E.jsx(Vfe,{size:16})," ",E.jsx("span",{className:"d-none d-md-inline ms-1",children:"Script"})]}),E.jsx("div",{className:"vr mx-1"}),E.jsxs(We,{variant:"outline-info",size:"sm",onClick:()=>{e("section"),o(!1)},title:"New Section",children:[E.jsx(Kfe,{size:16})," ",E.jsx("span",{className:"d-none d-md-inline ms-1",children:"Section"})]}),t&&E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"vr mx-1"}),E.jsxs(We,{variant:"outline-secondary",size:"sm",onClick:()=>{t(),o(!1)},title:v?"Paste cell/section from internal clipboard":"Nothing to paste from app",disabled:!v,children:[E.jsx(jfe,{size:16})," ",E.jsx("span",{className:"d-none d-md-inline ms-1",children:"Paste cell/section"})]})]}),E.jsx(We,{variant:"link",size:"sm",className:"text-muted ms-1 p-1",onClick:()=>o(!1),children:E.jsx(ade,{size:18})})]}),E.jsx("div",{className:"position-absolute w-100 text-center",style:{bottom:"-18px",fontSize:"0.7rem",color:"#999"},children:"Ctrl+V to paste image or text"})]}):E.jsxs("div",{className:`insert-menu-trigger w-100 position-relative d-flex justify-content-center align-items-center ${i?"always-visible":""} ${l?"dragging-over":""}`,style:{height:"36px",zIndex:5,cursor:"pointer",margin:"0"},onClick:()=>o(!0),onDragOver:b,onDragLeave:S,onDrop:w,onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),children:[E.jsx("div",{className:"divider-line position-absolute w-100 bg-primary",style:{height:"2px",opacity:0,transition:"opacity 0.1s",left:0}}),E.jsx(We,{variant:"outline-primary",size:"sm",className:"rounded-circle shadow-sm bg-white d-flex align-items-center justify-content-center p-0 insert-btn",style:{width:"26px",height:"26px",zIndex:1,borderStyle:"dashed"},onClick:k=>{k.stopPropagation(),o(!0)},title:"Insert cell here",disabled:f,children:f?E.jsx("div",{className:"spinner-border spinner-border-sm text-primary",role:"status",style:{width:"12px",height:"12px"},children:E.jsx("span",{className:"visually-hidden",children:"Loading..."})}):E.jsx(sl,{size:16})}),E.jsx("style",{children:`
                .insert-menu-trigger { 
                    padding: 8px 0;
                }
                .insert-menu-trigger .divider-line { opacity: 0; }
                .insert-menu-trigger:hover .divider-line,
                .insert-menu-trigger.dragging-over .divider-line { 
                    opacity: 0.15; 
                }
                .insert-menu-trigger.always-visible .divider-line { 
                    opacity: 0.05; 
                }
                .insert-menu-trigger.dragging-over {
                    background-color: rgba(13, 110, 253, 0.1);
                    border-radius: 4px;
                }
                .insert-menu-trigger.dragging-over .divider-line {
                    opacity: 0.4;
                    height: 3px !important;
                }
                
                .insert-menu-trigger .insert-btn { 
                    opacity: 0; 
                    transition: opacity 0.05s ease-out; 
                }
                .insert-menu-trigger:hover .insert-btn,
                .insert-menu-trigger.always-visible .insert-btn,
                .insert-menu-trigger.dragging-over .insert-btn { 
                    opacity: 1; 
                }
                .insert-menu-trigger.always-visible:not(:hover) .insert-btn {
                    border-color: #dee2e6 !important;
                    color: #adb5bd !important;
                }
                .anim-fade-in {
                    animation: fadeIn 0.1s ease-out;
                }
                @keyframes fadeIn {
                    from { opacity: 0; }
                    to { opacity: 1; }
                }
            `})]})},y_=({section:e,isPreview:t,onDelete:r,onMove:n,onCopy:i,onCut:a,isFirst:s,isLast:o,notebookIssues:l,isDiffMode:u,diffStatus:c,onFilterIssues:h,notebookId:f})=>{const{cell:d,focus:v,updateProperties:m}=Pte(e.id),{addCell:y,moveCell:b,deleteCell:S,updateCell:w,copyCell:k,pasteCell:M,getDiffItems:I}=s$(f||null),{notify:L}=R0(),N=d||e,[z,B]=Q.useState(!0),[H,G]=Q.useState(!1),[$,W]=Q.useState(!1),[X,ee]=Q.useState(N.title||""),[le,ie]=Q.useState(!1),[fe,re]=Q.useState(""),[me,J]=Q.useState(""),te=()=>{fe&&(window.dispatchEvent(new CustomEvent("create-issue",{detail:{cellId:N.id,text:"",startIndex:void 0,length:void 0,context:{prefix:"",suffix:""},title:fe,description:me,createdAt:new Date().toISOString()}})),ie(!1),re(""),J(""))},ue=async()=>{try{await w(N.id,{title:X}),W(!1),L("Title updated","success")}catch(Se){console.error("Failed to update title:",Se),L("Failed to update title","danger")}},pe=u&&(c==="modified"||N.baseItem)?I(null,null):N.content;return t?E.jsxs("div",{className:"section-preview mb-5",onClick:v,children:[E.jsx("h2",{className:"mb-4 pb-2 border-bottom text-dark",children:N.title}),E.jsx("div",{className:"section-content",children:pe==null?void 0:pe.map((Se,je)=>Se.type==="section"?E.jsx(y_,{section:Se,isPreview:!0,isDiffMode:u,diffStatus:Se.diffStatus,onDelete:()=>{},onMove:()=>{},onCopy:()=>{},onCut:()=>{},isFirst:je===0,isLast:je===((pe==null?void 0:pe.length)||0)-1,notebookIssues:l,onFilterIssues:h,notebookId:f},`${Se.id}-${Se.diffStatus}`):E.jsx(g_,{cell:Se,isPreview:!0,isDiffMode:u,diffStatus:Se.diffStatus,oldCell:Se.baseItem,onDelete:()=>{},onMove:()=>{},onCopy:()=>{},onCut:()=>{},isFirst:je===0,isLast:je===((pe==null?void 0:pe.length)||0)-1,issues:l.filter(Pe=>Pe.cellId===Se.id),onFilterIssues:h,notebookId:f},`${Se.id}-${Se.diffStatus}`))})]}):E.jsx(Vr,{className:"section-card mb-3 border-secondary shadow-sm",onClick:v,children:E.jsxs(Vd,{name:`Section: ${N.title||N.id}`,id:N.id,children:[E.jsxs(Vr.Header,{className:"bg-light d-flex justify-content-between align-items-center py-1",children:[E.jsxs("div",{className:"d-flex align-items-center gap-2 flex-grow-1",children:[E.jsx(We,{variant:"link",size:"sm",className:"p-0 text-dark me-1",onClick:Se=>{Se.stopPropagation(),B(!z)},children:z?E.jsx(YW,{size:16}):E.jsx(Ffe,{size:16})}),$?E.jsx(Tt.Control,{size:"sm",type:"text",value:X,onChange:Se=>ee(Se.target.value),onBlur:()=>ue(),onKeyDown:Se=>Se.key==="Enter"&&ue(),autoFocus:!0,className:"bg-transparent border-0 border-bottom rounded-0 p-0",style:{maxWidth:"200px",height:"auto"}}):E.jsx("span",{className:"text-dark fw-bold cursor-pointer",onDoubleClick:()=>W(!0),children:N.title||"Untitled Section"})]}),E.jsxs("div",{className:"d-flex gap-1 align-items-center",children:[E.jsxs("div",{className:"section-actions d-flex gap-1 align-items-center",children:[E.jsx(We,{variant:"link",size:"sm",className:"p-1 text-muted",onClick:i,title:"Copy",children:E.jsx(qW,{size:14})}),E.jsx(We,{variant:"link",size:"sm",className:"p-1 text-muted",onClick:a,title:"Cut",children:E.jsx(JW,{size:14})}),E.jsx(We,{variant:"link",size:"sm",className:"p-1 text-muted",onClick:()=>G(!0),children:E.jsx(e$,{size:14})}),E.jsx(We,{variant:"link",size:"sm",className:"p-1 text-muted",onClick:()=>ie(!0),title:"Add Issue to Section",children:E.jsx(iS,{size:14})})]}),l.filter(Se=>Se.cellId===N.id&&!Se.closed).length>0&&E.jsx(No,{bg:"danger",pill:!0,className:"me-1",onClick:()=>h&&h(N.id),style:{cursor:"pointer",fontSize:"0.65rem"},title:"Filter issues for this section",children:l.filter(Se=>Se.cellId===N.id&&!Se.closed).length}),E.jsxs("div",{className:"section-actions d-flex gap-1 align-items-center",children:[E.jsx(We,{variant:"link",size:"sm",className:"p-1 text-muted",disabled:s,onClick:()=>n("up"),children:E.jsx(WW,{size:14})}),E.jsx(We,{variant:"link",size:"sm",className:"p-1 text-muted",disabled:o,onClick:()=>n("down"),children:E.jsx(GW,{size:14})}),E.jsx(We,{variant:"link",size:"sm",className:"p-1 text-danger",onClick:r,children:E.jsx(Ri,{size:14})})]})]})]}),E.jsx(vL,{in:z,children:E.jsx("div",{children:E.jsx(Vr.Body,{className:"p-3 bg-white bg-opacity-10",style:{borderLeft:"4px solid #dee2e6"},children:E.jsxs("div",{className:"section-children",children:[E.jsx(m_,{onInsert:async Se=>{try{await y(Se,0,N.id),L("Cell added","success")}catch{L("Failed to add cell","danger")}},onPaste:async Se=>{try{await M(0,Se,N.id),L("Cell pasted","success")}catch{L("Failed to paste cell","danger")}},onInsertImage:async Se=>{try{await y("image",0,N.id,`file:${Se}`),L("Image inserted","success")}catch{L("Failed to insert image","danger")}},alwaysVisible:pe.length===0,notebookId:f}),pe==null?void 0:pe.map((Se,je)=>E.jsxs(Bt.Fragment,{children:[Se.type==="section"?E.jsx(y_,{section:Se,isPreview:!1,isDiffMode:u,diffStatus:Se.diffStatus,onDelete:async()=>{try{await S(Se.id),L("Section deleted","success")}catch{L("Failed to delete section","danger")}},onMove:async Pe=>{try{await b(Se.id,Pe),L("Section moved","success")}catch{L("Failed to move section","danger")}},onCopy:()=>k(Se.id),onCut:async()=>{try{await k(Se.id,"cut"),L("Section cut","success")}catch{L("Failed to cut section","danger")}},isFirst:je===0,isLast:je===((pe==null?void 0:pe.length)||0)-1,notebookIssues:l,onFilterIssues:h,notebookId:f},`${Se.id}-${Se.diffStatus||"normal"}`):E.jsx(g_,{cell:Se,isPreview:t,isDiffMode:u,diffStatus:Se.diffStatus,oldCell:Se.baseItem,onDelete:async()=>{try{await S(Se.id),L("Cell deleted","success")}catch{L("Failed to delete cell","danger")}},onMove:async Pe=>{try{await b(Se.id,Pe),L("Cell moved","success")}catch{L("Failed to move cell","danger")}},onCopy:()=>k(Se.id),onCut:async()=>{try{await k(Se.id,"cut"),L("Cell cut","success")}catch{L("Failed to cut cell","danger")}},isFirst:je===0,isLast:je===((pe==null?void 0:pe.length)||0)-1,issues:l.filter(Pe=>Pe.cellId===Se.id),onFilterIssues:h,notebookId:f},`${Se.id}-${Se.diffStatus||"normal"}`),E.jsx(m_,{onInsert:async Pe=>{try{await y(Pe,je+1,N.id),L("Cell added","success")}catch{L("Failed to add cell","danger")}},onPaste:async Pe=>{try{await M(je+1,Pe,N.id),L("Cell pasted","success")}catch{L("Failed to paste cell","danger")}},onInsertImage:async Pe=>{try{await y("image",je+1,N.id,`file:${Pe}`),L("Image inserted","success")}catch{L("Failed to insert image","danger")}},alwaysVisible:je===pe.length-1,notebookId:f})]},Se.id))]})})})}),E.jsx(o$,{show:H,onHide:()=>G(!1),title:"Section Properties",properties:N.properties,onSave:m}),E.jsxs(bt,{show:le,onHide:()=>ie(!1),centered:!0,children:[E.jsx(bt.Header,{closeButton:!0,children:E.jsx(bt.Title,{children:"Create Section Issue"})}),E.jsx(bt.Body,{children:E.jsxs(Tt.Group,{className:"mb-3",children:[E.jsx(Tt.Label,{children:"Title"}),E.jsx(Tt.Control,{type:"text",className:"mb-2",value:fe,onChange:Se=>re(Se.target.value),autoFocus:!0}),E.jsx(Tt.Label,{children:"Description (Markdown)"}),E.jsx(Tt.Control,{as:"textarea",rows:4,value:me,onChange:Se=>J(Se.target.value),onKeyDown:Se=>Se.key==="Enter"&&Se.ctrlKey&&te()}),E.jsx(Tt.Text,{className:"text-muted small",children:"Ctrl+Enter to create"})]})}),E.jsxs(bt.Footer,{children:[E.jsx(We,{variant:"secondary",onClick:()=>ie(!1),children:"Cancel"}),E.jsx(We,{variant:"primary",onClick:te,children:"Create"})]})]})]})})},f9e=({notebook:e,filterId:t,onClearFilter:r})=>{const{addIssue:n,updateMetadata:i}=R0(),[a,s]=Bt.useState(!1),[o,l]=Bt.useState(""),[u,c]=Bt.useState(""),[h,f]=Bt.useState("active"),[d,v]=Bt.useState(null),[m,y]=Bt.useState(""),[b,S]=Bt.useState(null),[w,k]=Bt.useState(null),M=Bt.useRef({}),I=(W,X,ee,le,ie)=>{const fe=`![${ee||"image"}](${X})
`,re=W.selectionStart,me=W.selectionEnd,J=le.substring(0,re)+fe+le.substring(me);ie(J)},L=async(W,X,ee)=>{const le=W.clipboardData.items,ie=W.currentTarget;for(let fe=0;fe<le.length;fe++)if(le[fe].type.startsWith("image/")){const re=le[fe].getAsFile();if(re){W.preventDefault();try{const me=await aS(re),J=await new Promise(ue=>{const pe=new FileReader;pe.onload=Se=>{var je;return ue((je=Se.target)==null?void 0:je.result)},pe.readAsDataURL(re)}),te=await Er.saveFile({name:re.name,type:re.type,size:re.size,content:J,thumbnail:me,category:"issue-attachment"});I(ie,`cms-image://${te.id}`,re.name,X,ee)}catch(me){console.error("Failed to process image",me)}return}}},N=async(W,X,ee)=>{W.preventDefault(),W.stopPropagation();const le=W.dataTransfer.files,ie=W.currentTarget;if(le&&le.length>0){for(let fe=0;fe<le.length;fe++)if(le[fe].type.startsWith("image/")){const re=le[fe];try{const me=await aS(re),J=await new Promise(ue=>{const pe=new FileReader;pe.onload=Se=>{var je;return ue((je=Se.target)==null?void 0:je.result)},pe.readAsDataURL(re)}),te=await Er.saveFile({name:re.name,type:re.type,size:re.size,content:J,thumbnail:me,category:"issue-attachment"});I(ie,`cms-image://${te.id}`,re.name,X,ee)}catch(me){console.error("Failed to process image",me)}return}}},z=W=>{if(!W)return"";const X=new Date(W);return`${X.getFullYear()}-${String(X.getMonth()+1).padStart(2,"0")}-${String(X.getDate()).padStart(2,"0")} ${String(X.getHours()).padStart(2,"0")}:${String(X.getMinutes()).padStart(2,"0")}`};Bt.useEffect(()=>{const W=X=>{const ee=X.detail.id;S(ee);const le=M.current[ee];le&&le.scrollIntoView({behavior:"smooth"})};return window.addEventListener("scroll-to-issue",W),()=>window.removeEventListener("scroll-to-issue",W)},[]);const B=async W=>{W.preventDefault(),o.trim()&&(await n({cellId:t||"",author:"User",title:o,description:u||(t?"Cell/Section level issue":"Notebook level issue"),referenceText:"",createdAt:new Date().toISOString()}),l(""),c(""),s(!1))},H=async W=>{if(!m.trim())return;const X=e.issues.map(ee=>ee.id===W?{...ee,comments:[...ee.comments||[],{id:ol(),author:"User",text:m,createdAt:new Date().toISOString()}]}:ee);await i({issues:X}),y(""),v(null)},G=e.issues.filter(W=>{const X=h==="active"?!W.closed:W.closed,ee=t?W.cellId===t:!0;return X&&ee}),$=Bt.useMemo(()=>({img:({node:W,...X})=>E.jsx(iX,{...X,style:{maxHeight:"150px",maxWidth:"100%",cursor:"pointer",borderRadius:"4px",border:"1px solid #dee2e6"},setModalImage:k,className:"img-thumbnail-custom"})}),[k]);return E.jsxs("div",{children:[E.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[E.jsxs("div",{className:"d-flex align-items-center gap-2",children:[E.jsx("h6",{className:"mb-0",children:"Issues"}),t&&E.jsx(We,{variant:"secondary",size:"sm",className:"py-0 px-2",style:{fontSize:"0.75rem"},onClick:r,children:"Filtered (Clear)"})]}),!a&&E.jsxs(We,{variant:"outline-primary",size:"sm",onClick:()=>s(!0),children:[E.jsx(sl,{size:14})," Add ",t?"Item":"Notebook"," Issue"]})]}),E.jsxs(ti,{variant:"pills",className:"mb-3 small-pills",activeKey:h,onSelect:W=>f(W||"active"),children:[E.jsx(ti.Item,{children:E.jsx(ti.Link,{eventKey:"active",className:"py-1 px-2",children:"Active"})}),E.jsx(ti.Item,{children:E.jsx(ti.Link,{eventKey:"closed",className:"py-1 px-2",children:"Closed"})})]}),a&&E.jsx(Vr,{className:"mb-3 border-primary shadow-sm",children:E.jsx(Vr.Body,{className:"p-2",children:E.jsxs(Tt,{onSubmit:B,children:[E.jsxs(Tt.Group,{className:"mb-2",children:[E.jsx(Tt.Label,{className:"small mb-1",children:"Title"}),E.jsx(Tt.Control,{size:"sm",type:"text",placeholder:"Issue title...",value:o,onChange:W=>l(W.target.value),autoFocus:!0,className:"mb-2"}),E.jsx(Tt.Label,{className:"small mb-1",children:"Description (Markdown)"}),E.jsx(Tt.Control,{as:"textarea",rows:3,size:"sm",placeholder:"Describe the issue... (Drag & drop images or paste)",value:u,onChange:W=>c(W.target.value),onPaste:W=>L(W,u,c),onDrop:W=>N(W,u,c),onDragOver:W=>W.preventDefault(),className:"mb-2"})]}),E.jsxs("div",{className:"d-flex justify-content-end gap-1",children:[E.jsx(We,{size:"sm",variant:"outline-secondary",onClick:()=>s(!1),children:"Cancel"}),E.jsx(We,{size:"sm",variant:"primary",type:"submit",children:"Add Issue"})]})]})})}),G.length===0?E.jsxs("p",{className:"text-muted small text-center p-4 rounded bg-light",children:["No ",h," issues found."]}):E.jsx(nS,{variant:"flush",children:G.map(W=>{var X;return E.jsx(nS.Item,{className:"px-0 bg-transparent",ref:ee=>{M.current[W.id]=ee},children:E.jsx(Vr,{className:`border-0 shadow-sm mb-2 cursor-pointer transition-all ${b===W.id?"active-issue-card":""}`,onClick:()=>{W.cellId&&(S(W.id),window.dispatchEvent(new CustomEvent("scroll-to-cell",{detail:{id:W.cellId}})))},children:E.jsxs(Vr.Body,{className:"p-2",children:[E.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-1",children:[E.jsx("small",{className:"fw-bold",children:W.title}),E.jsxs("div",{className:"d-flex align-items-center gap-2",children:[E.jsx("span",{className:"text-muted",style:{fontSize:"9px"},children:z(W.createdAt)}),E.jsx(We,{variant:W.closed?"outline-secondary":"outline-danger",size:"sm",style:{fontSize:"10px",padding:"1px 5px"},onClick:async ee=>{ee.stopPropagation();const le=e.issues.map(ie=>ie.id===W.id?{...ie,closed:!ie.closed}:ie);await i({issues:le})},children:W.closed?"Reopen":"Close"})]})]}),W.referenceText&&E.jsxs("blockquote",{className:"blockquote-footer mb-2 mt-1",style:{fontSize:"11px"},children:["Referenced: ",W.referenceText.substring(0,50),W.referenceText.length>50?"...":""]}),E.jsx("div",{className:"mb-2 text-muted markdown-content",style:{fontSize:"0.9rem"},children:E.jsx(pI,{remarkPlugins:[gI],rehypePlugins:[_I],urlTransform:ee=>(ee.startsWith("data:")||ee.startsWith("http"),ee),components:$,children:W.description||W.referenceText||""})}),E.jsxs("div",{className:"mt-2 border-top pt-2",children:[(X=W.comments)==null?void 0:X.map((ee,le)=>E.jsxs("div",{className:"bg-light p-2 rounded mb-2 ms-3 border-start border-3 border-primary markdown-content",style:{fontSize:"0.85rem"},children:[E.jsxs("div",{className:"d-flex justify-content-between text-muted mb-1",style:{fontSize:"0.75rem"},children:[E.jsx("span",{className:"fw-bold",children:ee.author||"User"}),E.jsx("span",{children:z(ee.createdAt)})]}),E.jsx(pI,{remarkPlugins:[gI],rehypePlugins:[_I],urlTransform:ie=>(ie.startsWith("data:")||ie.startsWith("http"),ie),components:$,children:ee.text})]},le)),!W.closed&&d!==W.id&&E.jsx("div",{className:"d-flex justify-content-end mt-1",children:E.jsx(We,{variant:"link",size:"sm",className:"p-0 text-decoration-none",style:{fontSize:"0.85rem"},onClick:ee=>{ee.stopPropagation(),v(W.id),y("")},children:"Reply"})}),d===W.id&&E.jsxs("div",{className:"mt-2 ms-3",onClick:ee=>ee.stopPropagation(),children:[E.jsx(Tt.Control,{as:"textarea",rows:5,size:"sm",placeholder:"Write a reply... (Markdown supported, Drag & drop images or paste)",style:{fontSize:"0.85rem"},value:m,onChange:ee=>y(ee.target.value),onPaste:ee=>L(ee,m,y),onDrop:ee=>N(ee,m,y),onDragOver:ee=>ee.preventDefault(),autoFocus:!0}),E.jsxs("div",{className:"d-flex justify-content-end gap-1 mt-1",children:[E.jsx(We,{variant:"link",size:"sm",className:"text-muted p-0",style:{fontSize:"0.85rem"},onClick:()=>v(null),children:"Cancel"}),E.jsx(We,{variant:"primary",size:"sm",style:{fontSize:"0.85rem"},onClick:()=>H(W.id),children:"Post"})]})]})]})]})})},W.id)})}),E.jsx(bt,{show:!!w,onHide:()=>k(null),size:"lg",centered:!0,contentClassName:"bg-transparent border-0",children:E.jsxs(bt.Body,{className:"text-center p-0",style:{position:"relative"},children:[E.jsx("div",{style:{position:"absolute",top:"-30px",right:0,zIndex:1056},children:E.jsx(We,{variant:"close",onClick:()=>k(null),className:"btn-close-white"})}),w&&E.jsx("img",{src:w,alt:"Full size",style:{maxHeight:"90vh",maxWidth:"100%",objectFit:"contain"}})]})}),E.jsx("style",{children:`
                .active-issue-card {
                    background-color: #fffde7 !important;
                    border: 2px solid #ffeb3b !important;
                    box-shadow: 0 4px 15px rgba(255, 193, 7, 0.2) !important;
                    transform: scale(1.02);
                }
                .transition-all {
                    transition: all 0.3s ease;
                }
            `})]})};function d9e(e){const[t,r]=Q.useState([]),[n,i]=Q.useState(!1),[a,s]=Q.useState("working"),o=Q.useCallback(async()=>{i(!0);try{const d=await Er.listFilesMetadata(e);r(d)}catch(d){console.error("Failed to refresh files:",d)}finally{i(!1)}},[e]),l=Q.useMemo(()=>t.filter(d=>{let v=d.category||"working";return v==="published"&&(v="public"),v===a}),[t,a]);return Q.useEffect(()=>{o();const d=new BroadcastChannel("czms-repository-sync"),v=()=>{o()};d.addEventListener("message",v);const m=()=>{o()};return window.addEventListener("files-updated",m),()=>{d.removeEventListener("message",v),d.close(),window.removeEventListener("files-updated",m)}},[o]),{files:l,allFiles:t,loading:n,category:a,setCategory:s,refresh:o,uploadFile:async(d,v)=>new Promise((m,y)=>{const b=new FileReader;b.onload=async S=>{var w;if((w=S.target)!=null&&w.result&&typeof S.target.result=="string"){const k={id:crypto.randomUUID(),name:d.name,type:d.type,size:d.size,content:S.target.result,notebookId:v||e,category:"working",uploader:"User",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};try{const M=await Er.set("file",k);await o(),m(M)}catch(M){y(M)}}else y(new Error("Failed to read file"))},b.onerror=()=>y(new Error("FileReader error")),b.readAsDataURL(d)}),deleteFile:async d=>{await Er.delete("file",d),await o()},deleteFiles:async d=>{await Er.deleteMany("file",d),await o()},updateFile:async d=>{const v=await Er.getFile(d.id);if(!v)throw new Error("File not found");const m=await Er.set("file",{...v,...d,updatedAt:new Date().toISOString()});return await o(),m}}}const p9e=({notebookId:e,usedFileIds:t})=>{const{files:r,allFiles:n,category:i,setCategory:a,uploadFile:s,deleteFiles:o,updateFile:l}=d9e(e),[u,c]=Q.useState(!1),[h,f]=Q.useState("name"),[d,v]=Q.useState(new Set),[m,y]=Q.useState(!1),[b,S]=Q.useState(new Set),[w,k]=Q.useState(null),M=ue=>{var Se;const pe=(Se=ue.target.files)==null?void 0:Se[0];pe&&s(pe)},I=ue=>{s(ue)},L=ue=>{ue.preventDefault(),ue.stopPropagation(),c(!0)},N=ue=>{ue.preventDefault(),ue.stopPropagation(),c(!1)},z=ue=>{ue.preventDefault(),ue.stopPropagation(),u||c(!0)},B=ue=>{ue.preventDefault(),ue.stopPropagation(),c(!1);const pe=ue.dataTransfer.files[0];pe&&I(pe)},H=ue=>{const pe=document.createElement("a");pe.href=ue.content,pe.download=ue.name,pe.click()},G=()=>{re.forEach(pe=>H(pe))},$=ue=>{X(new Set([ue]))},W=()=>{d.size!==0&&X(d)},X=ue=>{const pe=Array.from(ue).filter(je=>t==null?void 0:t.has(je)).length;let Se=null;pe>0&&(ue.size===1?Se="This file is currently used in this notebook. Deleting it will break the image reference.":Se=`${pe} of the selected files are currently used in this notebook. Deleting them will break image references.`),S(ue),k(Se),y(!0)},ee=async()=>{try{b.size>0&&await o(Array.from(b))}finally{S(new Set),v(new Set),y(!1)}},le=ue=>{const pe=new Set(d);pe.has(ue)?pe.delete(ue):pe.add(ue),v(pe)},ie=()=>{const ue=re;d.size===ue.length&&ue.length>0?v(new Set):v(new Set(ue.map(pe=>pe.id)))},fe=async ue=>{if(d.size!==0){for(const pe of d){const Se=r.find(je=>je.id===pe);Se&&await l({...Se,category:ue})}v(new Set)}},re=Q.useMemo(()=>[...r].sort((ue,pe)=>h==="name"?ue.name.localeCompare(pe.name):h==="date"?new Date(pe.createdAt).getTime()-new Date(ue.createdAt).getTime():0),[r,h]),me=re,J=me.length>0&&d.size===me.length,te=ue=>E.jsxs(nb,{id:`popover-${ue.id}`,children:[E.jsx(nb.Header,{as:"h3",children:ue.name}),E.jsx(nb.Body,{className:"p-0",children:ue.type.startsWith("image/")?E.jsx(nW,{src:ue.content,fluid:!0,style:{maxHeight:"200px"}}):E.jsx("div",{className:"p-3",children:"No preview available"})})]});return E.jsxs("div",{onDragEnter:L,onDragOver:z,onDragLeave:N,onDrop:B,className:`h-100 d-flex flex-column ${u?"bg-primary bg-opacity-10 rounded border border-primary border-dashed":""}`,style:{minHeight:"400px",transition:"all 0.2s ease"},children:[E.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[E.jsx("h6",{className:"mb-0",children:"Files"}),E.jsx("div",{className:"d-flex gap-1",children:E.jsxs("label",{className:"btn btn-outline-primary btn-sm mb-0",children:[E.jsx(nde,{size:14}),E.jsx("input",{type:"file",style:{display:"none"},onChange:M})]})})]}),E.jsxs(ti,{variant:"tabs",className:"mb-2",activeKey:i,onSelect:ue=>a(ue),children:[E.jsx(ti.Item,{children:E.jsxs(ti.Link,{eventKey:"working",className:"py-1 px-2 small",children:["Working ",E.jsx(No,{bg:"secondary",className:"ms-1",children:n.filter(ue=>(ue.category||"working")==="working").length})]})}),E.jsx(ti.Item,{children:E.jsxs(ti.Link,{eventKey:"public",className:"py-1 px-2 small",children:["Public ",E.jsx(No,{bg:"success",className:"ms-1",children:n.filter(ue=>ue.category==="public"||ue.category==="published").length})]})})]}),E.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2 px-1",children:[E.jsxs("div",{className:"d-flex align-items-center gap-2",children:[E.jsx(Tt.Check,{type:"checkbox",checked:J,onChange:ie,disabled:me.length===0}),E.jsxs(Nv,{children:[E.jsx(Nv.Toggle,{variant:"light",size:"sm",className:"p-0 border-0",children:h==="name"?E.jsx(Bfe,{size:16}):E.jsx($W,{size:16})}),E.jsxs(Nv.Menu,{children:[E.jsx(Nv.Item,{onClick:()=>f("name"),active:h==="name",children:"Name"}),E.jsx(Nv.Item,{onClick:()=>f("date"),active:h==="date",children:"Date"})]})]})]}),d.size>0&&E.jsxs(bL,{size:"sm",children:[E.jsx(We,{variant:"outline-danger",onClick:W,title:"Delete Selected",children:E.jsx(Ri,{size:14})}),i==="working"?E.jsx(We,{variant:"outline-success",onClick:()=>fe("public"),title:"Mark as Public",children:E.jsx(Jfe,{size:14})}):E.jsx(We,{variant:"outline-secondary",onClick:()=>fe("working"),title:"Move to Working",children:E.jsx(tde,{size:14})})]})]}),me.length===0?E.jsx("div",{className:"flex-grow-1 d-flex align-items-center justify-content-center",children:E.jsx("p",{className:"text-muted small text-center p-4 rounded bg-light w-100",children:u?"Drop file here":`No ${i} files.`})}):E.jsx("div",{className:"flex-grow-1 overflow-auto",children:E.jsx(nS,{variant:"flush",className:"mb-3",children:me.map(ue=>E.jsxs(nS.Item,{className:`px-0 bg-transparent d-flex justify-content-between align-items-center ${d.has(ue.id)?"bg-primary bg-opacity-10":""}`,draggable:!0,onDragStart:pe=>{pe.dataTransfer.setData("application/json",JSON.stringify({type:"cms-file",id:ue.id,name:ue.name,mimeType:ue.type})),pe.dataTransfer.effectAllowed="copy"},children:[E.jsxs("div",{className:"d-flex align-items-center gap-2",style:{overflow:"hidden"},children:[E.jsx(Tt.Check,{type:"checkbox",checked:d.has(ue.id),onChange:()=>le(ue.id)}),E.jsx(Dfe,{placement:"right",delay:{show:250,hide:400},overlay:te(ue),children:E.jsxs("div",{className:"text-truncate",style:{cursor:"grab"},children:[E.jsx("div",{className:"d-flex align-items-center",children:E.jsx("small",{className:"fw-bold text-truncate",children:ue.name})}),E.jsxs("div",{className:"d-flex gap-2 text-muted",style:{fontSize:"10px"},children:[E.jsxs("span",{children:[(ue.size/1024).toFixed(1)," KB"]}),E.jsxs("span",{className:"d-flex align-items-center",children:[E.jsx(ide,{size:8,className:"me-1"})," ",ue.uploader||"User"]})]})]})})]}),E.jsxs("div",{className:"d-flex gap-1",children:[E.jsx(We,{variant:"link",className:"p-1 text-muted",onClick:()=>H(ue),children:E.jsx(Ufe,{size:14})}),E.jsx(We,{variant:"link",className:"p-1 text-danger",onClick:()=>$(ue.id),children:E.jsx(Ri,{size:14})})]})]},ue.id))})}),me.length>0&&E.jsxs(We,{variant:"outline-secondary",size:"sm",className:"w-100 mt-2 mb-2",onClick:G,children:[E.jsx(Hfe,{size:14,className:"me-1"})," Download All"]}),E.jsxs(bt,{show:m,onHide:()=>y(!1),centered:!0,size:"sm",children:[E.jsx(bt.Header,{closeButton:!0,className:"bg-light py-2",children:E.jsx(bt.Title,{className:"h6 mb-0 text-danger",children:"Confirm Deletion"})}),E.jsxs(bt.Body,{className:"py-3",children:[E.jsxs("p",{className:"mb-0 small text-center",children:["Are you sure you want to delete ",b.size>1?`${b.size} files`:"this file","?"]}),w&&E.jsx("div",{className:"alert alert-warning small p-2 mb-0",children:w})]}),E.jsxs(bt.Footer,{className:"p-2 border-0 d-flex justify-content-center",children:[E.jsx(We,{variant:"light",size:"sm",onClick:()=>y(!1),children:"Cancel"}),E.jsx(We,{variant:"danger",size:"sm",onClick:ee,children:"Delete"})]})]})]})},v9e=({notebook:e,setBaseVersion:t,setCompareVersion:r,selectedIds:n,setSelectedIds:i})=>{const s=[{id:"current",content:e.content,title:e.title,timestamp:new Date().toISOString(),author:"You"},...(e.versions||[]).slice().reverse()];Q.useEffect(()=>{if(n.length===2){const u=s.findIndex(d=>d.id===n[0]),c=s.findIndex(d=>d.id===n[1]);let h,f;u>c?(h=s[u],f=s[c]):(h=s[c],f=s[u]),t(h),r(f)}},[n]);const o=(u,c)=>{c?n.length<2?i([...n,u]):i([n[1],u]):i(n.filter(h=>h!==u))},l=(u,c)=>{if(c)return"Now";const h=new Date(u);return h.toLocaleDateString()+" "+h.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};return E.jsx(Vr,{className:"border-0 shadow-sm h-100",children:E.jsxs(Vr.Body,{className:"p-0 d-flex flex-column h-100",children:[E.jsx("div",{className:"p-2 bg-light border-bottom",children:E.jsx("span",{className:"small text-muted",children:n.length===2?"Comparing selected versions":"Select 2 versions to compare"})}),E.jsxs("div",{className:"overflow-auto",style:{flex:1},children:[s.map(u=>{const c=u.id==="current",h=n.includes(u.id),f=u.author||"Unknown";return E.jsxs("div",{className:`d-flex align-items-center px-2 py-1 border-bottom ${h?"bg-primary bg-opacity-10":""}`,style:{fontSize:"0.85rem"},children:[E.jsx(Tt.Check,{type:"checkbox",id:`version-check-${u.id}`,className:"me-2 mb-0",checked:h,onChange:d=>o(u.id,d.target.checked)}),E.jsx("span",{className:"text-muted me-2",style:{minWidth:"60px"},children:f}),E.jsx("span",{className:"flex-grow-1 text-truncate",children:l(u.timestamp,c)})]},u.id)}),s.length<=1&&E.jsx("div",{className:"text-center text-muted p-3 small",children:"No history versions saved yet."})]})]})})},g9e=()=>{const{notifications:e}=Nde(),{dismissNotification:t}=R0();return e.length===0?null:E.jsx(UW,{position:"top-end",className:"p-3",style:{zIndex:9999},children:e.map(r=>E.jsxs(XC,{onClose:()=>t(r.id),bg:r.type,delay:5e3,autohide:!0,children:[E.jsx(XC.Header,{children:E.jsx("strong",{className:"me-auto",children:"Notification"})}),E.jsx(XC.Body,{className:["info","warning"].includes(r.type)?"text-dark":"text-white",children:r.message})]},r.id))})},m9e=({notebookId:e,onBack:t})=>E.jsx(Lde,{children:E.jsx(y9e,{notebookId:e,onBack:t})}),y9e=({notebookId:e,onBack:t})=>{const{notebook:r,status:n,addCell:i,deleteCell:a,moveCell:s,updateMetadata:o,updateCell:l,addIssue:u,copyCell:c,pasteCell:h,getDiffItems:f,crashedComponentIds:d}=s$(e),[v,m]=Q.useState("issues"),[y,b]=Q.useState(null),[S,w]=Q.useState(!1),[k,M]=Q.useState(null),[I,L]=Q.useState(null),[N,z]=Q.useState([]),[B,H]=Q.useState(null),[G,$]=Q.useState(!0),[W,X]=Q.useState(!1),ee=d.length,le=!!(N.length===2&&k&&I),ie=Q.useMemo(()=>{if(!r)return new Set;const J=new Set,te=ue=>{ue.forEach(pe=>{pe.type==="image"&&typeof pe.content=="string"&&pe.content.startsWith("file:")&&J.add(pe.content.replace("file:","").trim()),pe.type==="section"&&Array.isArray(pe.content)&&te(pe.content)})};return te(r.content),J},[r]);if(Bt.useEffect(()=>{if(r&&r.versions&&r.versions.length>0&&!k){const J=r.versions;M(J[J.length-1]),L({id:"current",timestamp:"Current State",content:r.content,issues:r.issues,title:r.title})}},[r,k]),Bt.useEffect(()=>{const J=async te=>{await u(te.detail)};return window.addEventListener("create-issue",J),()=>window.removeEventListener("create-issue",J)},[u]),Bt.useEffect(()=>{const J=async te=>{var Se;if(te.defaultPrevented)return;const ue=te.target;if(ue.tagName==="INPUT"||ue.tagName==="TEXTAREA"||ue.closest(".monaco-editor")||ue.closest(".modal"))return;const pe=(Se=te.clipboardData)==null?void 0:Se.items;if(pe){for(const je of pe)if(je.type.startsWith("image/")){const Pe=je.getAsFile();if(Pe){const Te=new FileReader;Te.onload=async Ve=>{var ze;if((ze=Ve.target)!=null&&ze.result){const $e=await Er.saveFile({name:Pe.name||`pasted-image-${Date.now()}.png`,type:Pe.type,size:Pe.size,content:Ve.target.result,notebookId:e,category:"working",uploader:"User"});await i("image",void 0,void 0,`file:${$e.id}`),window.dispatchEvent(new CustomEvent("files-updated"))}},Te.readAsDataURL(Pe)}}}};return window.addEventListener("paste",J),()=>window.removeEventListener("paste",J)},[e,i]),!r||n==="loading")return E.jsx("div",{children:"Loading..."});const fe=J=>{b(te=>te===J?null:J),m("issues")},re=async()=>{if(B){if(W&&B.fileId)try{await Er.deleteFile(B.fileId),window.dispatchEvent(new CustomEvent("files-updated"))}catch(J){console.error("Failed to delete image file:",J)}await a(B.id,G),H(null),$(!0),X(!1)}},me=le?f(k,I):r.content;return E.jsxs("div",{className:"notebook-editor",children:[E.jsx("header",{className:"bg-white border-bottom py-2 sticky-top",children:E.jsx(Jb,{fluid:!0,children:E.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[E.jsxs("div",{className:"d-flex align-items-center",children:[E.jsx("div",{className:"me-3",children:E.jsx("img",{src:i$,alt:"cZms",style:{height:"32px"}})}),E.jsx(We,{variant:"link",onClick:t,className:"me-2 text-dark",children:E.jsx(Ofe,{size:20})}),E.jsx("h5",{className:"mb-0",children:r.title}),ee>0&&E.jsxs(No,{bg:"danger",className:"ms-3 d-flex align-items-center gap-1",title:`${ee} cell${ee>1?"s have":" has"} crashed`,children:[E.jsx(Kk,{size:12})," ",ee," ",ee===1?"Crash":"Crashes"]})]}),E.jsxs("div",{className:"d-flex gap-2",children:[E.jsx(We,{variant:"outline-secondary",size:"sm",onClick:()=>window.print(),title:"Print / Download PDF",children:E.jsx(Zfe,{size:16})}),E.jsxs(We,{variant:S?"success":"outline-success",size:"sm",onClick:()=>{w(!S),z([])},children:[E.jsx(QW,{size:16,className:"me-1"})," ",S?"Editing":"Preview"]})]})]})})}),E.jsx("main",{className:"py-4",children:E.jsx(Jb,{fluid:!0,children:E.jsxs(jL,{children:[E.jsxs(Ah,{lg:8,className:S?"mx-auto":"",children:[S?E.jsxs("div",{className:"preview-page bg-white shadow-lg p-5 mx-auto rounded",style:{maxWidth:"900px",minHeight:"1100px"},children:[E.jsx("h1",{className:"display-4 mb-5 text-center",children:r.title}),me.map((J,te)=>J.type==="section"?E.jsx(y_,{section:J,isPreview:S,isDiffMode:le,diffStatus:J.diffStatus,onDelete:()=>{},onMove:()=>{},onCopy:()=>{},onCut:()=>{},isFirst:te===0,isLast:te===me.length-1,notebookIssues:r.issues,onFilterIssues:fe,notebookId:r.id},`${J.id}-${J.diffStatus||"normal"}`):E.jsx(g_,{cell:J,isPreview:S,isDiffMode:le,diffStatus:J.diffStatus,oldCell:J.baseItem,onDelete:()=>{},onMove:()=>{},onCopy:()=>{},onCut:()=>{},isFirst:te===0,isLast:te===me.length-1,issues:r.issues.filter(ue=>ue.cellId===J.id),onFilterIssues:fe,notebookId:r.id},`${J.id}-${J.diffStatus||"normal"}`)),E.jsxs("div",{className:"text-center text-muted mt-5 pt-5 border-top small",children:["Generated on ",new Date().toLocaleDateString()]})]}):E.jsxs("div",{className:"cells-container",children:[E.jsx(m_,{notebookId:r.id,onInsert:J=>i(J,0),onPaste:J=>h(0,J),onInsertImage:async J=>{await i("image",0,void 0,`file:${J}`)},alwaysVisible:me.length===0}),me.map((J,te)=>E.jsxs(Bt.Fragment,{children:[J.type==="section"?E.jsx(y_,{section:J,isPreview:S,isDiffMode:le,diffStatus:J.diffStatus,onDelete:()=>{H({id:J.id,title:J.title||"Untitled Section",type:"section"})},onMove:ue=>s(J.id,ue),onCopy:()=>c(J.id),onCut:()=>c(J.id,"cut"),isFirst:te===0,isLast:te===me.length-1,notebookIssues:r.issues,onFilterIssues:fe,notebookId:r.id},`${J.id}-${J.diffStatus||"normal"}`):E.jsx(g_,{cell:J,isPreview:S,isDiffMode:le,diffStatus:J.diffStatus,oldCell:J.baseItem,onDelete:()=>{let ue;J.type==="image"&&String(J.content).trim().startsWith("file:")&&(ue=String(J.content).trim().replace("file:","").trim()),H({id:J.id,title:J.title||`Cell (${J.type})`,type:J.type,fileId:ue})},onMove:ue=>s(J.id,ue),onCopy:()=>c(J.id),onCut:()=>c(J.id,"cut"),isFirst:te===0,isLast:te===me.length-1,issues:r.issues.filter(ue=>ue.cellId===J.id),onFilterIssues:fe,notebookId:r.id},`${J.id}-${J.diffStatus||"normal"}`),E.jsx(m_,{notebookId:r.id,onInsert:ue=>i(ue,te+1),onPaste:ue=>h(te+1,ue),onInsertImage:async ue=>{await i("image",te+1,void 0,`file:${ue}`)},alwaysVisible:te===me.length-1})]},J.id))]}),!S&&E.jsx("div",{className:"pb-5"})]}),E.jsx(Ah,{lg:4,className:"border-start",children:E.jsxs("div",{className:"sticky-top",style:{top:"70px",height:"calc(100vh - 100px)",overflowY:"auto"},children:[E.jsxs("div",{className:"d-flex align-items-center",children:[E.jsxs(ti,{variant:"tabs",activeKey:S?"issues":v,onSelect:J=>!S&&m(J||"issues"),className:"flex-grow-1",children:[E.jsx(ti.Item,{children:E.jsxs(ti.Link,{eventKey:"issues",children:[E.jsx(qfe,{size:16,className:"me-1"})," Issues",E.jsx(No,{bg:"danger",pill:!0,className:"ms-1",children:r.issues.filter(J=>!J.closed).length})]})}),!S&&E.jsxs(E.Fragment,{children:[E.jsx(ti.Item,{children:E.jsxs(ti.Link,{eventKey:"files",children:[E.jsx(Wfe,{size:16,className:"me-1"})," Files"]})}),E.jsx(ti.Item,{children:E.jsxs(ti.Link,{eventKey:"history",children:[E.jsx($fe,{size:16,className:"me-1"})," History"]})})]})]}),le&&E.jsx(We,{variant:"outline-secondary",size:"sm",className:"ms-2",onClick:()=>z([]),title:"Turn off diff mode",children:"Exit Diff"})]}),E.jsxs("div",{className:"py-3 h-100",children:[(S||v==="issues")&&E.jsx(Vd,{name:"Issue Panel",children:E.jsx(f9e,{notebook:r,filterId:y,onClearFilter:()=>b(null)})}),!S&&v==="files"&&E.jsx(Vd,{name:"File Panel",children:E.jsx(p9e,{notebookId:r.id,usedFileIds:ie})}),!S&&v==="history"&&E.jsx(Vd,{name:"History Panel",children:E.jsx(v9e,{notebook:r,setBaseVersion:M,setCompareVersion:L,selectedIds:N,setSelectedIds:z})})]})]})})]})})}),E.jsx("style",{children:`
        .notebook-editor {
          min-height: 100vh;
          background-color: #f8f9fa;
        }
      `}),E.jsxs(bt,{show:!!B,onHide:()=>H(null),centered:!0,size:"sm",children:[E.jsx(bt.Header,{closeButton:!0,className:"bg-light py-2",children:E.jsx(bt.Title,{className:"h6 mb-0 text-danger",children:"Confirm Deletion"})}),E.jsxs(bt.Body,{className:"py-3",children:[E.jsxs("p",{className:"mb-0 small text-center",children:["Are you sure you want to delete this ",B==null?void 0:B.type,"?",(B==null?void 0:B.title)&&E.jsxs(E.Fragment,{children:[E.jsx("br",{}),E.jsxs("strong",{className:"text-dark",children:['"',B.title,'"']})]})]}),(B==null?void 0:B.fileId)&&E.jsx("div",{className:"mt-3 p-2 bg-light rounded border border-secondary",children:E.jsx(Tt.Check,{type:"checkbox",id:"delete-file-check",label:"Also delete the image file from storage",checked:W,onChange:J=>X(J.target.checked),className:"small text-danger fw-bold"})})]}),E.jsxs(bt.Footer,{className:"p-2 border-0 d-flex justify-content-center",children:[E.jsx(We,{variant:"light",size:"sm",onClick:()=>{H(null),$(!0)},children:"Cancel"}),E.jsx(We,{variant:"danger",size:"sm",onClick:re,children:"Delete"})]})]}),E.jsx(g9e,{})]})};function x9e(){const[e,t]=Q.useState(null);return E.jsx("div",{className:"app-container",children:e?E.jsx(m9e,{notebookId:e,onBack:()=>t(null)}):E.jsx(Cde,{onSelectNotebook:t})})}const B7=({progress:e,status:t,error:r})=>E.jsxs("div",{className:"migration-overlay",children:[E.jsxs("div",{className:"migration-content",children:[E.jsx("div",{className:"mb-4",children:E.jsx("div",{className:"spinner-border text-primary",role:"status",style:{width:"3rem",height:"3rem"},children:E.jsx("span",{className:"visually-hidden",children:"Loading..."})})}),E.jsx("h2",{className:"mb-3",children:r?"Migration Failed":"Updating Database"}),E.jsx("div",{className:"progress mb-3",style:{height:"25px"},children:E.jsxs("div",{className:`progress-bar progress-bar-striped progress-bar-animated ${r?"bg-danger":"bg-primary"}`,role:"progressbar",style:{width:`${e}%`},"aria-valuenow":e,"aria-valuemin":0,"aria-valuemax":100,children:[e,"%"]})}),E.jsx("p",{className:"status-text text-muted",children:r||t}),r&&E.jsxs("div",{className:"mt-4",children:[E.jsx("button",{className:"btn btn-primary",onClick:()=>window.location.reload(),children:"Retry Update"}),E.jsx("p",{className:"mt-2 small text-danger",children:"If this persists, your data might be corrupted. Please contact support."})]})]}),E.jsx("style",{children:`
                .migration-overlay {
                    position: fixed;
                    top: 0;
                    left: 0;
                    width: 100vw;
                    height: 100vh;
                    background: white;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    z-index: 10000;
                    text-align: center;
                }
                .migration-content {
                    width: 100%;
                    max-width: 500px;
                    padding: 2rem;
                }
                .status-text {
                    font-family: 'Courier New', Courier, monospace;
                    font-size: 0.9rem;
                    min-height: 1.2rem;
                }
            `})]});class pu{constructor(t=1){io(this,"migrations",[]);io(this,"currentVersion",1);this.currentVersion=t}registerMigration(t){this.migrations.push(t),this.migrations.sort((r,n)=>r.version-n.version)}static async exportAll(){const t=await Wa(),r=await t.getAll("notebooks"),n=await t.getAll("files"),i=await t.getAll("settings");return JSON.stringify({notebooks:r,files:n,settings:i,version:n$,exportedAt:new Date().toISOString()})}static async importAll(t){const r=await Wa(),n=JSON.parse(t),i=r.transaction(["notebooks","files","settings"],"readwrite");await i.objectStore("notebooks").clear(),await i.objectStore("files").clear(),await i.objectStore("settings").clear();for(const a of n.notebooks||[])await i.objectStore("notebooks").put(a);for(const a of n.files||[])await i.objectStore("files").put(a);for(const a of n.settings||[])await i.objectStore("settings").put(a);await i.done,Er.clearCache()}static async createBackup(t){const r=await Wa(),n=await pu.exportAll(),i=ol();return await r.put("backups",{id:i,timestamp:new Date().toISOString(),data:n,version:t}),i}static async getBackup(t){return(await Wa()).get("backups",t)}static async deleteBackup(t){await(await Wa()).delete("backups",t)}async preFlightCheck(){try{if(await Er.listNotebooks(),navigator.storage&&navigator.storage.estimate){const t=await navigator.storage.estimate(),r=t.usage||0,n=t.quota||0;n>0&&r/n>.9&&console.warn("Storage usage is high (>90%). Migration might fail.")}return!0}catch(t){return console.error("Pre-flight check failed:",t),!1}}async createSafetyBackup(){return await pu.createBackup(this.currentVersion)}async migrate(t,r){if(this.currentVersion>=t)return;if(r==null||r({step:"Pre-flight checks",percent:0}),!await this.preFlightCheck())throw new Error("Migration pre-flight check failed");r==null||r({step:"Creating safety backup",percent:10});const i=await this.createSafetyBackup();try{const a=this.migrations.filter(l=>l.version>this.currentVersion&&l.version<=t);let s=20;const o=60/(a.length||1);for(const l of a){r==null||r({step:`Applying migration v${l.version}: ${l.description}`,percent:s});const u=JSON.parse(await pu.exportAll()),c=await l.upgrade(u),h=this.healData(c);await pu.importAll(JSON.stringify(h)),this.currentVersion=l.version,s+=o}r==null||r({step:"Cleanup",percent:90}),r==null||r({step:"Migration complete",percent:100})}catch(a){throw console.error("Migration failed, initiating rollback:",a),await this.rollback(i),a}}async rollback(t){const r=await pu.getBackup(t);if(!r)throw new Error(`Rollback failed: Backup ${t} not found`);await pu.importAll(r.data),this.currentVersion=r.version,console.log(`Successfully rolled back to version ${this.currentVersion}`)}healData(t){return t.notebooks&&(t.notebooks=t.notebooks.map(r=>this.healNotebook(r))),t.files&&(t.files=t.files.map(r=>this.healFile(r))),t}healNotebook(t){let r=!1;return t.id||(t.id=crypto.randomUUID(),r=!0),t.title||(t.title="Untitled Notebook",r=!0),t.content||(t.content=[],r=!0),t.issues||(t.issues=[],r=!0),t.createdAt||(t.createdAt=new Date().toISOString(),r=!0),t.updatedAt||(t.updatedAt=new Date().toISOString(),r=!0),r&&console.warn(`[MigrationService] Healed malformed notebook: ${t.id}`),t}healFile(t){let r=!1;return t.id||(t.id=crypto.randomUUID(),r=!0),t.name||(t.name="unnamed-file",r=!0),t.type||(t.type="application/octet-stream",r=!0),t.createdAt||(t.createdAt=new Date().toISOString(),r=!0),t.updatedAt||(t.updatedAt=new Date().toISOString(),r=!0),r&&console.warn(`[MigrationService] Healed malformed file: ${t.id}`),t}}const GA=1,b9e=()=>{const[e,t]=Q.useState(!1),[r,n]=Q.useState({step:"Initializing...",percent:0}),[i,a]=Q.useState(null),[s,o]=Q.useState(!1);return Q.useEffect(()=>{(async()=>{try{const u=await Er.getSettings("app-settings"),c=(u==null?void 0:u.dataVersion)||0;if(c<GA){t(!0);const h=new pu(c),f=d=>{d.preventDefault(),d.returnValue="Migration is in progress. Closing the tab may cause data corruption."};window.addEventListener("beforeunload",f);try{await h.migrate(GA,v=>n(v));const d={...u||{id:"app-settings",theme:"system",autosave:!0,sidebarVisible:!0,createdAt:new Date().toISOString()},dataVersion:GA,updatedAt:new Date().toISOString()};await Er.saveSettings(d)}finally{window.removeEventListener("beforeunload",f)}}o(!0)}catch(u){console.error("Boot failed:",u),a(u instanceof Error?u.message:String(u))}})()},[]),i?E.jsx(B7,{progress:r.percent,status:r.step,error:i}):e&&!s?E.jsx(B7,{progress:r.percent,status:r.step}):s?E.jsx(x9e,{}):null};WA.createRoot(document.getElementById("root")).render(E.jsx(Bt.StrictMode,{children:E.jsx(b9e,{})}));
